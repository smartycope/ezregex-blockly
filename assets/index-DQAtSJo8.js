var kI=Object.defineProperty;var RI=(r,s,n)=>s in r?kI(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var Tf=(r,s,n)=>RI(r,typeof s!="symbol"?s+"":s,n);function wI(r,s){for(var n=0;n<s.length;n++){const c=s[n];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in r)){const f=Object.getOwnPropertyDescriptor(c,h);f&&Object.defineProperty(r,h,f.get?f:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function n(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(h){if(h.ep)return;h.ep=!0;const f=n(h);fetch(h.href,f)}})();var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var T_={exports:{}},bf={},b_={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function OI(){if(pE)return xt;pE=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=R&&U[R]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function B(U,ie,be){this.props=U,this.context=ie,this.refs=A,this.updater=be||M}B.prototype.isReactComponent={},B.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function W(){}W.prototype=B.prototype;function X(U,ie,be){this.props=U,this.context=ie,this.refs=A,this.updater=be||M}var H=X.prototype=new W;H.constructor=X,x(H,B.prototype),H.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,J={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function re(U,ie,be){var Ae,ge={},Ue=null,Ie=null;if(ie!=null)for(Ae in ie.ref!==void 0&&(Ie=ie.ref),ie.key!==void 0&&(Ue=""+ie.key),ie)F.call(ie,Ae)&&!Q.hasOwnProperty(Ae)&&(ge[Ae]=ie[Ae]);var De=arguments.length-2;if(De===1)ge.children=be;else if(1<De){for(var Ne=Array(De),ot=0;ot<De;ot++)Ne[ot]=arguments[ot+2];ge.children=Ne}if(U&&U.defaultProps)for(Ae in De=U.defaultProps,De)ge[Ae]===void 0&&(ge[Ae]=De[Ae]);return{$$typeof:r,type:U,key:Ue,ref:Ie,props:ge,_owner:J.current}}function ae(U,ie){return{$$typeof:r,type:U.type,key:ie,ref:U.ref,props:U.props,_owner:U._owner}}function S(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function oe(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(be){return ie[be]})}var $e=/\/+/g;function fe(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?oe(""+U.key):ie.toString(36)}function Ee(U,ie,be,Ae,ge){var Ue=typeof U;(Ue==="undefined"||Ue==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(Ue){case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case r:case s:Ie=!0}}if(Ie)return Ie=U,ge=ge(Ie),U=Ae===""?"."+fe(Ie,0):Ae,P(ge)?(be="",U!=null&&(be=U.replace($e,"$&/")+"/"),Ee(ge,ie,be,"",function(ot){return ot})):ge!=null&&(S(ge)&&(ge=ae(ge,be+(!ge.key||Ie&&Ie.key===ge.key?"":(""+ge.key).replace($e,"$&/")+"/")+U)),ie.push(ge)),1;if(Ie=0,Ae=Ae===""?".":Ae+":",P(U))for(var De=0;De<U.length;De++){Ue=U[De];var Ne=Ae+fe(Ue,De);Ie+=Ee(Ue,ie,be,Ne,ge)}else if(Ne=N(U),typeof Ne=="function")for(U=Ne.call(U),De=0;!(Ue=U.next()).done;)Ue=Ue.value,Ne=Ae+fe(Ue,De++),Ie+=Ee(Ue,ie,be,Ne,ge);else if(Ue==="object")throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Y(U,ie,be){if(U==null)return U;var Ae=[],ge=0;return Ee(U,Ae,"","",function(Ue){return ie.call(be,Ue,ge++)}),Ae}function le(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(be){(U._status===0||U._status===-1)&&(U._status=1,U._result=be)},function(be){(U._status===0||U._status===-1)&&(U._status=2,U._result=be)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ve={current:null},me={transition:null},de={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:me,ReactCurrentOwner:J};return xt.Children={map:Y,forEach:function(U,ie,be){Y(U,function(){ie.apply(this,arguments)},be)},count:function(U){var ie=0;return Y(U,function(){ie++}),ie},toArray:function(U){return Y(U,function(ie){return ie})||[]},only:function(U){if(!S(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},xt.Component=B,xt.Fragment=n,xt.Profiler=h,xt.PureComponent=X,xt.StrictMode=c,xt.Suspense=y,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,xt.cloneElement=function(U,ie,be){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=x({},U.props),ge=U.key,Ue=U.ref,Ie=U._owner;if(ie!=null){if(ie.ref!==void 0&&(Ue=ie.ref,Ie=J.current),ie.key!==void 0&&(ge=""+ie.key),U.type&&U.type.defaultProps)var De=U.type.defaultProps;for(Ne in ie)F.call(ie,Ne)&&!Q.hasOwnProperty(Ne)&&(Ae[Ne]=ie[Ne]===void 0&&De!==void 0?De[Ne]:ie[Ne])}var Ne=arguments.length-2;if(Ne===1)Ae.children=be;else if(1<Ne){De=Array(Ne);for(var ot=0;ot<Ne;ot++)De[ot]=arguments[ot+2];Ae.children=De}return{$$typeof:r,type:U.type,key:ge,ref:Ue,props:Ae,_owner:Ie}},xt.createContext=function(U){return U={$$typeof:g,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:f,_context:U},U.Consumer=U},xt.createElement=re,xt.createFactory=function(U){var ie=re.bind(null,U);return ie.type=U,ie},xt.createRef=function(){return{current:null}},xt.forwardRef=function(U){return{$$typeof:_,render:U}},xt.isValidElement=S,xt.lazy=function(U){return{$$typeof:I,_payload:{_status:-1,_result:U},_init:le}},xt.memo=function(U,ie){return{$$typeof:v,type:U,compare:ie===void 0?null:ie}},xt.startTransition=function(U){var ie=me.transition;me.transition={};try{U()}finally{me.transition=ie}},xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.useCallback=function(U,ie){return ve.current.useCallback(U,ie)},xt.useContext=function(U){return ve.current.useContext(U)},xt.useDebugValue=function(){},xt.useDeferredValue=function(U){return ve.current.useDeferredValue(U)},xt.useEffect=function(U,ie){return ve.current.useEffect(U,ie)},xt.useId=function(){return ve.current.useId()},xt.useImperativeHandle=function(U,ie,be){return ve.current.useImperativeHandle(U,ie,be)},xt.useInsertionEffect=function(U,ie){return ve.current.useInsertionEffect(U,ie)},xt.useLayoutEffect=function(U,ie){return ve.current.useLayoutEffect(U,ie)},xt.useMemo=function(U,ie){return ve.current.useMemo(U,ie)},xt.useReducer=function(U,ie,be){return ve.current.useReducer(U,ie,be)},xt.useRef=function(U){return ve.current.useRef(U)},xt.useState=function(U){return ve.current.useState(U)},xt.useSyncExternalStore=function(U,ie,be){return ve.current.useSyncExternalStore(U,ie,be)},xt.useTransition=function(){return ve.current.useTransition()},xt.version="18.2.0",xt}var fE;function cT(){return fE||(fE=1,b_.exports=OI()),b_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function AI(){if(gE)return bf;gE=1;var r=cT(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function g(_,y,v){var I,R={},N=null,M=null;v!==void 0&&(N=""+v),y.key!==void 0&&(N=""+y.key),y.ref!==void 0&&(M=y.ref);for(I in y)c.call(y,I)&&!f.hasOwnProperty(I)&&(R[I]=y[I]);if(_&&_.defaultProps)for(I in y=_.defaultProps,y)R[I]===void 0&&(R[I]=y[I]);return{$$typeof:s,type:_,key:N,ref:M,props:R,_owner:h.current}}return bf.Fragment=n,bf.jsx=g,bf.jsxs=g,bf}var mE;function xI(){return mE||(mE=1,T_.exports=AI()),T_.exports}var D=xI(),w=cT();const ar=aT(w),H_=wI({__proto__:null,default:ar},[w]);var _m={},E_={exports:{}},rn={},y_={exports:{}},v_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function LI(){return $E||($E=1,function(r){function s(me,de){var U=me.length;me.push(de);e:for(;0<U;){var ie=U-1>>>1,be=me[ie];if(0<h(be,de))me[ie]=de,me[U]=be,U=ie;else break e}}function n(me){return me.length===0?null:me[0]}function c(me){if(me.length===0)return null;var de=me[0],U=me.pop();if(U!==de){me[0]=U;e:for(var ie=0,be=me.length,Ae=be>>>1;ie<Ae;){var ge=2*(ie+1)-1,Ue=me[ge],Ie=ge+1,De=me[Ie];if(0>h(Ue,U))Ie<be&&0>h(De,Ue)?(me[ie]=De,me[Ie]=U,ie=Ie):(me[ie]=Ue,me[ge]=U,ie=ge);else if(Ie<be&&0>h(De,U))me[ie]=De,me[Ie]=U,ie=Ie;else break e}}return de}function h(me,de){var U=me.sortIndex-de.sortIndex;return U!==0?U:me.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var g=Date,_=g.now();r.unstable_now=function(){return g.now()-_}}var y=[],v=[],I=1,R=null,N=3,M=!1,x=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(me){for(var de=n(v);de!==null;){if(de.callback===null)c(v);else if(de.startTime<=me)c(v),de.sortIndex=de.expirationTime,s(y,de);else break;de=n(v)}}function P(me){if(A=!1,H(me),!x)if(n(y)!==null)x=!0,le(F);else{var de=n(v);de!==null&&ve(P,de.startTime-me)}}function F(me,de){x=!1,A&&(A=!1,W(re),re=-1),M=!0;var U=N;try{for(H(de),R=n(y);R!==null&&(!(R.expirationTime>de)||me&&!oe());){var ie=R.callback;if(typeof ie=="function"){R.callback=null,N=R.priorityLevel;var be=ie(R.expirationTime<=de);de=r.unstable_now(),typeof be=="function"?R.callback=be:R===n(y)&&c(y),H(de)}else c(y);R=n(y)}if(R!==null)var Ae=!0;else{var ge=n(v);ge!==null&&ve(P,ge.startTime-de),Ae=!1}return Ae}finally{R=null,N=U,M=!1}}var J=!1,Q=null,re=-1,ae=5,S=-1;function oe(){return!(r.unstable_now()-S<ae)}function $e(){if(Q!==null){var me=r.unstable_now();S=me;var de=!0;try{de=Q(!0,me)}finally{de?fe():(J=!1,Q=null)}}else J=!1}var fe;if(typeof X=="function")fe=function(){X($e)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Y=Ee.port2;Ee.port1.onmessage=$e,fe=function(){Y.postMessage(null)}}else fe=function(){B($e,0)};function le(me){Q=me,J||(J=!0,fe())}function ve(me,de){re=B(function(){me(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(me){me.callback=null},r.unstable_continueExecution=function(){x||M||(x=!0,le(F))},r.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<me?Math.floor(1e3/me):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return n(y)},r.unstable_next=function(me){switch(N){case 1:case 2:case 3:var de=3;break;default:de=N}var U=N;N=de;try{return me()}finally{N=U}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(me,de){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var U=N;N=me;try{return de()}finally{N=U}},r.unstable_scheduleCallback=function(me,de,U){var ie=r.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ie+U:ie):U=ie,me){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=U+be,me={id:I++,callback:de,priorityLevel:me,startTime:U,expirationTime:be,sortIndex:-1},U>ie?(me.sortIndex=U,s(v,me),n(y)===null&&me===n(v)&&(A?(W(re),re=-1):A=!0,ve(P,U-ie))):(me.sortIndex=be,s(y,me),x||M||(x=!0,le(F))),me},r.unstable_shouldYield=oe,r.unstable_wrapCallback=function(me){var de=N;return function(){var U=N;N=de;try{return me.apply(this,arguments)}finally{N=U}}}}(v_)),v_}var _E;function NI(){return _E||(_E=1,y_.exports=LI()),y_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function MI(){if(TE)return rn;TE=1;var r=cT(),s=NI();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function f(i,l){g(i,l),g(i+"Capture",l)}function g(i,l){for(h[i]=l,i=0;i<l.length;i++)c.add(l[i])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},R={};function N(i){return y.call(R,i)?!0:y.call(I,i)?!1:v.test(i)?R[i]=!0:(I[i]=!0,!1)}function M(i,l,u,p){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,l,u,p){if(l===null||typeof l>"u"||M(i,l,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function A(i,l,u,p,$,T,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=$,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=T,this.removeEmptyString=k}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){B[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];B[l]=new A(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){B[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){B[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){B[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){B[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){B[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){B[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){B[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function X(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(W,X);B[l]=new A(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(W,X);B[l]=new A(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(W,X);B[l]=new A(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){B[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),B.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){B[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,l,u,p){var $=B.hasOwnProperty(l)?B[l]:null;($!==null?$.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,u,$,p)&&(u=null),p||$===null?N(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):$.mustUseProperty?i[$.propertyName]=u===null?$.type===3?!1:"":u:(l=$.attributeName,p=$.attributeNamespace,u===null?i.removeAttribute(l):($=$.type,u=$===3||$===4&&u===!0?"":""+u,p?i.setAttributeNS(p,l,u):i.setAttribute(l,u))))}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),J=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),oe=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),me=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=me&&i[me]||i["@@iterator"],typeof i=="function"?i:null)}var U=Object.assign,ie;function be(i){if(ie===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||""}return`
`+ie+i}var Ae=!1;function ge(i,l){if(!i||Ae)return"";Ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Te){var p=Te}Reflect.construct(i,[],l)}else{try{l.call()}catch(Te){p=Te}i.call(l.prototype)}else{try{throw Error()}catch(Te){p=Te}i()}}catch(Te){if(Te&&p&&typeof Te.stack=="string"){for(var $=Te.stack.split(`
`),T=p.stack.split(`
`),k=$.length-1,z=T.length-1;1<=k&&0<=z&&$[k]!==T[z];)z--;for(;1<=k&&0<=z;k--,z--)if($[k]!==T[z]){if(k!==1||z!==1)do if(k--,z--,0>z||$[k]!==T[z]){var Z=`
`+$[k].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=k&&0<=z);break}}}finally{Ae=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?be(i):""}function Ue(i){switch(i.tag){case 5:return be(i.type);case 16:return be("Lazy");case 13:return be("Suspense");case 19:return be("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function Ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case J:return"Portal";case ae:return"Profiler";case re:return"StrictMode";case fe:return"Suspense";case Ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case oe:return(i.displayName||"Context")+".Consumer";case S:return(i._context.displayName||"Context")+".Provider";case $e:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return l=i.displayName||null,l!==null?l:Ie(i.type)||"Memo";case le:l=i._payload,i=i._init;try{return Ie(i(l))}catch{}}return null}function De(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(l);case 8:return l===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ot(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Je(i){var l=ot(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),p=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var $=u.get,T=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return $.call(this)},set:function(k){p=""+k,T.call(this,k)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function st(i){i._valueTracker||(i._valueTracker=Je(i))}function Ce(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return i&&(p=ot(i)?i.checked?"true":"false":i.value),i=p,i!==u?(l.setValue(i),!0):!1}function gt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function He(i,l){var u=l.checked;return U({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function bt(i,l){var u=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;u=Ne(l.value!=null?l.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ot(i,l){l=l.checked,l!=null&&H(i,"checked",l,!1)}function Et(i,l){Ot(i,l);var u=Ne(l.value),p=l.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?mt(i,l.type,u):l.hasOwnProperty("defaultValue")&&mt(i,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ft(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function mt(i,l,u){(l!=="number"||gt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var dt=Array.isArray;function Tt(i,l,u,p){if(i=i.options,l){l={};for(var $=0;$<u.length;$++)l["$"+u[$]]=!0;for(u=0;u<i.length;u++)$=l.hasOwnProperty("$"+i[u].value),i[u].selected!==$&&(i[u].selected=$),$&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Ne(u),l=null,$=0;$<i.length;$++){if(i[$].value===u){i[$].selected=!0,p&&(i[$].defaultSelected=!0);return}l!==null||i[$].disabled||(l=i[$])}l!==null&&(l.selected=!0)}}function Pe(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ce(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(n(92));if(dt(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:Ne(u)}}function Be(i,l){var u=Ne(l.value),p=Ne(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function bo(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ht(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?ht(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var at,jt=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,p,$){MSApp.execUnsafeLocalFunction(function(){return i(l,u,p,$)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=at.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function j(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var b={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L=["Webkit","ms","Moz","O"];Object.keys(b).forEach(function(i){L.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),b[l]=b[i]})});function K(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||b.hasOwnProperty(i)&&b[i]?(""+l).trim():l+"px"}function te(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var p=u.indexOf("--")===0,$=K(u,l[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,$):i[u]=$}}var pe=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xe(i,l){if(l){if(pe[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function _t(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jr=null,No=null,Nt=null;function Hn(i){if(i=Ba(i)){if(typeof jr!="function")throw Error(n(280));var l=i.stateNode;l&&(l=qc(l),jr(i.stateNode,i.type,l))}}function Gn(i){No?Nt?Nt.push(i):Nt=[i]:No=i}function Vn(){if(No){var i=No,l=Nt;if(Nt=No=null,Hn(i),l)for(i=0;i<l.length;i++)Hn(l[i])}}function Ti(i,l){return i(l)}function ct(){}var E=!1;function O(i,l,u){if(E)return i(l,u);E=!0;try{return Ti(i,l,u)}finally{E=!1,(No!==null||Nt!==null)&&(ct(),Vn())}}function q(i,l){var u=i.stateNode;if(u===null)return null;var p=qc(u);if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var se=!1;if(_)try{var ke={};Object.defineProperty(ke,"passive",{get:function(){se=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch{se=!1}function rt(i,l,u,p,$,T,k,z,Z){var Te=Array.prototype.slice.call(arguments,3);try{l.apply(u,Te)}catch(Oe){this.onError(Oe)}}var ut=!1,cr=null,Xr=!1,rl=null,Wn={onError:function(i){ut=!0,cr=i}};function zu(i,l,u,p,$,T,k,z,Z){ut=!1,cr=null,rt.apply(Wn,arguments)}function hg(i,l,u,p,$,T,k,z,Z){if(zu.apply(this,arguments),ut){if(ut){var Te=cr;ut=!1,cr=null}else throw Error(n(198));Xr||(Xr=!0,rl=Te)}}function zn(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function ep(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Tc(i){if(zn(i)!==i)throw Error(n(188))}function tp(i){var l=i.alternate;if(!l){if(l=zn(i),l===null)throw Error(n(188));return l!==i?null:i}for(var u=i,p=l;;){var $=u.return;if($===null)break;var T=$.alternate;if(T===null){if(p=$.return,p!==null){u=p;continue}break}if($.child===T.child){for(T=$.child;T;){if(T===u)return Tc($),i;if(T===p)return Tc($),l;T=T.sibling}throw Error(n(188))}if(u.return!==p.return)u=$,p=T;else{for(var k=!1,z=$.child;z;){if(z===u){k=!0,u=$,p=T;break}if(z===p){k=!0,p=$,u=T;break}z=z.sibling}if(!k){for(z=T.child;z;){if(z===u){k=!0,u=T,p=$;break}if(z===p){k=!0,p=T,u=$;break}z=z.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:l}function ju(i){return i=tp(i),i!==null?bc(i):null}function bc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=bc(i);if(l!==null)return l;i=i.sibling}return null}var Ec=s.unstable_scheduleCallback,yc=s.unstable_cancelCallback,vc=s.unstable_shouldYield,pg=s.unstable_requestPaint,Eo=s.unstable_now,fg=s.unstable_getCurrentPriorityLevel,Xu=s.unstable_ImmediatePriority,Sc=s.unstable_UserBlockingPriority,Ic=s.unstable_NormalPriority,op=s.unstable_LowPriority,nl=s.unstable_IdlePriority,Cc=null,Ar=null;function rp(i){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Cc,i,void 0,(i.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:da,gg=Math.log,Yu=Math.LN2;function da(i){return i>>>=0,i===0?32:31-(gg(i)/Yu|0)|0}var il=64,kc=4194304;function sl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ha(i,l){var u=i.pendingLanes;if(u===0)return 0;var p=0,$=i.suspendedLanes,T=i.pingedLanes,k=u&268435455;if(k!==0){var z=k&~$;z!==0?p=sl(z):(T&=k,T!==0&&(p=sl(T)))}else k=u&~$,k!==0?p=sl(k):T!==0&&(p=sl(T));if(p===0)return 0;if(l!==0&&l!==p&&(l&$)===0&&($=p&-p,T=l&-l,$>=T||$===16&&(T&4194240)!==0))return l;if((p&4)!==0&&(p|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=p;0<l;)u=31-xr(l),$=1<<u,p|=i[u],l&=~$;return p}function mg(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $g(i,l){for(var u=i.suspendedLanes,p=i.pingedLanes,$=i.expirationTimes,T=i.pendingLanes;0<T;){var k=31-xr(T),z=1<<k,Z=$[k];Z===-1?((z&u)===0||(z&p)!==0)&&($[k]=mg(z,l)):Z<=l&&(i.expiredLanes|=z),T&=~z}}function bi(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function np(){var i=il;return il<<=1,(il&4194240)===0&&(il=64),i}function pa(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function cs(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-xr(l),i[l]=u}function _g(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var $=31-xr(u),T=1<<$;l[$]=0,p[$]=-1,i[$]=-1,u&=~T}}function Rc(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var p=31-xr(u),$=1<<p;$&l|i[p]&l&&(i[p]|=l),u&=~$}}var At=0;function Yr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ip,wc,Oc,Ku,sp,Ac=!1,xc=[],jn=null,Kr=null,Ei=null,fa=new Map,Jr=new Map,Xn=[],Yn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lp(i,l){switch(i){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":fa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(l.pointerId)}}function ga(i,l,u,p,$,T){return i===null||i.nativeEvent!==T?(i={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:T,targetContainers:[$]},l!==null&&(l=Ba(l),l!==null&&wc(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,$!==null&&l.indexOf($)===-1&&l.push($),i)}function Tg(i,l,u,p,$){switch(l){case"focusin":return jn=ga(jn,i,l,u,p,$),!0;case"dragenter":return Kr=ga(Kr,i,l,u,p,$),!0;case"mouseover":return Ei=ga(Ei,i,l,u,p,$),!0;case"pointerover":var T=$.pointerId;return fa.set(T,ga(fa.get(T)||null,i,l,u,p,$)),!0;case"gotpointercapture":return T=$.pointerId,Jr.set(T,ga(Jr.get(T)||null,i,l,u,p,$)),!0}return!1}function yi(i){var l=gs(i.target);if(l!==null){var u=zn(l);if(u!==null){if(l=u.tag,l===13){if(l=ep(u),l!==null){i.blockedOn=l,sp(i.priority,function(){Oc(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ma(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Ju(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);ao=p,u.target.dispatchEvent(p),ao=null}else return l=Ba(u),l!==null&&wc(l),i.blockedOn=u,!1;l.shift()}return!0}function ap(i,l,u){ma(i)&&u.delete(l)}function bg(){Ac=!1,jn!==null&&ma(jn)&&(jn=null),Kr!==null&&ma(Kr)&&(Kr=null),Ei!==null&&ma(Ei)&&(Ei=null),fa.forEach(ap),Jr.forEach(ap)}function $a(i,l){i.blockedOn===l&&(i.blockedOn=null,Ac||(Ac=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bg)))}function _a(i){function l($){return $a($,i)}if(0<xc.length){$a(xc[0],i);for(var u=1;u<xc.length;u++){var p=xc[u];p.blockedOn===i&&(p.blockedOn=null)}}for(jn!==null&&$a(jn,i),Kr!==null&&$a(Kr,i),Ei!==null&&$a(Ei,i),fa.forEach(l),Jr.forEach(l),u=0;u<Xn.length;u++)p=Xn[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<Xn.length&&(u=Xn[0],u.blockedOn===null);)yi(u),u.blockedOn===null&&Xn.shift()}var ll=P.ReactCurrentBatchConfig,Ta=!0;function Eg(i,l,u,p){var $=At,T=ll.transition;ll.transition=null;try{At=1,ba(i,l,u,p)}finally{At=$,ll.transition=T}}function yg(i,l,u,p){var $=At,T=ll.transition;ll.transition=null;try{At=4,ba(i,l,u,p)}finally{At=$,ll.transition=T}}function ba(i,l,u,p){if(Ta){var $=Ju(i,l,u,p);if($===null)Xc(i,l,p,Lc,u),lp(i,p);else if(Tg($,i,l,u,p))p.stopPropagation();else if(lp(i,p),l&4&&-1<Yn.indexOf(i)){for(;$!==null;){var T=Ba($);if(T!==null&&ip(T),T=Ju(i,l,u,p),T===null&&Xc(i,l,p,Lc,u),T===$)break;$=T}$!==null&&p.stopPropagation()}else Xc(i,l,p,null,u)}}var Lc=null;function Ju(i,l,u,p){if(Lc=null,i=un(p),i=gs(i),i!==null)if(l=zn(i),l===null)i=null;else if(u=l.tag,u===13){if(i=ep(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Lc=i,null}function qu(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fg()){case Xu:return 1;case Sc:return 4;case Ic:case op:return 16;case nl:return 536870912;default:return 16}default:return 16}}var dn=null,Ea=null,Nc=null;function hn(){if(Nc)return Nc;var i,l=Ea,u=l.length,p,$="value"in dn?dn.value:dn.textContent,T=$.length;for(i=0;i<u&&l[i]===$[i];i++);var k=u-i;for(p=1;p<=k&&l[u-p]===$[T-p];p++);return Nc=$.slice(i,1<p?1-p:void 0)}function Mc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Dc(){return!0}function cp(){return!1}function yr(i){function l(u,p,$,T,k){this._reactName=u,this._targetInst=$,this.type=p,this.nativeEvent=T,this.target=k,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(T):T[z]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Dc:cp,this.isPropagationStopped=cp,this}return U(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),l}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=yr(al),ya=U({},al,{view:0,detail:0}),up=yr(ya),Kn,us,cl,Pc=U({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==cl&&(cl&&i.type==="mousemove"?(Kn=i.screenX-cl.screenX,us=i.screenY-cl.screenY):us=Kn=0,cl=i),Kn)},movementY:function(i){return"movementY"in i?i.movementY:us}}),dp=yr(Pc),vg=U({},Pc,{dataTransfer:0}),Sg=yr(vg),Ig=U({},ya,{relatedTarget:0}),Zu=yr(Ig),Cg=U({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=yr(Cg),hp=U({},al,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rg=yr(hp),wg=U({},al,{data:0}),pp=yr(wg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function va(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=xg[i])?!!l[i]:!1}function Bc(){return va}var Lg=U({},ya,{key:function(i){if(i.key){var l=Og[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Mc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ag[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(i){return i.type==="keypress"?Mc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ng=yr(Lg),pn=U({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oo=yr(pn),ul=U({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Mg=yr(ul),fp=U({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),ed=yr(fp),qr=U({},Pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=yr(qr),td=[9,13,27,32],Fc=_&&"CompositionEvent"in window,dl=null;_&&"documentMode"in document&&(dl=document.documentMode);var Dg=_&&"TextEvent"in window&&!dl,mp=_&&(!Fc||dl&&8<dl&&11>=dl),$p=" ",od=!1;function _p(i,l){switch(i){case"keyup":return td.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jn=!1;function Pg(i,l){switch(i){case"compositionend":return rd(l);case"keypress":return l.which!==32?null:(od=!0,$p);case"textInput":return i=l.data,i===$p&&od?null:i;default:return null}}function Bg(i,l){if(Jn)return i==="compositionend"||!Fc&&_p(i,l)?(i=hn(),Nc=Ea=dn=null,Jn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return mp&&l.locale!=="ko"?null:l.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Fg[i.type]:l==="textarea"}function Sa(i,l,u,p){Gn(p),l=La(l,"onChange"),0<l.length&&(u=new Qu("onChange","change",null,u,p),i.push({event:u,listeners:l}))}var hl=null,pl=null;function bp(i){Td(i,0)}function Uc(i){var l=_l(i);if(Ce(l))return i}function Ia(i,l){if(i==="change")return l}var nd=!1;if(_){var ds;if(_){var Hc="oninput"in document;if(!Hc){var id=document.createElement("div");id.setAttribute("oninput","return;"),Hc=typeof id.oninput=="function"}ds=Hc}else ds=!1;nd=ds&&(!document.documentMode||9<document.documentMode)}function sd(){hl&&(hl.detachEvent("onpropertychange",fl),pl=hl=null)}function fl(i){if(i.propertyName==="value"&&Uc(pl)){var l=[];Sa(l,pl,i,un(i)),O(bp,l)}}function ld(i,l,u){i==="focusin"?(sd(),hl=l,pl=u,hl.attachEvent("onpropertychange",fl)):i==="focusout"&&sd()}function ad(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uc(pl)}function Ug(i,l){if(i==="click")return Uc(l)}function Gc(i,l){if(i==="input"||i==="change")return Uc(l)}function Ep(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Lr=typeof Object.is=="function"?Object.is:Ep;function gl(i,l){if(Lr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var $=u[p];if(!y.call(l,$)||!Lr(i[$],l[$]))return!1}return!0}function cd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ud(i,l){var u=cd(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=l&&p>=l)return{node:u,offset:l-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cd(u)}}function dd(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?dd(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function yp(){for(var i=window,l=gt();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=gt(i.document)}return l}function ml(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function vp(i){var l=yp(),u=i.focusedElem,p=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&dd(u.ownerDocument.documentElement,u)){if(p!==null&&ml(u)){if(l=p.start,i=p.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var $=u.textContent.length,T=Math.min(p.start,$);p=p.end===void 0?T:Math.min(p.end,$),!i.extend&&T>p&&($=p,p=T,T=$),$=ud(u,T);var k=ud(u,p);$&&k&&(i.rangeCount!==1||i.anchorNode!==$.node||i.anchorOffset!==$.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart($.node,$.offset),i.removeAllRanges(),T>p?(i.addRange(l),i.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ca=_&&"documentMode"in document&&11>=document.documentMode,vi=null,Nr=null,$l=null,Vc=!1;function hd(i,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Vc||vi==null||vi!==gt(p)||(p=vi,"selectionStart"in p&&ml(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$l&&gl($l,p)||($l=p,p=La(Nr,"onSelect"),0<p.length&&(l=new Qu("onSelect","select",null,l,u),i.push({event:l,listeners:p}),l.target=vi)))}function ka(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Si={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},Wc={},pd={};_&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Ii(i){if(Wc[i])return Wc[i];if(!Si[i])return i;var l=Si[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in pd)return Wc[i]=l[u];return i}var Sp=Ii("animationend"),Ra=Ii("animationiteration"),fd=Ii("animationstart"),gd=Ii("transitionend"),Ip=new Map,zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(i,l){Ip.set(i,l),f(l,[i])}for(var md=0;md<zc.length;md++){var $d=zc[md],Hg=$d.toLowerCase(),Gg=$d[0].toUpperCase()+$d.slice(1);qn(Hg,"on"+Gg)}qn(Sp,"onAnimationEnd"),qn(Ra,"onAnimationIteration"),qn(fd,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(gd,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oa=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function _d(i,l,u){var p=i.type||"unknown-event";i.currentTarget=u,hg(p,l,void 0,i),i.currentTarget=null}function Td(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],$=p.event;p=p.listeners;e:{var T=void 0;if(l)for(var k=p.length-1;0<=k;k--){var z=p[k],Z=z.instance,Te=z.currentTarget;if(z=z.listener,Z!==T&&$.isPropagationStopped())break e;_d($,z,Te),T=Z}else for(k=0;k<p.length;k++){if(z=p[k],Z=z.instance,Te=z.currentTarget,z=z.listener,Z!==T&&$.isPropagationStopped())break e;_d($,z,Te),T=Z}}}if(Xr)throw i=rl,Xr=!1,rl=null,i}function Wt(i,l){var u=l[Zn];u===void 0&&(u=l[Zn]=new Set);var p=i+"__bubble";u.has(p)||(bd(l,i,2,!1),u.add(p))}function Aa(i,l,u){var p=0;l&&(p|=4),bd(u,i,p,l)}var jc="_reactListening"+Math.random().toString(36).slice(2);function xa(i){if(!i[jc]){i[jc]=!0,c.forEach(function(u){u!=="selectionchange"&&(Oa.has(u)||Aa(u,!1,i),Aa(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[jc]||(l[jc]=!0,Aa("selectionchange",!1,l))}}function bd(i,l,u,p){switch(qu(l)){case 1:var $=Eg;break;case 4:$=yg;break;default:$=ba}u=$.bind(null,l,u,i),$=void 0,!se||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||($=!0),p?$!==void 0?i.addEventListener(l,u,{capture:!0,passive:$}):i.addEventListener(l,u,!0):$!==void 0?i.addEventListener(l,u,{passive:$}):i.addEventListener(l,u,!1)}function Xc(i,l,u,p,$){var T=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var z=p.stateNode.containerInfo;if(z===$||z.nodeType===8&&z.parentNode===$)break;if(k===4)for(k=p.return;k!==null;){var Z=k.tag;if((Z===3||Z===4)&&(Z=k.stateNode.containerInfo,Z===$||Z.nodeType===8&&Z.parentNode===$))return;k=k.return}for(;z!==null;){if(k=gs(z),k===null)return;if(Z=k.tag,Z===5||Z===6){p=T=k;continue e}z=z.parentNode}}p=p.return}O(function(){var Te=T,Oe=un(u),Le=[];e:{var xe=Ip.get(i);if(xe!==void 0){var ze=Qu,qe=i;switch(i){case"keypress":if(Mc(u)===0)break e;case"keydown":case"keyup":ze=Ng;break;case"focusin":qe="focus",ze=Zu;break;case"focusout":qe="blur",ze=Zu;break;case"beforeblur":case"afterblur":ze=Zu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Mg;break;case Sp:case Ra:case fd:ze=kg;break;case gd:ze=ed;break;case"scroll":ze=up;break;case"wheel":ze=gp;break;case"copy":case"cut":case"paste":ze=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=oo}var Ze=(l&4)!==0,uo=!Ze&&i==="scroll",ue=Ze?xe!==null?xe+"Capture":null:xe;Ze=[];for(var ne=Te,he;ne!==null;){he=ne;var Fe=he.stateNode;if(he.tag===5&&Fe!==null&&(he=Fe,ue!==null&&(Fe=q(ne,ue),Fe!=null&&Ze.push(Mr(ne,Fe,he)))),uo)break;ne=ne.return}0<Ze.length&&(xe=new ze(xe,qe,null,u,Oe),Le.push({event:xe,listeners:Ze}))}}if((l&7)===0){e:{if(xe=i==="mouseover"||i==="pointerover",ze=i==="mouseout"||i==="pointerout",xe&&u!==ao&&(qe=u.relatedTarget||u.fromElement)&&(gs(qe)||qe[vr]))break e;if((ze||xe)&&(xe=Oe.window===Oe?Oe:(xe=Oe.ownerDocument)?xe.defaultView||xe.parentWindow:window,ze?(qe=u.relatedTarget||u.toElement,ze=Te,qe=qe?gs(qe):null,qe!==null&&(uo=zn(qe),qe!==uo||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(ze=null,qe=Te),ze!==qe)){if(Ze=dp,Fe="onMouseLeave",ue="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=oo,Fe="onPointerLeave",ue="onPointerEnter",ne="pointer"),uo=ze==null?xe:_l(ze),he=qe==null?xe:_l(qe),xe=new Ze(Fe,ne+"leave",ze,u,Oe),xe.target=uo,xe.relatedTarget=he,Fe=null,gs(Oe)===Te&&(Ze=new Ze(ue,ne+"enter",qe,u,Oe),Ze.target=he,Ze.relatedTarget=uo,Fe=Ze),uo=Fe,ze&&qe)t:{for(Ze=ze,ue=qe,ne=0,he=Ze;he;he=hs(he))ne++;for(he=0,Fe=ue;Fe;Fe=hs(Fe))he++;for(;0<ne-he;)Ze=hs(Ze),ne--;for(;0<he-ne;)ue=hs(ue),he--;for(;ne--;){if(Ze===ue||ue!==null&&Ze===ue.alternate)break t;Ze=hs(Ze),ue=hs(ue)}Ze=null}else Ze=null;ze!==null&&Cp(Le,xe,ze,Ze,!1),qe!==null&&uo!==null&&Cp(Le,uo,qe,Ze,!0)}}e:{if(xe=Te?_l(Te):window,ze=xe.nodeName&&xe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&xe.type==="file")var nt=Ia;else if(Tp(xe))if(nd)nt=Gc;else{nt=ad;var tt=ld}else(ze=xe.nodeName)&&ze.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(nt=Ug);if(nt&&(nt=nt(i,Te))){Sa(Le,nt,u,Oe);break e}tt&&tt(i,xe,Te),i==="focusout"&&(tt=xe._wrapperState)&&tt.controlled&&xe.type==="number"&&mt(xe,"number",xe.value)}switch(tt=Te?_l(Te):window,i){case"focusin":(Tp(tt)||tt.contentEditable==="true")&&(vi=tt,Nr=Te,$l=null);break;case"focusout":$l=Nr=vi=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,hd(Le,u,Oe);break;case"selectionchange":if(Ca)break;case"keydown":case"keyup":hd(Le,u,Oe)}var it;if(Fc)e:{switch(i){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Jn?_p(i,u)&&($t="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&($t="onCompositionStart");$t&&(mp&&u.locale!=="ko"&&(Jn||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Jn&&(it=hn()):(dn=Oe,Ea="value"in dn?dn.value:dn.textContent,Jn=!0)),tt=La(Te,$t),0<tt.length&&($t=new pp($t,i,null,u,Oe),Le.push({event:$t,listeners:tt}),it?$t.data=it:(it=rd(u),it!==null&&($t.data=it)))),(it=Dg?Pg(i,u):Bg(i,u))&&(Te=La(Te,"onBeforeInput"),0<Te.length&&(Oe=new pp("onBeforeInput","beforeinput",null,u,Oe),Le.push({event:Oe,listeners:Te}),Oe.data=it))}Td(Le,l)})}function Mr(i,l,u){return{instance:i,listener:l,currentTarget:u}}function La(i,l){for(var u=l+"Capture",p=[];i!==null;){var $=i,T=$.stateNode;$.tag===5&&T!==null&&($=T,T=q(i,u),T!=null&&p.unshift(Mr(i,T,$)),T=q(i,l),T!=null&&p.push(Mr(i,T,$))),i=i.return}return p}function hs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Cp(i,l,u,p,$){for(var T=l._reactName,k=[];u!==null&&u!==p;){var z=u,Z=z.alternate,Te=z.stateNode;if(Z!==null&&Z===p)break;z.tag===5&&Te!==null&&(z=Te,$?(Z=q(u,T),Z!=null&&k.unshift(Mr(u,Z,z))):$||(Z=q(u,T),Z!=null&&k.push(Mr(u,Z,z)))),u=u.return}k.length!==0&&i.push({event:l,listeners:k})}var Vg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function kp(i){return(typeof i=="string"?i:""+i).replace(Vg,`
`).replace(Wg,"")}function Qr(i,l,u){if(l=kp(l),kp(i)!==l&&u)throw Error(n(425))}function fn(){}var Na=null,Yc=null;function Ma(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,ps=typeof clearTimeout=="function"?clearTimeout:void 0,Da=typeof Promise=="function"?Promise:void 0,Ed=typeof queueMicrotask=="function"?queueMicrotask:typeof Da<"u"?function(i){return Da.resolve(null).then(i).catch(yd)}:Kc;function yd(i){setTimeout(function(){throw i})}function Ci(i,l){var u=l,p=0;do{var $=u.nextSibling;if(i.removeChild(u),$&&$.nodeType===8)if(u=$.data,u==="/$"){if(p===0){i.removeChild($),_a(l);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=$}while(u);_a(l)}function Qn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Jc(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var fs=Math.random().toString(36).slice(2),Ut="__reactFiber$"+fs,Pa="__reactProps$"+fs,vr="__reactContainer$"+fs,Zn="__reactEvents$"+fs,vd="__reactListeners$"+fs,Dr="__reactHandles$"+fs;function gs(i){var l=i[Ut];if(l)return l;for(var u=i.parentNode;u;){if(l=u[vr]||u[Ut]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Jc(i);i!==null;){if(u=i[Ut])return u;i=Jc(i)}return l}i=u,u=i.parentNode}return null}function Ba(i){return i=i[Ut]||i[vr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function _l(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function qc(i){return i[Pa]||null}var Qc=[],Tl=-1;function ei(i){return{current:i}}function qt(i){0>Tl||(i.current=Qc[Tl],Qc[Tl]=null,Tl--)}function ro(i,l){Tl++,Qc[Tl]=i.current,i.current=l}var ki={},nr=ei(ki),ur=ei(!1),ti=ki;function ms(i,l){var u=i.type.contextTypes;if(!u)return ki;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var $={},T;for(T in u)$[T]=l[T];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=$),$}function ir(i){return i=i.childContextTypes,i!=null}function Zc(){qt(ur),qt(nr)}function Rp(i,l,u){if(nr.current!==ki)throw Error(n(168));ro(nr,l),ro(ur,u)}function wp(i,l,u){var p=i.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var $ in p)if(!($ in l))throw Error(n(108,De(i)||"Unknown",$));return U({},u,p)}function eu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ki,ti=nr.current,ro(nr,i),ro(ur,ur.current),!0}function et(i,l,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=wp(i,l,ti),p.__reactInternalMemoizedMergedChildContext=i,qt(ur),qt(nr),ro(nr,i)):qt(ur),ro(ur,u)}var ko=null,Ro=!1,Qt=!1;function gn(i){ko===null?ko=[i]:ko.push(i)}function Fa(i){Ro=!0,gn(i)}function Ve(){if(!Qt&&ko!==null){Qt=!0;var i=0,l=At;try{var u=ko;for(At=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}ko=null,Ro=!1}catch($){throw ko!==null&&(ko=ko.slice(i+1)),Ec(Xu,Ve),$}finally{At=l,Qt=!1}}return null}var no=[],$s=0,tu=null,bl=0,Sr=[],Pr=0,Ri=null,Zr=1,mn="";function wi(i,l){no[$s++]=bl,no[$s++]=tu,tu=i,bl=l}function Op(i,l,u){Sr[Pr++]=Zr,Sr[Pr++]=mn,Sr[Pr++]=Ri,Ri=i;var p=Zr;i=mn;var $=32-xr(p)-1;p&=~(1<<$),u+=1;var T=32-xr(l)+$;if(30<T){var k=$-$%5;T=(p&(1<<k)-1).toString(32),p>>=k,$-=k,Zr=1<<32-xr(l)+$|u<<$|p,mn=T+i}else Zr=1<<T|u<<$|p,mn=i}function ou(i){i.return!==null&&(wi(i,1),Op(i,1,0))}function Sd(i){for(;i===tu;)tu=no[--$s],no[$s]=null,bl=no[--$s],no[$s]=null;for(;i===Ri;)Ri=Sr[--Pr],Sr[Pr]=null,mn=Sr[--Pr],Sr[Pr]=null,Zr=Sr[--Pr],Sr[Pr]=null}var dr=null,Ir=null,go=!1,gr=null;function Ap(i,l){var u=fr(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function xp(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,dr=i,Ir=Qn(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,dr=i,Ir=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=Ri!==null?{id:Zr,overflow:mn}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=fr(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,dr=i,Ir=null,!0):!1;default:return!1}}function Id(i){return(i.mode&1)!==0&&(i.flags&128)===0}function _s(i){if(go){var l=Ir;if(l){var u=l;if(!xp(i,l)){if(Id(i))throw Error(n(418));l=Qn(u.nextSibling);var p=dr;l&&xp(i,l)?Ap(p,u):(i.flags=i.flags&-4097|2,go=!1,dr=i)}}else{if(Id(i))throw Error(n(418));i.flags=i.flags&-4097|2,go=!1,dr=i}}}function Lp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;dr=i}function Ua(i){if(i!==dr)return!1;if(!go)return Lp(i),go=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Ma(i.type,i.memoizedProps)),l&&(l=Ir)){if(Id(i))throw Cd(),Error(n(418));for(;l;)Ap(i,l),l=Qn(l.nextSibling)}if(Lp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Ir=Qn(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Ir=null}}else Ir=dr?Qn(i.stateNode.nextSibling):null;return!0}function Cd(){for(var i=Ir;i;)i=Qn(i.nextSibling)}function Ts(){Ir=dr=null,go=!1}function ru(i){gr===null?gr=[i]:gr.push(i)}var kd=P.ReactCurrentBatchConfig;function Br(i,l){if(i&&i.defaultProps){l=U({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}var bs=ei(null),Ha=null,Es=null,nu=null;function iu(){nu=Es=Ha=null}function su(i){var l=bs.current;qt(bs),i._currentValue=l}function lu(i,l,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===u)break;i=i.return}}function ys(i,l){Ha=i,nu=Es=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(lr=!0),i.firstContext=null)}function Cr(i){var l=i._currentValue;if(nu!==i)if(i={context:i,memoizedValue:l,next:null},Es===null){if(Ha===null)throw Error(n(308));Es=i,Ha.dependencies={lanes:0,firstContext:i}}else Es=Es.next=i;return l}var Oi=null;function au(i){Oi===null?Oi=[i]:Oi.push(i)}function Rd(i,l,u,p){var $=l.interleaved;return $===null?(u.next=u,au(l)):(u.next=$.next,$.next=u),l.interleaved=u,$n(i,p)}function $n(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ai=!1;function wd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function El(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function _n(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function xi(i,l,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Mt&2)!==0){var $=p.pending;return $===null?l.next=l:(l.next=$.next,$.next=l),p.pending=l,$n(i,u)}return $=p.interleaved,$===null?(l.next=l,au(p)):(l.next=$.next,$.next=l),p.interleaved=l,$n(i,u)}function yl(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,Rc(i,u)}}function Od(i,l){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var $=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};T===null?$=T=k:T=T.next=k,u=u.next}while(u!==null);T===null?$=T=l:T=T.next=l}else $=T=l;u={baseState:p.baseState,firstBaseUpdate:$,lastBaseUpdate:T,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function Ga(i,l,u,p){var $=i.updateQueue;Ai=!1;var T=$.firstBaseUpdate,k=$.lastBaseUpdate,z=$.shared.pending;if(z!==null){$.shared.pending=null;var Z=z,Te=Z.next;Z.next=null,k===null?T=Te:k.next=Te,k=Z;var Oe=i.alternate;Oe!==null&&(Oe=Oe.updateQueue,z=Oe.lastBaseUpdate,z!==k&&(z===null?Oe.firstBaseUpdate=Te:z.next=Te,Oe.lastBaseUpdate=Z))}if(T!==null){var Le=$.baseState;k=0,Oe=Te=Z=null,z=T;do{var xe=z.lane,ze=z.eventTime;if((p&xe)===xe){Oe!==null&&(Oe=Oe.next={eventTime:ze,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var qe=i,Ze=z;switch(xe=l,ze=u,Ze.tag){case 1:if(qe=Ze.payload,typeof qe=="function"){Le=qe.call(ze,Le,xe);break e}Le=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ze.payload,xe=typeof qe=="function"?qe.call(ze,Le,xe):qe,xe==null)break e;Le=U({},Le,xe);break e;case 2:Ai=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,xe=$.effects,xe===null?$.effects=[z]:xe.push(z))}else ze={eventTime:ze,lane:xe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Oe===null?(Te=Oe=ze,Z=Le):Oe=Oe.next=ze,k|=xe;if(z=z.next,z===null){if(z=$.shared.pending,z===null)break;xe=z,z=xe.next,xe.next=null,$.lastBaseUpdate=xe,$.shared.pending=null}}while(!0);if(Oe===null&&(Z=Le),$.baseState=Z,$.firstBaseUpdate=Te,$.lastBaseUpdate=Oe,l=$.shared.interleaved,l!==null){$=l;do k|=$.lane,$=$.next;while($!==l)}else T===null&&($.shared.lanes=0);ji|=k,i.lanes=k,i.memoizedState=Le}}function Ad(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var p=i[l],$=p.callback;if($!==null){if(p.callback=null,p=u,typeof $!="function")throw Error(n(191,$));$.call(p)}}}var xd=new r.Component().refs;function cu(i,l,u,p){l=i.memoizedState,u=u(p,l),u=u==null?l:U({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Va={isMounted:function(i){return(i=i._reactInternals)?zn(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var p=pr(),$=Rn(i),T=_n(p,$);T.payload=l,u!=null&&(T.callback=u),l=xi(i,T,$),l!==null&&(vo(l,i,$,p),yl(l,i,$))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var p=pr(),$=Rn(i),T=_n(p,$);T.tag=1,T.payload=l,u!=null&&(T.callback=u),l=xi(i,T,$),l!==null&&(vo(l,i,$,p),yl(l,i,$))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=pr(),p=Rn(i),$=_n(u,p);$.tag=2,l!=null&&($.callback=l),l=xi(i,$,p),l!==null&&(vo(l,i,p,u),yl(l,i,p))}};function Ld(i,l,u,p,$,T,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,T,k):l.prototype&&l.prototype.isPureReactComponent?!gl(u,p)||!gl($,T):!0}function Nd(i,l,u){var p=!1,$=ki,T=l.contextType;return typeof T=="object"&&T!==null?T=Cr(T):($=ir(l)?ti:nr.current,p=l.contextTypes,T=(p=p!=null)?ms(i,$):ki),l=new l(u,T),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Va,i.stateNode=l,l._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=$,i.__reactInternalMemoizedMaskedChildContext=T),l}function uu(i,l,u,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==i&&Va.enqueueReplaceState(l,l.state,null)}function vl(i,l,u,p){var $=i.stateNode;$.props=u,$.state=i.memoizedState,$.refs=xd,wd(i);var T=l.contextType;typeof T=="object"&&T!==null?$.context=Cr(T):(T=ir(l)?ti:nr.current,$.context=ms(i,T)),$.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(cu(i,l,T,u),$.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(l=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),l!==$.state&&Va.enqueueReplaceState($,$.state,null),Ga(i,u,$,p),$.state=i.memoizedState),typeof $.componentDidMount=="function"&&(i.flags|=4194308)}function Sl(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var $=p,T=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(k){var z=$.refs;z===xd&&(z=$.refs={}),k===null?delete z[T]:z[T]=k},l._stringRef=T,l)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function du(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Md(i){var l=i._init;return l(i._payload)}function Dd(i){function l(ue,ne){if(i){var he=ue.deletions;he===null?(ue.deletions=[ne],ue.flags|=16):he.push(ne)}}function u(ue,ne){if(!i)return null;for(;ne!==null;)l(ue,ne),ne=ne.sibling;return null}function p(ue,ne){for(ue=new Map;ne!==null;)ne.key!==null?ue.set(ne.key,ne):ue.set(ne.index,ne),ne=ne.sibling;return ue}function $(ue,ne){return ue=Ur(ue,ne),ue.index=0,ue.sibling=null,ue}function T(ue,ne,he){return ue.index=he,i?(he=ue.alternate,he!==null?(he=he.index,he<ne?(ue.flags|=2,ne):he):(ue.flags|=2,ne)):(ue.flags|=1048576,ne)}function k(ue){return i&&ue.alternate===null&&(ue.flags|=2),ue}function z(ue,ne,he,Fe){return ne===null||ne.tag!==6?(ne=Ps(he,ue.mode,Fe),ne.return=ue,ne):(ne=$(ne,he),ne.return=ue,ne)}function Z(ue,ne,he,Fe){var nt=he.type;return nt===Q?Oe(ue,ne,he.props.children,Fe,he.key):ne!==null&&(ne.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===le&&Md(nt)===ne.type)?(Fe=$(ne,he.props),Fe.ref=Sl(ue,ne,he),Fe.return=ue,Fe):(Fe=Yl(he.type,he.key,he.props,null,ue.mode,Fe),Fe.ref=Sl(ue,ne,he),Fe.return=ue,Fe)}function Te(ue,ne,he,Fe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=tn(he,ue.mode,Fe),ne.return=ue,ne):(ne=$(ne,he.children||[]),ne.return=ue,ne)}function Oe(ue,ne,he,Fe,nt){return ne===null||ne.tag!==7?(ne=Ji(he,ue.mode,Fe,nt),ne.return=ue,ne):(ne=$(ne,he),ne.return=ue,ne)}function Le(ue,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Ps(""+ne,ue.mode,he),ne.return=ue,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case F:return he=Yl(ne.type,ne.key,ne.props,null,ue.mode,he),he.ref=Sl(ue,null,ne),he.return=ue,he;case J:return ne=tn(ne,ue.mode,he),ne.return=ue,ne;case le:var Fe=ne._init;return Le(ue,Fe(ne._payload),he)}if(dt(ne)||de(ne))return ne=Ji(ne,ue.mode,he,null),ne.return=ue,ne;du(ue,ne)}return null}function xe(ue,ne,he,Fe){var nt=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return nt!==null?null:z(ue,ne,""+he,Fe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case F:return he.key===nt?Z(ue,ne,he,Fe):null;case J:return he.key===nt?Te(ue,ne,he,Fe):null;case le:return nt=he._init,xe(ue,ne,nt(he._payload),Fe)}if(dt(he)||de(he))return nt!==null?null:Oe(ue,ne,he,Fe,null);du(ue,he)}return null}function ze(ue,ne,he,Fe,nt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ue=ue.get(he)||null,z(ne,ue,""+Fe,nt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case F:return ue=ue.get(Fe.key===null?he:Fe.key)||null,Z(ne,ue,Fe,nt);case J:return ue=ue.get(Fe.key===null?he:Fe.key)||null,Te(ne,ue,Fe,nt);case le:var tt=Fe._init;return ze(ue,ne,he,tt(Fe._payload),nt)}if(dt(Fe)||de(Fe))return ue=ue.get(he)||null,Oe(ne,ue,Fe,nt,null);du(ne,Fe)}return null}function qe(ue,ne,he,Fe){for(var nt=null,tt=null,it=ne,$t=ne=0,Po=null;it!==null&&$t<he.length;$t++){it.index>$t?(Po=it,it=null):Po=it.sibling;var Bt=xe(ue,it,he[$t],Fe);if(Bt===null){it===null&&(it=Po);break}i&&it&&Bt.alternate===null&&l(ue,it),ne=T(Bt,ne,$t),tt===null?nt=Bt:tt.sibling=Bt,tt=Bt,it=Po}if($t===he.length)return u(ue,it),go&&wi(ue,$t),nt;if(it===null){for(;$t<he.length;$t++)it=Le(ue,he[$t],Fe),it!==null&&(ne=T(it,ne,$t),tt===null?nt=it:tt.sibling=it,tt=it);return go&&wi(ue,$t),nt}for(it=p(ue,it);$t<he.length;$t++)Po=ze(it,ue,$t,he[$t],Fe),Po!==null&&(i&&Po.alternate!==null&&it.delete(Po.key===null?$t:Po.key),ne=T(Po,ne,$t),tt===null?nt=Po:tt.sibling=Po,tt=Po);return i&&it.forEach(function(ts){return l(ue,ts)}),go&&wi(ue,$t),nt}function Ze(ue,ne,he,Fe){var nt=de(he);if(typeof nt!="function")throw Error(n(150));if(he=nt.call(he),he==null)throw Error(n(151));for(var tt=nt=null,it=ne,$t=ne=0,Po=null,Bt=he.next();it!==null&&!Bt.done;$t++,Bt=he.next()){it.index>$t?(Po=it,it=null):Po=it.sibling;var ts=xe(ue,it,Bt.value,Fe);if(ts===null){it===null&&(it=Po);break}i&&it&&ts.alternate===null&&l(ue,it),ne=T(ts,ne,$t),tt===null?nt=ts:tt.sibling=ts,tt=ts,it=Po}if(Bt.done)return u(ue,it),go&&wi(ue,$t),nt;if(it===null){for(;!Bt.done;$t++,Bt=he.next())Bt=Le(ue,Bt.value,Fe),Bt!==null&&(ne=T(Bt,ne,$t),tt===null?nt=Bt:tt.sibling=Bt,tt=Bt);return go&&wi(ue,$t),nt}for(it=p(ue,it);!Bt.done;$t++,Bt=he.next())Bt=ze(it,ue,$t,Bt.value,Fe),Bt!==null&&(i&&Bt.alternate!==null&&it.delete(Bt.key===null?$t:Bt.key),ne=T(Bt,ne,$t),tt===null?nt=Bt:tt.sibling=Bt,tt=Bt);return i&&it.forEach(function(hh){return l(ue,hh)}),go&&wi(ue,$t),nt}function uo(ue,ne,he,Fe){if(typeof he=="object"&&he!==null&&he.type===Q&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case F:e:{for(var nt=he.key,tt=ne;tt!==null;){if(tt.key===nt){if(nt=he.type,nt===Q){if(tt.tag===7){u(ue,tt.sibling),ne=$(tt,he.props.children),ne.return=ue,ue=ne;break e}}else if(tt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===le&&Md(nt)===tt.type){u(ue,tt.sibling),ne=$(tt,he.props),ne.ref=Sl(ue,tt,he),ne.return=ue,ue=ne;break e}u(ue,tt);break}else l(ue,tt);tt=tt.sibling}he.type===Q?(ne=Ji(he.props.children,ue.mode,Fe,he.key),ne.return=ue,ue=ne):(Fe=Yl(he.type,he.key,he.props,null,ue.mode,Fe),Fe.ref=Sl(ue,ne,he),Fe.return=ue,ue=Fe)}return k(ue);case J:e:{for(tt=he.key;ne!==null;){if(ne.key===tt)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){u(ue,ne.sibling),ne=$(ne,he.children||[]),ne.return=ue,ue=ne;break e}else{u(ue,ne);break}else l(ue,ne);ne=ne.sibling}ne=tn(he,ue.mode,Fe),ne.return=ue,ue=ne}return k(ue);case le:return tt=he._init,uo(ue,ne,tt(he._payload),Fe)}if(dt(he))return qe(ue,ne,he,Fe);if(de(he))return Ze(ue,ne,he,Fe);du(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ne!==null&&ne.tag===6?(u(ue,ne.sibling),ne=$(ne,he),ne.return=ue,ue=ne):(u(ue,ne),ne=Ps(he,ue.mode,Fe),ne.return=ue,ue=ne),k(ue)):u(ue,ne)}return uo}var vs=Dd(!0),Pd=Dd(!1),Il={},en=ei(Il),Cl=ei(Il),Wa=ei(Il);function Li(i){if(i===Il)throw Error(n(174));return i}function Bd(i,l){switch(ro(Wa,l),ro(Cl,i),ro(en,Il),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:lo(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=lo(l,i)}qt(en),ro(en,l)}function kl(){qt(en),qt(Cl),qt(Wa)}function Np(i){Li(Wa.current);var l=Li(en.current),u=lo(l,i.type);l!==u&&(ro(Cl,i),ro(en,u))}function Fd(i){Cl.current===i&&(qt(en),qt(Cl))}var yo=ei(0);function hu(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ud=[];function Hd(){for(var i=0;i<Ud.length;i++)Ud[i]._workInProgressVersionPrimary=null;Ud.length=0}var pu=P.ReactCurrentDispatcher,Gd=P.ReactCurrentBatchConfig,Ss=0,Ge=null,co=null,Jo=null,Rl=!1,kr=!1,Re=0,Ni=0;function Xt(){throw Error(n(321))}function wl(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Lr(i[u],l[u]))return!1;return!0}function Vd(i,l,u,p,$,T){if(Ss=T,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,pu.current=i===null||i.memoizedState===null?ni:Dp,i=u(p,$),kr){T=0;do{if(kr=!1,Re=0,25<=T)throw Error(n(301));T+=1,Jo=co=null,l.updateQueue=null,pu.current=Pp,i=u(p,$)}while(kr)}if(pu.current=Fi,l=co!==null&&co.next!==null,Ss=0,Jo=co=Ge=null,Rl=!1,l)throw Error(n(300));return i}function Wd(){var i=Re!==0;return Re=0,i}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jo===null?Ge.memoizedState=Jo=i:Jo=Jo.next=i,Jo}function sr(){if(co===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=co.next;var l=Jo===null?Ge.memoizedState:Jo.next;if(l!==null)Jo=l,co=i;else{if(i===null)throw Error(n(310));co=i,i={memoizedState:co.memoizedState,baseState:co.baseState,baseQueue:co.baseQueue,queue:co.queue,next:null},Jo===null?Ge.memoizedState=Jo=i:Jo=Jo.next=i}return Jo}function za(i,l){return typeof l=="function"?l(i):l}function Go(i){var l=sr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=co,$=p.baseQueue,T=u.pending;if(T!==null){if($!==null){var k=$.next;$.next=T.next,T.next=k}p.baseQueue=$=T,u.pending=null}if($!==null){T=$.next,p=p.baseState;var z=k=null,Z=null,Te=T;do{var Oe=Te.lane;if((Ss&Oe)===Oe)Z!==null&&(Z=Z.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),p=Te.hasEagerState?Te.eagerState:i(p,Te.action);else{var Le={lane:Oe,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};Z===null?(z=Z=Le,k=p):Z=Z.next=Le,Ge.lanes|=Oe,ji|=Oe}Te=Te.next}while(Te!==null&&Te!==T);Z===null?k=p:Z.next=z,Lr(p,l.memoizedState)||(lr=!0),l.memoizedState=p,l.baseState=k,l.baseQueue=Z,u.lastRenderedState=p}if(i=u.interleaved,i!==null){$=i;do T=$.lane,Ge.lanes|=T,ji|=T,$=$.next;while($!==i)}else $===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function zd(i){var l=sr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,$=u.pending,T=l.memoizedState;if($!==null){u.pending=null;var k=$=$.next;do T=i(T,k.action),k=k.next;while(k!==$);Lr(T,l.memoizedState)||(lr=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),u.lastRenderedState=T}return[T,p]}function Mp(){}function zg(i,l){var u=Ge,p=sr(),$=l(),T=!Lr(p.memoizedState,$);if(T&&(p.memoizedState=$,lr=!0),p=p.queue,En(Ol.bind(null,u,p,i),[i]),p.getSnapshot!==l||T||Jo!==null&&Jo.memoizedState.tag&1){if(u.flags|=2048,bn(9,Xd.bind(null,u,p,$,l),void 0,null),zo===null)throw Error(n(349));(Ss&30)!==0||jd(u,l,$)}return $}function jd(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ge.updateQueue,l===null?(l={lastEffect:null,stores:null},Ge.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Xd(i,l,u,p){l.value=u,l.getSnapshot=p,fu(l)&&Mi(i)}function Ol(i,l,u){return u(function(){fu(l)&&Mi(i)})}function fu(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Lr(i,u)}catch{return!0}}function Mi(i){var l=$n(i,1);l!==null&&vo(l,i,1,-1)}function Di(i){var l=Tn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:i},l.queue=i,i=i.dispatch=Yd.bind(null,Ge,i),[l.memoizedState,i]}function bn(i,l,u,p){return i={tag:i,create:l,destroy:u,deps:p,next:null},l=Ge.updateQueue,l===null?(l={lastEffect:null,stores:null},Ge.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,l.lastEffect=i)),i}function Al(){return sr().memoizedState}function xl(i,l,u,p){var $=Tn();Ge.flags|=i,$.memoizedState=bn(1|l,u,void 0,p===void 0?null:p)}function oi(i,l,u,p){var $=sr();p=p===void 0?null:p;var T=void 0;if(co!==null){var k=co.memoizedState;if(T=k.destroy,p!==null&&wl(p,k.deps)){$.memoizedState=bn(l,u,T,p);return}}Ge.flags|=i,$.memoizedState=bn(1|l,u,T,p)}function ri(i,l){return xl(8390656,8,i,l)}function En(i,l){return oi(2048,8,i,l)}function Ll(i,l){return oi(4,2,i,l)}function yn(i,l){return oi(4,4,i,l)}function Nl(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Ml(i,l,u){return u=u!=null?u.concat([i]):null,oi(4,4,Nl.bind(null,l,i),u)}function Is(){}function Pi(i,l){var u=sr();l=l===void 0?null:l;var p=u.memoizedState;return p!==null&&l!==null&&wl(l,p[1])?p[0]:(u.memoizedState=[i,l],i)}function Bi(i,l){var u=sr();l=l===void 0?null:l;var p=u.memoizedState;return p!==null&&l!==null&&wl(l,p[1])?p[0]:(i=i(),u.memoizedState=[i,l],i)}function Cs(i,l,u){return(Ss&21)===0?(i.baseState&&(i.baseState=!1,lr=!0),i.memoizedState=u):(Lr(u,l)||(u=np(),Ge.lanes|=u,ji|=u,i.baseState=!0),l)}function ja(i,l){var u=At;At=u!==0&&4>u?u:4,i(!0);var p=Gd.transition;Gd.transition={};try{i(!1),l()}finally{At=u,Gd.transition=p}}function vn(){return sr().memoizedState}function Dl(i,l,u){var p=Rn(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},ks(i))gu(l,u);else if(u=Rd(i,l,u,p),u!==null){var $=pr();vo(u,i,p,$),hr(u,l,p)}}function Yd(i,l,u){var p=Rn(i),$={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(ks(i))gu(l,$);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var k=l.lastRenderedState,z=T(k,u);if($.hasEagerState=!0,$.eagerState=z,Lr(z,k)){var Z=l.interleaved;Z===null?($.next=$,au(l)):($.next=Z.next,Z.next=$),l.interleaved=$;return}}catch{}finally{}u=Rd(i,l,$,p),u!==null&&($=pr(),vo(u,i,p,$),hr(u,l,p))}}function ks(i){var l=i.alternate;return i===Ge||l!==null&&l===Ge}function gu(i,l){kr=Rl=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function hr(i,l,u){if((u&4194240)!==0){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,Rc(i,u)}}var Fi={readContext:Cr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},ni={readContext:Cr,useCallback:function(i,l){return Tn().memoizedState=[i,l===void 0?null:l],i},useContext:Cr,useEffect:ri,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,xl(4194308,4,Nl.bind(null,l,i),u)},useLayoutEffect:function(i,l){return xl(4194308,4,i,l)},useInsertionEffect:function(i,l){return xl(4,2,i,l)},useMemo:function(i,l){var u=Tn();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var p=Tn();return l=u!==void 0?u(l):l,p.memoizedState=p.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},p.queue=i,i=i.dispatch=Dl.bind(null,Ge,i),[p.memoizedState,i]},useRef:function(i){var l=Tn();return i={current:i},l.memoizedState=i},useState:Di,useDebugValue:Is,useDeferredValue:function(i){return Tn().memoizedState=i},useTransition:function(){var i=Di(!1),l=i[0];return i=ja.bind(null,i[1]),Tn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var p=Ge,$=Tn();if(go){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),zo===null)throw Error(n(349));(Ss&30)!==0||jd(p,l,u)}$.memoizedState=u;var T={value:u,getSnapshot:l};return $.queue=T,ri(Ol.bind(null,p,T,i),[i]),p.flags|=2048,bn(9,Xd.bind(null,p,T,u,l),void 0,null),u},useId:function(){var i=Tn(),l=zo.identifierPrefix;if(go){var u=mn,p=Zr;u=(p&~(1<<32-xr(p)-1)).toString(32)+u,l=":"+l+"R"+u,u=Re++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=Ni++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},Dp={readContext:Cr,useCallback:Pi,useContext:Cr,useEffect:En,useImperativeHandle:Ml,useInsertionEffect:Ll,useLayoutEffect:yn,useMemo:Bi,useReducer:Go,useRef:Al,useState:function(){return Go(za)},useDebugValue:Is,useDeferredValue:function(i){var l=sr();return Cs(l,co.memoizedState,i)},useTransition:function(){var i=Go(za)[0],l=sr().memoizedState;return[i,l]},useMutableSource:Mp,useSyncExternalStore:zg,useId:vn,unstable_isNewReconciler:!1},Pp={readContext:Cr,useCallback:Pi,useContext:Cr,useEffect:En,useImperativeHandle:Ml,useInsertionEffect:Ll,useLayoutEffect:yn,useMemo:Bi,useReducer:zd,useRef:Al,useState:function(){return zd(za)},useDebugValue:Is,useDeferredValue:function(i){var l=sr();return co===null?l.memoizedState=i:Cs(l,co.memoizedState,i)},useTransition:function(){var i=zd(za)[0],l=sr().memoizedState;return[i,l]},useMutableSource:Mp,useSyncExternalStore:zg,useId:vn,unstable_isNewReconciler:!1};function Xa(i,l){try{var u="",p=l;do u+=Ue(p),p=p.return;while(p);var $=u}catch(T){$=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:l,stack:$,digest:null}}function Kd(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function Ya(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var Pl=typeof WeakMap=="function"?WeakMap:Map;function mu(i,l,u){u=_n(-1,u),u.tag=3,u.payload={element:null};var p=l.value;return u.callback=function(){tc||(tc=!0,oc=p),Ya(i,l)},u}function Rs(i,l,u){u=_n(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var $=l.value;u.payload=function(){return p($)},u.callback=function(){Ya(i,l)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(u.callback=function(){Ya(i,l),typeof p!="function"&&(io===null?io=new Set([this]):io.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),u}function Jd(i,l,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Pl;var $=new Set;p.set(l,$)}else $=p.get(l),$===void 0&&($=new Set,p.set(l,$));$.has(u)||($.add(u),i=Zp.bind(null,i,l,u),l.then(i,i))}function Bp(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Fp(i,l,u,p,$){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=_n(-1,1),l.tag=2,xi(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=$,i)}var jg=P.ReactCurrentOwner,lr=!1;function qo(i,l,u,p){l.child=i===null?Pd(l,null,u,p):vs(l,i.child,u,p)}function qd(i,l,u,p,$){u=u.render;var T=l.ref;return ys(l,$),p=Vd(i,l,u,p,T,$),u=Wd(),i!==null&&!lr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~$,In(i,l,$)):(go&&u&&ou(l),l.flags|=1,qo(i,l,p,$),l.child)}function Up(i,l,u,p,$){if(i===null){var T=u.type;return typeof T=="function"&&!Iu(T)&&T.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=T,Hp(i,l,T,p,$)):(i=Yl(u.type,null,p,l,l.mode,$),i.ref=l.ref,i.return=l,l.child=i)}if(T=i.child,(i.lanes&$)===0){var k=T.memoizedProps;if(u=u.compare,u=u!==null?u:gl,u(k,p)&&i.ref===l.ref)return In(i,l,$)}return l.flags|=1,i=Ur(T,p),i.ref=l.ref,i.return=l,l.child=i}function Hp(i,l,u,p,$){if(i!==null){var T=i.memoizedProps;if(gl(T,p)&&i.ref===l.ref)if(lr=!1,l.pendingProps=p=T,(i.lanes&$)!==0)(i.flags&131072)!==0&&(lr=!0);else return l.lanes=i.lanes,In(i,l,$)}return Qd(i,l,u,p,$)}function Gp(i,l,u){var p=l.pendingProps,$=p.children,T=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ro(As,jo),jo|=u;else{if((u&1073741824)===0)return i=T!==null?T.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,ro(As,jo),jo|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=T!==null?T.baseLanes:u,ro(As,jo),jo|=p}else T!==null?(p=T.baseLanes|u,l.memoizedState=null):p=u,ro(As,jo),jo|=p;return qo(i,l,$,u),l.child}function Xg(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function Qd(i,l,u,p,$){var T=ir(u)?ti:nr.current;return T=ms(l,T),ys(l,$),u=Vd(i,l,u,p,T,$),p=Wd(),i!==null&&!lr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~$,In(i,l,$)):(go&&p&&ou(l),l.flags|=1,qo(i,l,u,$),l.child)}function Zd(i,l,u,p,$){if(ir(u)){var T=!0;eu(l)}else T=!1;if(ys(l,$),l.stateNode===null)Ja(i,l),Nd(l,u,p),vl(l,u,p,$),p=!0;else if(i===null){var k=l.stateNode,z=l.memoizedProps;k.props=z;var Z=k.context,Te=u.contextType;typeof Te=="object"&&Te!==null?Te=Cr(Te):(Te=ir(u)?ti:nr.current,Te=ms(l,Te));var Oe=u.getDerivedStateFromProps,Le=typeof Oe=="function"||typeof k.getSnapshotBeforeUpdate=="function";Le||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==p||Z!==Te)&&uu(l,k,p,Te),Ai=!1;var xe=l.memoizedState;k.state=xe,Ga(l,p,k,$),Z=l.memoizedState,z!==p||xe!==Z||ur.current||Ai?(typeof Oe=="function"&&(cu(l,u,Oe,p),Z=l.memoizedState),(z=Ai||Ld(l,u,z,p,xe,Z,Te))?(Le||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Z),k.props=p,k.state=Z,k.context=Te,p=z):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{k=l.stateNode,El(i,l),z=l.memoizedProps,Te=l.type===l.elementType?z:Br(l.type,z),k.props=Te,Le=l.pendingProps,xe=k.context,Z=u.contextType,typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=ir(u)?ti:nr.current,Z=ms(l,Z));var ze=u.getDerivedStateFromProps;(Oe=typeof ze=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==Le||xe!==Z)&&uu(l,k,p,Z),Ai=!1,xe=l.memoizedState,k.state=xe,Ga(l,p,k,$);var qe=l.memoizedState;z!==Le||xe!==qe||ur.current||Ai?(typeof ze=="function"&&(cu(l,u,ze,p),qe=l.memoizedState),(Te=Ai||Ld(l,u,Te,p,xe,qe,Z)||!1)?(Oe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,qe,Z),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,qe,Z)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||z===i.memoizedProps&&xe===i.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&xe===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=qe),k.props=p,k.state=qe,k.context=Z,p=Te):(typeof k.componentDidUpdate!="function"||z===i.memoizedProps&&xe===i.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&xe===i.memoizedState||(l.flags|=1024),p=!1)}return Ka(i,l,u,p,T,$)}function Ka(i,l,u,p,$,T){Xg(i,l);var k=(l.flags&128)!==0;if(!p&&!k)return $&&et(l,u,!1),In(i,l,T);p=l.stateNode,jg.current=l;var z=k&&typeof u.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,i!==null&&k?(l.child=vs(l,i.child,null,T),l.child=vs(l,null,z,T)):qo(i,l,z,T),l.memoizedState=p.state,$&&et(l,u,!0),l.child}function Bl(i){var l=i.stateNode;l.pendingContext?Rp(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Rp(i,l.context,!1),Bd(i,l.containerInfo)}function Vp(i,l,u,p,$){return Ts(),ru($),l.flags|=256,qo(i,l,u,p),l.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function _u(i){return{baseLanes:i,cachePool:null,transitions:null}}function Yg(i,l,u){var p=l.pendingProps,$=yo.current,T=!1,k=(l.flags&128)!==0,z;if((z=k)||(z=i!==null&&i.memoizedState===null?!1:($&2)!==0),z?(T=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&($|=1),ro(yo,$&1),i===null)return _s(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(k=p.children,i=p.fallback,T?(p=l.mode,T=l.child,k={mode:"hidden",children:k},(p&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=k):T=qi(k,p,0,null),i=Ji(i,p,u,null),T.return=l,i.return=l,T.sibling=i,l.child=T,l.child.memoizedState=_u(u),l.memoizedState=$u,i):eh(l,k));if($=i.memoizedState,$!==null&&(z=$.dehydrated,z!==null))return Ui(i,l,k,p,z,$,u);if(T){T=p.fallback,k=l.mode,$=i.child,z=$.sibling;var Z={mode:"hidden",children:p.children};return(k&1)===0&&l.child!==$?(p=l.child,p.childLanes=0,p.pendingProps=Z,l.deletions=null):(p=Ur($,Z),p.subtreeFlags=$.subtreeFlags&14680064),z!==null?T=Ur(z,T):(T=Ji(T,k,u,null),T.flags|=2),T.return=l,p.return=l,p.sibling=T,l.child=p,p=T,T=l.child,k=i.child.memoizedState,k=k===null?_u(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},T.memoizedState=k,T.childLanes=i.childLanes&~u,l.memoizedState=$u,p}return T=i.child,i=T.sibling,p=Ur(T,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=u),p.return=l,p.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=p,l.memoizedState=null,p}function eh(i,l){return l=qi({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Tu(i,l,u,p){return p!==null&&ru(p),vs(l,i.child,null,u),i=eh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Ui(i,l,u,p,$,T,k){if(u)return l.flags&256?(l.flags&=-257,p=Kd(Error(n(422))),Tu(i,l,k,p)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(T=p.fallback,$=l.mode,p=qi({mode:"visible",children:p.children},$,0,null),T=Ji(T,$,k,null),T.flags|=2,p.return=l,T.return=l,p.sibling=T,l.child=p,(l.mode&1)!==0&&vs(l,i.child,null,k),l.child.memoizedState=_u(k),l.memoizedState=$u,T);if((l.mode&1)===0)return Tu(i,l,k,null);if($.data==="$!"){if(p=$.nextSibling&&$.nextSibling.dataset,p)var z=p.dgst;return p=z,T=Error(n(419)),p=Kd(T,p,void 0),Tu(i,l,k,p)}if(z=(k&i.childLanes)!==0,lr||z){if(p=zo,p!==null){switch(k&-k){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=($&(p.suspendedLanes|k))!==0?0:$,$!==0&&$!==T.retryLane&&(T.retryLane=$,$n(i,$),vo(p,i,$,-1))}return jl(),p=Kd(Error(n(421))),Tu(i,l,k,p)}return $.data==="$?"?(l.flags|=128,l.child=i.child,l=Xl.bind(null,i),$._reactRetry=l,null):(i=T.treeContext,Ir=Qn($.nextSibling),dr=l,go=!0,gr=null,i!==null&&(Sr[Pr++]=Zr,Sr[Pr++]=mn,Sr[Pr++]=Ri,Zr=i.id,mn=i.overflow,Ri=l),l=eh(l,p.children),l.flags|=4096,l)}function Wp(i,l,u){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),lu(i.return,l,u)}function Sn(i,l,u,p,$){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:$}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=u,T.tailMode=$)}function Ao(i,l,u){var p=l.pendingProps,$=p.revealOrder,T=p.tail;if(qo(i,l,p.children,u),p=yo.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wp(i,u,l);else if(i.tag===19)Wp(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(ro(yo,p),(l.mode&1)===0)l.memoizedState=null;else switch($){case"forwards":for(u=l.child,$=null;u!==null;)i=u.alternate,i!==null&&hu(i)===null&&($=u),u=u.sibling;u=$,u===null?($=l.child,l.child=null):($=u.sibling,u.sibling=null),Sn(l,!1,$,u,T);break;case"backwards":for(u=null,$=l.child,l.child=null;$!==null;){if(i=$.alternate,i!==null&&hu(i)===null){l.child=$;break}i=$.sibling,$.sibling=u,u=$,$=i}Sn(l,!0,u,null,T);break;case"together":Sn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ja(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function In(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),ji|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,u=Ur(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Ur(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function zp(i,l,u){switch(l.tag){case 3:Bl(l),Ts();break;case 5:Np(l);break;case 1:ir(l.type)&&eu(l);break;case 4:Bd(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,$=l.memoizedProps.value;ro(bs,p._currentValue),p._currentValue=$;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ro(yo,yo.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?Yg(i,l,u):(ro(yo,yo.current&1),i=In(i,l,u),i!==null?i.sibling:null);ro(yo,yo.current&1);break;case 19:if(p=(u&l.childLanes)!==0,(i.flags&128)!==0){if(p)return Ao(i,l,u);l.flags|=128}if($=l.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),ro(yo,yo.current),p)break;return null;case 22:case 23:return l.lanes=0,Gp(i,l,u)}return In(i,l,u)}var Me,th,jp,qa;Me=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},th=function(){},jp=function(i,l,u,p){var $=i.memoizedProps;if($!==p){i=l.stateNode,Li(en.current);var T=null;switch(u){case"input":$=He(i,$),p=He(i,p),T=[];break;case"select":$=U({},$,{value:void 0}),p=U({},p,{value:void 0}),T=[];break;case"textarea":$=Pe(i,$),p=Pe(i,p),T=[];break;default:typeof $.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=fn)}Xe(u,p);var k;u=null;for(Te in $)if(!p.hasOwnProperty(Te)&&$.hasOwnProperty(Te)&&$[Te]!=null)if(Te==="style"){var z=$[Te];for(k in z)z.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(h.hasOwnProperty(Te)?T||(T=[]):(T=T||[]).push(Te,null));for(Te in p){var Z=p[Te];if(z=$!=null?$[Te]:void 0,p.hasOwnProperty(Te)&&Z!==z&&(Z!=null||z!=null))if(Te==="style")if(z){for(k in z)!z.hasOwnProperty(k)||Z&&Z.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in Z)Z.hasOwnProperty(k)&&z[k]!==Z[k]&&(u||(u={}),u[k]=Z[k])}else u||(T||(T=[]),T.push(Te,u)),u=Z;else Te==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,z=z?z.__html:void 0,Z!=null&&z!==Z&&(T=T||[]).push(Te,Z)):Te==="children"?typeof Z!="string"&&typeof Z!="number"||(T=T||[]).push(Te,""+Z):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(h.hasOwnProperty(Te)?(Z!=null&&Te==="onScroll"&&Wt("scroll",i),T||z===Z||(T=[])):(T=T||[]).push(Te,Z))}u&&(T=T||[]).push("style",u);var Te=T;(l.updateQueue=Te)&&(l.flags|=4)}},qa=function(i,l,u,p){u!==p&&(l.flags|=4)};function Rr(i,l){if(!go)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Zt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(l)for(var $=i.child;$!==null;)u|=$.lanes|$.childLanes,p|=$.subtreeFlags&14680064,p|=$.flags&14680064,$.return=i,$=$.sibling;else for($=i.child;$!==null;)u|=$.lanes|$.childLanes,p|=$.subtreeFlags,p|=$.flags,$.return=i,$=$.sibling;return i.subtreeFlags|=p,i.childLanes=u,l}function Hi(i,l,u){var p=l.pendingProps;switch(Sd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(l),null;case 1:return ir(l.type)&&Zc(),Zt(l),null;case 3:return p=l.stateNode,kl(),qt(ur),qt(nr),Hd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Ua(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gr!==null&&(rh(gr),gr=null))),th(i,l),Zt(l),null;case 5:Fd(l);var $=Li(Wa.current);if(u=l.type,i!==null&&l.stateNode!=null)jp(i,l,u,p,$),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Zt(l),null}if(i=Li(en.current),Ua(l)){p=l.stateNode,u=l.type;var T=l.memoizedProps;switch(p[Ut]=l,p[Pa]=T,i=(l.mode&1)!==0,u){case"dialog":Wt("cancel",p),Wt("close",p);break;case"iframe":case"object":case"embed":Wt("load",p);break;case"video":case"audio":for($=0;$<wa.length;$++)Wt(wa[$],p);break;case"source":Wt("error",p);break;case"img":case"image":case"link":Wt("error",p),Wt("load",p);break;case"details":Wt("toggle",p);break;case"input":bt(p,T),Wt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!T.multiple},Wt("invalid",p);break;case"textarea":ce(p,T),Wt("invalid",p)}Xe(u,T),$=null;for(var k in T)if(T.hasOwnProperty(k)){var z=T[k];k==="children"?typeof z=="string"?p.textContent!==z&&(T.suppressHydrationWarning!==!0&&Qr(p.textContent,z,i),$=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(T.suppressHydrationWarning!==!0&&Qr(p.textContent,z,i),$=["children",""+z]):h.hasOwnProperty(k)&&z!=null&&k==="onScroll"&&Wt("scroll",p)}switch(u){case"input":st(p),ft(p,T,!0);break;case"textarea":st(p),bo(p);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(p.onclick=fn)}p=$,l.updateQueue=p,p!==null&&(l.flags|=4)}else{k=$.nodeType===9?$:$.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ht(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=k.createElement(u,{is:p.is}):(i=k.createElement(u),u==="select"&&(k=i,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):i=k.createElementNS(i,u),i[Ut]=l,i[Pa]=p,Me(i,l,!1,!1),l.stateNode=i;e:{switch(k=_t(u,p),u){case"dialog":Wt("cancel",i),Wt("close",i),$=p;break;case"iframe":case"object":case"embed":Wt("load",i),$=p;break;case"video":case"audio":for($=0;$<wa.length;$++)Wt(wa[$],i);$=p;break;case"source":Wt("error",i),$=p;break;case"img":case"image":case"link":Wt("error",i),Wt("load",i),$=p;break;case"details":Wt("toggle",i),$=p;break;case"input":bt(i,p),$=He(i,p),Wt("invalid",i);break;case"option":$=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},$=U({},p,{value:void 0}),Wt("invalid",i);break;case"textarea":ce(i,p),$=Pe(i,p),Wt("invalid",i);break;default:$=p}Xe(u,$),z=$;for(T in z)if(z.hasOwnProperty(T)){var Z=z[T];T==="style"?te(i,Z):T==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&jt(i,Z)):T==="children"?typeof Z=="string"?(u!=="textarea"||Z!=="")&&j(i,Z):typeof Z=="number"&&j(i,""+Z):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(h.hasOwnProperty(T)?Z!=null&&T==="onScroll"&&Wt("scroll",i):Z!=null&&H(i,T,Z,k))}switch(u){case"input":st(i),ft(i,p,!1);break;case"textarea":st(i),bo(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Ne(p.value));break;case"select":i.multiple=!!p.multiple,T=p.value,T!=null?Tt(i,!!p.multiple,T,!1):p.defaultValue!=null&&Tt(i,!!p.multiple,p.defaultValue,!0);break;default:typeof $.onClick=="function"&&(i.onclick=fn)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Zt(l),null;case 6:if(i&&l.stateNode!=null)qa(i,l,i.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(u=Li(Wa.current),Li(en.current),Ua(l)){if(p=l.stateNode,u=l.memoizedProps,p[Ut]=l,(T=p.nodeValue!==u)&&(i=dr,i!==null))switch(i.tag){case 3:Qr(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Qr(p.nodeValue,u,(i.mode&1)!==0)}T&&(l.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Ut]=l,l.stateNode=p}return Zt(l),null;case 13:if(qt(yo),p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(go&&Ir!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Cd(),Ts(),l.flags|=98560,T=!1;else if(T=Ua(l),p!==null&&p.dehydrated!==null){if(i===null){if(!T)throw Error(n(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ut]=l}else Ts(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zt(l),T=!1}else gr!==null&&(rh(gr),gr=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(yo.current&1)!==0?Mo===0&&(Mo=3):jl())),l.updateQueue!==null&&(l.flags|=4),Zt(l),null);case 4:return kl(),th(i,l),i===null&&xa(l.stateNode.containerInfo),Zt(l),null;case 10:return su(l.type._context),Zt(l),null;case 17:return ir(l.type)&&Zc(),Zt(l),null;case 19:if(qt(yo),T=l.memoizedState,T===null)return Zt(l),null;if(p=(l.flags&128)!==0,k=T.rendering,k===null)if(p)Rr(T,!1);else{if(Mo!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(k=hu(i),k!==null){for(l.flags|=128,Rr(T,!1),p=k.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=u,u=l.child;u!==null;)T=u,i=p,T.flags&=14680066,k=T.alternate,k===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=k.childLanes,T.lanes=k.lanes,T.child=k.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=k.memoizedProps,T.memoizedState=k.memoizedState,T.updateQueue=k.updateQueue,T.type=k.type,i=k.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ro(yo,yo.current&1|2),l.child}i=i.sibling}T.tail!==null&&Eo()>_r&&(l.flags|=128,p=!0,Rr(T,!1),l.lanes=4194304)}else{if(!p)if(i=hu(k),i!==null){if(l.flags|=128,p=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),Rr(T,!0),T.tail===null&&T.tailMode==="hidden"&&!k.alternate&&!go)return Zt(l),null}else 2*Eo()-T.renderingStartTime>_r&&u!==1073741824&&(l.flags|=128,p=!0,Rr(T,!1),l.lanes=4194304);T.isBackwards?(k.sibling=l.child,l.child=k):(u=T.last,u!==null?u.sibling=k:l.child=k,T.last=k)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=Eo(),l.sibling=null,u=yo.current,ro(yo,p?u&1|2:u&1),l):(Zt(l),null);case 22:case 23:return ih(),p=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(jo&1073741824)!==0&&(Zt(l),l.subtreeFlags&6&&(l.flags|=8192)):Zt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Cn(i,l){switch(Sd(l),l.tag){case 1:return ir(l.type)&&Zc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return kl(),qt(ur),qt(nr),Hd(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Fd(l),null;case 13:if(qt(yo),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ts()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return qt(yo),null;case 4:return kl(),null;case 10:return su(l.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var Qa=!1,Vo=!1,Wo=typeof WeakSet=="function"?WeakSet:Set,V=null;function Dt(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){So(i,l,p)}else u.current=null}function Yt(i,l,u){try{u()}catch(p){So(i,l,p)}}var Xp=!1;function ws(i,l){if(Na=Ta,i=yp(),ml(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var $=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var k=0,z=-1,Z=-1,Te=0,Oe=0,Le=i,xe=null;t:for(;;){for(var ze;Le!==u||$!==0&&Le.nodeType!==3||(z=k+$),Le!==T||p!==0&&Le.nodeType!==3||(Z=k+p),Le.nodeType===3&&(k+=Le.nodeValue.length),(ze=Le.firstChild)!==null;)xe=Le,Le=ze;for(;;){if(Le===i)break t;if(xe===u&&++Te===$&&(z=k),xe===T&&++Oe===p&&(Z=k),(ze=Le.nextSibling)!==null)break;Le=xe,xe=Le.parentNode}Le=ze}u=z===-1||Z===-1?null:{start:z,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Yc={focusedElem:i,selectionRange:u},Ta=!1,V=l;V!==null;)if(l=V,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,V=i;else for(;V!==null;){l=V;try{var qe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Ze=qe.memoizedProps,uo=qe.memoizedState,ue=l.stateNode,ne=ue.getSnapshotBeforeUpdate(l.elementType===l.type?Ze:Br(l.type,Ze),uo);ue.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var he=l.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Fe){So(l,l.return,Fe)}if(i=l.sibling,i!==null){i.return=l.return,V=i;break}V=l.return}return qe=Xp,Xp=!1,qe}function Za(i,l,u){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var $=p=p.next;do{if(($.tag&i)===i){var T=$.destroy;$.destroy=void 0,T!==void 0&&Yt(l,u,T)}$=$.next}while($!==p)}}function bu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==l)}}function Yp(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function Os(i){var l=i.alternate;l!==null&&(i.alternate=null,Os(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Ut],delete l[Pa],delete l[Zn],delete l[vd],delete l[Dr])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Io(i){return i.tag===5||i.tag===3||i.tag===4}function Eu(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Io(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yu(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=fn));else if(p!==4&&(i=i.child,i!==null))for(yu(i,l,u),i=i.sibling;i!==null;)yu(i,l,u),i=i.sibling}function ec(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(ec(i,l,u),i=i.sibling;i!==null;)ec(i,l,u),i=i.sibling}var xo=null,mr=!1;function Gi(i,l,u){for(u=u.child;u!==null;)Kg(i,l,u),u=u.sibling}function Kg(i,l,u){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Cc,u)}catch{}switch(u.tag){case 5:Vo||Dt(u,l);case 6:var p=xo,$=mr;xo=null,Gi(i,l,u),xo=p,mr=$,xo!==null&&(mr?(i=xo,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):xo.removeChild(u.stateNode));break;case 18:xo!==null&&(mr?(i=xo,u=u.stateNode,i.nodeType===8?Ci(i.parentNode,u):i.nodeType===1&&Ci(i,u),_a(i)):Ci(xo,u.stateNode));break;case 4:p=xo,$=mr,xo=u.stateNode.containerInfo,mr=!0,Gi(i,l,u),xo=p,mr=$;break;case 0:case 11:case 14:case 15:if(!Vo&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){$=p=p.next;do{var T=$,k=T.destroy;T=T.tag,k!==void 0&&((T&2)!==0||(T&4)!==0)&&Yt(u,l,k),$=$.next}while($!==p)}Gi(i,l,u);break;case 1:if(!Vo&&(Dt(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(z){So(u,l,z)}Gi(i,l,u);break;case 21:Gi(i,l,u);break;case 22:u.mode&1?(Vo=(p=Vo)||u.memoizedState!==null,Gi(i,l,u),Vo=p):Gi(i,l,u);break;default:Gi(i,l,u)}}function Fl(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Wo),l.forEach(function(p){var $=k$.bind(null,i,p);u.has(p)||(u.add(p),p.then($,$))})}}function Fr(i,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var $=u[p];try{var T=i,k=l,z=k;e:for(;z!==null;){switch(z.tag){case 5:xo=z.stateNode,mr=!1;break e;case 3:xo=z.stateNode.containerInfo,mr=!0;break e;case 4:xo=z.stateNode.containerInfo,mr=!0;break e}z=z.return}if(xo===null)throw Error(n(160));Kg(T,k,$),xo=null,mr=!1;var Z=$.alternate;Z!==null&&(Z.return=null),$.return=null}catch(Te){So($,l,Te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Kp(l,i),l=l.sibling}function Kp(i,l){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Fr(l,i),pt(i),p&4){try{Za(3,i,i.return),bu(3,i)}catch(Ze){So(i,i.return,Ze)}try{Za(5,i,i.return)}catch(Ze){So(i,i.return,Ze)}}break;case 1:Fr(l,i),pt(i),p&512&&u!==null&&Dt(u,u.return);break;case 5:if(Fr(l,i),pt(i),p&512&&u!==null&&Dt(u,u.return),i.flags&32){var $=i.stateNode;try{j($,"")}catch(Ze){So(i,i.return,Ze)}}if(p&4&&($=i.stateNode,$!=null)){var T=i.memoizedProps,k=u!==null?u.memoizedProps:T,z=i.type,Z=i.updateQueue;if(i.updateQueue=null,Z!==null)try{z==="input"&&T.type==="radio"&&T.name!=null&&Ot($,T),_t(z,k);var Te=_t(z,T);for(k=0;k<Z.length;k+=2){var Oe=Z[k],Le=Z[k+1];Oe==="style"?te($,Le):Oe==="dangerouslySetInnerHTML"?jt($,Le):Oe==="children"?j($,Le):H($,Oe,Le,Te)}switch(z){case"input":Et($,T);break;case"textarea":Be($,T);break;case"select":var xe=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!T.multiple;var ze=T.value;ze!=null?Tt($,!!T.multiple,ze,!1):xe!==!!T.multiple&&(T.defaultValue!=null?Tt($,!!T.multiple,T.defaultValue,!0):Tt($,!!T.multiple,T.multiple?[]:"",!1))}$[Pa]=T}catch(Ze){So(i,i.return,Ze)}}break;case 6:if(Fr(l,i),pt(i),p&4){if(i.stateNode===null)throw Error(n(162));$=i.stateNode,T=i.memoizedProps;try{$.nodeValue=T}catch(Ze){So(i,i.return,Ze)}}break;case 3:if(Fr(l,i),pt(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{_a(l.containerInfo)}catch(Ze){So(i,i.return,Ze)}break;case 4:Fr(l,i),pt(i);break;case 13:Fr(l,i),pt(i),$=i.child,$.flags&8192&&(T=$.memoizedState!==null,$.stateNode.isHidden=T,!T||$.alternate!==null&&$.alternate.memoizedState!==null||(Xo=Eo())),p&4&&Fl(i);break;case 22:if(Oe=u!==null&&u.memoizedState!==null,i.mode&1?(Vo=(Te=Vo)||Oe,Fr(l,i),Vo=Te):Fr(l,i),pt(i),p&8192){if(Te=i.memoizedState!==null,(i.stateNode.isHidden=Te)&&!Oe&&(i.mode&1)!==0)for(V=i,Oe=i.child;Oe!==null;){for(Le=V=Oe;V!==null;){switch(xe=V,ze=xe.child,xe.tag){case 0:case 11:case 14:case 15:Za(4,xe,xe.return);break;case 1:Dt(xe,xe.return);var qe=xe.stateNode;if(typeof qe.componentWillUnmount=="function"){p=xe,u=xe.return;try{l=p,qe.props=l.memoizedProps,qe.state=l.memoizedState,qe.componentWillUnmount()}catch(Ze){So(p,u,Ze)}}break;case 5:Dt(xe,xe.return);break;case 22:if(xe.memoizedState!==null){Ul(Le);continue}}ze!==null?(ze.return=xe,V=ze):Ul(Le)}Oe=Oe.sibling}e:for(Oe=null,Le=i;;){if(Le.tag===5){if(Oe===null){Oe=Le;try{$=Le.stateNode,Te?(T=$.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(z=Le.stateNode,Z=Le.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,z.style.display=K("display",k))}catch(Ze){So(i,i.return,Ze)}}}else if(Le.tag===6){if(Oe===null)try{Le.stateNode.nodeValue=Te?"":Le.memoizedProps}catch(Ze){So(i,i.return,Ze)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===i)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===i)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===i)break e;Oe===Le&&(Oe=null),Le=Le.return}Oe===Le&&(Oe=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:Fr(l,i),pt(i),p&4&&Fl(i);break;case 21:break;default:Fr(l,i),pt(i)}}function pt(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(Io(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var $=p.stateNode;p.flags&32&&(j($,""),p.flags&=-33);var T=Eu(i);ec(i,T,$);break;case 3:case 4:var k=p.stateNode.containerInfo,z=Eu(i);yu(i,z,k);break;default:throw Error(n(161))}}catch(Z){So(i,i.return,Z)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Jg(i,l,u){V=i,Vi(i)}function Vi(i,l,u){for(var p=(i.mode&1)!==0;V!==null;){var $=V,T=$.child;if($.tag===22&&p){var k=$.memoizedState!==null||Qa;if(!k){var z=$.alternate,Z=z!==null&&z.memoizedState!==null||Vo;z=Qa;var Te=Vo;if(Qa=k,(Vo=Z)&&!Te)for(V=$;V!==null;)k=V,Z=k.child,k.tag===22&&k.memoizedState!==null?Wi($):Z!==null?(Z.return=k,V=Z):Wi($);for(;T!==null;)V=T,Vi(T),T=T.sibling;V=$,Qa=z,Vo=Te}ii(i)}else($.subtreeFlags&8772)!==0&&T!==null?(T.return=$,V=T):ii(i)}}function ii(i){for(;V!==null;){var l=V;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Vo||bu(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Vo)if(u===null)p.componentDidMount();else{var $=l.elementType===l.type?u.memoizedProps:Br(l.type,u.memoizedProps);p.componentDidUpdate($,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&Ad(l,T,p);break;case 3:var k=l.updateQueue;if(k!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}Ad(l,k,u)}break;case 5:var z=l.stateNode;if(u===null&&l.flags&4){u=z;var Z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&u.focus();break;case"img":Z.src&&(u.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Te=l.alternate;if(Te!==null){var Oe=Te.memoizedState;if(Oe!==null){var Le=Oe.dehydrated;Le!==null&&_a(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vo||l.flags&512&&Yp(l)}catch(xe){So(l,l.return,xe)}}if(l===i){V=null;break}if(u=l.sibling,u!==null){u.return=l.return,V=u;break}V=l.return}}function Ul(i){for(;V!==null;){var l=V;if(l===i){V=null;break}var u=l.sibling;if(u!==null){u.return=l.return,V=u;break}V=l.return}}function Wi(i){for(;V!==null;){var l=V;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{bu(4,l)}catch(Z){So(l,u,Z)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var $=l.return;try{p.componentDidMount()}catch(Z){So(l,$,Z)}}var T=l.return;try{Yp(l)}catch(Z){So(l,T,Z)}break;case 5:var k=l.return;try{Yp(l)}catch(Z){So(l,k,Z)}}}catch(Z){So(l,l.return,Z)}if(l===i){V=null;break}var z=l.sibling;if(z!==null){z.return=l.return,V=z;break}V=l.return}}var Hl=Math.ceil,Qo=P.ReactCurrentDispatcher,oh=P.ReactCurrentOwner,mo=P.ReactCurrentBatchConfig,Mt=0,zo=null,Lo=null,Zo=0,jo=0,As=ei(0),Mo=0,zi=null,ji=0,xs=0,vu=0,Gl=null,$r=null,Xo=0,_r=1/0,kn=null,tc=!1,oc=null,io=null,Vl=!1,Ls=null,Do=0,Ns=0,Su=null,Xi=-1,rc=0;function pr(){return(Mt&6)!==0?Eo():Xi!==-1?Xi:Xi=Eo()}function Rn(i){return(i.mode&1)===0?1:(Mt&2)!==0&&Zo!==0?Zo&-Zo:kd.transition!==null?(rc===0&&(rc=np()),rc):(i=At,i!==0||(i=window.event,i=i===void 0?16:qu(i.type)),i)}function vo(i,l,u,p){if(50<Ns)throw Ns=0,Su=null,Error(n(185));cs(i,u,p),((Mt&2)===0||i!==zo)&&(i===zo&&((Mt&2)===0&&(xs|=u),Mo===4&&Yi(i,Zo)),Yo(i,p),u===1&&Mt===0&&(l.mode&1)===0&&(_r=Eo()+500,Ro&&Ve()))}function Yo(i,l){var u=i.callbackNode;$g(i,l);var p=ha(i,i===zo?Zo:0);if(p===0)u!==null&&yc(u),i.callbackNode=null,i.callbackPriority=0;else if(l=p&-p,i.callbackPriority!==l){if(u!=null&&yc(u),l===1)i.tag===0?Fa(Ms.bind(null,i)):gn(Ms.bind(null,i)),Ed(function(){(Mt&6)===0&&Ve()}),u=null;else{switch(Yr(p)){case 1:u=Xu;break;case 4:u=Sc;break;case 16:u=Ic;break;case 536870912:u=nl;break;default:u=Ic}u=Tr(u,Jp.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function Jp(i,l){if(Xi=-1,rc=0,(Mt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(wn()&&i.callbackNode!==u)return null;var p=ha(i,i===zo?Zo:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||l)l=si(i,p);else{l=p;var $=Mt;Mt|=2;var T=qp();(zo!==i||Zo!==l)&&(kn=null,_r=Eo()+500,zl(i,l));do try{C$();break}catch(z){sh(i,z)}while(!0);iu(),Qo.current=T,Mt=$,Lo!==null?l=0:(zo=null,Zo=0,l=Mo)}if(l!==0){if(l===2&&($=bi(i),$!==0&&(p=$,l=Wl(i,$))),l===1)throw u=zi,zl(i,0),Yi(i,p),Yo(i,Eo()),u;if(l===6)Yi(i,p);else{if($=i.current.alternate,(p&30)===0&&!qg($)&&(l=si(i,p),l===2&&(T=bi(i),T!==0&&(p=T,l=Wl(i,T))),l===1))throw u=zi,zl(i,0),Yi(i,p),Yo(i,Eo()),u;switch(i.finishedWork=$,i.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Ki(i,$r,kn);break;case 3:if(Yi(i,p),(p&130023424)===p&&(l=Xo+500-Eo(),10<l)){if(ha(i,0)!==0)break;if($=i.suspendedLanes,($&p)!==p){pr(),i.pingedLanes|=i.suspendedLanes&$;break}i.timeoutHandle=Kc(Ki.bind(null,i,$r,kn),l);break}Ki(i,$r,kn);break;case 4:if(Yi(i,p),(p&4194240)===p)break;for(l=i.eventTimes,$=-1;0<p;){var k=31-xr(p);T=1<<k,k=l[k],k>$&&($=k),p&=~T}if(p=$,p=Eo()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Hl(p/1960))-p,10<p){i.timeoutHandle=Kc(Ki.bind(null,i,$r,kn),p);break}Ki(i,$r,kn);break;case 5:Ki(i,$r,kn);break;default:throw Error(n(329))}}}return Yo(i,Eo()),i.callbackNode===u?Jp.bind(null,i):null}function Wl(i,l){var u=Gl;return i.current.memoizedState.isDehydrated&&(zl(i,l).flags|=256),i=si(i,l),i!==2&&(l=$r,$r=u,l!==null&&rh(l)),i}function rh(i){$r===null?$r=i:$r.push.apply($r,i)}function qg(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var $=u[p],T=$.getSnapshot;$=$.value;try{if(!Lr(T(),$))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Yi(i,l){for(l&=~vu,l&=~xs,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-xr(l),p=1<<u;i[u]=-1,l&=~p}}function Ms(i){if((Mt&6)!==0)throw Error(n(327));wn();var l=ha(i,0);if((l&1)===0)return Yo(i,Eo()),null;var u=si(i,l);if(i.tag!==0&&u===2){var p=bi(i);p!==0&&(l=p,u=Wl(i,p))}if(u===1)throw u=zi,zl(i,0),Yi(i,l),Yo(i,Eo()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ki(i,$r,kn),Yo(i,Eo()),null}function nh(i,l){var u=Mt;Mt|=1;try{return i(l)}finally{Mt=u,Mt===0&&(_r=Eo()+500,Ro&&Ve())}}function Ds(i){Ls!==null&&Ls.tag===0&&(Mt&6)===0&&wn();var l=Mt;Mt|=1;var u=mo.transition,p=At;try{if(mo.transition=null,At=1,i)return i()}finally{At=p,mo.transition=u,Mt=l,(Mt&6)===0&&Ve()}}function ih(){jo=As.current,qt(As)}function zl(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,ps(u)),Lo!==null)for(u=Lo.return;u!==null;){var p=u;switch(Sd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Zc();break;case 3:kl(),qt(ur),qt(nr),Hd();break;case 5:Fd(p);break;case 4:kl();break;case 13:qt(yo);break;case 19:qt(yo);break;case 10:su(p.type._context);break;case 22:case 23:ih()}u=u.return}if(zo=i,Lo=i=Ur(i.current,null),Zo=jo=l,Mo=0,zi=null,vu=xs=ji=0,$r=Gl=null,Oi!==null){for(l=0;l<Oi.length;l++)if(u=Oi[l],p=u.interleaved,p!==null){u.interleaved=null;var $=p.next,T=u.pending;if(T!==null){var k=T.next;T.next=$,p.next=k}u.pending=p}Oi=null}return i}function sh(i,l){do{var u=Lo;try{if(iu(),pu.current=Fi,Rl){for(var p=Ge.memoizedState;p!==null;){var $=p.queue;$!==null&&($.pending=null),p=p.next}Rl=!1}if(Ss=0,Jo=co=Ge=null,kr=!1,Re=0,oh.current=null,u===null||u.return===null){Mo=1,zi=l,Lo=null;break}e:{var T=i,k=u.return,z=u,Z=l;if(l=Zo,z.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Te=Z,Oe=z,Le=Oe.tag;if((Oe.mode&1)===0&&(Le===0||Le===11||Le===15)){var xe=Oe.alternate;xe?(Oe.updateQueue=xe.updateQueue,Oe.memoizedState=xe.memoizedState,Oe.lanes=xe.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var ze=Bp(k);if(ze!==null){ze.flags&=-257,Fp(ze,k,z,T,l),ze.mode&1&&Jd(T,Te,l),l=ze,Z=Te;var qe=l.updateQueue;if(qe===null){var Ze=new Set;Ze.add(Z),l.updateQueue=Ze}else qe.add(Z);break e}else{if((l&1)===0){Jd(T,Te,l),jl();break e}Z=Error(n(426))}}else if(go&&z.mode&1){var uo=Bp(k);if(uo!==null){(uo.flags&65536)===0&&(uo.flags|=256),Fp(uo,k,z,T,l),ru(Xa(Z,z));break e}}T=Z=Xa(Z,z),Mo!==4&&(Mo=2),Gl===null?Gl=[T]:Gl.push(T),T=k;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var ue=mu(T,Z,l);Od(T,ue);break e;case 1:z=Z;var ne=T.type,he=T.stateNode;if((T.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(io===null||!io.has(he)))){T.flags|=65536,l&=-l,T.lanes|=l;var Fe=Rs(T,z,l);Od(T,Fe);break e}}T=T.return}while(T!==null)}ah(u)}catch(nt){l=nt,Lo===u&&u!==null&&(Lo=u=u.return);continue}break}while(!0)}function qp(){var i=Qo.current;return Qo.current=Fi,i===null?Fi:i}function jl(){(Mo===0||Mo===3||Mo===2)&&(Mo=4),zo===null||(ji&268435455)===0&&(xs&268435455)===0||Yi(zo,Zo)}function si(i,l){var u=Mt;Mt|=2;var p=qp();(zo!==i||Zo!==l)&&(kn=null,zl(i,l));do try{Qp();break}catch($){sh(i,$)}while(!0);if(iu(),Mt=u,Qo.current=p,Lo!==null)throw Error(n(261));return zo=null,Zo=0,Mo}function Qp(){for(;Lo!==null;)lh(Lo)}function C$(){for(;Lo!==null&&!vc();)lh(Lo)}function lh(i){var l=Qg(i.alternate,i,jo);i.memoizedProps=i.pendingProps,l===null?ah(i):Lo=l,oh.current=null}function ah(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=Hi(u,l,jo),u!==null){Lo=u;return}}else{if(u=Cn(u,l),u!==null){u.flags&=32767,Lo=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Mo=6,Lo=null;return}}if(l=l.sibling,l!==null){Lo=l;return}Lo=l=i}while(l!==null);Mo===0&&(Mo=5)}function Ki(i,l,u){var p=At,$=mo.transition;try{mo.transition=null,At=1,je(i,l,u,p)}finally{mo.transition=$,At=p}return null}function je(i,l,u,p){do wn();while(Ls!==null);if((Mt&6)!==0)throw Error(n(327));u=i.finishedWork;var $=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var T=u.lanes|u.childLanes;if(_g(i,T),i===zo&&(Lo=zo=null,Zo=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Vl||(Vl=!0,Tr(Ic,function(){return wn(),null})),T=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||T){T=mo.transition,mo.transition=null;var k=At;At=1;var z=Mt;Mt|=4,oh.current=null,ws(i,u),Kp(u,i),vp(Yc),Ta=!!Na,Yc=Na=null,i.current=u,Jg(u),pg(),Mt=z,At=k,mo.transition=T}else i.current=u;if(Vl&&(Vl=!1,Ls=i,Do=$),T=i.pendingLanes,T===0&&(io=null),rp(u.stateNode),Yo(i,Eo()),l!==null)for(p=i.onRecoverableError,u=0;u<l.length;u++)$=l[u],p($.value,{componentStack:$.stack,digest:$.digest});if(tc)throw tc=!1,i=oc,oc=null,i;return(Do&1)!==0&&i.tag!==0&&wn(),T=i.pendingLanes,(T&1)!==0?i===Su?Ns++:(Ns=0,Su=i):Ns=0,Ve(),null}function wn(){if(Ls!==null){var i=Yr(Do),l=mo.transition,u=At;try{if(mo.transition=null,At=16>i?16:i,Ls===null)var p=!1;else{if(i=Ls,Ls=null,Do=0,(Mt&6)!==0)throw Error(n(331));var $=Mt;for(Mt|=4,V=i.current;V!==null;){var T=V,k=T.child;if((V.flags&16)!==0){var z=T.deletions;if(z!==null){for(var Z=0;Z<z.length;Z++){var Te=z[Z];for(V=Te;V!==null;){var Oe=V;switch(Oe.tag){case 0:case 11:case 15:Za(8,Oe,T)}var Le=Oe.child;if(Le!==null)Le.return=Oe,V=Le;else for(;V!==null;){Oe=V;var xe=Oe.sibling,ze=Oe.return;if(Os(Oe),Oe===Te){V=null;break}if(xe!==null){xe.return=ze,V=xe;break}V=ze}}}var qe=T.alternate;if(qe!==null){var Ze=qe.child;if(Ze!==null){qe.child=null;do{var uo=Ze.sibling;Ze.sibling=null,Ze=uo}while(Ze!==null)}}V=T}}if((T.subtreeFlags&2064)!==0&&k!==null)k.return=T,V=k;else e:for(;V!==null;){if(T=V,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Za(9,T,T.return)}var ue=T.sibling;if(ue!==null){ue.return=T.return,V=ue;break e}V=T.return}}var ne=i.current;for(V=ne;V!==null;){k=V;var he=k.child;if((k.subtreeFlags&2064)!==0&&he!==null)he.return=k,V=he;else e:for(k=ne;V!==null;){if(z=V,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:bu(9,z)}}catch(nt){So(z,z.return,nt)}if(z===k){V=null;break e}var Fe=z.sibling;if(Fe!==null){Fe.return=z.return,V=Fe;break e}V=z.return}}if(Mt=$,Ve(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Cc,i)}catch{}p=!0}return p}finally{At=u,mo.transition=l}}return!1}function nc(i,l,u){l=Xa(u,l),l=mu(i,l,1),i=xi(i,l,1),l=pr(),i!==null&&(cs(i,1,l),Yo(i,l))}function So(i,l,u){if(i.tag===3)nc(i,i,u);else for(;l!==null;){if(l.tag===3){nc(l,i,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(io===null||!io.has(p))){i=Xa(u,i),i=Rs(l,i,1),l=xi(l,i,1),i=pr(),l!==null&&(cs(l,1,i),Yo(l,i));break}}l=l.return}}function Zp(i,l,u){var p=i.pingCache;p!==null&&p.delete(l),l=pr(),i.pingedLanes|=i.suspendedLanes&u,zo===i&&(Zo&u)===u&&(Mo===4||Mo===3&&(Zo&130023424)===Zo&&500>Eo()-Xo?zl(i,0):vu|=u),Yo(i,l)}function ch(i,l){l===0&&((i.mode&1)===0?l=1:(l=kc,kc<<=1,(kc&130023424)===0&&(kc=4194304)));var u=pr();i=$n(i,l),i!==null&&(cs(i,l,u),Yo(i,u))}function Xl(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),ch(i,u)}function k$(i,l){var u=0;switch(i.tag){case 13:var p=i.stateNode,$=i.memoizedState;$!==null&&(u=$.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),ch(i,u)}var Qg;Qg=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||ur.current)lr=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return lr=!1,zp(i,l,u);lr=(i.flags&131072)!==0}else lr=!1,go&&(l.flags&1048576)!==0&&Op(l,bl,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Ja(i,l),i=l.pendingProps;var $=ms(l,nr.current);ys(l,u),$=Vd(null,l,p,i,$,u);var T=Wd();return l.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ir(p)?(T=!0,eu(l)):T=!1,l.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,wd(l),$.updater=Va,l.stateNode=$,$._reactInternals=l,vl(l,p,i,u),l=Ka(null,l,p,!0,T,u)):(l.tag=0,go&&T&&ou(l),qo(null,l,$,u),l=l.child),l;case 16:p=l.elementType;e:{switch(Ja(i,l),i=l.pendingProps,$=p._init,p=$(p._payload),l.type=p,$=l.tag=ef(p),i=Br(p,i),$){case 0:l=Qd(null,l,p,i,u);break e;case 1:l=Zd(null,l,p,i,u);break e;case 11:l=qd(null,l,p,i,u);break e;case 14:l=Up(null,l,p,Br(p.type,i),u);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Br(p,$),Qd(i,l,p,$,u);case 1:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Br(p,$),Zd(i,l,p,$,u);case 3:e:{if(Bl(l),i===null)throw Error(n(387));p=l.pendingProps,T=l.memoizedState,$=T.element,El(i,l),Ga(l,p,null,u);var k=l.memoizedState;if(p=k.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){$=Xa(Error(n(423)),l),l=Vp(i,l,p,u,$);break e}else if(p!==$){$=Xa(Error(n(424)),l),l=Vp(i,l,p,u,$);break e}else for(Ir=Qn(l.stateNode.containerInfo.firstChild),dr=l,go=!0,gr=null,u=Pd(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ts(),p===$){l=In(i,l,u);break e}qo(i,l,p,u)}l=l.child}return l;case 5:return Np(l),i===null&&_s(l),p=l.type,$=l.pendingProps,T=i!==null?i.memoizedProps:null,k=$.children,Ma(p,$)?k=null:T!==null&&Ma(p,T)&&(l.flags|=32),Xg(i,l),qo(i,l,k,u),l.child;case 6:return i===null&&_s(l),null;case 13:return Yg(i,l,u);case 4:return Bd(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=vs(l,null,p,u):qo(i,l,p,u),l.child;case 11:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Br(p,$),qd(i,l,p,$,u);case 7:return qo(i,l,l.pendingProps,u),l.child;case 8:return qo(i,l,l.pendingProps.children,u),l.child;case 12:return qo(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(p=l.type._context,$=l.pendingProps,T=l.memoizedProps,k=$.value,ro(bs,p._currentValue),p._currentValue=k,T!==null)if(Lr(T.value,k)){if(T.children===$.children&&!ur.current){l=In(i,l,u);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var z=T.dependencies;if(z!==null){k=T.child;for(var Z=z.firstContext;Z!==null;){if(Z.context===p){if(T.tag===1){Z=_n(-1,u&-u),Z.tag=2;var Te=T.updateQueue;if(Te!==null){Te=Te.shared;var Oe=Te.pending;Oe===null?Z.next=Z:(Z.next=Oe.next,Oe.next=Z),Te.pending=Z}}T.lanes|=u,Z=T.alternate,Z!==null&&(Z.lanes|=u),lu(T.return,u,l),z.lanes|=u;break}Z=Z.next}}else if(T.tag===10)k=T.type===l.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(n(341));k.lanes|=u,z=k.alternate,z!==null&&(z.lanes|=u),lu(k,u,l),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===l){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}qo(i,l,$.children,u),l=l.child}return l;case 9:return $=l.type,p=l.pendingProps.children,ys(l,u),$=Cr($),p=p($),l.flags|=1,qo(i,l,p,u),l.child;case 14:return p=l.type,$=Br(p,l.pendingProps),$=Br(p.type,$),Up(i,l,p,$,u);case 15:return Hp(i,l,l.type,l.pendingProps,u);case 17:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Br(p,$),Ja(i,l),l.tag=1,ir(p)?(i=!0,eu(l)):i=!1,ys(l,u),Nd(l,p,$),vl(l,p,$,u),Ka(null,l,p,!0,i,u);case 19:return Ao(i,l,u);case 22:return Gp(i,l,u)}throw Error(n(156,l.tag))};function Tr(i,l){return Ec(i,l)}function so(i,l,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(i,l,u,p){return new so(i,l,u,p)}function Iu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ef(i){if(typeof i=="function")return Iu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$e)return 11;if(i===Y)return 14}return 2}function Ur(i,l){var u=i.alternate;return u===null?(u=fr(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Yl(i,l,u,p,$,T){var k=2;if(p=i,typeof i=="function")Iu(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case Q:return Ji(u.children,$,T,l);case re:k=8,$|=8;break;case ae:return i=fr(12,u,l,$|2),i.elementType=ae,i.lanes=T,i;case fe:return i=fr(13,u,l,$),i.elementType=fe,i.lanes=T,i;case Ee:return i=fr(19,u,l,$),i.elementType=Ee,i.lanes=T,i;case ve:return qi(u,$,T,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:k=10;break e;case oe:k=9;break e;case $e:k=11;break e;case Y:k=14;break e;case le:k=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=fr(k,u,l,$),l.elementType=i,l.type=p,l.lanes=T,l}function Ji(i,l,u,p){return i=fr(7,i,p,l),i.lanes=u,i}function qi(i,l,u,p){return i=fr(22,i,p,l),i.elementType=ve,i.lanes=u,i.stateNode={isHidden:!1},i}function Ps(i,l,u){return i=fr(6,i,null,l),i.lanes=u,i}function tn(i,l,u){return l=fr(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function li(i,l,u,p,$){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=p,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function ic(i,l,u,p,$,T,k,z,Z){return i=new li(i,l,u,z,Z),l===1?(l=1,T===!0&&(l|=8)):l=0,T=fr(3,null,null,l),i.current=T,T.stateNode=i,T.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(T),i}function Zg(i,l,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:i,containerInfo:l,implementation:u}}function Cu(i){if(!i)return ki;i=i._reactInternals;e:{if(zn(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ir(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(ir(u))return wp(i,u,l)}return l}function On(i,l,u,p,$,T,k,z,Z){return i=ic(u,p,!0,i,$,T,k,z,Z),i.context=Cu(null),u=i.current,p=pr(),$=Rn(u),T=_n(p,$),T.callback=l??null,xi(u,T,$),i.current.lanes=$,cs(i,$,p),Yo(i,p),i}function St(i,l,u,p){var $=l.current,T=pr(),k=Rn($);return u=Cu(u),l.context===null?l.context=u:l.pendingContext=u,l=_n(T,k),l.payload={element:i},p=p===void 0?null:p,p!==null&&(l.callback=p),i=xi($,l,k),i!==null&&(vo(i,$,k,T),yl(i,$,k)),k}function Kl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ku(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function uh(i,l){ku(i,l),(i=i.alternate)&&ku(i,l)}function em(){return null}var dh=typeof reportError=="function"?reportError:function(i){console.error(i)};function sc(i){this._internalRoot=i}lc.prototype.render=sc.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));St(i,l,null,null)},lc.prototype.unmount=sc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ds(function(){St(null,i,null,null)}),l[vr]=null}};function lc(i){this._internalRoot=i}lc.prototype.unstable_scheduleHydration=function(i){if(i){var l=Ku();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Xn.length&&l!==0&&l<Xn[u].priority;u++);Xn.splice(u,0,i),u===0&&yi(i)}};function Qi(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zi(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Jl(){}function Pt(i,l,u,p,$){if($){if(typeof p=="function"){var T=p;p=function(){var Te=Kl(k);T.call(Te)}}var k=On(l,p,i,0,null,!1,!1,"",Jl);return i._reactRootContainer=k,i[vr]=k.current,xa(i.nodeType===8?i.parentNode:i),Ds(),k}for(;$=i.lastChild;)i.removeChild($);if(typeof p=="function"){var z=p;p=function(){var Te=Kl(Z);z.call(Te)}}var Z=ic(i,0,!1,null,null,!1,!1,"",Jl);return i._reactRootContainer=Z,i[vr]=Z.current,xa(i.nodeType===8?i.parentNode:i),Ds(function(){St(l,Z,u,p)}),Z}function es(i,l,u,p,$){var T=u._reactRootContainer;if(T){var k=T;if(typeof $=="function"){var z=$;$=function(){var Z=Kl(k);z.call(Z)}}St(l,k,i,$)}else k=Pt(u,l,i,$,p);return Kl(k)}ip=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=sl(l.pendingLanes);u!==0&&(Rc(l,u|1),Yo(l,Eo()),(Mt&6)===0&&(_r=Eo()+500,Ve()))}break;case 13:Ds(function(){var p=$n(i,1);if(p!==null){var $=pr();vo(p,i,1,$)}}),uh(i,1)}},wc=function(i){if(i.tag===13){var l=$n(i,134217728);if(l!==null){var u=pr();vo(l,i,134217728,u)}uh(i,134217728)}},Oc=function(i){if(i.tag===13){var l=Rn(i),u=$n(i,l);if(u!==null){var p=pr();vo(u,i,l,p)}uh(i,l)}},Ku=function(){return At},sp=function(i,l){var u=At;try{return At=i,l()}finally{At=u}},jr=function(i,l,u){switch(l){case"input":if(Et(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==i&&p.form===i.form){var $=qc(p);if(!$)throw Error(n(90));Ce(p),Et(p,$)}}}break;case"textarea":Be(i,u);break;case"select":l=u.value,l!=null&&Tt(i,!!u.multiple,l,!1)}},Ti=nh,ct=Ds;var ql={usingClientEntryPoint:!1,Events:[Ba,_l,qc,Gn,Vn,nh]},Ql={findFiberByHostInstance:gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Bs={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ju(i),i===null?null:i.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Cc=Ru.inject(Bs),Ar=Ru}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ql,rn.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qi(l))throw Error(n(200));return Zg(i,l,null,u)},rn.createRoot=function(i,l){if(!Qi(i))throw Error(n(299));var u=!1,p="",$=dh;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),l=ic(i,1,!1,null,null,u,!1,p,$),i[vr]=l.current,xa(i.nodeType===8?i.parentNode:i),new sc(l)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ju(l),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return Ds(i)},rn.hydrate=function(i,l,u){if(!Zi(l))throw Error(n(200));return es(null,i,l,!0,u)},rn.hydrateRoot=function(i,l,u){if(!Qi(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,$=!1,T="",k=dh;if(u!=null&&(u.unstable_strictMode===!0&&($=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),l=On(l,null,i,1,u??null,$,!1,T,k),i[vr]=l.current,xa(i),p)for(i=0;i<p.length;i++)u=p[i],$=u._getVersion,$=$(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,$]:l.mutableSourceEagerHydrationData.push(u,$);return new lc(l)},rn.render=function(i,l,u){if(!Zi(l))throw Error(n(200));return es(null,i,l,!1,u)},rn.unmountComponentAtNode=function(i){if(!Zi(i))throw Error(n(40));return i._reactRootContainer?(Ds(function(){es(null,null,i,!1,function(){i._reactRootContainer=null,i[vr]=null})}),!0):!1},rn.unstable_batchedUpdates=nh,rn.unstable_renderSubtreeIntoContainer=function(i,l,u,p){if(!Zi(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return es(i,l,u,!1,p)},rn.version="18.2.0-next-9e3b772b8-20220608",rn}var bE;function iv(){if(bE)return E_.exports;bE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),E_.exports=MI(),E_.exports}var EE;function DI(){if(EE)return _m;EE=1;var r=iv();return _m.createRoot=r.createRoot,_m.hydrateRoot=r.hydrateRoot,_m}var PI=DI();const BI=aT(PI);function la(r,...s){const n=new URL(`https://mui.com/production-error/?code=${r}`);return s.forEach(c=>n.searchParams.append("args[]",c)),`Minified MUI error #${r}; visit ${n} for the full message.`}const Qs="$$material";function Ym(){return Ym=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var c in n)({}).hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Ym.apply(null,arguments)}function FI(r){if(r.sheet)return r.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===r)return document.styleSheets[s]}function UI(r){var s=document.createElement("style");return s.setAttribute("data-emotion",r.key),r.nonce!==void 0&&s.setAttribute("nonce",r.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var HI=function(){function r(n){var c=this;this._insertTag=function(h){var f;c.tags.length===0?c.insertionPoint?f=c.insertionPoint.nextSibling:c.prepend?f=c.container.firstChild:f=c.before:f=c.tags[c.tags.length-1].nextSibling,c.container.insertBefore(h,f),c.tags.push(h)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var s=r.prototype;return s.hydrate=function(c){c.forEach(this._insertTag)},s.insert=function(c){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(UI(this));var h=this.tags[this.tags.length-1];if(this.isSpeedy){var f=FI(h);try{f.insertRule(c,f.cssRules.length)}catch{}}else h.appendChild(document.createTextNode(c));this.ctr++},s.flush=function(){this.tags.forEach(function(c){var h;return(h=c.parentNode)==null?void 0:h.removeChild(c)}),this.tags=[],this.ctr=0},r}(),wr="-ms-",Km="-moz-",Kt="-webkit-",sv="comm",uT="rule",dT="decl",GI="@import",lv="@keyframes",VI="@layer",WI=Math.abs,s$=String.fromCharCode,zI=Object.assign;function jI(r,s){return br(r,0)^45?(((s<<2^br(r,0))<<2^br(r,1))<<2^br(r,2))<<2^br(r,3):0}function av(r){return r.trim()}function XI(r,s){return(r=s.exec(r))?r[0]:r}function Jt(r,s,n){return r.replace(s,n)}function G_(r,s){return r.indexOf(s)}function br(r,s){return r.charCodeAt(s)|0}function Gf(r,s,n){return r.slice(s,n)}function Ks(r){return r.length}function hT(r){return r.length}function Tm(r,s){return s.push(r),r}function YI(r,s){return r.map(s).join("")}var l$=1,Fh=1,cv=0,cn=0,or=0,Xh="";function a$(r,s,n,c,h,f,g){return{value:r,root:s,parent:n,type:c,props:h,children:f,line:l$,column:Fh,length:g,return:""}}function Ef(r,s){return zI(a$("",null,null,"",null,null,0),r,{length:-r.length},s)}function KI(){return or}function JI(){return or=cn>0?br(Xh,--cn):0,Fh--,or===10&&(Fh=1,l$--),or}function Bn(){return or=cn<cv?br(Xh,cn++):0,Fh++,or===10&&(Fh=1,l$++),or}function Zs(){return br(Xh,cn)}function xm(){return cn}function qf(r,s){return Gf(Xh,r,s)}function Vf(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uv(r){return l$=Fh=1,cv=Ks(Xh=r),cn=0,[]}function dv(r){return Xh="",r}function Lm(r){return av(qf(cn-1,V_(r===91?r+2:r===40?r+1:r)))}function qI(r){for(;(or=Zs())&&or<33;)Bn();return Vf(r)>2||Vf(or)>3?"":" "}function QI(r,s){for(;--s&&Bn()&&!(or<48||or>102||or>57&&or<65||or>70&&or<97););return qf(r,xm()+(s<6&&Zs()==32&&Bn()==32))}function V_(r){for(;Bn();)switch(or){case r:return cn;case 34:case 39:r!==34&&r!==39&&V_(or);break;case 40:r===41&&V_(r);break;case 92:Bn();break}return cn}function ZI(r,s){for(;Bn()&&r+or!==57;)if(r+or===84&&Zs()===47)break;return"/*"+qf(s,cn-1)+"*"+s$(r===47?r:Bn())}function eC(r){for(;!Vf(Zs());)Bn();return qf(r,cn)}function tC(r){return dv(Nm("",null,null,null,[""],r=uv(r),0,[0],r))}function Nm(r,s,n,c,h,f,g,_,y){for(var v=0,I=0,R=g,N=0,M=0,x=0,A=1,B=1,W=1,X=0,H="",P=h,F=f,J=c,Q=H;B;)switch(x=X,X=Bn()){case 40:if(x!=108&&br(Q,R-1)==58){G_(Q+=Jt(Lm(X),"&","&\f"),"&\f")!=-1&&(W=-1);break}case 34:case 39:case 91:Q+=Lm(X);break;case 9:case 10:case 13:case 32:Q+=qI(x);break;case 92:Q+=QI(xm()-1,7);continue;case 47:switch(Zs()){case 42:case 47:Tm(oC(ZI(Bn(),xm()),s,n),y);break;default:Q+="/"}break;case 123*A:_[v++]=Ks(Q)*W;case 125*A:case 59:case 0:switch(X){case 0:case 125:B=0;case 59+I:W==-1&&(Q=Jt(Q,/\f/g,"")),M>0&&Ks(Q)-R&&Tm(M>32?vE(Q+";",c,n,R-1):vE(Jt(Q," ","")+";",c,n,R-2),y);break;case 59:Q+=";";default:if(Tm(J=yE(Q,s,n,v,I,h,_,H,P=[],F=[],R),f),X===123)if(I===0)Nm(Q,s,J,J,P,f,R,_,F);else switch(N===99&&br(Q,3)===110?100:N){case 100:case 108:case 109:case 115:Nm(r,J,J,c&&Tm(yE(r,J,J,0,0,h,_,H,h,P=[],R),F),h,F,R,_,c?P:F);break;default:Nm(Q,J,J,J,[""],F,0,_,F)}}v=I=M=0,A=W=1,H=Q="",R=g;break;case 58:R=1+Ks(Q),M=x;default:if(A<1){if(X==123)--A;else if(X==125&&A++==0&&JI()==125)continue}switch(Q+=s$(X),X*A){case 38:W=I>0?1:(Q+="\f",-1);break;case 44:_[v++]=(Ks(Q)-1)*W,W=1;break;case 64:Zs()===45&&(Q+=Lm(Bn())),N=Zs(),I=R=Ks(H=Q+=eC(xm())),X++;break;case 45:x===45&&Ks(Q)==2&&(A=0)}}return f}function yE(r,s,n,c,h,f,g,_,y,v,I){for(var R=h-1,N=h===0?f:[""],M=hT(N),x=0,A=0,B=0;x<c;++x)for(var W=0,X=Gf(r,R+1,R=WI(A=g[x])),H=r;W<M;++W)(H=av(A>0?N[W]+" "+X:Jt(X,/&\f/g,N[W])))&&(y[B++]=H);return a$(r,s,n,h===0?uT:_,y,v,I)}function oC(r,s,n){return a$(r,s,n,sv,s$(KI()),Gf(r,2,-2),0)}function vE(r,s,n,c){return a$(r,s,n,dT,Gf(r,0,c),Gf(r,c+1,-1),c)}function Dh(r,s){for(var n="",c=hT(r),h=0;h<c;h++)n+=s(r[h],h,r,s)||"";return n}function rC(r,s,n,c){switch(r.type){case VI:if(r.children.length)break;case GI:case dT:return r.return=r.return||r.value;case sv:return"";case lv:return r.return=r.value+"{"+Dh(r.children,c)+"}";case uT:r.value=r.props.join(",")}return Ks(n=Dh(r.children,c))?r.return=r.value+"{"+n+"}":""}function nC(r){var s=hT(r);return function(n,c,h,f){for(var g="",_=0;_<s;_++)g+=r[_](n,c,h,f)||"";return g}}function iC(r){return function(s){s.root||(s=s.return)&&r(s)}}function hv(r){var s=Object.create(null);return function(n){return s[n]===void 0&&(s[n]=r(n)),s[n]}}var sC=function(s,n,c){for(var h=0,f=0;h=f,f=Zs(),h===38&&f===12&&(n[c]=1),!Vf(f);)Bn();return qf(s,cn)},lC=function(s,n){var c=-1,h=44;do switch(Vf(h)){case 0:h===38&&Zs()===12&&(n[c]=1),s[c]+=sC(cn-1,n,c);break;case 2:s[c]+=Lm(h);break;case 4:if(h===44){s[++c]=Zs()===58?"&\f":"",n[c]=s[c].length;break}default:s[c]+=s$(h)}while(h=Bn());return s},aC=function(s,n){return dv(lC(uv(s),n))},SE=new WeakMap,cC=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var n=s.value,c=s.parent,h=s.column===c.column&&s.line===c.line;c.type!=="rule";)if(c=c.parent,!c)return;if(!(s.props.length===1&&n.charCodeAt(0)!==58&&!SE.get(c))&&!h){SE.set(s,!0);for(var f=[],g=aC(n,f),_=c.props,y=0,v=0;y<g.length;y++)for(var I=0;I<_.length;I++,v++)s.props[v]=f[y]?g[y].replace(/&\f/g,_[I]):_[I]+" "+g[y]}}},uC=function(s){if(s.type==="decl"){var n=s.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(s.return="",s.value="")}};function pv(r,s){switch(jI(r,s)){case 5103:return Kt+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+r+Km+r+wr+r+r;case 6828:case 4268:return Kt+r+wr+r+r;case 6165:return Kt+r+wr+"flex-"+r+r;case 5187:return Kt+r+Jt(r,/(\w+).+(:[^]+)/,Kt+"box-$1$2"+wr+"flex-$1$2")+r;case 5443:return Kt+r+wr+"flex-item-"+Jt(r,/flex-|-self/,"")+r;case 4675:return Kt+r+wr+"flex-line-pack"+Jt(r,/align-content|flex-|-self/,"")+r;case 5548:return Kt+r+wr+Jt(r,"shrink","negative")+r;case 5292:return Kt+r+wr+Jt(r,"basis","preferred-size")+r;case 6060:return Kt+"box-"+Jt(r,"-grow","")+Kt+r+wr+Jt(r,"grow","positive")+r;case 4554:return Kt+Jt(r,/([^-])(transform)/g,"$1"+Kt+"$2")+r;case 6187:return Jt(Jt(Jt(r,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),r,"")+r;case 5495:case 3959:return Jt(r,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return Jt(Jt(r,/(.+:)(flex-)?(.*)/,Kt+"box-pack:$3"+wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+r+r;case 4095:case 3583:case 4068:case 2532:return Jt(r,/(.+)-inline(.+)/,Kt+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ks(r)-1-s>6)switch(br(r,s+1)){case 109:if(br(r,s+4)!==45)break;case 102:return Jt(r,/(.+:)(.+)-([^]+)/,"$1"+Kt+"$2-$3$1"+Km+(br(r,s+3)==108?"$3":"$2-$3"))+r;case 115:return~G_(r,"stretch")?pv(Jt(r,"stretch","fill-available"),s)+r:r}break;case 4949:if(br(r,s+1)!==115)break;case 6444:switch(br(r,Ks(r)-3-(~G_(r,"!important")&&10))){case 107:return Jt(r,":",":"+Kt)+r;case 101:return Jt(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kt+(br(r,14)===45?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+wr+"$2box$3")+r}break;case 5936:switch(br(r,s+11)){case 114:return Kt+r+wr+Jt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Kt+r+wr+Jt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Kt+r+wr+Jt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Kt+r+wr+r+r}return r}var dC=function(s,n,c,h){if(s.length>-1&&!s.return)switch(s.type){case dT:s.return=pv(s.value,s.length);break;case lv:return Dh([Ef(s,{value:Jt(s.value,"@","@"+Kt)})],h);case uT:if(s.length)return YI(s.props,function(f){switch(XI(f,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dh([Ef(s,{props:[Jt(f,/:(read-\w+)/,":"+Km+"$1")]})],h);case"::placeholder":return Dh([Ef(s,{props:[Jt(f,/:(plac\w+)/,":"+Kt+"input-$1")]}),Ef(s,{props:[Jt(f,/:(plac\w+)/,":"+Km+"$1")]}),Ef(s,{props:[Jt(f,/:(plac\w+)/,wr+"input-$1")]})],h)}return""})}},hC=[dC],pC=function(s){var n=s.key;if(n==="css"){var c=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(c,function(A){var B=A.getAttribute("data-emotion");B.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var h=s.stylisPlugins||hC,f={},g,_=[];g=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(A){for(var B=A.getAttribute("data-emotion").split(" "),W=1;W<B.length;W++)f[B[W]]=!0;_.push(A)});var y,v=[cC,uC];{var I,R=[rC,iC(function(A){I.insert(A)})],N=nC(v.concat(h,R)),M=function(B){return Dh(tC(B),N)};y=function(B,W,X,H){I=X,M(B?B+"{"+W.styles+"}":W.styles),H&&(x.inserted[W.name]=!0)}}var x={key:n,sheet:new HI({key:n,container:g,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:f,registered:{},insert:y};return x.sheet.hydrate(_),x},S_={exports:{}},eo={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function fC(){if(IE)return eo;IE=1;var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,c=r?Symbol.for("react.fragment"):60107,h=r?Symbol.for("react.strict_mode"):60108,f=r?Symbol.for("react.profiler"):60114,g=r?Symbol.for("react.provider"):60109,_=r?Symbol.for("react.context"):60110,y=r?Symbol.for("react.async_mode"):60111,v=r?Symbol.for("react.concurrent_mode"):60111,I=r?Symbol.for("react.forward_ref"):60112,R=r?Symbol.for("react.suspense"):60113,N=r?Symbol.for("react.suspense_list"):60120,M=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,A=r?Symbol.for("react.block"):60121,B=r?Symbol.for("react.fundamental"):60117,W=r?Symbol.for("react.responder"):60118,X=r?Symbol.for("react.scope"):60119;function H(F){if(typeof F=="object"&&F!==null){var J=F.$$typeof;switch(J){case s:switch(F=F.type,F){case y:case v:case c:case f:case h:case R:return F;default:switch(F=F&&F.$$typeof,F){case _:case I:case x:case M:case g:return F;default:return J}}case n:return J}}}function P(F){return H(F)===v}return eo.AsyncMode=y,eo.ConcurrentMode=v,eo.ContextConsumer=_,eo.ContextProvider=g,eo.Element=s,eo.ForwardRef=I,eo.Fragment=c,eo.Lazy=x,eo.Memo=M,eo.Portal=n,eo.Profiler=f,eo.StrictMode=h,eo.Suspense=R,eo.isAsyncMode=function(F){return P(F)||H(F)===y},eo.isConcurrentMode=P,eo.isContextConsumer=function(F){return H(F)===_},eo.isContextProvider=function(F){return H(F)===g},eo.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===s},eo.isForwardRef=function(F){return H(F)===I},eo.isFragment=function(F){return H(F)===c},eo.isLazy=function(F){return H(F)===x},eo.isMemo=function(F){return H(F)===M},eo.isPortal=function(F){return H(F)===n},eo.isProfiler=function(F){return H(F)===f},eo.isStrictMode=function(F){return H(F)===h},eo.isSuspense=function(F){return H(F)===R},eo.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===c||F===v||F===f||F===h||F===R||F===N||typeof F=="object"&&F!==null&&(F.$$typeof===x||F.$$typeof===M||F.$$typeof===g||F.$$typeof===_||F.$$typeof===I||F.$$typeof===B||F.$$typeof===W||F.$$typeof===X||F.$$typeof===A)},eo.typeOf=H,eo}var CE;function gC(){return CE||(CE=1,S_.exports=fC()),S_.exports}var I_,kE;function mC(){if(kE)return I_;kE=1;var r=gC(),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},h={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f={};f[r.ForwardRef]=c,f[r.Memo]=h;function g(x){return r.isMemo(x)?h:f[x.$$typeof]||s}var _=Object.defineProperty,y=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,I=Object.getOwnPropertyDescriptor,R=Object.getPrototypeOf,N=Object.prototype;function M(x,A,B){if(typeof A!="string"){if(N){var W=R(A);W&&W!==N&&M(x,W,B)}var X=y(A);v&&(X=X.concat(v(A)));for(var H=g(x),P=g(A),F=0;F<X.length;++F){var J=X[F];if(!n[J]&&!(B&&B[J])&&!(P&&P[J])&&!(H&&H[J])){var Q=I(A,J);try{_(x,J,Q)}catch{}}}}return x}return I_=M,I_}mC();var $C=!0;function fv(r,s,n){var c="";return n.split(" ").forEach(function(h){r[h]!==void 0?s.push(r[h]+";"):h&&(c+=h+" ")}),c}var pT=function(s,n,c){var h=s.key+"-"+n.name;(c===!1||$C===!1)&&s.registered[h]===void 0&&(s.registered[h]=n.styles)},fT=function(s,n,c){pT(s,n,c);var h=s.key+"-"+n.name;if(s.inserted[n.name]===void 0){var f=n;do s.insert(n===f?"."+h:"",f,s.sheet,!0),f=f.next;while(f!==void 0)}};function _C(r){for(var s=0,n,c=0,h=r.length;h>=4;++c,h-=4)n=r.charCodeAt(c)&255|(r.charCodeAt(++c)&255)<<8|(r.charCodeAt(++c)&255)<<16|(r.charCodeAt(++c)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,s=(n&65535)*1540483477+((n>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(h){case 3:s^=(r.charCodeAt(c+2)&255)<<16;case 2:s^=(r.charCodeAt(c+1)&255)<<8;case 1:s^=r.charCodeAt(c)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var TC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bC=/[A-Z]|^ms/g,EC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gv=function(s){return s.charCodeAt(1)===45},RE=function(s){return s!=null&&typeof s!="boolean"},C_=hv(function(r){return gv(r)?r:r.replace(bC,"-$&").toLowerCase()}),wE=function(s,n){switch(s){case"animation":case"animationName":if(typeof n=="string")return n.replace(EC,function(c,h,f){return Js={name:h,styles:f,next:Js},h})}return TC[s]!==1&&!gv(s)&&typeof n=="number"&&n!==0?n+"px":n};function Wf(r,s,n){if(n==null)return"";var c=n;if(c.__emotion_styles!==void 0)return c;switch(typeof n){case"boolean":return"";case"object":{var h=n;if(h.anim===1)return Js={name:h.name,styles:h.styles,next:Js},h.name;var f=n;if(f.styles!==void 0){var g=f.next;if(g!==void 0)for(;g!==void 0;)Js={name:g.name,styles:g.styles,next:Js},g=g.next;var _=f.styles+";";return _}return yC(r,s,n)}case"function":{if(r!==void 0){var y=Js,v=n(r);return Js=y,Wf(r,s,v)}break}}var I=n;if(s==null)return I;var R=s[I];return R!==void 0?R:I}function yC(r,s,n){var c="";if(Array.isArray(n))for(var h=0;h<n.length;h++)c+=Wf(r,s,n[h])+";";else for(var f in n){var g=n[f];if(typeof g!="object"){var _=g;s!=null&&s[_]!==void 0?c+=f+"{"+s[_]+"}":RE(_)&&(c+=C_(f)+":"+wE(f,_)+";")}else if(Array.isArray(g)&&typeof g[0]=="string"&&(s==null||s[g[0]]===void 0))for(var y=0;y<g.length;y++)RE(g[y])&&(c+=C_(f)+":"+wE(f,g[y])+";");else{var v=Wf(r,s,g);switch(f){case"animation":case"animationName":{c+=C_(f)+":"+v+";";break}default:c+=f+"{"+v+"}"}}}return c}var OE=/label:\s*([^\s;{]+)\s*(;|$)/g,Js;function Qf(r,s,n){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var c=!0,h="";Js=void 0;var f=r[0];if(f==null||f.raw===void 0)c=!1,h+=Wf(n,s,f);else{var g=f;h+=g[0]}for(var _=1;_<r.length;_++)if(h+=Wf(n,s,r[_]),c){var y=f;h+=y[_]}OE.lastIndex=0;for(var v="",I;(I=OE.exec(h))!==null;)v+="-"+I[1];var R=_C(h)+v;return{name:R,styles:h,next:Js}}var vC=function(s){return s()},mv=H_.useInsertionEffect?H_.useInsertionEffect:!1,$v=mv||vC,AE=mv||w.useLayoutEffect,_v=w.createContext(typeof HTMLElement<"u"?pC({key:"css"}):null);_v.Provider;var gT=function(s){return w.forwardRef(function(n,c){var h=w.useContext(_v);return s(n,h,c)})},Zf=w.createContext({}),mT={}.hasOwnProperty,W_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",SC=function(s,n){var c={};for(var h in n)mT.call(n,h)&&(c[h]=n[h]);return c[W_]=s,c},IC=function(s){var n=s.cache,c=s.serialized,h=s.isStringTag;return pT(n,c,h),$v(function(){return fT(n,c,h)}),null},CC=gT(function(r,s,n){var c=r.css;typeof c=="string"&&s.registered[c]!==void 0&&(c=s.registered[c]);var h=r[W_],f=[c],g="";typeof r.className=="string"?g=fv(s.registered,f,r.className):r.className!=null&&(g=r.className+" ");var _=Qf(f,void 0,w.useContext(Zf));g+=s.key+"-"+_.name;var y={};for(var v in r)mT.call(r,v)&&v!=="css"&&v!==W_&&(y[v]=r[v]);return y.className=g,n&&(y.ref=n),w.createElement(w.Fragment,null,w.createElement(IC,{cache:s,serialized:_,isStringTag:typeof h=="string"}),w.createElement(h,y))}),kC=CC,xE=function(s,n){var c=arguments;if(n==null||!mT.call(n,"css"))return w.createElement.apply(void 0,c);var h=c.length,f=new Array(h);f[0]=kC,f[1]=SC(s,n);for(var g=2;g<h;g++)f[g]=c[g];return w.createElement.apply(null,f)};(function(r){var s;s||(s=r.JSX||(r.JSX={}))})(xE||(xE={}));var RC=gT(function(r,s){var n=r.styles,c=Qf([n],void 0,w.useContext(Zf)),h=w.useRef();return AE(function(){var f=s.key+"-global",g=new s.sheet.constructor({key:f,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),_=!1,y=document.querySelector('style[data-emotion="'+f+" "+c.name+'"]');return s.sheet.tags.length&&(g.before=s.sheet.tags[0]),y!==null&&(_=!0,y.setAttribute("data-emotion",f),g.hydrate([y])),h.current=[g,_],function(){g.flush()}},[s]),AE(function(){var f=h.current,g=f[0],_=f[1];if(_){f[1]=!1;return}if(c.next!==void 0&&fT(s,c.next,!0),g.tags.length){var y=g.tags[g.tags.length-1].nextElementSibling;g.before=y,g.flush()}s.insert("",c,g,!1)},[s,c.name]),null});function $T(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return Qf(s)}function eg(){var r=$T.apply(void 0,arguments),s="animation-"+r.name;return{name:s,styles:"@keyframes "+s+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var wC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OC=hv(function(r){return wC.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),AC=OC,xC=function(s){return s!=="theme"},LE=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?AC:xC},NE=function(s,n,c){var h;if(n){var f=n.shouldForwardProp;h=s.__emotion_forwardProp&&f?function(g){return s.__emotion_forwardProp(g)&&f(g)}:f}return typeof h!="function"&&c&&(h=s.__emotion_forwardProp),h},LC=function(s){var n=s.cache,c=s.serialized,h=s.isStringTag;return pT(n,c,h),$v(function(){return fT(n,c,h)}),null},NC=function r(s,n){var c=s.__emotion_real===s,h=c&&s.__emotion_base||s,f,g;n!==void 0&&(f=n.label,g=n.target);var _=NE(s,n,c),y=_||LE(h),v=!y("as");return function(){var I=arguments,R=c&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(f!==void 0&&R.push("label:"+f+";"),I[0]==null||I[0].raw===void 0)R.push.apply(R,I);else{var N=I[0];R.push(N[0]);for(var M=I.length,x=1;x<M;x++)R.push(I[x],N[x])}var A=gT(function(B,W,X){var H=v&&B.as||h,P="",F=[],J=B;if(B.theme==null){J={};for(var Q in B)J[Q]=B[Q];J.theme=w.useContext(Zf)}typeof B.className=="string"?P=fv(W.registered,F,B.className):B.className!=null&&(P=B.className+" ");var re=Qf(R.concat(F),W.registered,J);P+=W.key+"-"+re.name,g!==void 0&&(P+=" "+g);var ae=v&&_===void 0?LE(H):y,S={};for(var oe in B)v&&oe==="as"||ae(oe)&&(S[oe]=B[oe]);return S.className=P,X&&(S.ref=X),w.createElement(w.Fragment,null,w.createElement(LC,{cache:W,serialized:re,isStringTag:typeof H=="string"}),w.createElement(H,S))});return A.displayName=f!==void 0?f:"Styled("+(typeof h=="string"?h:h.displayName||h.name||"Component")+")",A.defaultProps=s.defaultProps,A.__emotion_real=A,A.__emotion_base=h,A.__emotion_styles=R,A.__emotion_forwardProp=_,Object.defineProperty(A,"toString",{value:function(){return"."+g}}),A.withComponent=function(B,W){var X=r(B,Ym({},n,W,{shouldForwardProp:NE(A,W,!0)}));return X.apply(void 0,R)},A}},MC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],z_=NC.bind(null);MC.forEach(function(r){z_[r]=z_(r)});function DC(r){return r==null||Object.keys(r).length===0}function Tv(r){const{styles:s,defaultTheme:n={}}=r,c=typeof s=="function"?h=>s(DC(h)?n:h):s;return D.jsx(RC,{styles:c})}function bv(r,s){return z_(r,s)}function PC(r,s){Array.isArray(r.__emotion_styles)&&(r.__emotion_styles=s(r.__emotion_styles))}const ME=[];function DE(r){return ME[0]=r,Qf(ME)}var k_={exports:{}},fo={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function BC(){if(PE)return fo;PE=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.view_transition"),M=Symbol.for("react.client.reference");function x(A){if(typeof A=="object"&&A!==null){var B=A.$$typeof;switch(B){case r:switch(A=A.type,A){case n:case h:case c:case y:case v:case N:return A;default:switch(A=A&&A.$$typeof,A){case g:case _:case R:case I:return A;case f:return A;default:return B}}case s:return B}}}return fo.ContextConsumer=f,fo.ContextProvider=g,fo.Element=r,fo.ForwardRef=_,fo.Fragment=n,fo.Lazy=R,fo.Memo=I,fo.Portal=s,fo.Profiler=h,fo.StrictMode=c,fo.Suspense=y,fo.SuspenseList=v,fo.isContextConsumer=function(A){return x(A)===f},fo.isContextProvider=function(A){return x(A)===g},fo.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===r},fo.isForwardRef=function(A){return x(A)===_},fo.isFragment=function(A){return x(A)===n},fo.isLazy=function(A){return x(A)===R},fo.isMemo=function(A){return x(A)===I},fo.isPortal=function(A){return x(A)===s},fo.isProfiler=function(A){return x(A)===h},fo.isStrictMode=function(A){return x(A)===c},fo.isSuspense=function(A){return x(A)===y},fo.isSuspenseList=function(A){return x(A)===v},fo.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===h||A===c||A===y||A===v||typeof A=="object"&&A!==null&&(A.$$typeof===R||A.$$typeof===I||A.$$typeof===g||A.$$typeof===f||A.$$typeof===_||A.$$typeof===M||A.getModuleId!==void 0)},fo.typeOf=x,fo}var BE;function FC(){return BE||(BE=1,k_.exports=BC()),k_.exports}var Ev=FC();function qs(r){if(typeof r!="object"||r===null)return!1;const s=Object.getPrototypeOf(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function yv(r){if(w.isValidElement(r)||Ev.isValidElementType(r)||!qs(r))return r;const s={};return Object.keys(r).forEach(n=>{s[n]=yv(r[n])}),s}function Or(r,s,n={clone:!0}){const c=n.clone?{...r}:r;return qs(r)&&qs(s)&&Object.keys(s).forEach(h=>{w.isValidElement(s[h])||Ev.isValidElementType(s[h])?c[h]=s[h]:qs(s[h])&&Object.prototype.hasOwnProperty.call(r,h)&&qs(r[h])?c[h]=Or(r[h],s[h],n):n.clone?c[h]=qs(s[h])?yv(s[h]):s[h]:c[h]=s[h]}),c}const UC=r=>{const s=Object.keys(r).map(n=>({key:n,val:r[n]}))||[];return s.sort((n,c)=>n.val-c.val),s.reduce((n,c)=>({...n,[c.key]:c.val}),{})};function HC(r){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:c=5,...h}=r,f=UC(s),g=Object.keys(f);function _(N){return`@media (min-width:${typeof s[N]=="number"?s[N]:N}${n})`}function y(N){return`@media (max-width:${(typeof s[N]=="number"?s[N]:N)-c/100}${n})`}function v(N,M){const x=g.indexOf(M);return`@media (min-width:${typeof s[N]=="number"?s[N]:N}${n}) and (max-width:${(x!==-1&&typeof s[g[x]]=="number"?s[g[x]]:M)-c/100}${n})`}function I(N){return g.indexOf(N)+1<g.length?v(N,g[g.indexOf(N)+1]):_(N)}function R(N){const M=g.indexOf(N);return M===0?_(g[1]):M===g.length-1?y(g[M]):v(N,g[g.indexOf(N)+1]).replace("@media","@media not all and")}return{keys:g,values:f,up:_,down:y,between:v,only:I,not:R,unit:n,...h}}function GC(r,s){if(!r.containerQueries)return s;const n=Object.keys(s).filter(c=>c.startsWith("@container")).sort((c,h)=>{var g,_;const f=/min-width:\s*([0-9.]+)/;return+(((g=c.match(f))==null?void 0:g[1])||0)-+(((_=h.match(f))==null?void 0:_[1])||0)});return n.length?n.reduce((c,h)=>{const f=s[h];return delete c[h],c[h]=f,c},{...s}):s}function VC(r,s){return s==="@"||s.startsWith("@")&&(r.some(n=>s.startsWith(`@${n}`))||!!s.match(/^@\d/))}function WC(r,s){const n=s.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,c,h]=n,f=Number.isNaN(+c)?c||0:+c;return r.containerQueries(h).up(f)}function zC(r){const s=(f,g)=>f.replace("@media",g?`@container ${g}`:"@container");function n(f,g){f.up=(..._)=>s(r.breakpoints.up(..._),g),f.down=(..._)=>s(r.breakpoints.down(..._),g),f.between=(..._)=>s(r.breakpoints.between(..._),g),f.only=(..._)=>s(r.breakpoints.only(..._),g),f.not=(..._)=>{const y=s(r.breakpoints.not(..._),g);return y.includes("not all and")?y.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):y}}const c={},h=f=>(n(c,f),c);return n(h),{...r,containerQueries:h}}const jC={borderRadius:4};function Lf(r,s){return s?Or(r,s,{clone:!1}):r}const c$={xs:0,sm:600,md:900,lg:1200,xl:1536},FE={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${c$[r]}px)`},XC={containerQueries:r=>({up:s=>{let n=typeof s=="number"?s:c$[s]||s;return typeof n=="number"&&(n=`${n}px`),r?`@container ${r} (min-width:${n})`:`@container (min-width:${n})`}})};function aa(r,s,n){const c=r.theme||{};if(Array.isArray(s)){const f=c.breakpoints||FE;return s.reduce((g,_,y)=>(g[f.up(f.keys[y])]=n(s[y]),g),{})}if(typeof s=="object"){const f=c.breakpoints||FE;return Object.keys(s).reduce((g,_)=>{if(VC(f.keys,_)){const y=WC(c.containerQueries?c:XC,_);y&&(g[y]=n(s[_],_))}else if(Object.keys(f.values||c$).includes(_)){const y=f.up(_);g[y]=n(s[_],_)}else{const y=_;g[y]=s[y]}return g},{})}return n(s)}function YC(r={}){var n;return((n=r.keys)==null?void 0:n.reduce((c,h)=>{const f=r.up(h);return c[f]={},c},{}))||{}}function KC(r,s){return r.reduce((n,c)=>{const h=n[c];return(!h||Object.keys(h).length===0)&&delete n[c],n},s)}function Ke(r){if(typeof r!="string")throw new Error(la(7));return r.charAt(0).toUpperCase()+r.slice(1)}function pc(r,s,n=!0){if(!s||typeof s!="string")return null;if(r&&r.vars&&n){const c=`vars.${s}`.split(".").reduce((h,f)=>h&&h[f]?h[f]:null,r);if(c!=null)return c}return s.split(".").reduce((c,h)=>c&&c[h]!=null?c[h]:null,r)}function Jm(r,s,n,c=n){let h;return typeof r=="function"?h=r(n):Array.isArray(r)?h=r[n]||c:h=pc(r,n)||c,s&&(h=s(h,c,r)),h}function Ko(r){const{prop:s,cssProperty:n=r.prop,themeKey:c,transform:h}=r,f=g=>{if(g[s]==null)return null;const _=g[s],y=g.theme,v=pc(y,c)||{};return aa(g,_,R=>{let N=Jm(v,h,R);return R===N&&typeof R=="string"&&(N=Jm(v,h,`${s}${R==="default"?"":Ke(R)}`,R)),n===!1?N:{[n]:N}})};return f.propTypes={},f.filterProps=[s],f}function JC(r){const s={};return n=>(s[n]===void 0&&(s[n]=r(n)),s[n])}const qC={m:"margin",p:"padding"},QC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ZC=JC(r=>{if(r.length>2)if(UE[r])r=UE[r];else return[r];const[s,n]=r.split(""),c=qC[s],h=QC[n]||"";return Array.isArray(h)?h.map(f=>c+f):[c+h]}),_T=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._T,...TT];function tg(r,s,n,c){const h=pc(r,s,!0)??n;return typeof h=="number"||typeof h=="string"?f=>typeof f=="string"?f:typeof h=="string"?h.startsWith("var(")&&f===0?0:h.startsWith("var(")&&f===1?h:`calc(${f} * ${h})`:h*f:Array.isArray(h)?f=>{if(typeof f=="string")return f;const g=Math.abs(f),_=h[g];return f>=0?_:typeof _=="number"?-_:typeof _=="string"&&_.startsWith("var(")?`calc(-1 * ${_})`:`-${_}`}:typeof h=="function"?h:()=>{}}function bT(r){return tg(r,"spacing",8)}function og(r,s){return typeof s=="string"||s==null?s:r(s)}function ek(r,s){return n=>r.reduce((c,h)=>(c[h]=og(s,n),c),{})}function tk(r,s,n,c){if(!s.includes(n))return null;const h=ZC(n),f=ek(h,c),g=r[n];return aa(r,g,f)}function vv(r,s){const n=bT(r.theme);return Object.keys(r).map(c=>tk(r,s,c,n)).reduce(Lf,{})}function Bo(r){return vv(r,_T)}Bo.propTypes={};Bo.filterProps=_T;function Fo(r){return vv(r,TT)}Fo.propTypes={};Fo.filterProps=TT;function Sv(r=8,s=bT({spacing:r})){if(r.mui)return r;const n=(...c)=>(c.length===0?[1]:c).map(f=>{const g=s(f);return typeof g=="number"?`${g}px`:g}).join(" ");return n.mui=!0,n}function u$(...r){const s=r.reduce((c,h)=>(h.filterProps.forEach(f=>{c[f]=h}),c),{}),n=c=>Object.keys(c).reduce((h,f)=>s[f]?Lf(h,s[f](c)):h,{});return n.propTypes={},n.filterProps=r.reduce((c,h)=>c.concat(h.filterProps),[]),n}function hi(r){return typeof r!="number"?r:`${r}px solid`}function $i(r,s){return Ko({prop:r,themeKey:"borders",transform:s})}const ok=$i("border",hi),rk=$i("borderTop",hi),nk=$i("borderRight",hi),ik=$i("borderBottom",hi),sk=$i("borderLeft",hi),lk=$i("borderColor"),ak=$i("borderTopColor"),ck=$i("borderRightColor"),uk=$i("borderBottomColor"),dk=$i("borderLeftColor"),hk=$i("outline",hi),pk=$i("outlineColor"),d$=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const s=tg(r.theme,"shape.borderRadius",4),n=c=>({borderRadius:og(s,c)});return aa(r,r.borderRadius,n)}return null};d$.propTypes={};d$.filterProps=["borderRadius"];u$(ok,rk,nk,ik,sk,lk,ak,ck,uk,dk,d$,hk,pk);const h$=r=>{if(r.gap!==void 0&&r.gap!==null){const s=tg(r.theme,"spacing",8),n=c=>({gap:og(s,c)});return aa(r,r.gap,n)}return null};h$.propTypes={};h$.filterProps=["gap"];const p$=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const s=tg(r.theme,"spacing",8),n=c=>({columnGap:og(s,c)});return aa(r,r.columnGap,n)}return null};p$.propTypes={};p$.filterProps=["columnGap"];const f$=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const s=tg(r.theme,"spacing",8),n=c=>({rowGap:og(s,c)});return aa(r,r.rowGap,n)}return null};f$.propTypes={};f$.filterProps=["rowGap"];const fk=Ko({prop:"gridColumn"}),gk=Ko({prop:"gridRow"}),mk=Ko({prop:"gridAutoFlow"}),$k=Ko({prop:"gridAutoColumns"}),_k=Ko({prop:"gridAutoRows"}),Tk=Ko({prop:"gridTemplateColumns"}),bk=Ko({prop:"gridTemplateRows"}),Ek=Ko({prop:"gridTemplateAreas"}),yk=Ko({prop:"gridArea"});u$(h$,p$,f$,fk,gk,mk,$k,_k,Tk,bk,Ek,yk);function Ph(r,s){return s==="grey"?s:r}const vk=Ko({prop:"color",themeKey:"palette",transform:Ph}),Sk=Ko({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ph}),Ik=Ko({prop:"backgroundColor",themeKey:"palette",transform:Ph});u$(vk,Sk,Ik);function Pn(r){return r<=1&&r!==0?`${r*100}%`:r}const Ck=Ko({prop:"width",transform:Pn}),ET=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const s=n=>{var h,f,g,_,y;const c=((g=(f=(h=r.theme)==null?void 0:h.breakpoints)==null?void 0:f.values)==null?void 0:g[n])||c$[n];return c?((y=(_=r.theme)==null?void 0:_.breakpoints)==null?void 0:y.unit)!=="px"?{maxWidth:`${c}${r.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:Pn(n)}};return aa(r,r.maxWidth,s)}return null};ET.filterProps=["maxWidth"];const kk=Ko({prop:"minWidth",transform:Pn}),Rk=Ko({prop:"height",transform:Pn}),wk=Ko({prop:"maxHeight",transform:Pn}),Ok=Ko({prop:"minHeight",transform:Pn});Ko({prop:"size",cssProperty:"width",transform:Pn});Ko({prop:"size",cssProperty:"height",transform:Pn});const Ak=Ko({prop:"boxSizing"});u$(Ck,ET,kk,Rk,wk,Ok,Ak);const rg={border:{themeKey:"borders",transform:hi},borderTop:{themeKey:"borders",transform:hi},borderRight:{themeKey:"borders",transform:hi},borderBottom:{themeKey:"borders",transform:hi},borderLeft:{themeKey:"borders",transform:hi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:d$},color:{themeKey:"palette",transform:Ph},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ph},backgroundColor:{themeKey:"palette",transform:Ph},p:{style:Fo},pt:{style:Fo},pr:{style:Fo},pb:{style:Fo},pl:{style:Fo},px:{style:Fo},py:{style:Fo},padding:{style:Fo},paddingTop:{style:Fo},paddingRight:{style:Fo},paddingBottom:{style:Fo},paddingLeft:{style:Fo},paddingX:{style:Fo},paddingY:{style:Fo},paddingInline:{style:Fo},paddingInlineStart:{style:Fo},paddingInlineEnd:{style:Fo},paddingBlock:{style:Fo},paddingBlockStart:{style:Fo},paddingBlockEnd:{style:Fo},m:{style:Bo},mt:{style:Bo},mr:{style:Bo},mb:{style:Bo},ml:{style:Bo},mx:{style:Bo},my:{style:Bo},margin:{style:Bo},marginTop:{style:Bo},marginRight:{style:Bo},marginBottom:{style:Bo},marginLeft:{style:Bo},marginX:{style:Bo},marginY:{style:Bo},marginInline:{style:Bo},marginInlineStart:{style:Bo},marginInlineEnd:{style:Bo},marginBlock:{style:Bo},marginBlockStart:{style:Bo},marginBlockEnd:{style:Bo},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:h$},rowGap:{style:f$},columnGap:{style:p$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pn},maxWidth:{style:ET},minWidth:{transform:Pn},height:{transform:Pn},maxHeight:{transform:Pn},minHeight:{transform:Pn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xk(...r){const s=r.reduce((c,h)=>c.concat(Object.keys(h)),[]),n=new Set(s);return r.every(c=>n.size===Object.keys(c).length)}function Lk(r,s){return typeof r=="function"?r(s):r}function Nk(){function r(n,c,h,f){const g={[n]:c,theme:h},_=f[n];if(!_)return{[n]:c};const{cssProperty:y=n,themeKey:v,transform:I,style:R}=_;if(c==null)return null;if(v==="typography"&&c==="inherit")return{[n]:c};const N=pc(h,v)||{};return R?R(g):aa(g,c,x=>{let A=Jm(N,I,x);return x===A&&typeof x=="string"&&(A=Jm(N,I,`${n}${x==="default"?"":Ke(x)}`,x)),y===!1?A:{[y]:A}})}function s(n){const{sx:c,theme:h={}}=n||{};if(!c)return null;const f=h.unstable_sxConfig??rg;function g(_){let y=_;if(typeof _=="function")y=_(h);else if(typeof _!="object")return _;if(!y)return null;const v=YC(h.breakpoints),I=Object.keys(v);let R=v;return Object.keys(y).forEach(N=>{const M=Lk(y[N],h);if(M!=null)if(typeof M=="object")if(f[N])R=Lf(R,r(N,M,h,f));else{const x=aa({theme:h},M,A=>({[N]:A}));xk(x,M)?R[N]=s({sx:M,theme:h}):R=Lf(R,x)}else R=Lf(R,r(N,M,h,f))}),GC(h,KC(I,R))}return Array.isArray(c)?c.map(g):g(c)}return s}const gc=Nk();gc.filterProps=["sx"];function Mk(r,s){var c;const n=this;if(n.vars){if(!((c=n.colorSchemes)!=null&&c[r])||typeof n.getColorSchemeSelector!="function")return{};let h=n.getColorSchemeSelector(r);return h==="&"?s:((h.includes("data-")||h.includes("."))&&(h=`*:where(${h.replace(/\s*&$/,"")}) &`),{[h]:s})}return n.palette.mode===r?s:{}}function ng(r={},...s){const{breakpoints:n={},palette:c={},spacing:h,shape:f={},...g}=r,_=HC(n),y=Sv(h);let v=Or({breakpoints:_,direction:"ltr",components:{},palette:{mode:"light",...c},spacing:y,shape:{...jC,...f}},g);return v=zC(v),v.applyStyles=Mk,v=s.reduce((I,R)=>Or(I,R),v),v.unstable_sxConfig={...rg,...g==null?void 0:g.unstable_sxConfig},v.unstable_sx=function(R){return gc({sx:R,theme:this})},v}function Dk(r){return Object.keys(r).length===0}function Iv(r=null){const s=w.useContext(Zf);return!s||Dk(s)?r:s}const Pk=ng();function ig(r=Pk){return Iv(r)}function Bk({styles:r,themeId:s,defaultTheme:n={}}){const c=ig(n),h=typeof r=="function"?r(s&&c[s]||c):r;return D.jsx(Tv,{styles:h})}const Fk=r=>{var c;const s={systemProps:{},otherProps:{}},n=((c=r==null?void 0:r.theme)==null?void 0:c.unstable_sxConfig)??rg;return Object.keys(r).forEach(h=>{n[h]?s.systemProps[h]=r[h]:s.otherProps[h]=r[h]}),s};function yT(r){const{sx:s,...n}=r,{systemProps:c,otherProps:h}=Fk(n);let f;return Array.isArray(s)?f=[c,...s]:typeof s=="function"?f=(...g)=>{const _=s(...g);return qs(_)?{...c,..._}:c}:f={...c,...s},{...h,sx:f}}const HE=r=>r,Uk=()=>{let r=HE;return{configure(s){r=s},generate(s){return r(s)},reset(){r=HE}}},Cv=Uk();function kv(r){var s,n,c="";if(typeof r=="string"||typeof r=="number")c+=r;else if(typeof r=="object")if(Array.isArray(r)){var h=r.length;for(s=0;s<h;s++)r[s]&&(n=kv(r[s]))&&(c&&(c+=" "),c+=n)}else for(n in r)r[n]&&(c&&(c+=" "),c+=n);return c}function lt(){for(var r,s,n=0,c="",h=arguments.length;n<h;n++)(r=arguments[n])&&(s=kv(r))&&(c&&(c+=" "),c+=s);return c}function Hk(r={}){const{themeId:s,defaultTheme:n,defaultClassName:c="MuiBox-root",generateClassName:h}=r,f=bv("div",{shouldForwardProp:_=>_!=="theme"&&_!=="sx"&&_!=="as"})(gc);return w.forwardRef(function(y,v){const I=ig(n),{className:R,component:N="div",...M}=yT(y);return D.jsx(f,{as:N,ref:v,className:lt(R,h?h(c):c),theme:s&&I[s]||I,...M})})}const Gk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ct(r,s,n="Mui"){const c=Gk[s];return c?`${n}-${c}`:`${Cv.generate(r)}-${s}`}function kt(r,s,n="Mui"){const c={};return s.forEach(h=>{c[h]=Ct(r,h,n)}),c}function Rv(r){const{variants:s,...n}=r,c={variants:s,style:DE(n),isProcessed:!0};return c.style===n||s&&s.forEach(h=>{typeof h.style!="function"&&(h.style=DE(h.style))}),c}const Vk=ng();function R_(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}function Wk(r){return r?(s,n)=>n[r]:null}function zk(r,s,n){r.theme=Xk(r.theme)?n:r.theme[s]||r.theme}function Mm(r,s){const n=typeof s=="function"?s(r):s;if(Array.isArray(n))return n.flatMap(c=>Mm(r,c));if(Array.isArray(n==null?void 0:n.variants)){let c;if(n.isProcessed)c=n.style;else{const{variants:h,...f}=n;c=f}return wv(r,n.variants,[c])}return n!=null&&n.isProcessed?n.style:n}function wv(r,s,n=[]){var h;let c;e:for(let f=0;f<s.length;f+=1){const g=s[f];if(typeof g.props=="function"){if(c??(c={...r,...r.ownerState,ownerState:r.ownerState}),!g.props(c))continue}else for(const _ in g.props)if(r[_]!==g.props[_]&&((h=r.ownerState)==null?void 0:h[_])!==g.props[_])continue e;typeof g.style=="function"?(c??(c={...r,...r.ownerState,ownerState:r.ownerState}),n.push(g.style(c))):n.push(g.style)}return n}function Ov(r={}){const{themeId:s,defaultTheme:n=Vk,rootShouldForwardProp:c=R_,slotShouldForwardProp:h=R_}=r;function f(_){zk(_,s,n)}return(_,y={})=>{PC(_,F=>F.filter(J=>J!==gc));const{name:v,slot:I,skipVariantsResolver:R,skipSx:N,overridesResolver:M=Wk(Kk(I)),...x}=y,A=R!==void 0?R:I&&I!=="Root"&&I!=="root"||!1,B=N||!1;let W=R_;I==="Root"||I==="root"?W=c:I?W=h:Yk(_)&&(W=void 0);const X=bv(_,{shouldForwardProp:W,label:jk(),...x}),H=F=>{if(F.__emotion_real===F)return F;if(typeof F=="function")return function(Q){return Mm(Q,F)};if(qs(F)){const J=Rv(F);return J.variants?function(re){return Mm(re,J)}:J.style}return F},P=(...F)=>{const J=[],Q=F.map(H),re=[];if(J.push(f),v&&M&&re.push(function($e){var le,ve;const Ee=(ve=(le=$e.theme.components)==null?void 0:le[v])==null?void 0:ve.styleOverrides;if(!Ee)return null;const Y={};for(const me in Ee)Y[me]=Mm($e,Ee[me]);return M($e,Y)}),v&&!A&&re.push(function($e){var Y,le;const fe=$e.theme,Ee=(le=(Y=fe==null?void 0:fe.components)==null?void 0:Y[v])==null?void 0:le.variants;return Ee?wv($e,Ee):null}),B||re.push(gc),Array.isArray(Q[0])){const oe=Q.shift(),$e=new Array(J.length).fill(""),fe=new Array(re.length).fill("");let Ee;Ee=[...$e,...oe,...fe],Ee.raw=[...$e,...oe.raw,...fe],J.unshift(Ee)}const ae=[...J,...Q,...re],S=X(...ae);return _.muiName&&(S.muiName=_.muiName),S};return X.withConfig&&(P.withConfig=X.withConfig),P}}function jk(r,s){return void 0}function Xk(r){for(const s in r)return!1;return!0}function Yk(r){return typeof r=="string"&&r.charCodeAt(0)>96}function Kk(r){return r&&r.charAt(0).toLowerCase()+r.slice(1)}const Av=Ov();function qm(r,s){const n={...s};for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const h=c;if(h==="components"||h==="slots")n[h]={...r[h],...n[h]};else if(h==="componentsProps"||h==="slotProps"){const f=r[h],g=s[h];if(!g)n[h]=f||{};else if(!f)n[h]=g;else{n[h]={...g};for(const _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){const y=_;n[h][y]=qm(f[y],g[y])}}}else n[h]===void 0&&(n[h]=r[h])}return n}function Jk(r){const{theme:s,name:n,props:c}=r;return!s||!s.components||!s.components[n]||!s.components[n].defaultProps?c:qm(s.components[n].defaultProps,c)}function xv({props:r,name:s,defaultTheme:n,themeId:c}){let h=ig(n);return c&&(h=h[c]||h),Jk({theme:h,name:s,props:r})}const fi=typeof window<"u"?w.useLayoutEffect:w.useEffect;function qk(r,s=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(r,n))}function vT(r,s=0,n=1){return qk(r,s,n)}function Qk(r){r=r.slice(1);const s=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let n=r.match(s);return n&&n[0].length===1&&(n=n.map(c=>c+c)),n?`rgb${n.length===4?"a":""}(${n.map((c,h)=>h<3?parseInt(c,16):Math.round(parseInt(c,16)/255*1e3)/1e3).join(", ")})`:""}function mc(r){if(r.type)return r;if(r.charAt(0)==="#")return mc(Qk(r));const s=r.indexOf("("),n=r.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(la(9,r));let c=r.substring(s+1,r.length-1),h;if(n==="color"){if(c=c.split(" "),h=c.shift(),c.length===4&&c[3].charAt(0)==="/"&&(c[3]=c[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(h))throw new Error(la(10,h))}else c=c.split(",");return c=c.map(f=>parseFloat(f)),{type:n,values:c,colorSpace:h}}const Zk=r=>{const s=mc(r);return s.values.slice(0,3).map((n,c)=>s.type.includes("hsl")&&c!==0?`${n}%`:n).join(" ")},wf=(r,s)=>{try{return Zk(r)}catch{return r}};function g$(r){const{type:s,colorSpace:n}=r;let{values:c}=r;return s.includes("rgb")?c=c.map((h,f)=>f<3?parseInt(h,10):h):s.includes("hsl")&&(c[1]=`${c[1]}%`,c[2]=`${c[2]}%`),s.includes("color")?c=`${n} ${c.join(" ")}`:c=`${c.join(", ")}`,`${s}(${c})`}function Lv(r){r=mc(r);const{values:s}=r,n=s[0],c=s[1]/100,h=s[2]/100,f=c*Math.min(h,1-h),g=(v,I=(v+n/30)%12)=>h-f*Math.max(Math.min(I-3,9-I,1),-1);let _="rgb";const y=[Math.round(g(0)*255),Math.round(g(8)*255),Math.round(g(4)*255)];return r.type==="hsla"&&(_+="a",y.push(s[3])),g$({type:_,values:y})}function j_(r){r=mc(r);let s=r.type==="hsl"||r.type==="hsla"?mc(Lv(r)).values:r.values;return s=s.map(n=>(r.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function eR(r,s){const n=j_(r),c=j_(s);return(Math.max(n,c)+.05)/(Math.min(n,c)+.05)}function to(r,s){return r=mc(r),s=vT(s),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${s}`:r.values[3]=s,g$(r)}function bm(r,s,n){try{return to(r,s)}catch{return r}}function ST(r,s){if(r=mc(r),s=vT(s),r.type.includes("hsl"))r.values[2]*=1-s;else if(r.type.includes("rgb")||r.type.includes("color"))for(let n=0;n<3;n+=1)r.values[n]*=1-s;return g$(r)}function _o(r,s,n){try{return ST(r,s)}catch{return r}}function IT(r,s){if(r=mc(r),s=vT(s),r.type.includes("hsl"))r.values[2]+=(100-r.values[2])*s;else if(r.type.includes("rgb"))for(let n=0;n<3;n+=1)r.values[n]+=(255-r.values[n])*s;else if(r.type.includes("color"))for(let n=0;n<3;n+=1)r.values[n]+=(1-r.values[n])*s;return g$(r)}function To(r,s,n){try{return IT(r,s)}catch{return r}}function tR(r,s=.15){return j_(r)>.5?ST(r,s):IT(r,s)}function Em(r,s,n){try{return tR(r,s)}catch{return r}}const Nv=w.createContext(null);function CT(){return w.useContext(Nv)}const oR=typeof Symbol=="function"&&Symbol.for,rR=oR?Symbol.for("mui.nested"):"__THEME_NESTED__";function nR(r,s){return typeof s=="function"?s(r):{...r,...s}}function iR(r){const{children:s,theme:n}=r,c=CT(),h=w.useMemo(()=>{const f=c===null?{...n}:nR(c,n);return f!=null&&(f[rR]=c!==null),f},[n,c]);return D.jsx(Nv.Provider,{value:h,children:s})}const Mv=w.createContext();function sR({value:r,...s}){return D.jsx(Mv.Provider,{value:r??!0,...s})}const kT=()=>w.useContext(Mv)??!1,Dv=w.createContext(void 0);function lR({value:r,children:s}){return D.jsx(Dv.Provider,{value:r,children:s})}function aR(r){const{theme:s,name:n,props:c}=r;if(!s||!s.components||!s.components[n])return c;const h=s.components[n];return h.defaultProps?qm(h.defaultProps,c):!h.styleOverrides&&!h.variants?qm(h,c):c}function cR({props:r,name:s}){const n=w.useContext(Dv);return aR({props:r,name:s,theme:{components:n}})}const GE={};function VE(r,s,n,c=!1){return w.useMemo(()=>{const h=r&&s[r]||s;if(typeof n=="function"){const f=n(h),g=r?{...s,[r]:f}:f;return c?()=>g:g}return r?{...s,[r]:n}:{...s,...n}},[r,s,n,c])}function Pv(r){const{children:s,theme:n,themeId:c}=r,h=Iv(GE),f=CT()||GE,g=VE(c,h,n),_=VE(c,f,n,!0),y=(c?g[c]:g).direction==="rtl";return D.jsx(iR,{theme:_,children:D.jsx(Zf.Provider,{value:g,children:D.jsx(sR,{value:y,children:D.jsx(lR,{value:c?g[c].components:g.components,children:s})})})})}const WE={theme:void 0};function uR(r){let s,n;return function(h){let f=s;return(f===void 0||h.theme!==n)&&(WE.theme=h.theme,f=Rv(r(WE)),s=f,n=h.theme),f}}const RT="mode",wT="color-scheme",dR="data-color-scheme";function hR(r){const{defaultMode:s="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:c="dark",modeStorageKey:h=RT,colorSchemeStorageKey:f=wT,attribute:g=dR,colorSchemeNode:_="document.documentElement",nonce:y}=r||{};let v="",I=g;if(g==="class"&&(I=".%s"),g==="data"&&(I="[data-%s]"),I.startsWith(".")){const N=I.substring(1);v+=`${_}.classList.remove('${N}'.replace('%s', light), '${N}'.replace('%s', dark));
      ${_}.classList.add('${N}'.replace('%s', colorScheme));`}const R=I.match(/\[([^\]]+)\]/);if(R){const[N,M]=R[1].split("=");M||(v+=`${_}.removeAttribute('${N}'.replace('%s', light));
      ${_}.removeAttribute('${N}'.replace('%s', dark));`),v+=`
      ${_}.setAttribute('${N}'.replace('%s', colorScheme), ${M?`${M}.replace('%s', colorScheme)`:'""'});`}else v+=`${_}.setAttribute('${I}', colorScheme);`;return D.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?y:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${h}') || '${s}';
  const dark = localStorage.getItem('${f}-dark') || '${c}';
  const light = localStorage.getItem('${f}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function pR(){}const fR=({key:r,storageWindow:s})=>(!s&&typeof window<"u"&&(s=window),{get(n){if(typeof window>"u")return;if(!s)return n;let c;try{c=s.localStorage.getItem(r)}catch{}return c||n},set:n=>{if(s)try{s.localStorage.setItem(r,n)}catch{}},subscribe:n=>{if(!s)return pR;const c=h=>{const f=h.newValue;h.key===r&&n(f)};return s.addEventListener("storage",c),()=>{s.removeEventListener("storage",c)}}});function w_(){}function zE(r){if(typeof window<"u"&&typeof window.matchMedia=="function"&&r==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Bv(r,s){if(r.mode==="light"||r.mode==="system"&&r.systemMode==="light")return s("light");if(r.mode==="dark"||r.mode==="system"&&r.systemMode==="dark")return s("dark")}function gR(r){return Bv(r,s=>{if(s==="light")return r.lightColorScheme;if(s==="dark")return r.darkColorScheme})}function mR(r){const{defaultMode:s="light",defaultLightColorScheme:n,defaultDarkColorScheme:c,supportedColorSchemes:h=[],modeStorageKey:f=RT,colorSchemeStorageKey:g=wT,storageWindow:_=typeof window>"u"?void 0:window,storageManager:y=fR,noSsr:v=!1}=r,I=h.join(","),R=h.length>1,N=w.useMemo(()=>y==null?void 0:y({key:f,storageWindow:_}),[y,f,_]),M=w.useMemo(()=>y==null?void 0:y({key:`${g}-light`,storageWindow:_}),[y,g,_]),x=w.useMemo(()=>y==null?void 0:y({key:`${g}-dark`,storageWindow:_}),[y,g,_]),[A,B]=w.useState(()=>{const re=(N==null?void 0:N.get(s))||s,ae=(M==null?void 0:M.get(n))||n,S=(x==null?void 0:x.get(c))||c;return{mode:re,systemMode:zE(re),lightColorScheme:ae,darkColorScheme:S}}),[W,X]=w.useState(v||!R);w.useEffect(()=>{X(!0)},[]);const H=gR(A),P=w.useCallback(re=>{B(ae=>{if(re===ae.mode)return ae;const S=re??s;return N==null||N.set(S),{...ae,mode:S,systemMode:zE(S)}})},[N,s]),F=w.useCallback(re=>{re?typeof re=="string"?re&&!I.includes(re)?console.error(`\`${re}\` does not exist in \`theme.colorSchemes\`.`):B(ae=>{const S={...ae};return Bv(ae,oe=>{oe==="light"&&(M==null||M.set(re),S.lightColorScheme=re),oe==="dark"&&(x==null||x.set(re),S.darkColorScheme=re)}),S}):B(ae=>{const S={...ae},oe=re.light===null?n:re.light,$e=re.dark===null?c:re.dark;return oe&&(I.includes(oe)?(S.lightColorScheme=oe,M==null||M.set(oe)):console.error(`\`${oe}\` does not exist in \`theme.colorSchemes\`.`)),$e&&(I.includes($e)?(S.darkColorScheme=$e,x==null||x.set($e)):console.error(`\`${$e}\` does not exist in \`theme.colorSchemes\`.`)),S}):B(ae=>(M==null||M.set(n),x==null||x.set(c),{...ae,lightColorScheme:n,darkColorScheme:c}))},[I,M,x,n,c]),J=w.useCallback(re=>{A.mode==="system"&&B(ae=>{const S=re!=null&&re.matches?"dark":"light";return ae.systemMode===S?ae:{...ae,systemMode:S}})},[A.mode]),Q=w.useRef(J);return Q.current=J,w.useEffect(()=>{if(typeof window.matchMedia!="function"||!R)return;const re=(...S)=>Q.current(...S),ae=window.matchMedia("(prefers-color-scheme: dark)");return ae.addListener(re),re(ae),()=>{ae.removeListener(re)}},[R]),w.useEffect(()=>{if(R){const re=(N==null?void 0:N.subscribe(oe=>{(!oe||["light","dark","system"].includes(oe))&&P(oe||s)}))||w_,ae=(M==null?void 0:M.subscribe(oe=>{(!oe||I.match(oe))&&F({light:oe})}))||w_,S=(x==null?void 0:x.subscribe(oe=>{(!oe||I.match(oe))&&F({dark:oe})}))||w_;return()=>{re(),ae(),S()}}},[F,P,I,s,_,R,N,M,x]),{...A,mode:W?A.mode:void 0,systemMode:W?A.systemMode:void 0,colorScheme:W?H:void 0,setMode:P,setColorScheme:F}}const $R="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _R(r){const{themeId:s,theme:n={},modeStorageKey:c=RT,colorSchemeStorageKey:h=wT,disableTransitionOnChange:f=!1,defaultColorScheme:g,resolveTheme:_}=r,y={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=w.createContext(void 0),I=()=>w.useContext(v)||y,R={},N={};function M(W){var ht,lo,at,jt;const{children:X,theme:H,modeStorageKey:P=c,colorSchemeStorageKey:F=h,disableTransitionOnChange:J=f,storageManager:Q,storageWindow:re=typeof window>"u"?void 0:window,documentNode:ae=typeof document>"u"?void 0:document,colorSchemeNode:S=typeof document>"u"?void 0:document.documentElement,disableNestedContext:oe=!1,disableStyleSheetGeneration:$e=!1,defaultMode:fe="system",forceThemeRerender:Ee=!1,noSsr:Y}=W,le=w.useRef(!1),ve=CT(),me=w.useContext(v),de=!!me&&!oe,U=w.useMemo(()=>H||(typeof n=="function"?n():n),[H]),ie=U[s],be=ie||U,{colorSchemes:Ae=R,components:ge=N,cssVarPrefix:Ue}=be,Ie=Object.keys(Ae).filter(j=>!!Ae[j]).join(","),De=w.useMemo(()=>Ie.split(","),[Ie]),Ne=typeof g=="string"?g:g.light,ot=typeof g=="string"?g:g.dark,Je=Ae[Ne]&&Ae[ot]?fe:((lo=(ht=Ae[be.defaultColorScheme])==null?void 0:ht.palette)==null?void 0:lo.mode)||((at=be.palette)==null?void 0:at.mode),{mode:st,setMode:Ce,systemMode:gt,lightColorScheme:He,darkColorScheme:bt,colorScheme:Ot,setColorScheme:Et}=mR({supportedColorSchemes:De,defaultLightColorScheme:Ne,defaultDarkColorScheme:ot,modeStorageKey:P,colorSchemeStorageKey:F,defaultMode:Je,storageManager:Q,storageWindow:re,noSsr:Y});let ft=st,mt=Ot;de&&(ft=me.mode,mt=me.colorScheme);let dt=mt||be.defaultColorScheme;be.vars&&!Ee&&(dt=be.defaultColorScheme);const Tt=w.useMemo(()=>{var L;const j=((L=be.generateThemeVars)==null?void 0:L.call(be))||be.vars,b={...be,components:ge,colorSchemes:Ae,cssVarPrefix:Ue,vars:j};if(typeof b.generateSpacing=="function"&&(b.spacing=b.generateSpacing()),dt){const K=Ae[dt];K&&typeof K=="object"&&Object.keys(K).forEach(te=>{K[te]&&typeof K[te]=="object"?b[te]={...b[te],...K[te]}:b[te]=K[te]})}return _?_(b):b},[be,dt,ge,Ae,Ue]),Pe=be.colorSchemeSelector;fi(()=>{if(mt&&S&&Pe&&Pe!=="media"){const j=Pe;let b=Pe;if(j==="class"&&(b=".%s"),j==="data"&&(b="[data-%s]"),j!=null&&j.startsWith("data-")&&!j.includes("%s")&&(b=`[${j}="%s"]`),b.startsWith("."))S.classList.remove(...De.map(L=>b.substring(1).replace("%s",L))),S.classList.add(b.substring(1).replace("%s",mt));else{const L=b.replace("%s",mt).match(/\[([^\]]+)\]/);if(L){const[K,te]=L[1].split("=");te||De.forEach(pe=>{S.removeAttribute(K.replace(mt,pe))}),S.setAttribute(K,te?te.replace(/"|'/g,""):"")}else S.setAttribute(b,mt)}}},[mt,Pe,S,De]),w.useEffect(()=>{let j;if(J&&le.current&&ae){const b=ae.createElement("style");b.appendChild(ae.createTextNode($R)),ae.head.appendChild(b),window.getComputedStyle(ae.body),j=setTimeout(()=>{ae.head.removeChild(b)},1)}return()=>{clearTimeout(j)}},[mt,J,ae]),w.useEffect(()=>(le.current=!0,()=>{le.current=!1}),[]);const ce=w.useMemo(()=>({allColorSchemes:De,colorScheme:mt,darkColorScheme:bt,lightColorScheme:He,mode:ft,setColorScheme:Et,setMode:Ce,systemMode:gt}),[De,mt,bt,He,ft,Et,Ce,gt,Tt.colorSchemeSelector]);let Be=!0;($e||be.cssVariables===!1||de&&(ve==null?void 0:ve.cssVarPrefix)===Ue)&&(Be=!1);const bo=D.jsxs(w.Fragment,{children:[D.jsx(Pv,{themeId:ie?s:void 0,theme:Tt,children:X}),Be&&D.jsx(Tv,{styles:((jt=Tt.generateStyleSheets)==null?void 0:jt.call(Tt))||[]})]});return de?bo:D.jsx(v.Provider,{value:ce,children:bo})}const x=typeof g=="string"?g:g.light,A=typeof g=="string"?g:g.dark;return{CssVarsProvider:M,useColorScheme:I,getInitColorSchemeScript:W=>hR({colorSchemeStorageKey:h,defaultLightColorScheme:x,defaultDarkColorScheme:A,modeStorageKey:c,...W})}}function TR(r=""){function s(...c){if(!c.length)return"";const h=c[0];return typeof h=="string"&&!h.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${r?`${r}-`:""}${h}${s(...c.slice(1))})`:`, ${h}`}return(c,...h)=>`var(--${r?`${r}-`:""}${c}${s(...h)})`}const jE=(r,s,n,c=[])=>{let h=r;s.forEach((f,g)=>{g===s.length-1?Array.isArray(h)?h[Number(f)]=n:h&&typeof h=="object"&&(h[f]=n):h&&typeof h=="object"&&(h[f]||(h[f]=c.includes(f)?[]:{}),h=h[f])})},bR=(r,s,n)=>{function c(h,f=[],g=[]){Object.entries(h).forEach(([_,y])=>{(!n||n&&!n([...f,_]))&&y!=null&&(typeof y=="object"&&Object.keys(y).length>0?c(y,[...f,_],Array.isArray(y)?[...g,_]:g):s([...f,_],y,g))})}c(r)},ER=(r,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(c=>r.includes(c))||r[r.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function O_(r,s){const{prefix:n,shouldSkipGeneratingVar:c}=s||{},h={},f={},g={};return bR(r,(_,y,v)=>{if((typeof y=="string"||typeof y=="number")&&(!c||!c(_,y))){const I=`--${n?`${n}-`:""}${_.join("-")}`,R=ER(_,y);Object.assign(h,{[I]:R}),jE(f,_,`var(${I})`,v),jE(g,_,`var(${I}, ${R})`,v)}},_=>_[0]==="vars"),{css:h,vars:f,varsWithDefaults:g}}function yR(r,s={}){const{getSelector:n=B,disableCssColorScheme:c,colorSchemeSelector:h}=s,{colorSchemes:f={},components:g,defaultColorScheme:_="light",...y}=r,{vars:v,css:I,varsWithDefaults:R}=O_(y,s);let N=R;const M={},{[_]:x,...A}=f;if(Object.entries(A||{}).forEach(([H,P])=>{const{vars:F,css:J,varsWithDefaults:Q}=O_(P,s);N=Or(N,Q),M[H]={css:J,vars:F}}),x){const{css:H,vars:P,varsWithDefaults:F}=O_(x,s);N=Or(N,F),M[_]={css:H,vars:P}}function B(H,P){var J,Q;let F=h;if(h==="class"&&(F=".%s"),h==="data"&&(F="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(F=`[${h}="%s"]`),H){if(F==="media")return r.defaultColorScheme===H?":root":{[`@media (prefers-color-scheme: ${((Q=(J=f[H])==null?void 0:J.palette)==null?void 0:Q.mode)||H})`]:{":root":P}};if(F)return r.defaultColorScheme===H?`:root, ${F.replace("%s",String(H))}`:F.replace("%s",String(H))}return":root"}return{vars:N,generateThemeVars:()=>{let H={...v};return Object.entries(M).forEach(([,{vars:P}])=>{H=Or(H,P)}),H},generateStyleSheets:()=>{var re,ae;const H=[],P=r.defaultColorScheme||"light";function F(S,oe){Object.keys(oe).length&&H.push(typeof S=="string"?{[S]:{...oe}}:S)}F(n(void 0,{...I}),I);const{[P]:J,...Q}=M;if(J){const{css:S}=J,oe=(ae=(re=f[P])==null?void 0:re.palette)==null?void 0:ae.mode,$e=!c&&oe?{colorScheme:oe,...S}:{...S};F(n(P,{...$e}),$e)}return Object.entries(Q).forEach(([S,{css:oe}])=>{var Ee,Y;const $e=(Y=(Ee=f[S])==null?void 0:Ee.palette)==null?void 0:Y.mode,fe=!c&&$e?{colorScheme:$e,...oe}:{...oe};F(n(S,{...fe}),fe)}),H}}}function vR(r){return function(n){return r==="media"?`@media (prefers-color-scheme: ${n})`:r?r.startsWith("data-")&&!r.includes("%s")?`[${r}="${n}"] &`:r==="class"?`.${n} &`:r==="data"?`[data-${n}] &`:`${r.replace("%s",n)} &`:"&"}}function Rt(r,s,n=void 0){const c={};for(const h in r){const f=r[h];let g="",_=!0;for(let y=0;y<f.length;y+=1){const v=f[y];v&&(g+=(_===!0?"":" ")+s(v),_=!1,n&&n[v]&&(g+=" "+n[v]))}c[h]=g}return c}const SR=ng(),IR=Av("div",{name:"MuiContainer",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),CR=r=>xv({props:r,name:"MuiContainer",defaultTheme:SR}),kR=(r,s)=>{const n=y=>Ct(s,y),{classes:c,fixed:h,disableGutters:f,maxWidth:g}=r,_={root:["root",g&&`maxWidth${Ke(String(g))}`,h&&"fixed",f&&"disableGutters"]};return Rt(_,n,c)};function RR(r={}){const{createStyledComponent:s=IR,useThemeProps:n=CR,componentName:c="MuiContainer"}=r,h=s(({theme:g,ownerState:_})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!_.disableGutters&&{paddingLeft:g.spacing(2),paddingRight:g.spacing(2),[g.breakpoints.up("sm")]:{paddingLeft:g.spacing(3),paddingRight:g.spacing(3)}}}),({theme:g,ownerState:_})=>_.fixed&&Object.keys(g.breakpoints.values).reduce((y,v)=>{const I=v,R=g.breakpoints.values[I];return R!==0&&(y[g.breakpoints.up(I)]={maxWidth:`${R}${g.breakpoints.unit}`}),y},{}),({theme:g,ownerState:_})=>({..._.maxWidth==="xs"&&{[g.breakpoints.up("xs")]:{maxWidth:Math.max(g.breakpoints.values.xs,444)}},..._.maxWidth&&_.maxWidth!=="xs"&&{[g.breakpoints.up(_.maxWidth)]:{maxWidth:`${g.breakpoints.values[_.maxWidth]}${g.breakpoints.unit}`}}}));return w.forwardRef(function(_,y){const v=n(_),{className:I,component:R="div",disableGutters:N=!1,fixed:M=!1,maxWidth:x="lg",classes:A,...B}=v,W={...v,component:R,disableGutters:N,fixed:M,maxWidth:x},X=kR(W,c);return D.jsx(h,{as:R,ownerState:W,className:lt(X.root,I),ref:y,...B})})}function Nf(r,s){var n,c,h;return w.isValidElement(r)&&s.indexOf(r.type.muiName??((h=(c=(n=r.type)==null?void 0:n._payload)==null?void 0:c.value)==null?void 0:h.muiName))!==-1}const wR=(r,s)=>r.filter(n=>s.includes(n)),Yh=(r,s,n)=>{const c=r.keys[0];Array.isArray(s)?s.forEach((h,f)=>{n((g,_)=>{f<=r.keys.length-1&&(f===0?Object.assign(g,_):g[r.up(r.keys[f])]=_)},h)}):s&&typeof s=="object"?(Object.keys(s).length>r.keys.length?r.keys:wR(r.keys,Object.keys(s))).forEach(f=>{if(r.keys.includes(f)){const g=s[f];g!==void 0&&n((_,y)=>{c===f?Object.assign(_,y):_[r.up(f)]=y},g)}}):(typeof s=="number"||typeof s=="string")&&n((h,f)=>{Object.assign(h,f)},s)};function Qm(r){return`--Grid-${r}Spacing`}function m$(r){return`--Grid-parent-${r}Spacing`}const XE="--Grid-columns",Bh="--Grid-parent-columns",OR=({theme:r,ownerState:s})=>{const n={};return Yh(r.breakpoints,s.size,(c,h)=>{let f={};h==="grow"&&(f={flexBasis:0,flexGrow:1,maxWidth:"100%"}),h==="auto"&&(f={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof h=="number"&&(f={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${h} / var(${Bh}) - (var(${Bh}) - ${h}) * (var(${m$("column")}) / var(${Bh})))`}),c(n,f)}),n},AR=({theme:r,ownerState:s})=>{const n={};return Yh(r.breakpoints,s.offset,(c,h)=>{let f={};h==="auto"&&(f={marginLeft:"auto"}),typeof h=="number"&&(f={marginLeft:h===0?"0px":`calc(100% * ${h} / var(${Bh}) + var(${m$("column")}) * ${h} / var(${Bh}))`}),c(n,f)}),n},xR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={[XE]:12};return Yh(r.breakpoints,s.columns,(c,h)=>{const f=h??12;c(n,{[XE]:f,"> *":{[Bh]:f}})}),n},LR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={};return Yh(r.breakpoints,s.rowSpacing,(c,h)=>{var g;const f=typeof h=="string"?h:(g=r.spacing)==null?void 0:g.call(r,h);c(n,{[Qm("row")]:f,"> *":{[m$("row")]:f}})}),n},NR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={};return Yh(r.breakpoints,s.columnSpacing,(c,h)=>{var g;const f=typeof h=="string"?h:(g=r.spacing)==null?void 0:g.call(r,h);c(n,{[Qm("column")]:f,"> *":{[m$("column")]:f}})}),n},MR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={};return Yh(r.breakpoints,s.direction,(c,h)=>{c(n,{flexDirection:h})}),n},DR=({ownerState:r})=>({minWidth:0,boxSizing:"border-box",...r.container&&{display:"flex",flexWrap:"wrap",...r.wrap&&r.wrap!=="wrap"&&{flexWrap:r.wrap},gap:`var(${Qm("row")}) var(${Qm("column")})`}}),PR=r=>{const s=[];return Object.entries(r).forEach(([n,c])=>{c!==!1&&c!==void 0&&s.push(`grid-${n}-${String(c)}`)}),s},BR=(r,s="xs")=>{function n(c){return c===void 0?!1:typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"&&c>0}if(n(r))return[`spacing-${s}-${String(r)}`];if(typeof r=="object"&&!Array.isArray(r)){const c=[];return Object.entries(r).forEach(([h,f])=>{n(f)&&c.push(`spacing-${h}-${String(f)}`)}),c}return[]},FR=r=>r===void 0?[]:typeof r=="object"?Object.entries(r).map(([s,n])=>`direction-${s}-${n}`):[`direction-xs-${String(r)}`];function UR(r,s){r.item!==void 0&&delete r.item,r.zeroMinWidth!==void 0&&delete r.zeroMinWidth,s.keys.forEach(n=>{r[n]!==void 0&&delete r[n]})}const HR=ng(),GR=Av("div",{name:"MuiGrid",slot:"Root"});function VR(r){return xv({props:r,name:"MuiGrid",defaultTheme:HR})}function WR(r={}){const{createStyledComponent:s=GR,useThemeProps:n=VR,useTheme:c=ig,componentName:h="MuiGrid"}=r,f=(v,I)=>{const{container:R,direction:N,spacing:M,wrap:x,size:A}=v,B={root:["root",R&&"container",x!=="wrap"&&`wrap-xs-${String(x)}`,...FR(N),...PR(A),...R?BR(M,I.breakpoints.keys[0]):[]]};return Rt(B,W=>Ct(h,W),{})};function g(v,I,R=()=>!0){const N={};return v===null||(Array.isArray(v)?v.forEach((M,x)=>{M!==null&&R(M)&&I.keys[x]&&(N[I.keys[x]]=M)}):typeof v=="object"?Object.keys(v).forEach(M=>{const x=v[M];x!=null&&R(x)&&(N[M]=x)}):N[I.keys[0]]=v),N}const _=s(xR,NR,LR,OR,MR,DR,AR),y=w.forwardRef(function(I,R){const N=c(),M=n(I),x=yT(M);UR(x,N.breakpoints);const{className:A,children:B,columns:W=12,container:X=!1,component:H="div",direction:P="row",wrap:F="wrap",size:J={},offset:Q={},spacing:re=0,rowSpacing:ae=re,columnSpacing:S=re,unstable_level:oe=0,...$e}=x,fe=g(J,N.breakpoints,ie=>ie!==!1),Ee=g(Q,N.breakpoints),Y=I.columns??(oe?void 0:W),le=I.spacing??(oe?void 0:re),ve=I.rowSpacing??I.spacing??(oe?void 0:ae),me=I.columnSpacing??I.spacing??(oe?void 0:S),de={...x,level:oe,columns:Y,container:X,direction:P,wrap:F,spacing:le,rowSpacing:ve,columnSpacing:me,size:fe,offset:Ee},U=f(de,N);return D.jsx(_,{ref:R,as:H,ownerState:de,className:lt(U.root,A),...$e,children:w.Children.map(B,ie=>{var be;return w.isValidElement(ie)&&Nf(ie,["Grid"])&&X&&ie.props.container?w.cloneElement(ie,{unstable_level:((be=ie.props)==null?void 0:be.unstable_level)??oe+1}):ie})})});return y.muiName="Grid",y}const zf={black:"#000",white:"#fff"},zR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ih={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ch={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},kh={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wh={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Fv(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zf.white,default:zf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const jR=Fv();function Uv(){return{text:{primary:zf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const YE=Uv();function KE(r,s,n,c){const h=c.light||c,f=c.dark||c*1.5;r[s]||(r.hasOwnProperty(n)?r[s]=r[n]:s==="light"?r.light=IT(r.main,h):s==="dark"&&(r.dark=ST(r.main,f)))}function XR(r="light"){return r==="dark"?{main:kh[200],light:kh[50],dark:kh[400]}:{main:kh[700],light:kh[400],dark:kh[800]}}function YR(r="light"){return r==="dark"?{main:Ih[200],light:Ih[50],dark:Ih[400]}:{main:Ih[500],light:Ih[300],dark:Ih[700]}}function KR(r="light"){return r==="dark"?{main:Ch[500],light:Ch[300],dark:Ch[700]}:{main:Ch[700],light:Ch[400],dark:Ch[800]}}function JR(r="light"){return r==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:Rh[700],light:Rh[500],dark:Rh[900]}}function qR(r="light"){return r==="dark"?{main:wh[400],light:wh[300],dark:wh[700]}:{main:wh[800],light:wh[500],dark:wh[900]}}function QR(r="light"){return r==="dark"?{main:yf[400],light:yf[300],dark:yf[700]}:{main:"#ed6c02",light:yf[500],dark:yf[900]}}function OT(r){const{mode:s="light",contrastThreshold:n=3,tonalOffset:c=.2,...h}=r,f=r.primary||XR(s),g=r.secondary||YR(s),_=r.error||KR(s),y=r.info||JR(s),v=r.success||qR(s),I=r.warning||QR(s);function R(A){return eR(A,YE.text.primary)>=n?YE.text.primary:jR.text.primary}const N=({color:A,name:B,mainShade:W=500,lightShade:X=300,darkShade:H=700})=>{if(A={...A},!A.main&&A[W]&&(A.main=A[W]),!A.hasOwnProperty("main"))throw new Error(la(11,B?` (${B})`:"",W));if(typeof A.main!="string")throw new Error(la(12,B?` (${B})`:"",JSON.stringify(A.main)));return KE(A,"light",X,c),KE(A,"dark",H,c),A.contrastText||(A.contrastText=R(A.main)),A};let M;return s==="light"?M=Fv():s==="dark"&&(M=Uv()),Or({common:{...zf},mode:s,primary:N({color:f,name:"primary"}),secondary:N({color:g,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:_,name:"error"}),warning:N({color:I,name:"warning"}),info:N({color:y,name:"info"}),success:N({color:v,name:"success"}),grey:zR,contrastThreshold:n,getContrastText:R,augmentColor:N,tonalOffset:c,...M},h)}function ZR(r){const s={};return Object.entries(r).forEach(c=>{const[h,f]=c;typeof f=="object"&&(s[h]=`${f.fontStyle?`${f.fontStyle} `:""}${f.fontVariant?`${f.fontVariant} `:""}${f.fontWeight?`${f.fontWeight} `:""}${f.fontStretch?`${f.fontStretch} `:""}${f.fontSize||""}${f.lineHeight?`/${f.lineHeight} `:""}${f.fontFamily||""}`)}),s}function ew(r,s){return{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...s}}function tw(r){return Math.round(r*1e5)/1e5}const JE={textTransform:"uppercase"},qE='"Roboto", "Helvetica", "Arial", sans-serif';function Hv(r,s){const{fontFamily:n=qE,fontSize:c=14,fontWeightLight:h=300,fontWeightRegular:f=400,fontWeightMedium:g=500,fontWeightBold:_=700,htmlFontSize:y=16,allVariants:v,pxToRem:I,...R}=typeof s=="function"?s(r):s,N=c/14,M=I||(B=>`${B/y*N}rem`),x=(B,W,X,H,P)=>({fontFamily:n,fontWeight:B,fontSize:M(W),lineHeight:X,...n===qE?{letterSpacing:`${tw(H/W)}em`}:{},...P,...v}),A={h1:x(h,96,1.167,-1.5),h2:x(h,60,1.2,-.5),h3:x(f,48,1.167,0),h4:x(f,34,1.235,.25),h5:x(f,24,1.334,0),h6:x(g,20,1.6,.15),subtitle1:x(f,16,1.75,.15),subtitle2:x(g,14,1.57,.1),body1:x(f,16,1.5,.15),body2:x(f,14,1.43,.15),button:x(g,14,1.75,.4,JE),caption:x(f,12,1.66,.4),overline:x(f,12,2.66,1,JE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Or({htmlFontSize:y,pxToRem:M,fontFamily:n,fontSize:c,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:g,fontWeightBold:_,...A},R,{clone:!1})}const ow=.2,rw=.14,nw=.12;function Oo(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${ow})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${rw})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${nw})`].join(",")}const iw=["none",Oo(0,2,1,-1,0,1,1,0,0,1,3,0),Oo(0,3,1,-2,0,2,2,0,0,1,5,0),Oo(0,3,3,-2,0,3,4,0,0,1,8,0),Oo(0,2,4,-1,0,4,5,0,0,1,10,0),Oo(0,3,5,-1,0,5,8,0,0,1,14,0),Oo(0,3,5,-1,0,6,10,0,0,1,18,0),Oo(0,4,5,-2,0,7,10,1,0,2,16,1),Oo(0,5,5,-3,0,8,10,1,0,3,14,2),Oo(0,5,6,-3,0,9,12,1,0,3,16,2),Oo(0,6,6,-3,0,10,14,1,0,4,18,3),Oo(0,6,7,-4,0,11,15,1,0,4,20,3),Oo(0,7,8,-4,0,12,17,2,0,5,22,4),Oo(0,7,8,-4,0,13,19,2,0,5,24,4),Oo(0,7,9,-4,0,14,21,2,0,5,26,4),Oo(0,8,9,-5,0,15,22,2,0,6,28,5),Oo(0,8,10,-5,0,16,24,2,0,6,30,5),Oo(0,8,11,-5,0,17,26,2,0,6,32,5),Oo(0,9,11,-5,0,18,28,2,0,7,34,6),Oo(0,9,12,-6,0,19,29,2,0,7,36,6),Oo(0,10,13,-6,0,20,31,3,0,8,38,7),Oo(0,10,13,-6,0,21,33,3,0,8,40,7),Oo(0,10,14,-6,0,22,35,3,0,8,42,7),Oo(0,11,14,-7,0,23,36,3,0,9,44,8),Oo(0,11,15,-7,0,24,38,3,0,9,46,8)],sw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Gv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function QE(r){return`${Math.round(r)}ms`}function lw(r){if(!r)return 0;const s=r/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function aw(r){const s={...sw,...r.easing},n={...Gv,...r.duration};return{getAutoHeightDuration:lw,create:(h=["all"],f={})=>{const{duration:g=n.standard,easing:_=s.easeInOut,delay:y=0,...v}=f;return(Array.isArray(h)?h:[h]).map(I=>`${I} ${typeof g=="string"?g:QE(g)} ${_} ${typeof y=="string"?y:QE(y)}`).join(",")},...r,easing:s,duration:n}}const cw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function uw(r){return qs(r)||typeof r>"u"||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||Array.isArray(r)}function Vv(r={}){const s={...r};function n(c){const h=Object.entries(c);for(let f=0;f<h.length;f++){const[g,_]=h[f];!uw(_)||g.startsWith("unstable_")?delete c[g]:qs(_)&&(c[g]={..._},n(c[g]))}}return n(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function X_(r={},...s){const{breakpoints:n,mixins:c={},spacing:h,palette:f={},transitions:g={},typography:_={},shape:y,...v}=r;if(r.vars&&r.generateThemeVars===void 0)throw new Error(la(20));const I=OT(f),R=ng(r);let N=Or(R,{mixins:ew(R.breakpoints,c),palette:I,shadows:iw.slice(),typography:Hv(I,_),transitions:aw(g),zIndex:{...cw}});return N=Or(N,v),N=s.reduce((M,x)=>Or(M,x),N),N.unstable_sxConfig={...rg,...v==null?void 0:v.unstable_sxConfig},N.unstable_sx=function(x){return gc({sx:x,theme:this})},N.toRuntimeSource=Vv,N}function Y_(r){let s;return r<1?s=5.11916*r**2:s=4.5*Math.log(r+1)+2,Math.round(s*10)/1e3}const dw=[...Array(25)].map((r,s)=>{if(s===0)return"none";const n=Y_(s);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Wv(r){return{inputPlaceholder:r==="dark"?.5:.42,inputUnderline:r==="dark"?.7:.42,switchTrackDisabled:r==="dark"?.2:.12,switchTrack:r==="dark"?.3:.38}}function zv(r){return r==="dark"?dw:[]}function hw(r){const{palette:s={mode:"light"},opacity:n,overlays:c,...h}=r,f=OT(s);return{palette:f,opacity:{...Wv(f.mode),...n},overlays:c||zv(f.mode),...h}}function pw(r){var s;return!!r[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!r[0].match(/sxConfig$/)||r[0]==="palette"&&!!((s=r[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const fw=r=>[...[...Array(25)].map((s,n)=>`--${r?`${r}-`:""}overlays-${n}`),`--${r?`${r}-`:""}palette-AppBar-darkBg`,`--${r?`${r}-`:""}palette-AppBar-darkColor`],gw=r=>(s,n)=>{const c=r.rootSelector||":root",h=r.colorSchemeSelector;let f=h;if(h==="class"&&(f=".%s"),h==="data"&&(f="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(f=`[${h}="%s"]`),r.defaultColorScheme===s){if(s==="dark"){const g={};return fw(r.cssVarPrefix).forEach(_=>{g[_]=n[_],delete n[_]}),f==="media"?{[c]:n,"@media (prefers-color-scheme: dark)":{[c]:g}}:f?{[f.replace("%s",s)]:g,[`${c}, ${f.replace("%s",s)}`]:n}:{[c]:{...n,...g}}}if(f&&f!=="media")return`${c}, ${f.replace("%s",String(s))}`}else if(s){if(f==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[c]:n}};if(f)return f.replace("%s",String(s))}return c};function mw(r,s){s.forEach(n=>{r[n]||(r[n]={})})}function Se(r,s,n){!r[s]&&n&&(r[s]=n)}function Of(r){return typeof r!="string"||!r.startsWith("hsl")?r:Lv(r)}function na(r,s){`${s}Channel`in r||(r[`${s}Channel`]=wf(Of(r[s])))}function $w(r){return typeof r=="number"?`${r}px`:typeof r=="string"||typeof r=="function"||Array.isArray(r)?r:"8px"}const Xs=r=>{try{return r()}catch{}},_w=(r="mui")=>TR(r);function A_(r,s,n,c){if(!s)return;s=s===!0?{}:s;const h=c==="dark"?"dark":"light";if(!n){r[c]=hw({...s,palette:{mode:h,...s==null?void 0:s.palette}});return}const{palette:f,...g}=X_({...n,palette:{mode:h,...s==null?void 0:s.palette}});return r[c]={...s,palette:f,opacity:{...Wv(h),...s==null?void 0:s.opacity},overlays:(s==null?void 0:s.overlays)||zv(h)},g}function Tw(r={},...s){const{colorSchemes:n={light:!0},defaultColorScheme:c,disableCssColorScheme:h=!1,cssVarPrefix:f="mui",shouldSkipGeneratingVar:g=pw,colorSchemeSelector:_=n.light&&n.dark?"media":void 0,rootSelector:y=":root",...v}=r,I=Object.keys(n)[0],R=c||(n.light&&I!=="light"?"light":I),N=_w(f),{[R]:M,light:x,dark:A,...B}=n,W={...B};let X=M;if((R==="dark"&&!("dark"in n)||R==="light"&&!("light"in n))&&(X=!0),!X)throw new Error(la(21,R));const H=A_(W,X,v,R);x&&!W.light&&A_(W,x,void 0,"light"),A&&!W.dark&&A_(W,A,void 0,"dark");let P={defaultColorScheme:R,...H,cssVarPrefix:f,colorSchemeSelector:_,rootSelector:y,getCssVar:N,colorSchemes:W,font:{...ZR(H.typography),...H.font},spacing:$w(v.spacing)};Object.keys(P.colorSchemes).forEach(ae=>{const S=P.colorSchemes[ae].palette,oe=$e=>{const fe=$e.split("-"),Ee=fe[1],Y=fe[2];return N($e,S[Ee][Y])};if(S.mode==="light"&&(Se(S.common,"background","#fff"),Se(S.common,"onBackground","#000")),S.mode==="dark"&&(Se(S.common,"background","#000"),Se(S.common,"onBackground","#fff")),mw(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){Se(S.Alert,"errorColor",_o(S.error.light,.6)),Se(S.Alert,"infoColor",_o(S.info.light,.6)),Se(S.Alert,"successColor",_o(S.success.light,.6)),Se(S.Alert,"warningColor",_o(S.warning.light,.6)),Se(S.Alert,"errorFilledBg",oe("palette-error-main")),Se(S.Alert,"infoFilledBg",oe("palette-info-main")),Se(S.Alert,"successFilledBg",oe("palette-success-main")),Se(S.Alert,"warningFilledBg",oe("palette-warning-main")),Se(S.Alert,"errorFilledColor",Xs(()=>S.getContrastText(S.error.main))),Se(S.Alert,"infoFilledColor",Xs(()=>S.getContrastText(S.info.main))),Se(S.Alert,"successFilledColor",Xs(()=>S.getContrastText(S.success.main))),Se(S.Alert,"warningFilledColor",Xs(()=>S.getContrastText(S.warning.main))),Se(S.Alert,"errorStandardBg",To(S.error.light,.9)),Se(S.Alert,"infoStandardBg",To(S.info.light,.9)),Se(S.Alert,"successStandardBg",To(S.success.light,.9)),Se(S.Alert,"warningStandardBg",To(S.warning.light,.9)),Se(S.Alert,"errorIconColor",oe("palette-error-main")),Se(S.Alert,"infoIconColor",oe("palette-info-main")),Se(S.Alert,"successIconColor",oe("palette-success-main")),Se(S.Alert,"warningIconColor",oe("palette-warning-main")),Se(S.AppBar,"defaultBg",oe("palette-grey-100")),Se(S.Avatar,"defaultBg",oe("palette-grey-400")),Se(S.Button,"inheritContainedBg",oe("palette-grey-300")),Se(S.Button,"inheritContainedHoverBg",oe("palette-grey-A100")),Se(S.Chip,"defaultBorder",oe("palette-grey-400")),Se(S.Chip,"defaultAvatarColor",oe("palette-grey-700")),Se(S.Chip,"defaultIconColor",oe("palette-grey-700")),Se(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Se(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Se(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Se(S.LinearProgress,"primaryBg",To(S.primary.main,.62)),Se(S.LinearProgress,"secondaryBg",To(S.secondary.main,.62)),Se(S.LinearProgress,"errorBg",To(S.error.main,.62)),Se(S.LinearProgress,"infoBg",To(S.info.main,.62)),Se(S.LinearProgress,"successBg",To(S.success.main,.62)),Se(S.LinearProgress,"warningBg",To(S.warning.main,.62)),Se(S.Skeleton,"bg",`rgba(${oe("palette-text-primaryChannel")} / 0.11)`),Se(S.Slider,"primaryTrack",To(S.primary.main,.62)),Se(S.Slider,"secondaryTrack",To(S.secondary.main,.62)),Se(S.Slider,"errorTrack",To(S.error.main,.62)),Se(S.Slider,"infoTrack",To(S.info.main,.62)),Se(S.Slider,"successTrack",To(S.success.main,.62)),Se(S.Slider,"warningTrack",To(S.warning.main,.62));const $e=Em(S.background.default,.8);Se(S.SnackbarContent,"bg",$e),Se(S.SnackbarContent,"color",Xs(()=>S.getContrastText($e))),Se(S.SpeedDialAction,"fabHoverBg",Em(S.background.paper,.15)),Se(S.StepConnector,"border",oe("palette-grey-400")),Se(S.StepContent,"border",oe("palette-grey-400")),Se(S.Switch,"defaultColor",oe("palette-common-white")),Se(S.Switch,"defaultDisabledColor",oe("palette-grey-100")),Se(S.Switch,"primaryDisabledColor",To(S.primary.main,.62)),Se(S.Switch,"secondaryDisabledColor",To(S.secondary.main,.62)),Se(S.Switch,"errorDisabledColor",To(S.error.main,.62)),Se(S.Switch,"infoDisabledColor",To(S.info.main,.62)),Se(S.Switch,"successDisabledColor",To(S.success.main,.62)),Se(S.Switch,"warningDisabledColor",To(S.warning.main,.62)),Se(S.TableCell,"border",To(bm(S.divider,1),.88)),Se(S.Tooltip,"bg",bm(S.grey[700],.92))}if(S.mode==="dark"){Se(S.Alert,"errorColor",To(S.error.light,.6)),Se(S.Alert,"infoColor",To(S.info.light,.6)),Se(S.Alert,"successColor",To(S.success.light,.6)),Se(S.Alert,"warningColor",To(S.warning.light,.6)),Se(S.Alert,"errorFilledBg",oe("palette-error-dark")),Se(S.Alert,"infoFilledBg",oe("palette-info-dark")),Se(S.Alert,"successFilledBg",oe("palette-success-dark")),Se(S.Alert,"warningFilledBg",oe("palette-warning-dark")),Se(S.Alert,"errorFilledColor",Xs(()=>S.getContrastText(S.error.dark))),Se(S.Alert,"infoFilledColor",Xs(()=>S.getContrastText(S.info.dark))),Se(S.Alert,"successFilledColor",Xs(()=>S.getContrastText(S.success.dark))),Se(S.Alert,"warningFilledColor",Xs(()=>S.getContrastText(S.warning.dark))),Se(S.Alert,"errorStandardBg",_o(S.error.light,.9)),Se(S.Alert,"infoStandardBg",_o(S.info.light,.9)),Se(S.Alert,"successStandardBg",_o(S.success.light,.9)),Se(S.Alert,"warningStandardBg",_o(S.warning.light,.9)),Se(S.Alert,"errorIconColor",oe("palette-error-main")),Se(S.Alert,"infoIconColor",oe("palette-info-main")),Se(S.Alert,"successIconColor",oe("palette-success-main")),Se(S.Alert,"warningIconColor",oe("palette-warning-main")),Se(S.AppBar,"defaultBg",oe("palette-grey-900")),Se(S.AppBar,"darkBg",oe("palette-background-paper")),Se(S.AppBar,"darkColor",oe("palette-text-primary")),Se(S.Avatar,"defaultBg",oe("palette-grey-600")),Se(S.Button,"inheritContainedBg",oe("palette-grey-800")),Se(S.Button,"inheritContainedHoverBg",oe("palette-grey-700")),Se(S.Chip,"defaultBorder",oe("palette-grey-700")),Se(S.Chip,"defaultAvatarColor",oe("palette-grey-300")),Se(S.Chip,"defaultIconColor",oe("palette-grey-300")),Se(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Se(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Se(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Se(S.LinearProgress,"primaryBg",_o(S.primary.main,.5)),Se(S.LinearProgress,"secondaryBg",_o(S.secondary.main,.5)),Se(S.LinearProgress,"errorBg",_o(S.error.main,.5)),Se(S.LinearProgress,"infoBg",_o(S.info.main,.5)),Se(S.LinearProgress,"successBg",_o(S.success.main,.5)),Se(S.LinearProgress,"warningBg",_o(S.warning.main,.5)),Se(S.Skeleton,"bg",`rgba(${oe("palette-text-primaryChannel")} / 0.13)`),Se(S.Slider,"primaryTrack",_o(S.primary.main,.5)),Se(S.Slider,"secondaryTrack",_o(S.secondary.main,.5)),Se(S.Slider,"errorTrack",_o(S.error.main,.5)),Se(S.Slider,"infoTrack",_o(S.info.main,.5)),Se(S.Slider,"successTrack",_o(S.success.main,.5)),Se(S.Slider,"warningTrack",_o(S.warning.main,.5));const $e=Em(S.background.default,.98);Se(S.SnackbarContent,"bg",$e),Se(S.SnackbarContent,"color",Xs(()=>S.getContrastText($e))),Se(S.SpeedDialAction,"fabHoverBg",Em(S.background.paper,.15)),Se(S.StepConnector,"border",oe("palette-grey-600")),Se(S.StepContent,"border",oe("palette-grey-600")),Se(S.Switch,"defaultColor",oe("palette-grey-300")),Se(S.Switch,"defaultDisabledColor",oe("palette-grey-600")),Se(S.Switch,"primaryDisabledColor",_o(S.primary.main,.55)),Se(S.Switch,"secondaryDisabledColor",_o(S.secondary.main,.55)),Se(S.Switch,"errorDisabledColor",_o(S.error.main,.55)),Se(S.Switch,"infoDisabledColor",_o(S.info.main,.55)),Se(S.Switch,"successDisabledColor",_o(S.success.main,.55)),Se(S.Switch,"warningDisabledColor",_o(S.warning.main,.55)),Se(S.TableCell,"border",_o(bm(S.divider,1),.68)),Se(S.Tooltip,"bg",bm(S.grey[700],.92))}na(S.background,"default"),na(S.background,"paper"),na(S.common,"background"),na(S.common,"onBackground"),na(S,"divider"),Object.keys(S).forEach($e=>{const fe=S[$e];$e!=="tonalOffset"&&fe&&typeof fe=="object"&&(fe.main&&Se(S[$e],"mainChannel",wf(Of(fe.main))),fe.light&&Se(S[$e],"lightChannel",wf(Of(fe.light))),fe.dark&&Se(S[$e],"darkChannel",wf(Of(fe.dark))),fe.contrastText&&Se(S[$e],"contrastTextChannel",wf(Of(fe.contrastText))),$e==="text"&&(na(S[$e],"primary"),na(S[$e],"secondary")),$e==="action"&&(fe.active&&na(S[$e],"active"),fe.selected&&na(S[$e],"selected")))})}),P=s.reduce((ae,S)=>Or(ae,S),P);const F={prefix:f,disableCssColorScheme:h,shouldSkipGeneratingVar:g,getSelector:gw(P)},{vars:J,generateThemeVars:Q,generateStyleSheets:re}=yR(P,F);return P.vars=J,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([ae,S])=>{P[ae]=S}),P.generateThemeVars=Q,P.generateStyleSheets=re,P.generateSpacing=function(){return Sv(v.spacing,bT(this))},P.getColorSchemeSelector=vR(_),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=g,P.unstable_sxConfig={...rg,...v==null?void 0:v.unstable_sxConfig},P.unstable_sx=function(S){return gc({sx:S,theme:this})},P.toRuntimeSource=Vv,P}function ZE(r,s,n){r.colorSchemes&&n&&(r.colorSchemes[s]={...n!==!0&&n,palette:OT({...n===!0?{}:n.palette,mode:s})})}function $$(r={},...s){const{palette:n,cssVariables:c=!1,colorSchemes:h=n?void 0:{light:!0},defaultColorScheme:f=n==null?void 0:n.mode,...g}=r,_=f||"light",y=h==null?void 0:h[_],v={...h,...n?{[_]:{...typeof y!="boolean"&&y,palette:n}}:void 0};if(c===!1){if(!("colorSchemes"in r))return X_(r,...s);let I=n;"palette"in r||v[_]&&(v[_]!==!0?I=v[_].palette:_==="dark"&&(I={mode:"dark"}));const R=X_({...r,palette:I},...s);return R.defaultColorScheme=_,R.colorSchemes=v,R.palette.mode==="light"&&(R.colorSchemes.light={...v.light!==!0&&v.light,palette:R.palette},ZE(R,"dark",v.dark)),R.palette.mode==="dark"&&(R.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:R.palette},ZE(R,"light",v.light)),R}return!n&&!("light"in v)&&_==="light"&&(v.light=!0),Tw({...g,colorSchemes:v,defaultColorScheme:_,...typeof c!="boolean"&&c},...s)}const AT=$$();function Vu(){const r=ig(AT);return r[Qs]||r}function jv(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const _i=r=>jv(r)&&r!=="classes",Qe=Ov({themeId:Qs,defaultTheme:AT,rootShouldForwardProp:_i});function bw({theme:r,...s}){const n=Qs in r?r[Qs]:void 0;return D.jsx(Pv,{...s,themeId:n?Qs:void 0,theme:n||r})}const ym={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Ew}=_R({themeId:Qs,theme:()=>$$({cssVariables:!0}),colorSchemeStorageKey:ym.colorSchemeStorageKey,modeStorageKey:ym.modeStorageKey,defaultColorScheme:{light:ym.defaultLightColorScheme,dark:ym.defaultDarkColorScheme},resolveTheme:r=>{const s={...r,typography:Hv(r.palette,r.typography)};return s.unstable_sx=function(c){return gc({sx:c,theme:this})},s}}),yw=Ew;function vw({theme:r,...s}){const n=w.useMemo(()=>{if(typeof r=="function")return r;const c=Qs in r?r[Qs]:r;return"colorSchemes"in c?null:"vars"in c?r:{...r,vars:null}},[r]);return n?D.jsx(bw,{theme:n,...s}):D.jsx(yw,{theme:r,...s})}function Sw(r){return D.jsx(Bk,{...r,defaultTheme:AT,themeId:Qs})}function xT(r){return function(n){return D.jsx(Sw,{styles:typeof r=="function"?c=>r({theme:c,...n}):r})}}function Iw(){return yT}function wt(r){return cR(r)}const K_=typeof xT({})=="function",Cw=(r,s)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...s&&!r.vars&&{colorScheme:r.palette.mode}}),kw=r=>({color:(r.vars||r).palette.text.primary,...r.typography.body1,backgroundColor:(r.vars||r).palette.background.default,"@media print":{backgroundColor:(r.vars||r).palette.common.white}}),Xv=(r,s=!1)=>{var f,g;const n={};s&&r.colorSchemes&&typeof r.getColorSchemeSelector=="function"&&Object.entries(r.colorSchemes).forEach(([_,y])=>{var I,R;const v=r.getColorSchemeSelector(_);v.startsWith("@")?n[v]={":root":{colorScheme:(I=y.palette)==null?void 0:I.mode}}:n[v.replace(/\s*&/,"")]={colorScheme:(R=y.palette)==null?void 0:R.mode}});let c={html:Cw(r,s),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:r.typography.fontWeightBold},body:{margin:0,...kw(r),"&::backdrop":{backgroundColor:(r.vars||r).palette.background.default}},...n};const h=(g=(f=r.components)==null?void 0:f.MuiCssBaseline)==null?void 0:g.styleOverrides;return h&&(c=[c,h]),c},Dm="mui-ecs",Rw=r=>{const s=Xv(r,!1),n=Array.isArray(s)?s[0]:s;return!r.vars&&n&&(n.html[`:root:has(${Dm})`]={colorScheme:r.palette.mode}),r.colorSchemes&&Object.entries(r.colorSchemes).forEach(([c,h])=>{var g,_;const f=r.getColorSchemeSelector(c);f.startsWith("@")?n[f]={[`:root:not(:has(.${Dm}))`]:{colorScheme:(g=h.palette)==null?void 0:g.mode}}:n[f.replace(/\s*&/,"")]={[`&:not(:has(.${Dm}))`]:{colorScheme:(_=h.palette)==null?void 0:_.mode}}}),s},ww=xT(K_?({theme:r,enableColorScheme:s})=>Xv(r,s):({theme:r})=>Rw(r));function Ow(r){const s=wt({props:r,name:"MuiCssBaseline"}),{children:n,enableColorScheme:c=!1}=s;return D.jsxs(w.Fragment,{children:[K_&&D.jsx(ww,{enableColorScheme:c}),!K_&&!c&&D.jsx("span",{className:Dm,style:{display:"none"}}),n]})}const Aw=RR({createStyledComponent:Qe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),useThemeProps:r=>wt({props:r,name:"MuiContainer"})}),xw=kt("MuiBox",["root"]),Lw=$$(),Er=Hk({themeId:Qs,defaultTheme:Lw,defaultClassName:xw.root,generateClassName:Cv.generate}),LT=WR({createStyledComponent:Qe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.container&&s.container]}}),componentName:"MuiGrid",useThemeProps:r=>wt({props:r,name:"MuiGrid"}),useTheme:Vu}),Ht=uR;function Nw(r){return Ct("MuiPaper",r)}kt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Mw=r=>{const{square:s,elevation:n,variant:c,classes:h}=r,f={root:["root",c,!s&&"rounded",c==="elevation"&&`elevation${n}`]};return Rt(f,Nw,h)},Dw=Qe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[n.variant],!n.square&&s.rounded,n.variant==="elevation"&&s[`elevation${n.elevation}`]]}})(Ht(({theme:r})=>({backgroundColor:(r.vars||r).palette.background.paper,color:(r.vars||r).palette.text.primary,transition:r.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:r.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(r.vars||r).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Wu=w.forwardRef(function(s,n){var M;const c=wt({props:s,name:"MuiPaper"}),h=Vu(),{className:f,component:g="div",elevation:_=1,square:y=!1,variant:v="elevation",...I}=c,R={...c,component:g,elevation:_,square:y,variant:v},N=Mw(R);return D.jsx(Dw,{as:g,ownerState:R,className:lt(N.root,f),ref:n,...I,style:{...v==="elevation"&&{"--Paper-shadow":(h.vars||h).shadows[_],...h.vars&&{"--Paper-overlay":(M=h.vars.overlays)==null?void 0:M[_]},...!h.vars&&h.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${to("#fff",Y_(_))}, ${to("#fff",Y_(_))})`}},...I.style}})});function Pw(r){return typeof r.main=="string"}function Bw(r,s=[]){if(!Pw(r))return!1;for(const n of s)if(!r.hasOwnProperty(n)||typeof r[n]!="string")return!1;return!0}function sn(r=[]){return([,s])=>s&&Bw(s,r)}function Fw(r){return Ct("MuiTypography",r)}const ey=kt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Uw={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Hw=Iw(),Gw=r=>{const{align:s,gutterBottom:n,noWrap:c,paragraph:h,variant:f,classes:g}=r,_={root:["root",f,r.align!=="inherit"&&`align${Ke(s)}`,n&&"gutterBottom",c&&"noWrap",h&&"paragraph"]};return Rt(_,Fw,g)},Vw=Qe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.variant&&s[n.variant],n.align!=="inherit"&&s[`align${Ke(n.align)}`],n.noWrap&&s.noWrap,n.gutterBottom&&s.gutterBottom,n.paragraph&&s.paragraph]}})(Ht(({theme:r})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(([n,c])=>n!=="inherit"&&c&&typeof c=="object").map(([n,c])=>({props:{variant:n},style:c})),...Object.entries(r.palette).filter(sn()).map(([n])=>({props:{color:n},style:{color:(r.vars||r).palette[n].main}})),...Object.entries(((s=r.palette)==null?void 0:s.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ke(n)}`},style:{color:(r.vars||r).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),ty={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},rr=w.forwardRef(function(s,n){const{color:c,...h}=wt({props:s,name:"MuiTypography"}),f=!Uw[c],g=Hw({...h,...f&&{color:c}}),{align:_="inherit",className:y,component:v,gutterBottom:I=!1,noWrap:R=!1,paragraph:N=!1,variant:M="body1",variantMapping:x=ty,...A}=g,B={...g,align:_,color:c,className:y,component:v,gutterBottom:I,noWrap:R,paragraph:N,variant:M,variantMapping:x},W=v||(N?"p":x[M]||ty[M])||"span",X=Gw(B);return D.jsx(Vw,{as:W,ref:n,className:lt(X.root,y),...A,ownerState:B,style:{..._!=="inherit"&&{"--Typography-textAlign":_},...A.style}})}),Ww=document.querySelector("#js2py");function x_(r,s){const n=new CustomEvent("custom",{detail:[r,s]});Ww.dispatchEvent(n)}const zw=$$({palette:{primary:{main:"#0ED7BA"},secondary:{main:"#23395B"},background:{default:"#161925",paper:"#afd3cc"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}});function jw(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function oy(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(r,h).enumerable})),n.push.apply(n,c)}return n}function ry(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?oy(Object(n),!0).forEach(function(c){jw(r,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(n,c))})}return r}function Xw(r,s){if(r==null)return{};var n={},c=Object.keys(r),h,f;for(f=0;f<c.length;f++)h=c[f],!(s.indexOf(h)>=0)&&(n[h]=r[h]);return n}function Yw(r,s){if(r==null)return{};var n=Xw(r,s),c,h;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);for(h=0;h<f.length;h++)c=f[h],!(s.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(r,c)&&(n[c]=r[c])}return n}function Kw(r,s){return Jw(r)||qw(r,s)||Qw(r,s)||Zw()}function Jw(r){if(Array.isArray(r))return r}function qw(r,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],c=!0,h=!1,f=void 0;try{for(var g=r[Symbol.iterator](),_;!(c=(_=g.next()).done)&&(n.push(_.value),!(s&&n.length===s));c=!0);}catch(y){h=!0,f=y}finally{try{!c&&g.return!=null&&g.return()}finally{if(h)throw f}}return n}}function Qw(r,s){if(r){if(typeof r=="string")return ny(r,s);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(r,s)}}function ny(r,s){(s==null||s>r.length)&&(s=r.length);for(var n=0,c=new Array(s);n<s;n++)c[n]=r[n];return c}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eO(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function iy(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(r,h).enumerable})),n.push.apply(n,c)}return n}function sy(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?iy(Object(n),!0).forEach(function(c){eO(r,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(n,c))})}return r}function tO(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return function(c){return s.reduceRight(function(h,f){return f(h)},c)}}function Af(r){return function s(){for(var n=this,c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return h.length>=r.length?r.apply(this,h):function(){for(var g=arguments.length,_=new Array(g),y=0;y<g;y++)_[y]=arguments[y];return s.apply(n,[].concat(h,_))}}}function Zm(r){return{}.toString.call(r).includes("Object")}function oO(r){return!Object.keys(r).length}function jf(r){return typeof r=="function"}function rO(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function nO(r,s){return Zm(s)||fc("changeType"),Object.keys(s).some(function(n){return!rO(r,n)})&&fc("changeField"),s}function iO(r){jf(r)||fc("selectorType")}function sO(r){jf(r)||Zm(r)||fc("handlerType"),Zm(r)&&Object.values(r).some(function(s){return!jf(s)})&&fc("handlersType")}function lO(r){r||fc("initialIsRequired"),Zm(r)||fc("initialType"),oO(r)&&fc("initialContent")}function aO(r,s){throw new Error(r[s]||r.default)}var cO={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},fc=Af(aO)(cO),vm={changes:nO,selector:iO,handler:sO,initial:lO};function uO(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vm.initial(r),vm.handler(s);var n={current:r},c=Af(pO)(n,s),h=Af(hO)(n),f=Af(vm.changes)(r),g=Af(dO)(n);function _(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(I){return I};return vm.selector(v),v(n.current)}function y(v){tO(c,h,f,g)(v)}return[_,y]}function dO(r,s){return jf(s)?s(r.current):s}function hO(r,s){return r.current=sy(sy({},r.current),s),s}function pO(r,s,n){return jf(s)?s(r.current):Object.keys(n).forEach(function(c){var h;return(h=s[c])===null||h===void 0?void 0:h.call(s,r.current[c])}),n}var fO={create:uO},gO={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function mO(r){return function s(){for(var n=this,c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return h.length>=r.length?r.apply(this,h):function(){for(var g=arguments.length,_=new Array(g),y=0;y<g;y++)_[y]=arguments[y];return s.apply(n,[].concat(h,_))}}}function $O(r){return{}.toString.call(r).includes("Object")}function _O(r){return r||ly("configIsRequired"),$O(r)||ly("configType"),r.urls?(TO(),{paths:{vs:r.urls.monacoBase}}):r}function TO(){console.warn(Yv.deprecation)}function bO(r,s){throw new Error(r[s]||r.default)}var Yv={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ly=mO(bO)(Yv),EO={config:_O},yO=function(){for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return function(h){return n.reduceRight(function(f,g){return g(f)},h)}};function Kv(r,s){return Object.keys(s).forEach(function(n){s[n]instanceof Object&&r[n]&&Object.assign(s[n],Kv(r[n],s[n]))}),ry(ry({},r),s)}var vO={type:"cancelation",msg:"operation is manually canceled"};function L_(r){var s=!1,n=new Promise(function(c,h){r.then(function(f){return s?h(vO):c(f)}),r.catch(h)});return n.cancel=function(){return s=!0},n}var SO=fO.create({config:gO,isInitialized:!1,resolve:null,reject:null,monaco:null}),Jv=Kw(SO,2),sg=Jv[0],_$=Jv[1];function IO(r){var s=EO.config(r),n=s.monaco,c=Yw(s,["monaco"]);_$(function(h){return{config:Kv(h.config,c),monaco:n}})}function CO(){var r=sg(function(s){var n=s.monaco,c=s.isInitialized,h=s.resolve;return{monaco:n,isInitialized:c,resolve:h}});if(!r.isInitialized){if(_$({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),L_(N_);if(window.monaco&&window.monaco.editor)return qv(window.monaco),r.resolve(window.monaco),L_(N_);yO(kO,wO)(OO)}return L_(N_)}function kO(r){return document.body.appendChild(r)}function RO(r){var s=document.createElement("script");return r&&(s.src=r),s}function wO(r){var s=sg(function(c){var h=c.config,f=c.reject;return{config:h,reject:f}}),n=RO("".concat(s.config.paths.vs,"/loader.js"));return n.onload=function(){return r()},n.onerror=s.reject,n}function OO(){var r=sg(function(n){var c=n.config,h=n.resolve,f=n.reject;return{config:c,resolve:h,reject:f}}),s=window.require;s.config(r.config),s(["vs/editor/editor.main"],function(n){qv(n),r.resolve(n)},function(n){r.reject(n)})}function qv(r){sg().monaco||_$({monaco:r})}function AO(){return sg(function(r){var s=r.monaco;return s})}var N_=new Promise(function(r,s){return _$({resolve:r,reject:s})}),Qv={config:IO,init:CO,__getMonacoInstance:AO},xO={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},M_=xO,LO={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},NO=LO;function MO({children:r}){return ar.createElement("div",{style:NO.container},r)}var DO=MO,PO=DO;function BO({width:r,height:s,isEditorReady:n,loading:c,_ref:h,className:f,wrapperProps:g}){return ar.createElement("section",{style:{...M_.wrapper,width:r,height:s},...g},!n&&ar.createElement(PO,null,c),ar.createElement("div",{ref:h,style:{...M_.fullWidth,...!n&&M_.hide},className:f}))}var FO=BO,Zv=w.memo(FO);function UO(r){w.useEffect(r,[])}var eS=UO;function HO(r,s,n=!0){let c=w.useRef(!0);w.useEffect(c.current||!n?()=>{c.current=!1}:r,s)}var Dn=HO;function Mf(){}function Nh(r,s,n,c){return GO(r,c)||VO(r,s,n,c)}function GO(r,s){return r.editor.getModel(tS(r,s))}function VO(r,s,n,c){return r.editor.createModel(s,n,c?tS(r,c):void 0)}function tS(r,s){return r.Uri.parse(s)}function WO({original:r,modified:s,language:n,originalLanguage:c,modifiedLanguage:h,originalModelPath:f,modifiedModelPath:g,keepCurrentOriginalModel:_=!1,keepCurrentModifiedModel:y=!1,theme:v="light",loading:I="Loading...",options:R={},height:N="100%",width:M="100%",className:x,wrapperProps:A={},beforeMount:B=Mf,onMount:W=Mf}){let[X,H]=w.useState(!1),[P,F]=w.useState(!0),J=w.useRef(null),Q=w.useRef(null),re=w.useRef(null),ae=w.useRef(W),S=w.useRef(B),oe=w.useRef(!1);eS(()=>{let Y=Qv.init();return Y.then(le=>(Q.current=le)&&F(!1)).catch(le=>(le==null?void 0:le.type)!=="cancelation"&&console.error("Monaco initialization: error:",le)),()=>J.current?Ee():Y.cancel()}),Dn(()=>{if(J.current&&Q.current){let Y=J.current.getOriginalEditor(),le=Nh(Q.current,r||"",c||n||"text",f||"");le!==Y.getModel()&&Y.setModel(le)}},[f],X),Dn(()=>{if(J.current&&Q.current){let Y=J.current.getModifiedEditor(),le=Nh(Q.current,s||"",h||n||"text",g||"");le!==Y.getModel()&&Y.setModel(le)}},[g],X),Dn(()=>{let Y=J.current.getModifiedEditor();Y.getOption(Q.current.editor.EditorOption.readOnly)?Y.setValue(s||""):s!==Y.getValue()&&(Y.executeEdits("",[{range:Y.getModel().getFullModelRange(),text:s||"",forceMoveMarkers:!0}]),Y.pushUndoStop())},[s],X),Dn(()=>{var Y,le;(le=(Y=J.current)==null?void 0:Y.getModel())==null||le.original.setValue(r||"")},[r],X),Dn(()=>{let{original:Y,modified:le}=J.current.getModel();Q.current.editor.setModelLanguage(Y,c||n||"text"),Q.current.editor.setModelLanguage(le,h||n||"text")},[n,c,h],X),Dn(()=>{var Y;(Y=Q.current)==null||Y.editor.setTheme(v)},[v],X),Dn(()=>{var Y;(Y=J.current)==null||Y.updateOptions(R)},[R],X);let $e=w.useCallback(()=>{var ve;if(!Q.current)return;S.current(Q.current);let Y=Nh(Q.current,r||"",c||n||"text",f||""),le=Nh(Q.current,s||"",h||n||"text",g||"");(ve=J.current)==null||ve.setModel({original:Y,modified:le})},[n,s,h,r,c,f,g]),fe=w.useCallback(()=>{var Y;!oe.current&&re.current&&(J.current=Q.current.editor.createDiffEditor(re.current,{automaticLayout:!0,...R}),$e(),(Y=Q.current)==null||Y.editor.setTheme(v),H(!0),oe.current=!0)},[R,v,$e]);w.useEffect(()=>{X&&ae.current(J.current,Q.current)},[X]),w.useEffect(()=>{!P&&!X&&fe()},[P,X,fe]);function Ee(){var le,ve,me,de;let Y=(le=J.current)==null?void 0:le.getModel();_||((ve=Y==null?void 0:Y.original)==null||ve.dispose()),y||((me=Y==null?void 0:Y.modified)==null||me.dispose()),(de=J.current)==null||de.dispose()}return ar.createElement(Zv,{width:M,height:N,isEditorReady:X,loading:I,_ref:re,className:x,wrapperProps:A})}var zO=WO;w.memo(zO);function jO(r){let s=w.useRef();return w.useEffect(()=>{s.current=r},[r]),s.current}var XO=jO,Sm=new Map;function YO({defaultValue:r,defaultLanguage:s,defaultPath:n,value:c,language:h,path:f,theme:g="light",line:_,loading:y="Loading...",options:v={},overrideServices:I={},saveViewState:R=!0,keepCurrentModel:N=!1,width:M="100%",height:x="100%",className:A,wrapperProps:B={},beforeMount:W=Mf,onMount:X=Mf,onChange:H,onValidate:P=Mf}){let[F,J]=w.useState(!1),[Q,re]=w.useState(!0),ae=w.useRef(null),S=w.useRef(null),oe=w.useRef(null),$e=w.useRef(X),fe=w.useRef(W),Ee=w.useRef(),Y=w.useRef(c),le=XO(f),ve=w.useRef(!1),me=w.useRef(!1);eS(()=>{let ie=Qv.init();return ie.then(be=>(ae.current=be)&&re(!1)).catch(be=>(be==null?void 0:be.type)!=="cancelation"&&console.error("Monaco initialization: error:",be)),()=>S.current?U():ie.cancel()}),Dn(()=>{var be,Ae,ge,Ue;let ie=Nh(ae.current,r||c||"",s||h||"",f||n||"");ie!==((be=S.current)==null?void 0:be.getModel())&&(R&&Sm.set(le,(Ae=S.current)==null?void 0:Ae.saveViewState()),(ge=S.current)==null||ge.setModel(ie),R&&((Ue=S.current)==null||Ue.restoreViewState(Sm.get(f))))},[f],F),Dn(()=>{var ie;(ie=S.current)==null||ie.updateOptions(v)},[v],F),Dn(()=>{!S.current||c===void 0||(S.current.getOption(ae.current.editor.EditorOption.readOnly)?S.current.setValue(c):c!==S.current.getValue()&&(me.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:c,forceMoveMarkers:!0}]),S.current.pushUndoStop(),me.current=!1))},[c],F),Dn(()=>{var be,Ae;let ie=(be=S.current)==null?void 0:be.getModel();ie&&h&&((Ae=ae.current)==null||Ae.editor.setModelLanguage(ie,h))},[h],F),Dn(()=>{var ie;_!==void 0&&((ie=S.current)==null||ie.revealLine(_))},[_],F),Dn(()=>{var ie;(ie=ae.current)==null||ie.editor.setTheme(g)},[g],F);let de=w.useCallback(()=>{var ie;if(!(!oe.current||!ae.current)&&!ve.current){fe.current(ae.current);let be=f||n,Ae=Nh(ae.current,c||r||"",s||h||"",be||"");S.current=(ie=ae.current)==null?void 0:ie.editor.create(oe.current,{model:Ae,automaticLayout:!0,...v},I),R&&S.current.restoreViewState(Sm.get(be)),ae.current.editor.setTheme(g),_!==void 0&&S.current.revealLine(_),J(!0),ve.current=!0}},[r,s,n,c,h,f,v,I,R,g,_]);w.useEffect(()=>{F&&$e.current(S.current,ae.current)},[F]),w.useEffect(()=>{!Q&&!F&&de()},[Q,F,de]),Y.current=c,w.useEffect(()=>{var ie,be;F&&H&&((ie=Ee.current)==null||ie.dispose(),Ee.current=(be=S.current)==null?void 0:be.onDidChangeModelContent(Ae=>{me.current||H(S.current.getValue(),Ae)}))},[F,H]),w.useEffect(()=>{if(F){let ie=ae.current.editor.onDidChangeMarkers(be=>{var ge;let Ae=(ge=S.current.getModel())==null?void 0:ge.uri;if(Ae&&be.find(Ue=>Ue.path===Ae.path)){let Ue=ae.current.editor.getModelMarkers({resource:Ae});P==null||P(Ue)}});return()=>{ie==null||ie.dispose()}}return()=>{}},[F,P]);function U(){var ie,be;(ie=Ee.current)==null||ie.dispose(),N?R&&Sm.set(f,S.current.saveViewState()):(be=S.current.getModel())==null||be.dispose(),S.current.dispose()}return ar.createElement(Zv,{width:M,height:x,isEditorReady:F,loading:y,_ref:oe,className:A,wrapperProps:B})}var KO=YO,JO=w.memo(KO),oS=JO;const zr=w.createContext({});function qO(){const{replaceCode:r,setReplaceCode:s,setToUpdate:n}=w.useContext(zr),[c,h]=w.useState("100px"),f=w.useCallback(_=>{s(_),n(!0)},[s,n]),g=_=>{const y=_.getModel();if(y){const v=y.getLineCount(),I=Math.min(Math.max(100,v*19),150);h(`${I}px`)}_.onDidChangeModelContent(()=>{var R;const v=((R=_.getModel())==null?void 0:R.getLineCount())||1,I=Math.min(Math.max(100,v*19),150);h(`${I}px`)})};return D.jsxs(Er,{sx:{mt:2,width:"100%"},children:[D.jsx(rr,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Replacement String"}),D.jsx(oS,{height:c,defaultLanguage:"text",onChange:f,value:r||"pattern = ",onMount:g,theme:"vs-dark",options:{wordWrap:"on",minimap:{enabled:!1},links:!1,scrollbar:{horizontal:"hidden"},fontSize:14,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:"none",scrollBeyondLastLine:!1,automaticLayout:!0}})]})}let ay=0;function QO(r){const[s,n]=w.useState(r),c=r||s;return w.useEffect(()=>{s==null&&(ay+=1,n(`mui-${ay}`))},[s]),c}const ZO={...H_},cy=ZO.useId;function T$(r){if(cy!==void 0){const s=cy();return r??s}return QO(r)}function rS(r,s=166){let n;function c(...h){const f=()=>{r.apply(this,h)};clearTimeout(n),n=setTimeout(f,s)}return c.clear=()=>{clearTimeout(n)},c}function Ho(...r){const s=w.useRef(void 0),n=w.useCallback(c=>{const h=r.map(f=>{if(f==null)return null;if(typeof f=="function"){const g=f,_=g(c);return typeof _=="function"?_:()=>{g(null)}}return f.current=c,()=>{f.current=null}});return()=>{h.forEach(f=>f==null?void 0:f())}},r);return w.useMemo(()=>r.every(c=>c==null)?null:c=>{s.current&&(s.current(),s.current=void 0),c!=null&&(s.current=n(c))},r)}function sa(r){const s=w.useRef(r);return fi(()=>{s.current=r}),w.useRef((...n)=>(0,s.current)(...n)).current}function Fn(r){return r&&r.ownerDocument||document}function ca(r){return Fn(r).defaultView||window}function Im(r){return parseInt(r,10)||0}const eA={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function tA(r){for(const s in r)return!1;return!0}function uy(r){return tA(r)||r.outerHeightStyle===0&&!r.overflowing}const oA=w.forwardRef(function(s,n){const{onChange:c,maxRows:h,minRows:f=1,style:g,value:_,...y}=s,{current:v}=w.useRef(_!=null),I=w.useRef(null),R=Ho(n,I),N=w.useRef(null),M=w.useRef(null),x=w.useCallback(()=>{const H=I.current,P=M.current;if(!H||!P)return;const J=ca(H).getComputedStyle(H);if(J.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=J.width,P.value=H.value||s.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const Q=J.boxSizing,re=Im(J.paddingBottom)+Im(J.paddingTop),ae=Im(J.borderBottomWidth)+Im(J.borderTopWidth),S=P.scrollHeight;P.value="x";const oe=P.scrollHeight;let $e=S;f&&($e=Math.max(Number(f)*oe,$e)),h&&($e=Math.min(Number(h)*oe,$e)),$e=Math.max($e,oe);const fe=$e+(Q==="border-box"?re+ae:0),Ee=Math.abs($e-S)<=1;return{outerHeightStyle:fe,overflowing:Ee}},[h,f,s.placeholder]),A=sa(()=>{const H=I.current,P=x();if(!H||!P||uy(P))return!1;const F=P.outerHeightStyle;return N.current!=null&&N.current!==F}),B=w.useCallback(()=>{const H=I.current,P=x();if(!H||!P||uy(P))return;const F=P.outerHeightStyle;N.current!==F&&(N.current=F,H.style.height=`${F}px`),H.style.overflow=P.overflowing?"hidden":""},[x]),W=w.useRef(-1);fi(()=>{const H=rS(B),P=I==null?void 0:I.current;if(!P)return;const F=ca(P);F.addEventListener("resize",H);let J;return typeof ResizeObserver<"u"&&(J=new ResizeObserver(()=>{A()&&(J.unobserve(P),cancelAnimationFrame(W.current),B(),W.current=requestAnimationFrame(()=>{J.observe(P)}))}),J.observe(P)),()=>{H.clear(),cancelAnimationFrame(W.current),F.removeEventListener("resize",H),J&&J.disconnect()}},[x,B,A]),fi(()=>{B()});const X=H=>{v||B();const P=H.target,F=P.value.length,J=P.value.endsWith(`
`),Q=P.selectionStart===F;J&&Q&&P.setSelectionRange(F,F),c&&c(H)};return D.jsxs(w.Fragment,{children:[D.jsx("textarea",{value:_,onChange:X,ref:R,rows:f,style:g,...y}),D.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:M,tabIndex:-1,style:{...eA.shadow,...g,paddingTop:0,paddingBottom:0}})]})});function Xf(r){return typeof r=="string"}function Kh({props:r,states:s,muiFormControl:n}){return s.reduce((c,h)=>(c[h]=r[h],n&&typeof r[h]>"u"&&(c[h]=n[h]),c),{})}const NT=w.createContext(void 0);function Jh(){return w.useContext(NT)}function dy(r){return r!=null&&!(Array.isArray(r)&&r.length===0)}function e$(r,s=!1){return r&&(dy(r.value)&&r.value!==""||s&&dy(r.defaultValue)&&r.defaultValue!=="")}function rA(r){return r.startAdornment}function nA(r){return Ct("MuiInputBase",r)}const Uh=kt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var hy;const b$=(r,s)=>{const{ownerState:n}=r;return[s.root,n.formControl&&s.formControl,n.startAdornment&&s.adornedStart,n.endAdornment&&s.adornedEnd,n.error&&s.error,n.size==="small"&&s.sizeSmall,n.multiline&&s.multiline,n.color&&s[`color${Ke(n.color)}`],n.fullWidth&&s.fullWidth,n.hiddenLabel&&s.hiddenLabel]},E$=(r,s)=>{const{ownerState:n}=r;return[s.input,n.size==="small"&&s.inputSizeSmall,n.multiline&&s.inputMultiline,n.type==="search"&&s.inputTypeSearch,n.startAdornment&&s.inputAdornedStart,n.endAdornment&&s.inputAdornedEnd,n.hiddenLabel&&s.inputHiddenLabel]},iA=r=>{const{classes:s,color:n,disabled:c,error:h,endAdornment:f,focused:g,formControl:_,fullWidth:y,hiddenLabel:v,multiline:I,readOnly:R,size:N,startAdornment:M,type:x}=r,A={root:["root",`color${Ke(n)}`,c&&"disabled",h&&"error",y&&"fullWidth",g&&"focused",_&&"formControl",N&&N!=="medium"&&`size${Ke(N)}`,I&&"multiline",M&&"adornedStart",f&&"adornedEnd",v&&"hiddenLabel",R&&"readOnly"],input:["input",c&&"disabled",x==="search"&&"inputTypeSearch",I&&"inputMultiline",N==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",M&&"inputAdornedStart",f&&"inputAdornedEnd",R&&"readOnly"]};return Rt(A,nA,s)},y$=Qe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:b$})(Ht(({theme:r})=>({...r.typography.body1,color:(r.vars||r).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Uh.disabled}`]:{color:(r.vars||r).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:n})=>s.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),v$=Qe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:E$})(Ht(({theme:r})=>{const s=r.palette.mode==="light",n={color:"currentColor",...r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:r.transitions.create("opacity",{duration:r.transitions.duration.shorter})},c={opacity:"0 !important"},h=r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Uh.formControl} &`]:{"&::-webkit-input-placeholder":c,"&::-moz-placeholder":c,"&::-ms-input-placeholder":c,"&:focus::-webkit-input-placeholder":h,"&:focus::-moz-placeholder":h,"&:focus::-ms-input-placeholder":h},[`&.${Uh.disabled}`]:{opacity:1,WebkitTextFillColor:(r.vars||r).palette.text.disabled},variants:[{props:({ownerState:f})=>!f.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:f})=>f.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),py=xT({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),MT=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiInputBase"}),{"aria-describedby":h,autoComplete:f,autoFocus:g,className:_,color:y,components:v={},componentsProps:I={},defaultValue:R,disabled:N,disableInjectingGlobalStyles:M,endAdornment:x,error:A,fullWidth:B=!1,id:W,inputComponent:X="input",inputProps:H={},inputRef:P,margin:F,maxRows:J,minRows:Q,multiline:re=!1,name:ae,onBlur:S,onChange:oe,onClick:$e,onFocus:fe,onKeyDown:Ee,onKeyUp:Y,placeholder:le,readOnly:ve,renderSuffix:me,rows:de,size:U,slotProps:ie={},slots:be={},startAdornment:Ae,type:ge="text",value:Ue,...Ie}=c,De=H.value!=null?H.value:Ue,{current:Ne}=w.useRef(De!=null),ot=w.useRef(),Je=w.useCallback(b=>{},[]),st=Ho(ot,P,H.ref,Je),[Ce,gt]=w.useState(!1),He=Jh(),bt=Kh({props:c,muiFormControl:He,states:["color","disabled","error","hiddenLabel","size","required","filled"]});bt.focused=He?He.focused:Ce,w.useEffect(()=>{!He&&N&&Ce&&(gt(!1),S&&S())},[He,N,Ce,S]);const Ot=He&&He.onFilled,Et=He&&He.onEmpty,ft=w.useCallback(b=>{e$(b)?Ot&&Ot():Et&&Et()},[Ot,Et]);fi(()=>{Ne&&ft({value:De})},[De,ft,Ne]);const mt=b=>{fe&&fe(b),H.onFocus&&H.onFocus(b),He&&He.onFocus?He.onFocus(b):gt(!0)},dt=b=>{S&&S(b),H.onBlur&&H.onBlur(b),He&&He.onBlur?He.onBlur(b):gt(!1)},Tt=(b,...L)=>{if(!Ne){const K=b.target||ot.current;if(K==null)throw new Error(la(1));ft({value:K.value})}H.onChange&&H.onChange(b,...L),oe&&oe(b,...L)};w.useEffect(()=>{ft(ot.current)},[]);const Pe=b=>{ot.current&&b.currentTarget===b.target&&ot.current.focus(),$e&&$e(b)};let ce=X,Be=H;re&&ce==="input"&&(de?Be={type:void 0,minRows:de,maxRows:de,...Be}:Be={type:void 0,maxRows:J,minRows:Q,...Be},ce=oA);const bo=b=>{ft(b.animationName==="mui-auto-fill-cancel"?ot.current:{value:"x"})};w.useEffect(()=>{He&&He.setAdornedStart(!!Ae)},[He,Ae]);const ht={...c,color:bt.color||"primary",disabled:bt.disabled,endAdornment:x,error:bt.error,focused:bt.focused,formControl:He,fullWidth:B,hiddenLabel:bt.hiddenLabel,multiline:re,size:bt.size,startAdornment:Ae,type:ge},lo=iA(ht),at=be.root||v.Root||y$,jt=ie.root||I.root||{},j=be.input||v.Input||v$;return Be={...Be,...ie.input??I.input},D.jsxs(w.Fragment,{children:[!M&&typeof py=="function"&&(hy||(hy=D.jsx(py,{}))),D.jsxs(at,{...jt,ref:n,onClick:Pe,...Ie,...!Xf(at)&&{ownerState:{...ht,...jt.ownerState}},className:lt(lo.root,jt.className,_,ve&&"MuiInputBase-readOnly"),children:[Ae,D.jsx(NT.Provider,{value:null,children:D.jsx(j,{"aria-invalid":bt.error,"aria-describedby":h,autoComplete:f,autoFocus:g,defaultValue:R,disabled:bt.disabled,id:W,onAnimationStart:bo,name:ae,placeholder:le,readOnly:ve,required:bt.required,rows:de,value:De,onKeyDown:Ee,onKeyUp:Y,type:ge,...Be,...!Xf(j)&&{as:ce,ownerState:{...ht,...Be.ownerState}},ref:st,className:lt(lo.input,Be.className,ve&&"MuiInputBase-readOnly"),onBlur:dt,onChange:Tt,onFocus:mt})}),x,me?me({...bt,startAdornment:Ae}):null]})]})});function sA(r){return Ct("MuiInput",r)}const vf={...Uh,...kt("MuiInput",["root","underline","input"])},lA=r=>{const{classes:s,disableUnderline:n}=r,h=Rt({root:["root",!n&&"underline"],input:["input"]},sA,s);return{...s,...h}},aA=Qe(y$,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiInput",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[...b$(r,s),!n.disableUnderline&&s.underline]}})(Ht(({theme:r})=>{let n=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(n=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:c})=>c.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${vf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${vf.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${vf.disabled}, .${vf.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${vf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(r.palette).filter(sn()).map(([c])=>({props:{color:c,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[c].main}`}}}))]}})),cA=Qe(v$,{name:"MuiInput",slot:"Input",overridesResolver:E$})({}),DT=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiInput"}),{disableUnderline:h=!1,components:f={},componentsProps:g,fullWidth:_=!1,inputComponent:y="input",multiline:v=!1,slotProps:I,slots:R={},type:N="text",...M}=c,x=lA(c),B={root:{ownerState:{disableUnderline:h}}},W=I??g?Or(I??g,B):B,X=R.root??f.Root??aA,H=R.input??f.Input??cA;return D.jsx(MT,{slots:{root:X,input:H},slotProps:W,fullWidth:_,inputComponent:y,multiline:v,ref:n,type:N,...M,classes:x})});DT.muiName="Input";function uA(r){return Ct("MuiFilledInput",r)}const Du={...Uh,...kt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])};function fy(...r){return r.reduce((s,n)=>n==null?s:function(...h){s.apply(this,h),n.apply(this,h)},()=>{})}function dA(r){return Ct("MuiSvgIcon",r)}kt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const hA=r=>{const{color:s,fontSize:n,classes:c}=r,h={root:["root",s!=="inherit"&&`color${Ke(s)}`,`fontSize${Ke(n)}`]};return Rt(h,dA,c)},pA=Qe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.color!=="inherit"&&s[`color${Ke(n.color)}`],s[`fontSize${Ke(n.fontSize)}`]]}})(Ht(({theme:r})=>{var s,n,c,h,f,g,_,y,v,I,R,N,M,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(h=(s=r.transitions)==null?void 0:s.create)==null?void 0:h.call(s,"fill",{duration:(c=(n=(r.vars??r).transitions)==null?void 0:n.duration)==null?void 0:c.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((g=(f=r.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((y=(_=r.typography)==null?void 0:_.pxToRem)==null?void 0:y.call(_,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((I=(v=r.typography)==null?void 0:v.pxToRem)==null?void 0:I.call(v,35))||"2.1875rem"}},...Object.entries((r.vars??r).palette).filter(([,A])=>A&&A.main).map(([A])=>{var B,W;return{props:{color:A},style:{color:(W=(B=(r.vars??r).palette)==null?void 0:B[A])==null?void 0:W.main}}}),{props:{color:"action"},style:{color:(N=(R=(r.vars??r).palette)==null?void 0:R.action)==null?void 0:N.active}},{props:{color:"disabled"},style:{color:(x=(M=(r.vars??r).palette)==null?void 0:M.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),J_=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiSvgIcon"}),{children:h,className:f,color:g="inherit",component:_="svg",fontSize:y="medium",htmlColor:v,inheritViewBox:I=!1,titleAccess:R,viewBox:N="0 0 24 24",...M}=c,x=w.isValidElement(h)&&h.type==="svg",A={...c,color:g,component:_,fontSize:y,instanceFontSize:s.fontSize,inheritViewBox:I,viewBox:N,hasSvgAsChild:x},B={};I||(B.viewBox=N);const W=hA(A);return D.jsxs(pA,{as:_,className:lt(W.root,f),focusable:"false",color:v,"aria-hidden":R?void 0:!0,role:R?"img":void 0,ref:n,...B,...M,...x&&h.props,ownerState:A,children:[x?h.props.children:h,R?D.jsx("title",{children:R}):null]})});J_.muiName="SvgIcon";function qh(r,s){function n(c,h){return D.jsx(J_,{"data-testid":void 0,ref:h,...c,children:r})}return n.muiName=J_.muiName,w.memo(w.forwardRef(n))}function gy(r,s){typeof r=="function"?r(s):r&&(r.current=s)}function q_(r){const{controlled:s,default:n,name:c,state:h="value"}=r,{current:f}=w.useRef(s!==void 0),[g,_]=w.useState(n),y=f?s:g,v=w.useCallback(I=>{f||_(I)},[]);return[y,v]}function fA(r,s){const n=r.charCodeAt(2);return r[0]==="o"&&r[1]==="n"&&n>=65&&n<=90&&typeof s=="function"}function gA(r,s){if(!r)return s;function n(g,_){const y={};return Object.keys(_).forEach(v=>{fA(v,_[v])&&typeof g[v]=="function"&&(y[v]=(...I)=>{g[v](...I),_[v](...I)})}),y}if(typeof r=="function"||typeof s=="function")return g=>{const _=typeof s=="function"?s(g):s,y=typeof r=="function"?r({...g,..._}):r,v=lt(g==null?void 0:g.className,_==null?void 0:_.className,y==null?void 0:y.className),I=n(y,_);return{..._,...y,...I,...!!v&&{className:v},...(_==null?void 0:_.style)&&(y==null?void 0:y.style)&&{style:{..._.style,...y.style}},...(_==null?void 0:_.sx)&&(y==null?void 0:y.sx)&&{sx:[...Array.isArray(_.sx)?_.sx:[_.sx],...Array.isArray(y.sx)?y.sx:[y.sx]]}}};const c=s,h=n(r,c),f=lt(c==null?void 0:c.className,r==null?void 0:r.className);return{...s,...r,...h,...!!f&&{className:f},...(c==null?void 0:c.style)&&(r==null?void 0:r.style)&&{style:{...c.style,...r.style}},...(c==null?void 0:c.sx)&&(r==null?void 0:r.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(r.sx)?r.sx:[r.sx]]}}}const mA=r=>{const{classes:s,disableUnderline:n,startAdornment:c,endAdornment:h,size:f,hiddenLabel:g,multiline:_}=r,y={root:["root",!n&&"underline",c&&"adornedStart",h&&"adornedEnd",f==="small"&&`size${Ke(f)}`,g&&"hiddenLabel",_&&"multiline"],input:["input"]},v=Rt(y,uA,s);return{...s,...v}},$A=Qe(y$,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[...b$(r,s),!n.disableUnderline&&s.underline]}})(Ht(({theme:r})=>{const s=r.palette.mode==="light",n=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",h=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:r.vars?r.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:h,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:c}},[`&.${Du.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:c},[`&.${Du.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:f},variants:[{props:({ownerState:g})=>!g.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Du.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Du.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Du.disabled}, .${Du.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${Du.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(r.palette).filter(sn()).map(([g])=>{var _;return{props:{disableUnderline:!1,color:g},style:{"&::after":{borderBottom:`2px solid ${(_=(r.vars||r).palette[g])==null?void 0:_.main}`}}}}),{props:({ownerState:g})=>g.startAdornment,style:{paddingLeft:12}},{props:({ownerState:g})=>g.endAdornment,style:{paddingRight:12}},{props:({ownerState:g})=>g.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:g,size:_})=>g.multiline&&_==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:g})=>g.multiline&&g.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:g})=>g.multiline&&g.hiddenLabel&&g.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),_A=Qe(v$,{name:"MuiFilledInput",slot:"Input",overridesResolver:E$})(Ht(({theme:r})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...r.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),PT=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiFilledInput"}),{disableUnderline:h=!1,components:f={},componentsProps:g,fullWidth:_=!1,hiddenLabel:y,inputComponent:v="input",multiline:I=!1,slotProps:R,slots:N={},type:M="text",...x}=c,A={...c,disableUnderline:h,fullWidth:_,inputComponent:v,multiline:I,type:M},B=mA(c),W={root:{ownerState:A},input:{ownerState:A}},X=R??g?Or(W,R??g):W,H=N.root??f.Root??$A,P=N.input??f.Input??_A;return D.jsx(MT,{slots:{root:H,input:P},slotProps:X,fullWidth:_,inputComponent:v,multiline:I,ref:n,type:M,...x,classes:B})});PT.muiName="Input";var my;const TA=Qe("fieldset",{shouldForwardProp:_i})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),bA=Qe("legend",{shouldForwardProp:_i})(Ht(({theme:r})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}}]})));function EA(r){const{children:s,classes:n,className:c,label:h,notched:f,...g}=r,_=h!=null&&h!=="",y={...r,notched:f,withLabel:_};return D.jsx(TA,{"aria-hidden":!0,className:c,ownerState:y,...g,children:D.jsx(bA,{ownerState:y,children:_?D.jsx("span",{children:h}):my||(my=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function yA(r){return Ct("MuiOutlinedInput",r)}const Ys={...Uh,...kt("MuiOutlinedInput",["root","notchedOutline","input"])};function vA(r){return typeof r=="string"}function nS(r,s,n){return r===void 0||vA(r)?s:{...s,ownerState:{...s.ownerState,...n}}}function iS(r,s,n){return typeof r=="function"?r(s,n):r}function sS(r,s=[]){if(r===void 0)return{};const n={};return Object.keys(r).filter(c=>c.match(/^on[A-Z]/)&&typeof r[c]=="function"&&!s.includes(c)).forEach(c=>{n[c]=r[c]}),n}function $y(r){if(r===void 0)return{};const s={};return Object.keys(r).filter(n=>!(n.match(/^on[A-Z]/)&&typeof r[n]=="function")).forEach(n=>{s[n]=r[n]}),s}function lS(r){const{getSlotProps:s,additionalProps:n,externalSlotProps:c,externalForwardedProps:h,className:f}=r;if(!s){const M=lt(n==null?void 0:n.className,f,h==null?void 0:h.className,c==null?void 0:c.className),x={...n==null?void 0:n.style,...h==null?void 0:h.style,...c==null?void 0:c.style},A={...n,...h,...c};return M.length>0&&(A.className=M),Object.keys(x).length>0&&(A.style=x),{props:A,internalRef:void 0}}const g=sS({...h,...c}),_=$y(c),y=$y(h),v=s(g),I=lt(v==null?void 0:v.className,n==null?void 0:n.className,f,h==null?void 0:h.className,c==null?void 0:c.className),R={...v==null?void 0:v.style,...n==null?void 0:n.style,...h==null?void 0:h.style,...c==null?void 0:c.style},N={...v,...n,...y,..._};return I.length>0&&(N.className=I),Object.keys(R).length>0&&(N.style=R),{props:N,internalRef:v.ref}}function Co(r,s){const{className:n,elementType:c,ownerState:h,externalForwardedProps:f,internalForwardedProps:g,shouldForwardComponentProp:_=!1,...y}=s,{component:v,slots:I={[r]:void 0},slotProps:R={[r]:void 0},...N}=f,M=I[r]||c,x=iS(R[r],h),{props:{component:A,...B},internalRef:W}=lS({className:n,...y,externalForwardedProps:r==="root"?N:void 0,externalSlotProps:x}),X=Ho(W,x==null?void 0:x.ref,s.ref),H=r==="root"?A||v:A,P=nS(M,{...r==="root"&&!v&&!I[r]&&g,...r!=="root"&&!I[r]&&g,...B,...H&&!_&&{as:H},...H&&_&&{component:H},ref:X},h);return[M,P]}const SA=r=>{const{classes:s}=r,c=Rt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},yA,s);return{...s,...c}},IA=Qe(y$,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:b$})(Ht(({theme:r})=>{const s=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${Ys.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ys.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${Ys.focused} .${Ys.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(r.palette).filter(sn()).map(([n])=>({props:{color:n},style:{[`&.${Ys.focused} .${Ys.notchedOutline}`]:{borderColor:(r.vars||r).palette[n].main}}})),{props:{},style:{[`&.${Ys.error} .${Ys.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},[`&.${Ys.disabled} .${Ys.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:c})=>n.multiline&&c==="small",style:{padding:"8.5px 14px"}}]}})),CA=Qe(EA,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ht(({theme:r})=>{const s=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:s}})),kA=Qe(v$,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:E$})(Ht(({theme:r})=>({padding:"16.5px 14px",...!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...r.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),BT=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiOutlinedInput"}),{components:h={},fullWidth:f=!1,inputComponent:g="input",label:_,multiline:y=!1,notched:v,slots:I={},slotProps:R={},type:N="text",...M}=c,x=SA(c),A=Jh(),B=Kh({props:c,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),W={...c,color:B.color||"primary",disabled:B.disabled,error:B.error,focused:B.focused,formControl:A,fullWidth:f,hiddenLabel:B.hiddenLabel,multiline:y,size:B.size,type:N},X=I.root??h.Root??IA,H=I.input??h.Input??kA,[P,F]=Co("notchedOutline",{elementType:CA,className:x.notchedOutline,shouldForwardComponentProp:!0,ownerState:W,externalForwardedProps:{slots:I,slotProps:R},additionalProps:{label:_!=null&&_!==""&&B.required?D.jsxs(w.Fragment,{children:[_,"","*"]}):_}});return D.jsx(MT,{slots:{root:X,input:H},slotProps:R,renderSuffix:J=>D.jsx(P,{...F,notched:typeof v<"u"?v:!!(J.startAdornment||J.filled||J.focused)}),fullWidth:f,inputComponent:g,multiline:y,ref:n,type:N,...M,classes:{...x,notchedOutline:null}})});BT.muiName="Input";function RA(r){return Ct("MuiFormLabel",r)}const Df=kt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),wA=r=>{const{classes:s,color:n,focused:c,disabled:h,error:f,filled:g,required:_}=r,y={root:["root",`color${Ke(n)}`,h&&"disabled",f&&"error",g&&"filled",c&&"focused",_&&"required"],asterisk:["asterisk",f&&"error"]};return Rt(y,RA,s)},OA=Qe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.color==="secondary"&&s.colorSecondary,n.filled&&s.filled]}})(Ht(({theme:r})=>({color:(r.vars||r).palette.text.secondary,...r.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(r.palette).filter(sn()).map(([s])=>({props:{color:s},style:{[`&.${Df.focused}`]:{color:(r.vars||r).palette[s].main}}})),{props:{},style:{[`&.${Df.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${Df.error}`]:{color:(r.vars||r).palette.error.main}}}]}))),AA=Qe("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ht(({theme:r})=>({[`&.${Df.error}`]:{color:(r.vars||r).palette.error.main}}))),xA=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiFormLabel"}),{children:h,className:f,color:g,component:_="label",disabled:y,error:v,filled:I,focused:R,required:N,...M}=c,x=Jh(),A=Kh({props:c,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),B={...c,color:A.color||"primary",component:_,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required},W=wA(B);return D.jsxs(OA,{as:_,ownerState:B,className:lt(W.root,f),ref:n,...M,children:[h,A.required&&D.jsxs(AA,{ownerState:B,"aria-hidden":!0,className:W.asterisk,children:["","*"]})]})});function LA(r){return Ct("MuiInputLabel",r)}kt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const NA=r=>{const{classes:s,formControl:n,size:c,shrink:h,disableAnimation:f,variant:g,required:_}=r,y={root:["root",n&&"formControl",!f&&"animated",h&&"shrink",c&&c!=="medium"&&`size${Ke(c)}`,g],asterisk:[_&&"asterisk"]},v=Rt(y,LA,s);return{...s,...v}},MA=Qe(xA,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[{[`& .${Df.asterisk}`]:s.asterisk},s.root,n.formControl&&s.formControl,n.size==="small"&&s.sizeSmall,n.shrink&&s.shrink,!n.disableAnimation&&s.animated,n.focused&&s.focused,s[n.variant]]}})(Ht(({theme:r})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:r.transitions.create(["color","transform","max-width"],{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:n})=>s==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:n,size:c})=>s==="filled"&&n.shrink&&c==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:n})=>s==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),lg=w.forwardRef(function(s,n){const c=wt({name:"MuiInputLabel",props:s}),{disableAnimation:h=!1,margin:f,shrink:g,variant:_,className:y,...v}=c,I=Jh();let R=g;typeof R>"u"&&I&&(R=I.filled||I.focused||I.adornedStart);const N=Kh({props:c,muiFormControl:I,states:["size","variant","required","focused"]}),M={...c,disableAnimation:h,formControl:I,shrink:R,size:N.size,variant:N.variant,required:N.required,focused:N.focused},x=NA(M);return D.jsx(MA,{"data-shrink":R,ref:n,className:lt(x.root,y),...v,ownerState:M,classes:x})});function DA(r){return Ct("MuiFormControl",r)}kt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const PA=r=>{const{classes:s,margin:n,fullWidth:c}=r,h={root:["root",n!=="none"&&`margin${Ke(n)}`,c&&"fullWidth"]};return Rt(h,DA,s)},BA=Qe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`margin${Ke(n.margin)}`],n.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ag=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiFormControl"}),{children:h,className:f,color:g="primary",component:_="div",disabled:y=!1,error:v=!1,focused:I,fullWidth:R=!1,hiddenLabel:N=!1,margin:M="none",required:x=!1,size:A="medium",variant:B="outlined",...W}=c,X={...c,color:g,component:_,disabled:y,error:v,fullWidth:R,hiddenLabel:N,margin:M,required:x,size:A,variant:B},H=PA(X),[P,F]=w.useState(()=>{let Y=!1;return h&&w.Children.forEach(h,le=>{if(!Nf(le,["Input","Select"]))return;const ve=Nf(le,["Select"])?le.props.input:le;ve&&rA(ve.props)&&(Y=!0)}),Y}),[J,Q]=w.useState(()=>{let Y=!1;return h&&w.Children.forEach(h,le=>{Nf(le,["Input","Select"])&&(e$(le.props,!0)||e$(le.props.inputProps,!0))&&(Y=!0)}),Y}),[re,ae]=w.useState(!1);y&&re&&ae(!1);const S=I!==void 0&&!y?I:re;let oe;w.useRef(!1);const $e=w.useCallback(()=>{Q(!0)},[]),fe=w.useCallback(()=>{Q(!1)},[]),Ee=w.useMemo(()=>({adornedStart:P,setAdornedStart:F,color:g,disabled:y,error:v,filled:J,focused:S,fullWidth:R,hiddenLabel:N,size:A,onBlur:()=>{ae(!1)},onFocus:()=>{ae(!0)},onEmpty:fe,onFilled:$e,registerEffect:oe,required:x,variant:B}),[P,g,y,v,J,S,R,N,oe,fe,$e,x,A,B]);return D.jsx(NT.Provider,{value:Ee,children:D.jsx(BA,{as:_,ownerState:X,className:lt(H.root,f),ref:n,...W,children:h})})});function FA(r){return Ct("MuiFormHelperText",r)}const _y=kt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Ty;const UA=r=>{const{classes:s,contained:n,size:c,disabled:h,error:f,filled:g,focused:_,required:y}=r,v={root:["root",h&&"disabled",f&&"error",c&&`size${Ke(c)}`,n&&"contained",_&&"focused",g&&"filled",y&&"required"]};return Rt(v,FA,s)},HA=Qe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.size&&s[`size${Ke(n.size)}`],n.contained&&s.contained,n.filled&&s.filled]}})(Ht(({theme:r})=>({color:(r.vars||r).palette.text.secondary,...r.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${_y.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${_y.error}`]:{color:(r.vars||r).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),GA=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiFormHelperText"}),{children:h,className:f,component:g="p",disabled:_,error:y,filled:v,focused:I,margin:R,required:N,variant:M,...x}=c,A=Jh(),B=Kh({props:c,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),W={...c,component:g,contained:B.variant==="filled"||B.variant==="outlined",variant:B.variant,size:B.size,disabled:B.disabled,error:B.error,filled:B.filled,focused:B.focused,required:B.required};delete W.ownerState;const X=UA(W);return D.jsx(HA,{as:g,className:lt(X.root,f),ref:n,...x,ownerState:W,children:h===" "?Ty||(Ty=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):h})});function Qh(r){var s;return parseInt(w.version,10)>=19?((s=r==null?void 0:r.props)==null?void 0:s.ref)||null:(r==null?void 0:r.ref)||null}function aS(r){var R;const{elementType:s,externalSlotProps:n,ownerState:c,skipResolvingSlotProps:h=!1,...f}=r,g=h?{}:iS(n,c),{props:_,internalRef:y}=lS({...f,externalSlotProps:g}),v=Ho(y,g==null?void 0:g.ref,(R=r.additionalProps)==null?void 0:R.ref);return nS(s,{..._,ref:v},c)}const el=w.createContext({});function VA(r){return Ct("MuiList",r)}kt("MuiList",["root","padding","dense","subheader"]);const WA=r=>{const{classes:s,disablePadding:n,dense:c,subheader:h}=r;return Rt({root:["root",!n&&"padding",c&&"dense",h&&"subheader"]},VA,s)},zA=Qe("ul",{name:"MuiList",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,!n.disablePadding&&s.padding,n.dense&&s.dense,n.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:r})=>!r.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:r})=>r.subheader,style:{paddingTop:0}}]}),cg=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiList"}),{children:h,className:f,component:g="ul",dense:_=!1,disablePadding:y=!1,subheader:v,...I}=c,R=w.useMemo(()=>({dense:_}),[_]),N={...c,component:g,dense:_,disablePadding:y},M=WA(N);return D.jsx(el.Provider,{value:R,children:D.jsxs(zA,{as:g,className:lt(M.root,f),ref:n,ownerState:N,...I,children:[v,h]})})});function cS(r=window){const s=r.document.documentElement.clientWidth;return r.innerWidth-s}function D_(r,s,n){return r===s?r.firstChild:s&&s.nextElementSibling?s.nextElementSibling:n?null:r.firstChild}function by(r,s,n){return r===s?n?r.firstChild:r.lastChild:s&&s.previousElementSibling?s.previousElementSibling:n?null:r.lastChild}function uS(r,s){if(s===void 0)return!0;let n=r.innerText;return n===void 0&&(n=r.textContent),n=n.trim().toLowerCase(),n.length===0?!1:s.repeating?n[0]===s.keys[0]:n.startsWith(s.keys.join(""))}function Sf(r,s,n,c,h,f){let g=!1,_=h(r,s,s?n:!1);for(;_;){if(_===r.firstChild){if(g)return!1;g=!0}const y=c?!1:_.disabled||_.getAttribute("aria-disabled")==="true";if(!_.hasAttribute("tabindex")||!uS(_,f)||y)_=h(r,_,n);else return _.focus(),!0}return!1}const jA=w.forwardRef(function(s,n){const{actions:c,autoFocus:h=!1,autoFocusItem:f=!1,children:g,className:_,disabledItemsFocusable:y=!1,disableListWrap:v=!1,onKeyDown:I,variant:R="selectedMenu",...N}=s,M=w.useRef(null),x=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fi(()=>{h&&M.current.focus()},[h]),w.useImperativeHandle(c,()=>({adjustStyleForScrollbar:(H,{direction:P})=>{const F=!M.current.style.width;if(H.clientHeight<M.current.clientHeight&&F){const J=`${cS(ca(H))}px`;M.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=J,M.current.style.width=`calc(100% + ${J})`}return M.current}}),[]);const A=H=>{const P=M.current,F=H.key;if(H.ctrlKey||H.metaKey||H.altKey){I&&I(H);return}const Q=Fn(P).activeElement;if(F==="ArrowDown")H.preventDefault(),Sf(P,Q,v,y,D_);else if(F==="ArrowUp")H.preventDefault(),Sf(P,Q,v,y,by);else if(F==="Home")H.preventDefault(),Sf(P,null,v,y,D_);else if(F==="End")H.preventDefault(),Sf(P,null,v,y,by);else if(F.length===1){const re=x.current,ae=F.toLowerCase(),S=performance.now();re.keys.length>0&&(S-re.lastTime>500?(re.keys=[],re.repeating=!0,re.previousKeyMatched=!0):re.repeating&&ae!==re.keys[0]&&(re.repeating=!1)),re.lastTime=S,re.keys.push(ae);const oe=Q&&!re.repeating&&uS(Q,re);re.previousKeyMatched&&(oe||Sf(P,Q,!1,y,D_,re))?H.preventDefault():re.previousKeyMatched=!1}I&&I(H)},B=Ho(M,n);let W=-1;w.Children.forEach(g,(H,P)=>{if(!w.isValidElement(H)){W===P&&(W+=1,W>=g.length&&(W=-1));return}H.props.disabled||(R==="selectedMenu"&&H.props.selected||W===-1)&&(W=P),W===P&&(H.props.disabled||H.props.muiSkipListHighlight||H.type.muiSkipListHighlight)&&(W+=1,W>=g.length&&(W=-1))});const X=w.Children.map(g,(H,P)=>{if(P===W){const F={};return f&&(F.autoFocus=!0),H.props.tabIndex===void 0&&R==="selectedMenu"&&(F.tabIndex=0),w.cloneElement(H,F)}return H});return D.jsx(cg,{role:"menu",ref:B,className:_,onKeyDown:A,tabIndex:h?0:-1,...N,children:X})}),Ey={};function dS(r,s){const n=w.useRef(Ey);return n.current===Ey&&(n.current=r(s)),n}const XA=[];function YA(r){w.useEffect(r,XA)}class S${constructor(){Tf(this,"currentId",null);Tf(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Tf(this,"disposeEffect",()=>this.clear)}static create(){return new S$}start(s,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},s)}}function Fu(){const r=dS(S$.create).current;return YA(r.disposeEffect),r}function hS(r,s){if(r==null)return{};var n={};for(var c in r)if({}.hasOwnProperty.call(r,c)){if(s.indexOf(c)!==-1)continue;n[c]=r[c]}return n}function Q_(r,s){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,c){return n.__proto__=c,n},Q_(r,s)}function pS(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,Q_(r,s)}var fS=iv();const Cm=aT(fS),yy={disabled:!1},t$=ar.createContext(null);var KA=function(s){return s.scrollTop},xf="unmounted",Pu="exited",Bu="entering",xh="entered",Z_="exiting",as=function(r){pS(s,r);function s(c,h){var f;f=r.call(this,c,h)||this;var g=h,_=g&&!g.isMounting?c.enter:c.appear,y;return f.appearStatus=null,c.in?_?(y=Pu,f.appearStatus=Bu):y=xh:c.unmountOnExit||c.mountOnEnter?y=xf:y=Pu,f.state={status:y},f.nextCallback=null,f}s.getDerivedStateFromProps=function(h,f){var g=h.in;return g&&f.status===xf?{status:Pu}:null};var n=s.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(h){var f=null;if(h!==this.props){var g=this.state.status;this.props.in?g!==Bu&&g!==xh&&(f=Bu):(g===Bu||g===xh)&&(f=Z_)}this.updateStatus(!1,f)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var h=this.props.timeout,f,g,_;return f=g=_=h,h!=null&&typeof h!="number"&&(f=h.exit,g=h.enter,_=h.appear!==void 0?h.appear:g),{exit:f,enter:g,appear:_}},n.updateStatus=function(h,f){if(h===void 0&&(h=!1),f!==null)if(this.cancelNextCallback(),f===Bu){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:Cm.findDOMNode(this);g&&KA(g)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pu&&this.setState({status:xf})},n.performEnter=function(h){var f=this,g=this.props.enter,_=this.context?this.context.isMounting:h,y=this.props.nodeRef?[_]:[Cm.findDOMNode(this),_],v=y[0],I=y[1],R=this.getTimeouts(),N=_?R.appear:R.enter;if(!h&&!g||yy.disabled){this.safeSetState({status:xh},function(){f.props.onEntered(v)});return}this.props.onEnter(v,I),this.safeSetState({status:Bu},function(){f.props.onEntering(v,I),f.onTransitionEnd(N,function(){f.safeSetState({status:xh},function(){f.props.onEntered(v,I)})})})},n.performExit=function(){var h=this,f=this.props.exit,g=this.getTimeouts(),_=this.props.nodeRef?void 0:Cm.findDOMNode(this);if(!f||yy.disabled){this.safeSetState({status:Pu},function(){h.props.onExited(_)});return}this.props.onExit(_),this.safeSetState({status:Z_},function(){h.props.onExiting(_),h.onTransitionEnd(g.exit,function(){h.safeSetState({status:Pu},function(){h.props.onExited(_)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(h,f){f=this.setNextCallback(f),this.setState(h,f)},n.setNextCallback=function(h){var f=this,g=!0;return this.nextCallback=function(_){g&&(g=!1,f.nextCallback=null,h(_))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},n.onTransitionEnd=function(h,f){this.setNextCallback(f);var g=this.props.nodeRef?this.props.nodeRef.current:Cm.findDOMNode(this),_=h==null&&!this.props.addEndListener;if(!g||_){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],v=y[0],I=y[1];this.props.addEndListener(v,I)}h!=null&&setTimeout(this.nextCallback,h)},n.render=function(){var h=this.state.status;if(h===xf)return null;var f=this.props,g=f.children;f.in,f.mountOnEnter,f.unmountOnExit,f.appear,f.enter,f.exit,f.timeout,f.addEndListener,f.onEnter,f.onEntering,f.onEntered,f.onExit,f.onExiting,f.onExited,f.nodeRef;var _=hS(f,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ar.createElement(t$.Provider,{value:null},typeof g=="function"?g(h,_):ar.cloneElement(ar.Children.only(g),_))},s}(ar.Component);as.contextType=t$;as.propTypes={};function Oh(){}as.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oh,onEntering:Oh,onEntered:Oh,onExit:Oh,onExiting:Oh,onExited:Oh};as.UNMOUNTED=xf;as.EXITED=Pu;as.ENTERING=Bu;as.ENTERED=xh;as.EXITING=Z_;function JA(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function FT(r,s){var n=function(f){return s&&w.isValidElement(f)?s(f):f},c=Object.create(null);return r&&w.Children.map(r,function(h){return h}).forEach(function(h){c[h.key]=n(h)}),c}function qA(r,s){r=r||{},s=s||{};function n(I){return I in s?s[I]:r[I]}var c=Object.create(null),h=[];for(var f in r)f in s?h.length&&(c[f]=h,h=[]):h.push(f);var g,_={};for(var y in s){if(c[y])for(g=0;g<c[y].length;g++){var v=c[y][g];_[c[y][g]]=n(v)}_[y]=n(y)}for(g=0;g<h.length;g++)_[h[g]]=n(h[g]);return _}function Uu(r,s,n){return n[s]!=null?n[s]:r.props[s]}function QA(r,s){return FT(r.children,function(n){return w.cloneElement(n,{onExited:s.bind(null,n),in:!0,appear:Uu(n,"appear",r),enter:Uu(n,"enter",r),exit:Uu(n,"exit",r)})})}function ZA(r,s,n){var c=FT(r.children),h=qA(s,c);return Object.keys(h).forEach(function(f){var g=h[f];if(w.isValidElement(g)){var _=f in s,y=f in c,v=s[f],I=w.isValidElement(v)&&!v.props.in;y&&(!_||I)?h[f]=w.cloneElement(g,{onExited:n.bind(null,g),in:!0,exit:Uu(g,"exit",r),enter:Uu(g,"enter",r)}):!y&&_&&!I?h[f]=w.cloneElement(g,{in:!1}):y&&_&&w.isValidElement(v)&&(h[f]=w.cloneElement(g,{onExited:n.bind(null,g),in:v.props.in,exit:Uu(g,"exit",r),enter:Uu(g,"enter",r)}))}}),h}var e0=Object.values||function(r){return Object.keys(r).map(function(s){return r[s]})},t0={component:"div",childFactory:function(s){return s}},UT=function(r){pS(s,r);function s(c,h){var f;f=r.call(this,c,h)||this;var g=f.handleExited.bind(JA(f));return f.state={contextValue:{isMounting:!0},handleExited:g,firstRender:!0},f}var n=s.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(h,f){var g=f.children,_=f.handleExited,y=f.firstRender;return{children:y?QA(h,_):ZA(h,g,_),firstRender:!1}},n.handleExited=function(h,f){var g=FT(this.props.children);h.key in g||(h.props.onExited&&h.props.onExited(f),this.mounted&&this.setState(function(_){var y=Ym({},_.children);return delete y[h.key],{children:y}}))},n.render=function(){var h=this.props,f=h.component,g=h.childFactory,_=hS(h,["component","childFactory"]),y=this.state.contextValue,v=e0(this.state.children).map(g);return delete _.appear,delete _.enter,delete _.exit,f===null?ar.createElement(t$.Provider,{value:y},v):ar.createElement(t$.Provider,{value:y},ar.createElement(f,_,v))},s}(ar.Component);UT.propTypes={};UT.defaultProps=t0;const gS=r=>r.scrollTop;function Hh(r,s){const{timeout:n,easing:c,style:h={}}=r;return{duration:h.transitionDuration??(typeof n=="number"?n:n[s.mode]||0),easing:h.transitionTimingFunction??(typeof c=="object"?c[s.mode]:c),delay:h.transitionDelay}}function eT(r){return`scale(${r}, ${r**2})`}const o0={entering:{opacity:1,transform:eT(1)},entered:{opacity:1,transform:"none"}},P_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),o$=w.forwardRef(function(s,n){const{addEndListener:c,appear:h=!0,children:f,easing:g,in:_,onEnter:y,onEntered:v,onEntering:I,onExit:R,onExited:N,onExiting:M,style:x,timeout:A="auto",TransitionComponent:B=as,...W}=s,X=Fu(),H=w.useRef(),P=Vu(),F=w.useRef(null),J=Ho(F,Qh(f),n),Q=Y=>le=>{if(Y){const ve=F.current;le===void 0?Y(ve):Y(ve,le)}},re=Q(I),ae=Q((Y,le)=>{gS(Y);const{duration:ve,delay:me,easing:de}=Hh({style:x,timeout:A,easing:g},{mode:"enter"});let U;A==="auto"?(U=P.transitions.getAutoHeightDuration(Y.clientHeight),H.current=U):U=ve,Y.style.transition=[P.transitions.create("opacity",{duration:U,delay:me}),P.transitions.create("transform",{duration:P_?U:U*.666,delay:me,easing:de})].join(","),y&&y(Y,le)}),S=Q(v),oe=Q(M),$e=Q(Y=>{const{duration:le,delay:ve,easing:me}=Hh({style:x,timeout:A,easing:g},{mode:"exit"});let de;A==="auto"?(de=P.transitions.getAutoHeightDuration(Y.clientHeight),H.current=de):de=le,Y.style.transition=[P.transitions.create("opacity",{duration:de,delay:ve}),P.transitions.create("transform",{duration:P_?de:de*.666,delay:P_?ve:ve||de*.333,easing:me})].join(","),Y.style.opacity=0,Y.style.transform=eT(.75),R&&R(Y)}),fe=Q(N),Ee=Y=>{A==="auto"&&X.start(H.current||0,Y),c&&c(F.current,Y)};return D.jsx(B,{appear:h,in:_,nodeRef:F,onEnter:ae,onEntered:S,onEntering:re,onExit:$e,onExited:fe,onExiting:oe,addEndListener:Ee,timeout:A==="auto"?null:A,...W,children:(Y,{ownerState:le,...ve})=>w.cloneElement(f,{style:{opacity:0,transform:eT(.75),visibility:Y==="exited"&&!_?"hidden":void 0,...o0[Y],...x,...f.props.style},ref:J,...ve})})});o$&&(o$.muiSupportAuto=!0);function r0(r){const s=Fn(r);return s.body===r?ca(r).innerWidth>s.documentElement.clientWidth:r.scrollHeight>r.clientHeight}function Pf(r,s){s?r.setAttribute("aria-hidden","true"):r.removeAttribute("aria-hidden")}function vy(r){return parseInt(ca(r).getComputedStyle(r).paddingRight,10)||0}function n0(r){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(r.tagName),c=r.tagName==="INPUT"&&r.getAttribute("type")==="hidden";return n||c}function Sy(r,s,n,c,h){const f=[s,n,...c];[].forEach.call(r.children,g=>{const _=!f.includes(g),y=!n0(g);_&&y&&Pf(g,h)})}function B_(r,s){let n=-1;return r.some((c,h)=>s(c)?(n=h,!0):!1),n}function i0(r,s){const n=[],c=r.container;if(!s.disableScrollLock){if(r0(c)){const g=cS(ca(c));n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${vy(c)+g}px`;const _=Fn(c).querySelectorAll(".mui-fixed");[].forEach.call(_,y=>{n.push({value:y.style.paddingRight,property:"padding-right",el:y}),y.style.paddingRight=`${vy(y)+g}px`})}let f;if(c.parentNode instanceof DocumentFragment)f=Fn(c).body;else{const g=c.parentElement,_=ca(c);f=(g==null?void 0:g.nodeName)==="HTML"&&_.getComputedStyle(g).overflowY==="scroll"?g:c}n.push({value:f.style.overflow,property:"overflow",el:f},{value:f.style.overflowX,property:"overflow-x",el:f},{value:f.style.overflowY,property:"overflow-y",el:f}),f.style.overflow="hidden"}return()=>{n.forEach(({value:f,el:g,property:_})=>{f?g.style.setProperty(_,f):g.style.removeProperty(_)})}}function s0(r){const s=[];return[].forEach.call(r.children,n=>{n.getAttribute("aria-hidden")==="true"&&s.push(n)}),s}class l0{constructor(){this.modals=[],this.containers=[]}add(s,n){let c=this.modals.indexOf(s);if(c!==-1)return c;c=this.modals.length,this.modals.push(s),s.modalRef&&Pf(s.modalRef,!1);const h=s0(n);Sy(n,s.mount,s.modalRef,h,!0);const f=B_(this.containers,g=>g.container===n);return f!==-1?(this.containers[f].modals.push(s),c):(this.containers.push({modals:[s],container:n,restore:null,hiddenSiblings:h}),c)}mount(s,n){const c=B_(this.containers,f=>f.modals.includes(s)),h=this.containers[c];h.restore||(h.restore=i0(h,n))}remove(s,n=!0){const c=this.modals.indexOf(s);if(c===-1)return c;const h=B_(this.containers,g=>g.modals.includes(s)),f=this.containers[h];if(f.modals.splice(f.modals.indexOf(s),1),this.modals.splice(c,1),f.modals.length===0)f.restore&&f.restore(),s.modalRef&&Pf(s.modalRef,n),Sy(f.container,s.mount,s.modalRef,f.hiddenSiblings,!1),this.containers.splice(h,1);else{const g=f.modals[f.modals.length-1];g.modalRef&&Pf(g.modalRef,!1)}return c}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}const a0=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function c0(r){const s=parseInt(r.getAttribute("tabindex")||"",10);return Number.isNaN(s)?r.contentEditable==="true"||(r.nodeName==="AUDIO"||r.nodeName==="VIDEO"||r.nodeName==="DETAILS")&&r.getAttribute("tabindex")===null?0:r.tabIndex:s}function u0(r){if(r.tagName!=="INPUT"||r.type!=="radio"||!r.name)return!1;const s=c=>r.ownerDocument.querySelector(`input[type="radio"]${c}`);let n=s(`[name="${r.name}"]:checked`);return n||(n=s(`[name="${r.name}"]`)),n!==r}function d0(r){return!(r.disabled||r.tagName==="INPUT"&&r.type==="hidden"||u0(r))}function h0(r){const s=[],n=[];return Array.from(r.querySelectorAll(a0)).forEach((c,h)=>{const f=c0(c);f===-1||!d0(c)||(f===0?s.push(c):n.push({documentOrder:h,tabIndex:f,node:c}))}),n.sort((c,h)=>c.tabIndex===h.tabIndex?c.documentOrder-h.documentOrder:c.tabIndex-h.tabIndex).map(c=>c.node).concat(s)}function p0(){return!0}function f0(r){const{children:s,disableAutoFocus:n=!1,disableEnforceFocus:c=!1,disableRestoreFocus:h=!1,getTabbable:f=h0,isEnabled:g=p0,open:_}=r,y=w.useRef(!1),v=w.useRef(null),I=w.useRef(null),R=w.useRef(null),N=w.useRef(null),M=w.useRef(!1),x=w.useRef(null),A=Ho(Qh(s),x),B=w.useRef(null);w.useEffect(()=>{!_||!x.current||(M.current=!n)},[n,_]),w.useEffect(()=>{if(!_||!x.current)return;const H=Fn(x.current);return x.current.contains(H.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),M.current&&x.current.focus()),()=>{h||(R.current&&R.current.focus&&(y.current=!0,R.current.focus()),R.current=null)}},[_]),w.useEffect(()=>{if(!_||!x.current)return;const H=Fn(x.current),P=Q=>{B.current=Q,!(c||!g()||Q.key!=="Tab")&&H.activeElement===x.current&&Q.shiftKey&&(y.current=!0,I.current&&I.current.focus())},F=()=>{var ae,S;const Q=x.current;if(Q===null)return;if(!H.hasFocus()||!g()||y.current){y.current=!1;return}if(Q.contains(H.activeElement)||c&&H.activeElement!==v.current&&H.activeElement!==I.current)return;if(H.activeElement!==N.current)N.current=null;else if(N.current!==null)return;if(!M.current)return;let re=[];if((H.activeElement===v.current||H.activeElement===I.current)&&(re=f(x.current)),re.length>0){const oe=!!((ae=B.current)!=null&&ae.shiftKey&&((S=B.current)==null?void 0:S.key)==="Tab"),$e=re[0],fe=re[re.length-1];typeof $e!="string"&&typeof fe!="string"&&(oe?fe.focus():$e.focus())}else Q.focus()};H.addEventListener("focusin",F),H.addEventListener("keydown",P,!0);const J=setInterval(()=>{H.activeElement&&H.activeElement.tagName==="BODY"&&F()},50);return()=>{clearInterval(J),H.removeEventListener("focusin",F),H.removeEventListener("keydown",P,!0)}},[n,c,h,g,_,f]);const W=H=>{R.current===null&&(R.current=H.relatedTarget),M.current=!0,N.current=H.target;const P=s.props.onFocus;P&&P(H)},X=H=>{R.current===null&&(R.current=H.relatedTarget),M.current=!0};return D.jsxs(w.Fragment,{children:[D.jsx("div",{tabIndex:_?0:-1,onFocus:X,ref:v,"data-testid":"sentinelStart"}),w.cloneElement(s,{ref:A,onFocus:W}),D.jsx("div",{tabIndex:_?0:-1,onFocus:X,ref:I,"data-testid":"sentinelEnd"})]})}function g0(r){return typeof r=="function"?r():r}const mS=w.forwardRef(function(s,n){const{children:c,container:h,disablePortal:f=!1}=s,[g,_]=w.useState(null),y=Ho(w.isValidElement(c)?Qh(c):null,n);if(fi(()=>{f||_(g0(h)||document.body)},[h,f]),fi(()=>{if(g&&!f)return gy(n,g),()=>{gy(n,null)}},[n,g,f]),f){if(w.isValidElement(c)){const v={ref:y};return w.cloneElement(c,v)}return c}return g&&fS.createPortal(c,g)}),m0={entering:{opacity:1},entered:{opacity:1}},$0=w.forwardRef(function(s,n){const c=Vu(),h={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{addEndListener:f,appear:g=!0,children:_,easing:y,in:v,onEnter:I,onEntered:R,onEntering:N,onExit:M,onExited:x,onExiting:A,style:B,timeout:W=h,TransitionComponent:X=as,...H}=s,P=w.useRef(null),F=Ho(P,Qh(_),n),J=Ee=>Y=>{if(Ee){const le=P.current;Y===void 0?Ee(le):Ee(le,Y)}},Q=J(N),re=J((Ee,Y)=>{gS(Ee);const le=Hh({style:B,timeout:W,easing:y},{mode:"enter"});Ee.style.webkitTransition=c.transitions.create("opacity",le),Ee.style.transition=c.transitions.create("opacity",le),I&&I(Ee,Y)}),ae=J(R),S=J(A),oe=J(Ee=>{const Y=Hh({style:B,timeout:W,easing:y},{mode:"exit"});Ee.style.webkitTransition=c.transitions.create("opacity",Y),Ee.style.transition=c.transitions.create("opacity",Y),M&&M(Ee)}),$e=J(x),fe=Ee=>{f&&f(P.current,Ee)};return D.jsx(X,{appear:g,in:v,nodeRef:P,onEnter:re,onEntered:ae,onEntering:Q,onExit:oe,onExited:$e,onExiting:S,addEndListener:fe,timeout:W,...H,children:(Ee,{ownerState:Y,...le})=>w.cloneElement(_,{style:{opacity:0,visibility:Ee==="exited"&&!v?"hidden":void 0,...m0[Ee],...B,..._.props.style},ref:F,...le})})});function _0(r){return Ct("MuiBackdrop",r)}kt("MuiBackdrop",["root","invisible"]);const T0=r=>{const{classes:s,invisible:n}=r;return Rt({root:["root",n&&"invisible"]},_0,s)},b0=Qe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),E0=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiBackdrop"}),{children:h,className:f,component:g="div",invisible:_=!1,open:y,components:v={},componentsProps:I={},slotProps:R={},slots:N={},TransitionComponent:M,transitionDuration:x,...A}=c,B={...c,component:g,invisible:_},W=T0(B),X={transition:M,root:v.Root,...N},H={...I,...R},P={slots:X,slotProps:H},[F,J]=Co("root",{elementType:b0,externalForwardedProps:P,className:lt(W.root,f),ownerState:B}),[Q,re]=Co("transition",{elementType:$0,externalForwardedProps:P,ownerState:B});return D.jsx(Q,{in:y,timeout:x,...A,...re,children:D.jsx(F,{"aria-hidden":!0,...J,classes:W,ref:n,children:h})})});function y0(r){return typeof r=="function"?r():r}function v0(r){return r?r.props.hasOwnProperty("in"):!1}const Iy=()=>{},km=new l0;function S0(r){const{container:s,disableEscapeKeyDown:n=!1,disableScrollLock:c=!1,closeAfterTransition:h=!1,onTransitionEnter:f,onTransitionExited:g,children:_,onClose:y,open:v,rootRef:I}=r,R=w.useRef({}),N=w.useRef(null),M=w.useRef(null),x=Ho(M,I),[A,B]=w.useState(!v),W=v0(_);let X=!0;(r["aria-hidden"]==="false"||r["aria-hidden"]===!1)&&(X=!1);const H=()=>Fn(N.current),P=()=>(R.current.modalRef=M.current,R.current.mount=N.current,R.current),F=()=>{km.mount(P(),{disableScrollLock:c}),M.current&&(M.current.scrollTop=0)},J=sa(()=>{const Y=y0(s)||H().body;km.add(P(),Y),M.current&&F()}),Q=()=>km.isTopModal(P()),re=sa(Y=>{N.current=Y,Y&&(v&&Q()?F():M.current&&Pf(M.current,X))}),ae=w.useCallback(()=>{km.remove(P(),X)},[X]);w.useEffect(()=>()=>{ae()},[ae]),w.useEffect(()=>{v?J():(!W||!h)&&ae()},[v,ae,W,h,J]);const S=Y=>le=>{var ve;(ve=Y.onKeyDown)==null||ve.call(Y,le),!(le.key!=="Escape"||le.which===229||!Q())&&(n||(le.stopPropagation(),y&&y(le,"escapeKeyDown")))},oe=Y=>le=>{var ve;(ve=Y.onClick)==null||ve.call(Y,le),le.target===le.currentTarget&&y&&y(le,"backdropClick")};return{getRootProps:(Y={})=>{const le=sS(r);delete le.onTransitionEnter,delete le.onTransitionExited;const ve={...le,...Y};return{role:"presentation",...ve,onKeyDown:S(ve),ref:x}},getBackdropProps:(Y={})=>{const le=Y;return{"aria-hidden":!0,...le,onClick:oe(le),open:v}},getTransitionProps:()=>{const Y=()=>{B(!1),f&&f()},le=()=>{B(!0),g&&g(),h&&ae()};return{onEnter:fy(Y,(_==null?void 0:_.props.onEnter)??Iy),onExited:fy(le,(_==null?void 0:_.props.onExited)??Iy)}},rootRef:x,portalRef:re,isTopModal:Q,exited:A,hasTransition:W}}function I0(r){return Ct("MuiModal",r)}kt("MuiModal",["root","hidden","backdrop"]);const C0=r=>{const{open:s,exited:n,classes:c}=r;return Rt({root:["root",!s&&n&&"hidden"],backdrop:["backdrop"]},I0,c)},k0=Qe("div",{name:"MuiModal",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,!n.open&&n.exited&&s.hidden]}})(Ht(({theme:r})=>({position:"fixed",zIndex:(r.vars||r).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),R0=Qe(E0,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),w0=w.forwardRef(function(s,n){const c=wt({name:"MuiModal",props:s}),{BackdropComponent:h=R0,BackdropProps:f,classes:g,className:_,closeAfterTransition:y=!1,children:v,container:I,component:R,components:N={},componentsProps:M={},disableAutoFocus:x=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:B=!1,disablePortal:W=!1,disableRestoreFocus:X=!1,disableScrollLock:H=!1,hideBackdrop:P=!1,keepMounted:F=!1,onClose:J,onTransitionEnter:Q,onTransitionExited:re,open:ae,slotProps:S={},slots:oe={},theme:$e,...fe}=c,Ee={...c,closeAfterTransition:y,disableAutoFocus:x,disableEnforceFocus:A,disableEscapeKeyDown:B,disablePortal:W,disableRestoreFocus:X,disableScrollLock:H,hideBackdrop:P,keepMounted:F},{getRootProps:Y,getBackdropProps:le,getTransitionProps:ve,portalRef:me,isTopModal:de,exited:U,hasTransition:ie}=S0({...Ee,rootRef:n}),be={...Ee,exited:U},Ae=C0(be),ge={};if(v.props.tabIndex===void 0&&(ge.tabIndex="-1"),ie){const{onEnter:Je,onExited:st}=ve();ge.onEnter=Je,ge.onExited=st}const Ue={slots:{root:N.Root,backdrop:N.Backdrop,...oe},slotProps:{...M,...S}},[Ie,De]=Co("root",{ref:n,elementType:k0,externalForwardedProps:{...Ue,...fe,component:R},getSlotProps:Y,ownerState:be,className:lt(_,Ae==null?void 0:Ae.root,!be.open&&be.exited&&(Ae==null?void 0:Ae.hidden))}),[Ne,ot]=Co("backdrop",{ref:f==null?void 0:f.ref,elementType:h,externalForwardedProps:Ue,shouldForwardComponentProp:!0,additionalProps:f,getSlotProps:Je=>le({...Je,onClick:st=>{Je!=null&&Je.onClick&&Je.onClick(st)}}),className:lt(f==null?void 0:f.className,Ae==null?void 0:Ae.backdrop),ownerState:be});return!F&&!ae&&(!ie||U)?null:D.jsx(mS,{ref:me,container:I,disablePortal:W,children:D.jsxs(Ie,{...De,children:[!P&&h?D.jsx(Ne,{...ot}):null,D.jsx(f0,{disableEnforceFocus:A,disableAutoFocus:x,disableRestoreFocus:X,isEnabled:de,open:ae,children:w.cloneElement(v,ge)})]})})});function O0(r){return Ct("MuiPopover",r)}kt("MuiPopover",["root","paper"]);function Cy(r,s){let n=0;return typeof s=="number"?n=s:s==="center"?n=r.height/2:s==="bottom"&&(n=r.height),n}function ky(r,s){let n=0;return typeof s=="number"?n=s:s==="center"?n=r.width/2:s==="right"&&(n=r.width),n}function Ry(r){return[r.horizontal,r.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function Rm(r){return typeof r=="function"?r():r}const A0=r=>{const{classes:s}=r;return Rt({root:["root"],paper:["paper"]},O0,s)},x0=Qe(w0,{name:"MuiPopover",slot:"Root"})({}),$S=Qe(Wu,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),L0=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiPopover"}),{action:h,anchorEl:f,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:_,anchorReference:y="anchorEl",children:v,className:I,container:R,elevation:N=8,marginThreshold:M=16,open:x,PaperProps:A={},slots:B={},slotProps:W={},transformOrigin:X={vertical:"top",horizontal:"left"},TransitionComponent:H,transitionDuration:P="auto",TransitionProps:F={},disableScrollLock:J=!1,...Q}=c,re=w.useRef(),ae={...c,anchorOrigin:g,anchorReference:y,elevation:N,marginThreshold:M,transformOrigin:X,TransitionComponent:H,transitionDuration:P,TransitionProps:F},S=A0(ae),oe=w.useCallback(()=>{if(y==="anchorPosition")return _;const Je=Rm(f),Ce=(Je&&Je.nodeType===1?Je:Fn(re.current).body).getBoundingClientRect();return{top:Ce.top+Cy(Ce,g.vertical),left:Ce.left+ky(Ce,g.horizontal)}},[f,g.horizontal,g.vertical,_,y]),$e=w.useCallback(Je=>({vertical:Cy(Je,X.vertical),horizontal:ky(Je,X.horizontal)}),[X.horizontal,X.vertical]),fe=w.useCallback(Je=>{const st={width:Je.offsetWidth,height:Je.offsetHeight},Ce=$e(st);if(y==="none")return{top:null,left:null,transformOrigin:Ry(Ce)};const gt=oe();let He=gt.top-Ce.vertical,bt=gt.left-Ce.horizontal;const Ot=He+st.height,Et=bt+st.width,ft=ca(Rm(f)),mt=ft.innerHeight-M,dt=ft.innerWidth-M;if(M!==null&&He<M){const Tt=He-M;He-=Tt,Ce.vertical+=Tt}else if(M!==null&&Ot>mt){const Tt=Ot-mt;He-=Tt,Ce.vertical+=Tt}if(M!==null&&bt<M){const Tt=bt-M;bt-=Tt,Ce.horizontal+=Tt}else if(Et>dt){const Tt=Et-dt;bt-=Tt,Ce.horizontal+=Tt}return{top:`${Math.round(He)}px`,left:`${Math.round(bt)}px`,transformOrigin:Ry(Ce)}},[f,y,oe,$e,M]),[Ee,Y]=w.useState(x),le=w.useCallback(()=>{const Je=re.current;if(!Je)return;const st=fe(Je);st.top!==null&&Je.style.setProperty("top",st.top),st.left!==null&&(Je.style.left=st.left),Je.style.transformOrigin=st.transformOrigin,Y(!0)},[fe]);w.useEffect(()=>(J&&window.addEventListener("scroll",le),()=>window.removeEventListener("scroll",le)),[f,J,le]);const ve=()=>{le()},me=()=>{Y(!1)};w.useEffect(()=>{x&&le()}),w.useImperativeHandle(h,()=>x?{updatePosition:()=>{le()}}:null,[x,le]),w.useEffect(()=>{if(!x)return;const Je=rS(()=>{le()}),st=ca(Rm(f));return st.addEventListener("resize",Je),()=>{Je.clear(),st.removeEventListener("resize",Je)}},[f,x,le]);let de=P;const U={slots:{transition:H,...B},slotProps:{transition:F,paper:A,...W}},[ie,be]=Co("transition",{elementType:o$,externalForwardedProps:U,ownerState:ae,getSlotProps:Je=>({...Je,onEntering:(st,Ce)=>{var gt;(gt=Je.onEntering)==null||gt.call(Je,st,Ce),ve()},onExited:st=>{var Ce;(Ce=Je.onExited)==null||Ce.call(Je,st),me()}}),additionalProps:{appear:!0,in:x}});P==="auto"&&!ie.muiSupportAuto&&(de=void 0);const Ae=R||(f?Fn(Rm(f)).body:void 0),[ge,{slots:Ue,slotProps:Ie,...De}]=Co("root",{ref:n,elementType:x0,externalForwardedProps:{...U,...Q},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:B.backdrop},slotProps:{backdrop:gA(typeof W.backdrop=="function"?W.backdrop(ae):W.backdrop,{invisible:!0})},container:Ae,open:x},ownerState:ae,className:lt(S.root,I)}),[Ne,ot]=Co("paper",{ref:re,className:S.paper,elementType:$S,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:{elevation:N,style:Ee?void 0:{opacity:0}},ownerState:ae});return D.jsx(ge,{...De,...!Xf(ge)&&{slots:Ue,slotProps:Ie,disableScrollLock:J},children:D.jsx(ie,{...be,timeout:de,children:D.jsx(Ne,{...ot,children:v})})})});function N0(r){return Ct("MuiMenu",r)}kt("MuiMenu",["root","paper","list"]);const M0={vertical:"top",horizontal:"right"},D0={vertical:"top",horizontal:"left"},P0=r=>{const{classes:s}=r;return Rt({root:["root"],paper:["paper"],list:["list"]},N0,s)},B0=Qe(L0,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiMenu",slot:"Root"})({}),F0=Qe($S,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),U0=Qe(jA,{name:"MuiMenu",slot:"List"})({outline:0}),H0=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiMenu"}),{autoFocus:h=!0,children:f,className:g,disableAutoFocusItem:_=!1,MenuListProps:y={},onClose:v,open:I,PaperProps:R={},PopoverClasses:N,transitionDuration:M="auto",TransitionProps:{onEntering:x,...A}={},variant:B="selectedMenu",slots:W={},slotProps:X={},...H}=c,P=kT(),F={...c,autoFocus:h,disableAutoFocusItem:_,MenuListProps:y,onEntering:x,PaperProps:R,transitionDuration:M,TransitionProps:A,variant:B},J=P0(F),Q=h&&!_&&I,re=w.useRef(null),ae=(de,U)=>{re.current&&re.current.adjustStyleForScrollbar(de,{direction:P?"rtl":"ltr"}),x&&x(de,U)},S=de=>{de.key==="Tab"&&(de.preventDefault(),v&&v(de,"tabKeyDown"))};let oe=-1;w.Children.map(f,(de,U)=>{w.isValidElement(de)&&(de.props.disabled||(B==="selectedMenu"&&de.props.selected||oe===-1)&&(oe=U))});const $e={slots:W,slotProps:{list:y,transition:A,paper:R,...X}},fe=aS({elementType:W.root,externalSlotProps:X.root,ownerState:F,className:[J.root,g]}),[Ee,Y]=Co("paper",{className:J.paper,elementType:F0,externalForwardedProps:$e,shouldForwardComponentProp:!0,ownerState:F}),[le,ve]=Co("list",{className:lt(J.list,y.className),elementType:U0,shouldForwardComponentProp:!0,externalForwardedProps:$e,getSlotProps:de=>({...de,onKeyDown:U=>{var ie;S(U),(ie=de.onKeyDown)==null||ie.call(de,U)}}),ownerState:F}),me=typeof $e.slotProps.transition=="function"?$e.slotProps.transition(F):$e.slotProps.transition;return D.jsx(B0,{onClose:v,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?M0:D0,slots:{root:W.root,paper:Ee,backdrop:W.backdrop,...W.transition&&{transition:W.transition}},slotProps:{root:fe,paper:Y,backdrop:typeof X.backdrop=="function"?X.backdrop(F):X.backdrop,transition:{...me,onEntering:(...de)=>{var U;ae(...de),(U=me==null?void 0:me.onEntering)==null||U.call(me,...de)}}},open:I,ref:n,transitionDuration:M,ownerState:F,...H,classes:N,children:D.jsx(le,{actions:re,autoFocus:h&&(oe===-1||_),autoFocusItem:Q,variant:B,...ve,children:f})})});function G0(r){return Ct("MuiNativeSelect",r)}const HT=kt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),V0=r=>{const{classes:s,variant:n,disabled:c,multiple:h,open:f,error:g}=r,_={select:["select",n,c&&"disabled",h&&"multiple",g&&"error"],icon:["icon",`icon${Ke(n)}`,f&&"iconOpen",c&&"disabled"]};return Rt(_,G0,s)},_S=Qe("select")(({theme:r})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${HT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}}]})),W0=Qe(_S,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:_i,overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.select,s[n.variant],n.error&&s.error,{[`&.${HT.multiple}`]:s.multiple}]}})({}),TS=Qe("svg")(({theme:r})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${HT.disabled}`]:{color:(r.vars||r).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),z0=Qe(TS,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.icon,n.variant&&s[`icon${Ke(n.variant)}`],n.open&&s.iconOpen]}})({}),j0=w.forwardRef(function(s,n){const{className:c,disabled:h,error:f,IconComponent:g,inputRef:_,variant:y="standard",...v}=s,I={...s,disabled:h,variant:y,error:f},R=V0(I);return D.jsxs(w.Fragment,{children:[D.jsx(W0,{ownerState:I,className:lt(R.select,c),disabled:h,ref:_||n,...v}),s.multiple?null:D.jsx(z0,{as:g,ownerState:I,className:R.icon})]})});function bS(r){return Ct("MuiSelect",r)}const If=kt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var wy;const X0=Qe(_S,{name:"MuiSelect",slot:"Select",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[{[`&.${If.select}`]:s.select},{[`&.${If.select}`]:s[n.variant]},{[`&.${If.error}`]:s.error},{[`&.${If.multiple}`]:s.multiple}]}})({[`&.${If.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Y0=Qe(TS,{name:"MuiSelect",slot:"Icon",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.icon,n.variant&&s[`icon${Ke(n.variant)}`],n.open&&s.iconOpen]}})({}),K0=Qe("input",{shouldForwardProp:r=>jv(r)&&r!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Oy(r,s){return typeof s=="object"&&s!==null?r===s:String(r)===String(s)}function J0(r){return r==null||typeof r=="string"&&!r.trim()}const q0=r=>{const{classes:s,variant:n,disabled:c,multiple:h,open:f,error:g}=r,_={select:["select",n,c&&"disabled",h&&"multiple",g&&"error"],icon:["icon",`icon${Ke(n)}`,f&&"iconOpen",c&&"disabled"],nativeInput:["nativeInput"]};return Rt(_,bS,s)},Q0=w.forwardRef(function(s,n){var te;const{"aria-describedby":c,"aria-label":h,autoFocus:f,autoWidth:g,children:_,className:y,defaultOpen:v,defaultValue:I,disabled:R,displayEmpty:N,error:M=!1,IconComponent:x,inputRef:A,labelId:B,MenuProps:W={},multiple:X,name:H,onBlur:P,onChange:F,onClose:J,onFocus:Q,onOpen:re,open:ae,readOnly:S,renderValue:oe,required:$e,SelectDisplayProps:fe={},tabIndex:Ee,type:Y,value:le,variant:ve="standard",...me}=s,[de,U]=q_({controlled:le,default:I,name:"Select"}),[ie,be]=q_({controlled:ae,default:v,name:"Select"}),Ae=w.useRef(null),ge=w.useRef(null),[Ue,Ie]=w.useState(null),{current:De}=w.useRef(ae!=null),[Ne,ot]=w.useState(),Je=Ho(n,A),st=w.useCallback(pe=>{ge.current=pe,pe&&Ie(pe)},[]),Ce=Ue==null?void 0:Ue.parentNode;w.useImperativeHandle(Je,()=>({focus:()=>{ge.current.focus()},node:Ae.current,value:de}),[de]),w.useEffect(()=>{v&&ie&&Ue&&!De&&(ot(g?null:Ce.clientWidth),ge.current.focus())},[Ue,g]),w.useEffect(()=>{f&&ge.current.focus()},[f]),w.useEffect(()=>{if(!B)return;const pe=Fn(ge.current).getElementById(B);if(pe){const Xe=()=>{getSelection().isCollapsed&&ge.current.focus()};return pe.addEventListener("click",Xe),()=>{pe.removeEventListener("click",Xe)}}},[B]);const gt=(pe,Xe)=>{pe?re&&re(Xe):J&&J(Xe),De||(ot(g?null:Ce.clientWidth),be(pe))},He=pe=>{pe.button===0&&(pe.preventDefault(),ge.current.focus(),gt(!0,pe))},bt=pe=>{gt(!1,pe)},Ot=w.Children.toArray(_),Et=pe=>{const Xe=Ot.find(_t=>_t.props.value===pe.target.value);Xe!==void 0&&(U(Xe.props.value),F&&F(pe,Xe))},ft=pe=>Xe=>{let _t;if(Xe.currentTarget.hasAttribute("tabindex")){if(X){_t=Array.isArray(de)?de.slice():[];const ao=de.indexOf(pe.props.value);ao===-1?_t.push(pe.props.value):_t.splice(ao,1)}else _t=pe.props.value;if(pe.props.onClick&&pe.props.onClick(Xe),de!==_t&&(U(_t),F)){const ao=Xe.nativeEvent||Xe,un=new ao.constructor(ao.type,ao);Object.defineProperty(un,"target",{writable:!0,value:{value:_t,name:H}}),F(un,pe)}X||gt(!1,Xe)}},mt=pe=>{S||[" ","ArrowUp","ArrowDown","Enter"].includes(pe.key)&&(pe.preventDefault(),gt(!0,pe))},dt=Ue!==null&&ie,Tt=pe=>{!dt&&P&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:de,name:H}}),P(pe))};delete me["aria-invalid"];let Pe,ce;const Be=[];let bo=!1;(e$({value:de})||N)&&(oe?Pe=oe(de):bo=!0);const ht=Ot.map(pe=>{if(!w.isValidElement(pe))return null;let Xe;if(X){if(!Array.isArray(de))throw new Error(la(2));Xe=de.some(_t=>Oy(_t,pe.props.value)),Xe&&bo&&Be.push(pe.props.children)}else Xe=Oy(de,pe.props.value),Xe&&bo&&(ce=pe.props.children);return w.cloneElement(pe,{"aria-selected":Xe?"true":"false",onClick:ft(pe),onKeyUp:_t=>{_t.key===" "&&_t.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp(_t)},role:"option",selected:Xe,value:void 0,"data-value":pe.props.value})});bo&&(X?Be.length===0?Pe=null:Pe=Be.reduce((pe,Xe,_t)=>(pe.push(Xe),_t<Be.length-1&&pe.push(", "),pe),[]):Pe=ce);let lo=Ne;!g&&De&&Ue&&(lo=Ce.clientWidth);let at;typeof Ee<"u"?at=Ee:at=R?null:0;const jt=fe.id||(H?`mui-component-select-${H}`:void 0),j={...s,variant:ve,value:de,open:dt,error:M},b=q0(j),L={...W.PaperProps,...(te=W.slotProps)==null?void 0:te.paper},K=T$();return D.jsxs(w.Fragment,{children:[D.jsx(X0,{as:"div",ref:st,tabIndex:at,role:"combobox","aria-controls":dt?K:void 0,"aria-disabled":R?"true":void 0,"aria-expanded":dt?"true":"false","aria-haspopup":"listbox","aria-label":h,"aria-labelledby":[B,jt].filter(Boolean).join(" ")||void 0,"aria-describedby":c,"aria-required":$e?"true":void 0,"aria-invalid":M?"true":void 0,onKeyDown:mt,onMouseDown:R||S?null:He,onBlur:Tt,onFocus:Q,...fe,ownerState:j,className:lt(fe.className,b.select,y),id:jt,children:J0(Pe)?wy||(wy=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Pe}),D.jsx(K0,{"aria-invalid":M,value:Array.isArray(de)?de.join(","):de,name:H,ref:Ae,"aria-hidden":!0,onChange:Et,tabIndex:-1,disabled:R,className:b.nativeInput,autoFocus:f,required:$e,...me,ownerState:j}),D.jsx(Y0,{as:x,className:b.icon,ownerState:j}),D.jsx(H0,{id:`menu-${H||""}`,anchorEl:Ce,open:dt,onClose:bt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...W,slotProps:{...W.slotProps,list:{"aria-labelledby":B,role:"listbox","aria-multiselectable":X?"true":void 0,disableListWrap:!0,id:K,...W.MenuListProps},paper:{...L,style:{minWidth:lo,...L!=null?L.style:null}}},children:ht})]})}),Z0=qh(D.jsx("path",{d:"M7 10l5 5 5-5z"})),ex=r=>{const{classes:s}=r,c=Rt({root:["root"]},bS,s);return{...s,...c}},GT={name:"MuiSelect",slot:"Root",shouldForwardProp:r=>_i(r)&&r!=="variant"},tx=Qe(DT,GT)(""),ox=Qe(BT,GT)(""),rx=Qe(PT,GT)(""),Zh=w.forwardRef(function(s,n){const c=wt({name:"MuiSelect",props:s}),{autoWidth:h=!1,children:f,classes:g={},className:_,defaultOpen:y=!1,displayEmpty:v=!1,IconComponent:I=Z0,id:R,input:N,inputProps:M,label:x,labelId:A,MenuProps:B,multiple:W=!1,native:X=!1,onClose:H,onOpen:P,open:F,renderValue:J,SelectDisplayProps:Q,variant:re="outlined",...ae}=c,S=X?j0:Q0,oe=Jh(),$e=Kh({props:c,muiFormControl:oe,states:["variant","error"]}),fe=$e.variant||re,Ee={...c,variant:fe,classes:g},Y=ex(Ee),{root:le,...ve}=Y,me=N||{standard:D.jsx(tx,{ownerState:Ee}),outlined:D.jsx(ox,{label:x,ownerState:Ee}),filled:D.jsx(rx,{ownerState:Ee})}[fe],de=Ho(n,Qh(me));return D.jsx(w.Fragment,{children:w.cloneElement(me,{inputComponent:S,inputProps:{children:f,error:$e.error,IconComponent:I,variant:fe,type:void 0,multiple:W,...X?{id:R}:{autoWidth:h,defaultOpen:y,displayEmpty:v,labelId:A,MenuProps:B,onClose:H,onOpen:P,open:F,renderValue:J,SelectDisplayProps:{id:R,...Q}},...M,classes:M?Or(ve,M.classes):ve,...N?N.props.inputProps:{}},...(W&&X||v)&&fe==="outlined"?{notched:!0}:{},ref:de,className:lt(me.props.className,_,Y.root),...!N&&{variant:fe},...ae})})});Zh.muiName="Select";function nx(r){return Ct("MuiTextField",r)}kt("MuiTextField",["root"]);const ix={standard:DT,filled:PT,outlined:BT},sx=r=>{const{classes:s}=r;return Rt({root:["root"]},nx,s)},lx=Qe(ag,{name:"MuiTextField",slot:"Root"})({}),ax=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiTextField"}),{autoComplete:h,autoFocus:f=!1,children:g,className:_,color:y="primary",defaultValue:v,disabled:I=!1,error:R=!1,FormHelperTextProps:N,fullWidth:M=!1,helperText:x,id:A,InputLabelProps:B,inputProps:W,InputProps:X,inputRef:H,label:P,maxRows:F,minRows:J,multiline:Q=!1,name:re,onBlur:ae,onChange:S,onFocus:oe,placeholder:$e,required:fe=!1,rows:Ee,select:Y=!1,SelectProps:le,slots:ve={},slotProps:me={},type:de,value:U,variant:ie="outlined",...be}=c,Ae={...c,autoFocus:f,color:y,disabled:I,error:R,fullWidth:M,multiline:Q,required:fe,select:Y,variant:ie},ge=sx(Ae),Ue=T$(A),Ie=x&&Ue?`${Ue}-helper-text`:void 0,De=P&&Ue?`${Ue}-label`:void 0,Ne=ix[ie],ot={slots:ve,slotProps:{input:X,inputLabel:B,htmlInput:W,formHelperText:N,select:le,...me}},Je={},st=ot.slotProps.inputLabel;ie==="outlined"&&(st&&typeof st.shrink<"u"&&(Je.notched=st.shrink),Je.label=P),Y&&((!le||!le.native)&&(Je.id=void 0),Je["aria-describedby"]=void 0);const[Ce,gt]=Co("root",{elementType:lx,shouldForwardComponentProp:!0,externalForwardedProps:{...ot,...be},ownerState:Ae,className:lt(ge.root,_),ref:n,additionalProps:{disabled:I,error:R,fullWidth:M,required:fe,color:y,variant:ie}}),[He,bt]=Co("input",{elementType:Ne,externalForwardedProps:ot,additionalProps:Je,ownerState:Ae}),[Ot,Et]=Co("inputLabel",{elementType:lg,externalForwardedProps:ot,ownerState:Ae}),[ft,mt]=Co("htmlInput",{elementType:"input",externalForwardedProps:ot,ownerState:Ae}),[dt,Tt]=Co("formHelperText",{elementType:GA,externalForwardedProps:ot,ownerState:Ae}),[Pe,ce]=Co("select",{elementType:Zh,externalForwardedProps:ot,ownerState:Ae}),Be=D.jsx(He,{"aria-describedby":Ie,autoComplete:h,autoFocus:f,defaultValue:v,fullWidth:M,multiline:Q,name:re,rows:Ee,maxRows:F,minRows:J,type:de,value:U,id:Ue,inputRef:H,onBlur:ae,onChange:S,onFocus:oe,placeholder:$e,inputProps:mt,slots:{input:ve.htmlInput?ft:void 0},...bt});return D.jsxs(Ce,{...gt,children:[P!=null&&P!==""&&D.jsx(Ot,{htmlFor:Ue,id:De,...Et,children:P}),Y?D.jsx(Pe,{"aria-describedby":Ie,id:Ue,labelId:De,value:U,input:Be,...ce,children:g}):Be,x&&D.jsx(dt,{id:Ie,...Tt,children:x})]})});function Gh(r){try{return r.matches(":focus-visible")}catch{}return!1}class r${constructor(){Tf(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new r$}static use(){const s=dS(r$.create).current,[n,c]=w.useState(!1);return s.shouldMount=n,s.setShouldMount=c,w.useEffect(s.mountEffect,[n]),s}mount(){return this.mounted||(this.mounted=ux(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...s)})}stop(...s){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...s)})}pulsate(...s){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...s)})}}function cx(){return r$.use()}function ux(){let r,s;const n=new Promise((c,h)=>{r=c,s=h});return n.resolve=r,n.reject=s,n}function dx(r){const{className:s,classes:n,pulsate:c=!1,rippleX:h,rippleY:f,rippleSize:g,in:_,onExited:y,timeout:v}=r,[I,R]=w.useState(!1),N=lt(s,n.ripple,n.rippleVisible,c&&n.ripplePulsate),M={width:g,height:g,top:-(g/2)+f,left:-(g/2)+h},x=lt(n.child,I&&n.childLeaving,c&&n.childPulsate);return!_&&!I&&R(!0),w.useEffect(()=>{if(!_&&y!=null){const A=setTimeout(y,v);return()=>{clearTimeout(A)}}},[y,_,v]),D.jsx("span",{className:N,style:M,children:D.jsx("span",{className:x})})}const di=kt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),tT=550,hx=80,px=eg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,fx=eg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,gx=eg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,mx=Qe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$x=Qe(dx,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${di.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${px};
    animation-duration: ${tT}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  &.${di.ripplePulsate} {
    animation-duration: ${({theme:r})=>r.transitions.duration.shorter}ms;
  }

  & .${di.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${di.childLeaving} {
    opacity: 0;
    animation-name: ${fx};
    animation-duration: ${tT}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  & .${di.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${gx};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,_x=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiTouchRipple"}),{center:h=!1,classes:f={},className:g,..._}=c,[y,v]=w.useState([]),I=w.useRef(0),R=w.useRef(null);w.useEffect(()=>{R.current&&(R.current(),R.current=null)},[y]);const N=w.useRef(!1),M=Fu(),x=w.useRef(null),A=w.useRef(null),B=w.useCallback(P=>{const{pulsate:F,rippleX:J,rippleY:Q,rippleSize:re,cb:ae}=P;v(S=>[...S,D.jsx($x,{classes:{ripple:lt(f.ripple,di.ripple),rippleVisible:lt(f.rippleVisible,di.rippleVisible),ripplePulsate:lt(f.ripplePulsate,di.ripplePulsate),child:lt(f.child,di.child),childLeaving:lt(f.childLeaving,di.childLeaving),childPulsate:lt(f.childPulsate,di.childPulsate)},timeout:tT,pulsate:F,rippleX:J,rippleY:Q,rippleSize:re},I.current)]),I.current+=1,R.current=ae},[f]),W=w.useCallback((P={},F={},J=()=>{})=>{const{pulsate:Q=!1,center:re=h||F.pulsate,fakeElement:ae=!1}=F;if((P==null?void 0:P.type)==="mousedown"&&N.current){N.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(N.current=!0);const S=ae?null:A.current,oe=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $e,fe,Ee;if(re||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)$e=Math.round(oe.width/2),fe=Math.round(oe.height/2);else{const{clientX:Y,clientY:le}=P.touches&&P.touches.length>0?P.touches[0]:P;$e=Math.round(Y-oe.left),fe=Math.round(le-oe.top)}if(re)Ee=Math.sqrt((2*oe.width**2+oe.height**2)/3),Ee%2===0&&(Ee+=1);else{const Y=Math.max(Math.abs((S?S.clientWidth:0)-$e),$e)*2+2,le=Math.max(Math.abs((S?S.clientHeight:0)-fe),fe)*2+2;Ee=Math.sqrt(Y**2+le**2)}P!=null&&P.touches?x.current===null&&(x.current=()=>{B({pulsate:Q,rippleX:$e,rippleY:fe,rippleSize:Ee,cb:J})},M.start(hx,()=>{x.current&&(x.current(),x.current=null)})):B({pulsate:Q,rippleX:$e,rippleY:fe,rippleSize:Ee,cb:J})},[h,B,M]),X=w.useCallback(()=>{W({},{pulsate:!0})},[W]),H=w.useCallback((P,F)=>{if(M.clear(),(P==null?void 0:P.type)==="touchend"&&x.current){x.current(),x.current=null,M.start(0,()=>{H(P,F)});return}x.current=null,v(J=>J.length>0?J.slice(1):J),R.current=F},[M]);return w.useImperativeHandle(n,()=>({pulsate:X,start:W,stop:H}),[X,W,H]),D.jsx(mx,{className:lt(di.root,f.root,g),ref:A,..._,children:D.jsx(UT,{component:null,exit:!0,children:y})})});function Tx(r){return Ct("MuiButtonBase",r)}const bx=kt("MuiButtonBase",["root","disabled","focusVisible"]),Ex=r=>{const{disabled:s,focusVisible:n,focusVisibleClassName:c,classes:h}=r,g=Rt({root:["root",s&&"disabled",n&&"focusVisible"]},Tx,h);return n&&c&&(g.root+=` ${c}`),g},yx=Qe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${bx.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yf=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiButtonBase"}),{action:h,centerRipple:f=!1,children:g,className:_,component:y="button",disabled:v=!1,disableRipple:I=!1,disableTouchRipple:R=!1,focusRipple:N=!1,focusVisibleClassName:M,LinkComponent:x="a",onBlur:A,onClick:B,onContextMenu:W,onDragLeave:X,onFocus:H,onFocusVisible:P,onKeyDown:F,onKeyUp:J,onMouseDown:Q,onMouseLeave:re,onMouseUp:ae,onTouchEnd:S,onTouchMove:oe,onTouchStart:$e,tabIndex:fe=0,TouchRippleProps:Ee,touchRippleRef:Y,type:le,...ve}=c,me=w.useRef(null),de=cx(),U=Ho(de.ref,Y),[ie,be]=w.useState(!1);v&&ie&&be(!1),w.useImperativeHandle(h,()=>({focusVisible:()=>{be(!0),me.current.focus()}}),[]);const Ae=de.shouldMount&&!I&&!v;w.useEffect(()=>{ie&&N&&!I&&de.pulsate()},[I,N,ie,de]);const ge=ia(de,"start",Q,R),Ue=ia(de,"stop",W,R),Ie=ia(de,"stop",X,R),De=ia(de,"stop",ae,R),Ne=ia(de,"stop",Pe=>{ie&&Pe.preventDefault(),re&&re(Pe)},R),ot=ia(de,"start",$e,R),Je=ia(de,"stop",S,R),st=ia(de,"stop",oe,R),Ce=ia(de,"stop",Pe=>{Gh(Pe.target)||be(!1),A&&A(Pe)},!1),gt=sa(Pe=>{me.current||(me.current=Pe.currentTarget),Gh(Pe.target)&&(be(!0),P&&P(Pe)),H&&H(Pe)}),He=()=>{const Pe=me.current;return y&&y!=="button"&&!(Pe.tagName==="A"&&Pe.href)},bt=sa(Pe=>{N&&!Pe.repeat&&ie&&Pe.key===" "&&de.stop(Pe,()=>{de.start(Pe)}),Pe.target===Pe.currentTarget&&He()&&Pe.key===" "&&Pe.preventDefault(),F&&F(Pe),Pe.target===Pe.currentTarget&&He()&&Pe.key==="Enter"&&!v&&(Pe.preventDefault(),B&&B(Pe))}),Ot=sa(Pe=>{N&&Pe.key===" "&&ie&&!Pe.defaultPrevented&&de.stop(Pe,()=>{de.pulsate(Pe)}),J&&J(Pe),B&&Pe.target===Pe.currentTarget&&He()&&Pe.key===" "&&!Pe.defaultPrevented&&B(Pe)});let Et=y;Et==="button"&&(ve.href||ve.to)&&(Et=x);const ft={};Et==="button"?(ft.type=le===void 0?"button":le,ft.disabled=v):(!ve.href&&!ve.to&&(ft.role="button"),v&&(ft["aria-disabled"]=v));const mt=Ho(n,me),dt={...c,centerRipple:f,component:y,disabled:v,disableRipple:I,disableTouchRipple:R,focusRipple:N,tabIndex:fe,focusVisible:ie},Tt=Ex(dt);return D.jsxs(yx,{as:Et,className:lt(Tt.root,_),ownerState:dt,onBlur:Ce,onClick:B,onContextMenu:Ue,onFocus:gt,onKeyDown:bt,onKeyUp:Ot,onMouseDown:ge,onMouseLeave:Ne,onMouseUp:De,onDragLeave:Ie,onTouchEnd:Je,onTouchMove:st,onTouchStart:ot,ref:mt,tabIndex:v?-1:fe,type:le,...ft,...ve,children:[g,Ae?D.jsx(_x,{ref:U,center:f,...Ee}):null]})});function ia(r,s,n,c=!1){return sa(h=>(n&&n(h),c||r[s](h),!0))}function vx(r){return Ct("MuiCircularProgress",r)}kt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hc=44,oT=eg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,rT=eg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Sx=typeof oT!="string"?$T`
        animation: ${oT} 1.4s linear infinite;
      `:null,Ix=typeof rT!="string"?$T`
        animation: ${rT} 1.4s ease-in-out infinite;
      `:null,Cx=r=>{const{classes:s,variant:n,color:c,disableShrink:h}=r,f={root:["root",n,`color${Ke(c)}`],svg:["svg"],circle:["circle",`circle${Ke(n)}`,h&&"circleDisableShrink"]};return Rt(f,vx,s)},kx=Qe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[n.variant],s[`color${Ke(n.color)}`]]}})(Ht(({theme:r})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Sx||{animation:`${oT} 1.4s linear infinite`}},...Object.entries(r.palette).filter(sn()).map(([s])=>({props:{color:s},style:{color:(r.vars||r).palette[s].main}}))]}))),Rx=Qe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),wx=Qe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.circle,s[`circle${Ke(n.variant)}`],n.disableShrink&&s.circleDisableShrink]}})(Ht(({theme:r})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:Ix||{animation:`${rT} 1.4s ease-in-out infinite`}}]}))),Ox=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiCircularProgress"}),{className:h,color:f="primary",disableShrink:g=!1,size:_=40,style:y,thickness:v=3.6,value:I=0,variant:R="indeterminate",...N}=c,M={...c,color:f,disableShrink:g,size:_,thickness:v,value:I,variant:R},x=Cx(M),A={},B={},W={};if(R==="determinate"){const X=2*Math.PI*((hc-v)/2);A.strokeDasharray=X.toFixed(3),W["aria-valuenow"]=Math.round(I),A.strokeDashoffset=`${((100-I)/100*X).toFixed(3)}px`,B.transform="rotate(-90deg)"}return D.jsx(kx,{className:lt(x.root,h),style:{width:_,height:_,...B,...y},ownerState:M,ref:n,role:"progressbar",...W,...N,children:D.jsx(Rx,{className:x.svg,ownerState:M,viewBox:`${hc/2} ${hc/2} ${hc} ${hc}`,children:D.jsx(wx,{className:x.circle,style:A,ownerState:M,cx:hc,cy:hc,r:(hc-v)/2,fill:"none",strokeWidth:v})})})});function Ax(r){return Ct("MuiIconButton",r)}const Ay=kt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),xx=r=>{const{classes:s,disabled:n,color:c,edge:h,size:f,loading:g}=r,_={root:["root",g&&"loading",n&&"disabled",c!=="default"&&`color${Ke(c)}`,h&&`edge${Ke(h)}`,`size${Ke(f)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Rt(_,Ax,s)},Lx=Qe(Yf,{name:"MuiIconButton",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.loading&&s.loading,n.color!=="default"&&s[`color${Ke(n.color)}`],n.edge&&s[`edge${Ke(n.edge)}`],s[`size${Ke(n.size)}`]]}})(Ht(({theme:r})=>({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:to(r.palette.action.active,r.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ht(({theme:r})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(r.palette).filter(sn()).map(([s])=>({props:{color:s},style:{color:(r.vars||r).palette[s].main}})),...Object.entries(r.palette).filter(sn()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":r.vars?`rgba(${(r.vars||r).palette[s].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:to((r.vars||r).palette[s].main,r.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:r.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:r.typography.pxToRem(28)}}],[`&.${Ay.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled},[`&.${Ay.loading}`]:{color:"transparent"}}))),Nx=Qe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:r})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(r.vars||r).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ES=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiIconButton"}),{edge:h=!1,children:f,className:g,color:_="default",disabled:y=!1,disableFocusRipple:v=!1,size:I="medium",id:R,loading:N=null,loadingIndicator:M,...x}=c,A=T$(R),B=M??D.jsx(Ox,{"aria-labelledby":A,color:"inherit",size:16}),W={...c,edge:h,color:_,disabled:y,disableFocusRipple:v,loading:N,loadingIndicator:B,size:I},X=xx(W);return D.jsxs(Lx,{id:N?A:R,className:lt(X.root,g),centerRipple:!0,focusRipple:!v,disabled:y||N,ref:n,...x,ownerState:W,children:[typeof N=="boolean"&&D.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:D.jsx(Nx,{className:X.loadingIndicator,ownerState:W,children:N&&B})}),f]})});var ln="top",gi="bottom",mi="right",an="left",VT="auto",ug=[ln,gi,mi,an],Vh="start",Kf="end",Mx="clippingParents",yS="viewport",Cf="popper",Dx="reference",xy=ug.reduce(function(r,s){return r.concat([s+"-"+Vh,s+"-"+Kf])},[]),vS=[].concat(ug,[VT]).reduce(function(r,s){return r.concat([s,s+"-"+Vh,s+"-"+Kf])},[]),Px="beforeRead",Bx="read",Fx="afterRead",Ux="beforeMain",Hx="main",Gx="afterMain",Vx="beforeWrite",Wx="write",zx="afterWrite",jx=[Px,Bx,Fx,Ux,Hx,Gx,Vx,Wx,zx];function ol(r){return r?(r.nodeName||"").toLowerCase():null}function Un(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var s=r.ownerDocument;return s&&s.defaultView||window}return r}function Gu(r){var s=Un(r).Element;return r instanceof s||r instanceof Element}function pi(r){var s=Un(r).HTMLElement;return r instanceof s||r instanceof HTMLElement}function WT(r){if(typeof ShadowRoot>"u")return!1;var s=Un(r).ShadowRoot;return r instanceof s||r instanceof ShadowRoot}function Xx(r){var s=r.state;Object.keys(s.elements).forEach(function(n){var c=s.styles[n]||{},h=s.attributes[n]||{},f=s.elements[n];!pi(f)||!ol(f)||(Object.assign(f.style,c),Object.keys(h).forEach(function(g){var _=h[g];_===!1?f.removeAttribute(g):f.setAttribute(g,_===!0?"":_)}))})}function Yx(r){var s=r.state,n={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,n.popper),s.styles=n,s.elements.arrow&&Object.assign(s.elements.arrow.style,n.arrow),function(){Object.keys(s.elements).forEach(function(c){var h=s.elements[c],f=s.attributes[c]||{},g=Object.keys(s.styles.hasOwnProperty(c)?s.styles[c]:n[c]),_=g.reduce(function(y,v){return y[v]="",y},{});!pi(h)||!ol(h)||(Object.assign(h.style,_),Object.keys(f).forEach(function(y){h.removeAttribute(y)}))})}}const Kx={name:"applyStyles",enabled:!0,phase:"write",fn:Xx,effect:Yx,requires:["computeStyles"]};function tl(r){return r.split("-")[0]}var Hu=Math.max,n$=Math.min,Wh=Math.round;function nT(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function SS(){return!/^((?!chrome|android).)*safari/i.test(nT())}function zh(r,s,n){s===void 0&&(s=!1),n===void 0&&(n=!1);var c=r.getBoundingClientRect(),h=1,f=1;s&&pi(r)&&(h=r.offsetWidth>0&&Wh(c.width)/r.offsetWidth||1,f=r.offsetHeight>0&&Wh(c.height)/r.offsetHeight||1);var g=Gu(r)?Un(r):window,_=g.visualViewport,y=!SS()&&n,v=(c.left+(y&&_?_.offsetLeft:0))/h,I=(c.top+(y&&_?_.offsetTop:0))/f,R=c.width/h,N=c.height/f;return{width:R,height:N,top:I,right:v+R,bottom:I+N,left:v,x:v,y:I}}function zT(r){var s=zh(r),n=r.offsetWidth,c=r.offsetHeight;return Math.abs(s.width-n)<=1&&(n=s.width),Math.abs(s.height-c)<=1&&(c=s.height),{x:r.offsetLeft,y:r.offsetTop,width:n,height:c}}function IS(r,s){var n=s.getRootNode&&s.getRootNode();if(r.contains(s))return!0;if(n&&WT(n)){var c=s;do{if(c&&r.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function ua(r){return Un(r).getComputedStyle(r)}function Jx(r){return["table","td","th"].indexOf(ol(r))>=0}function _c(r){return((Gu(r)?r.ownerDocument:r.document)||window.document).documentElement}function I$(r){return ol(r)==="html"?r:r.assignedSlot||r.parentNode||(WT(r)?r.host:null)||_c(r)}function Ly(r){return!pi(r)||ua(r).position==="fixed"?null:r.offsetParent}function qx(r){var s=/firefox/i.test(nT()),n=/Trident/i.test(nT());if(n&&pi(r)){var c=ua(r);if(c.position==="fixed")return null}var h=I$(r);for(WT(h)&&(h=h.host);pi(h)&&["html","body"].indexOf(ol(h))<0;){var f=ua(h);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||s&&f.willChange==="filter"||s&&f.filter&&f.filter!=="none")return h;h=h.parentNode}return null}function dg(r){for(var s=Un(r),n=Ly(r);n&&Jx(n)&&ua(n).position==="static";)n=Ly(n);return n&&(ol(n)==="html"||ol(n)==="body"&&ua(n).position==="static")?s:n||qx(r)||s}function jT(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Bf(r,s,n){return Hu(r,n$(s,n))}function Qx(r,s,n){var c=Bf(r,s,n);return c>n?n:c}function CS(){return{top:0,right:0,bottom:0,left:0}}function kS(r){return Object.assign({},CS(),r)}function RS(r,s){return s.reduce(function(n,c){return n[c]=r,n},{})}var Zx=function(s,n){return s=typeof s=="function"?s(Object.assign({},n.rects,{placement:n.placement})):s,kS(typeof s!="number"?s:RS(s,ug))};function eL(r){var s,n=r.state,c=r.name,h=r.options,f=n.elements.arrow,g=n.modifiersData.popperOffsets,_=tl(n.placement),y=jT(_),v=[an,mi].indexOf(_)>=0,I=v?"height":"width";if(!(!f||!g)){var R=Zx(h.padding,n),N=zT(f),M=y==="y"?ln:an,x=y==="y"?gi:mi,A=n.rects.reference[I]+n.rects.reference[y]-g[y]-n.rects.popper[I],B=g[y]-n.rects.reference[y],W=dg(f),X=W?y==="y"?W.clientHeight||0:W.clientWidth||0:0,H=A/2-B/2,P=R[M],F=X-N[I]-R[x],J=X/2-N[I]/2+H,Q=Bf(P,J,F),re=y;n.modifiersData[c]=(s={},s[re]=Q,s.centerOffset=Q-J,s)}}function tL(r){var s=r.state,n=r.options,c=n.element,h=c===void 0?"[data-popper-arrow]":c;h!=null&&(typeof h=="string"&&(h=s.elements.popper.querySelector(h),!h)||IS(s.elements.popper,h)&&(s.elements.arrow=h))}const oL={name:"arrow",enabled:!0,phase:"main",fn:eL,effect:tL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jh(r){return r.split("-")[1]}var rL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nL(r,s){var n=r.x,c=r.y,h=s.devicePixelRatio||1;return{x:Wh(n*h)/h||0,y:Wh(c*h)/h||0}}function Ny(r){var s,n=r.popper,c=r.popperRect,h=r.placement,f=r.variation,g=r.offsets,_=r.position,y=r.gpuAcceleration,v=r.adaptive,I=r.roundOffsets,R=r.isFixed,N=g.x,M=N===void 0?0:N,x=g.y,A=x===void 0?0:x,B=typeof I=="function"?I({x:M,y:A}):{x:M,y:A};M=B.x,A=B.y;var W=g.hasOwnProperty("x"),X=g.hasOwnProperty("y"),H=an,P=ln,F=window;if(v){var J=dg(n),Q="clientHeight",re="clientWidth";if(J===Un(n)&&(J=_c(n),ua(J).position!=="static"&&_==="absolute"&&(Q="scrollHeight",re="scrollWidth")),J=J,h===ln||(h===an||h===mi)&&f===Kf){P=gi;var ae=R&&J===F&&F.visualViewport?F.visualViewport.height:J[Q];A-=ae-c.height,A*=y?1:-1}if(h===an||(h===ln||h===gi)&&f===Kf){H=mi;var S=R&&J===F&&F.visualViewport?F.visualViewport.width:J[re];M-=S-c.width,M*=y?1:-1}}var oe=Object.assign({position:_},v&&rL),$e=I===!0?nL({x:M,y:A},Un(n)):{x:M,y:A};if(M=$e.x,A=$e.y,y){var fe;return Object.assign({},oe,(fe={},fe[P]=X?"0":"",fe[H]=W?"0":"",fe.transform=(F.devicePixelRatio||1)<=1?"translate("+M+"px, "+A+"px)":"translate3d("+M+"px, "+A+"px, 0)",fe))}return Object.assign({},oe,(s={},s[P]=X?A+"px":"",s[H]=W?M+"px":"",s.transform="",s))}function iL(r){var s=r.state,n=r.options,c=n.gpuAcceleration,h=c===void 0?!0:c,f=n.adaptive,g=f===void 0?!0:f,_=n.roundOffsets,y=_===void 0?!0:_,v={placement:tl(s.placement),variation:jh(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:h,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,Ny(Object.assign({},v,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:g,roundOffsets:y})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,Ny(Object.assign({},v,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const sL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iL,data:{}};var wm={passive:!0};function lL(r){var s=r.state,n=r.instance,c=r.options,h=c.scroll,f=h===void 0?!0:h,g=c.resize,_=g===void 0?!0:g,y=Un(s.elements.popper),v=[].concat(s.scrollParents.reference,s.scrollParents.popper);return f&&v.forEach(function(I){I.addEventListener("scroll",n.update,wm)}),_&&y.addEventListener("resize",n.update,wm),function(){f&&v.forEach(function(I){I.removeEventListener("scroll",n.update,wm)}),_&&y.removeEventListener("resize",n.update,wm)}}const aL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lL,data:{}};var cL={left:"right",right:"left",bottom:"top",top:"bottom"};function Pm(r){return r.replace(/left|right|bottom|top/g,function(s){return cL[s]})}var uL={start:"end",end:"start"};function My(r){return r.replace(/start|end/g,function(s){return uL[s]})}function XT(r){var s=Un(r),n=s.pageXOffset,c=s.pageYOffset;return{scrollLeft:n,scrollTop:c}}function YT(r){return zh(_c(r)).left+XT(r).scrollLeft}function dL(r,s){var n=Un(r),c=_c(r),h=n.visualViewport,f=c.clientWidth,g=c.clientHeight,_=0,y=0;if(h){f=h.width,g=h.height;var v=SS();(v||!v&&s==="fixed")&&(_=h.offsetLeft,y=h.offsetTop)}return{width:f,height:g,x:_+YT(r),y}}function hL(r){var s,n=_c(r),c=XT(r),h=(s=r.ownerDocument)==null?void 0:s.body,f=Hu(n.scrollWidth,n.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),g=Hu(n.scrollHeight,n.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),_=-c.scrollLeft+YT(r),y=-c.scrollTop;return ua(h||n).direction==="rtl"&&(_+=Hu(n.clientWidth,h?h.clientWidth:0)-f),{width:f,height:g,x:_,y}}function KT(r){var s=ua(r),n=s.overflow,c=s.overflowX,h=s.overflowY;return/auto|scroll|overlay|hidden/.test(n+h+c)}function wS(r){return["html","body","#document"].indexOf(ol(r))>=0?r.ownerDocument.body:pi(r)&&KT(r)?r:wS(I$(r))}function Ff(r,s){var n;s===void 0&&(s=[]);var c=wS(r),h=c===((n=r.ownerDocument)==null?void 0:n.body),f=Un(c),g=h?[f].concat(f.visualViewport||[],KT(c)?c:[]):c,_=s.concat(g);return h?_:_.concat(Ff(I$(g)))}function iT(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function pL(r,s){var n=zh(r,!1,s==="fixed");return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function Dy(r,s,n){return s===yS?iT(dL(r,n)):Gu(s)?pL(s,n):iT(hL(_c(r)))}function fL(r){var s=Ff(I$(r)),n=["absolute","fixed"].indexOf(ua(r).position)>=0,c=n&&pi(r)?dg(r):r;return Gu(c)?s.filter(function(h){return Gu(h)&&IS(h,c)&&ol(h)!=="body"}):[]}function gL(r,s,n,c){var h=s==="clippingParents"?fL(r):[].concat(s),f=[].concat(h,[n]),g=f[0],_=f.reduce(function(y,v){var I=Dy(r,v,c);return y.top=Hu(I.top,y.top),y.right=n$(I.right,y.right),y.bottom=n$(I.bottom,y.bottom),y.left=Hu(I.left,y.left),y},Dy(r,g,c));return _.width=_.right-_.left,_.height=_.bottom-_.top,_.x=_.left,_.y=_.top,_}function OS(r){var s=r.reference,n=r.element,c=r.placement,h=c?tl(c):null,f=c?jh(c):null,g=s.x+s.width/2-n.width/2,_=s.y+s.height/2-n.height/2,y;switch(h){case ln:y={x:g,y:s.y-n.height};break;case gi:y={x:g,y:s.y+s.height};break;case mi:y={x:s.x+s.width,y:_};break;case an:y={x:s.x-n.width,y:_};break;default:y={x:s.x,y:s.y}}var v=h?jT(h):null;if(v!=null){var I=v==="y"?"height":"width";switch(f){case Vh:y[v]=y[v]-(s[I]/2-n[I]/2);break;case Kf:y[v]=y[v]+(s[I]/2-n[I]/2);break}}return y}function Jf(r,s){s===void 0&&(s={});var n=s,c=n.placement,h=c===void 0?r.placement:c,f=n.strategy,g=f===void 0?r.strategy:f,_=n.boundary,y=_===void 0?Mx:_,v=n.rootBoundary,I=v===void 0?yS:v,R=n.elementContext,N=R===void 0?Cf:R,M=n.altBoundary,x=M===void 0?!1:M,A=n.padding,B=A===void 0?0:A,W=kS(typeof B!="number"?B:RS(B,ug)),X=N===Cf?Dx:Cf,H=r.rects.popper,P=r.elements[x?X:N],F=gL(Gu(P)?P:P.contextElement||_c(r.elements.popper),y,I,g),J=zh(r.elements.reference),Q=OS({reference:J,element:H,placement:h}),re=iT(Object.assign({},H,Q)),ae=N===Cf?re:J,S={top:F.top-ae.top+W.top,bottom:ae.bottom-F.bottom+W.bottom,left:F.left-ae.left+W.left,right:ae.right-F.right+W.right},oe=r.modifiersData.offset;if(N===Cf&&oe){var $e=oe[h];Object.keys(S).forEach(function(fe){var Ee=[mi,gi].indexOf(fe)>=0?1:-1,Y=[ln,gi].indexOf(fe)>=0?"y":"x";S[fe]+=$e[Y]*Ee})}return S}function mL(r,s){s===void 0&&(s={});var n=s,c=n.placement,h=n.boundary,f=n.rootBoundary,g=n.padding,_=n.flipVariations,y=n.allowedAutoPlacements,v=y===void 0?vS:y,I=jh(c),R=I?_?xy:xy.filter(function(x){return jh(x)===I}):ug,N=R.filter(function(x){return v.indexOf(x)>=0});N.length===0&&(N=R);var M=N.reduce(function(x,A){return x[A]=Jf(r,{placement:A,boundary:h,rootBoundary:f,padding:g})[tl(A)],x},{});return Object.keys(M).sort(function(x,A){return M[x]-M[A]})}function $L(r){if(tl(r)===VT)return[];var s=Pm(r);return[My(r),s,My(s)]}function _L(r){var s=r.state,n=r.options,c=r.name;if(!s.modifiersData[c]._skip){for(var h=n.mainAxis,f=h===void 0?!0:h,g=n.altAxis,_=g===void 0?!0:g,y=n.fallbackPlacements,v=n.padding,I=n.boundary,R=n.rootBoundary,N=n.altBoundary,M=n.flipVariations,x=M===void 0?!0:M,A=n.allowedAutoPlacements,B=s.options.placement,W=tl(B),X=W===B,H=y||(X||!x?[Pm(B)]:$L(B)),P=[B].concat(H).reduce(function(ge,Ue){return ge.concat(tl(Ue)===VT?mL(s,{placement:Ue,boundary:I,rootBoundary:R,padding:v,flipVariations:x,allowedAutoPlacements:A}):Ue)},[]),F=s.rects.reference,J=s.rects.popper,Q=new Map,re=!0,ae=P[0],S=0;S<P.length;S++){var oe=P[S],$e=tl(oe),fe=jh(oe)===Vh,Ee=[ln,gi].indexOf($e)>=0,Y=Ee?"width":"height",le=Jf(s,{placement:oe,boundary:I,rootBoundary:R,altBoundary:N,padding:v}),ve=Ee?fe?mi:an:fe?gi:ln;F[Y]>J[Y]&&(ve=Pm(ve));var me=Pm(ve),de=[];if(f&&de.push(le[$e]<=0),_&&de.push(le[ve]<=0,le[me]<=0),de.every(function(ge){return ge})){ae=oe,re=!1;break}Q.set(oe,de)}if(re)for(var U=x?3:1,ie=function(Ue){var Ie=P.find(function(De){var Ne=Q.get(De);if(Ne)return Ne.slice(0,Ue).every(function(ot){return ot})});if(Ie)return ae=Ie,"break"},be=U;be>0;be--){var Ae=ie(be);if(Ae==="break")break}s.placement!==ae&&(s.modifiersData[c]._skip=!0,s.placement=ae,s.reset=!0)}}const TL={name:"flip",enabled:!0,phase:"main",fn:_L,requiresIfExists:["offset"],data:{_skip:!1}};function Py(r,s,n){return n===void 0&&(n={x:0,y:0}),{top:r.top-s.height-n.y,right:r.right-s.width+n.x,bottom:r.bottom-s.height+n.y,left:r.left-s.width-n.x}}function By(r){return[ln,mi,gi,an].some(function(s){return r[s]>=0})}function bL(r){var s=r.state,n=r.name,c=s.rects.reference,h=s.rects.popper,f=s.modifiersData.preventOverflow,g=Jf(s,{elementContext:"reference"}),_=Jf(s,{altBoundary:!0}),y=Py(g,c),v=Py(_,h,f),I=By(y),R=By(v);s.modifiersData[n]={referenceClippingOffsets:y,popperEscapeOffsets:v,isReferenceHidden:I,hasPopperEscaped:R},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":R})}const EL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bL};function yL(r,s,n){var c=tl(r),h=[an,ln].indexOf(c)>=0?-1:1,f=typeof n=="function"?n(Object.assign({},s,{placement:r})):n,g=f[0],_=f[1];return g=g||0,_=(_||0)*h,[an,mi].indexOf(c)>=0?{x:_,y:g}:{x:g,y:_}}function vL(r){var s=r.state,n=r.options,c=r.name,h=n.offset,f=h===void 0?[0,0]:h,g=vS.reduce(function(I,R){return I[R]=yL(R,s.rects,f),I},{}),_=g[s.placement],y=_.x,v=_.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=y,s.modifiersData.popperOffsets.y+=v),s.modifiersData[c]=g}const SL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vL};function IL(r){var s=r.state,n=r.name;s.modifiersData[n]=OS({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const CL={name:"popperOffsets",enabled:!0,phase:"read",fn:IL,data:{}};function kL(r){return r==="x"?"y":"x"}function RL(r){var s=r.state,n=r.options,c=r.name,h=n.mainAxis,f=h===void 0?!0:h,g=n.altAxis,_=g===void 0?!1:g,y=n.boundary,v=n.rootBoundary,I=n.altBoundary,R=n.padding,N=n.tether,M=N===void 0?!0:N,x=n.tetherOffset,A=x===void 0?0:x,B=Jf(s,{boundary:y,rootBoundary:v,padding:R,altBoundary:I}),W=tl(s.placement),X=jh(s.placement),H=!X,P=jT(W),F=kL(P),J=s.modifiersData.popperOffsets,Q=s.rects.reference,re=s.rects.popper,ae=typeof A=="function"?A(Object.assign({},s.rects,{placement:s.placement})):A,S=typeof ae=="number"?{mainAxis:ae,altAxis:ae}:Object.assign({mainAxis:0,altAxis:0},ae),oe=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,$e={x:0,y:0};if(J){if(f){var fe,Ee=P==="y"?ln:an,Y=P==="y"?gi:mi,le=P==="y"?"height":"width",ve=J[P],me=ve+B[Ee],de=ve-B[Y],U=M?-re[le]/2:0,ie=X===Vh?Q[le]:re[le],be=X===Vh?-re[le]:-Q[le],Ae=s.elements.arrow,ge=M&&Ae?zT(Ae):{width:0,height:0},Ue=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:CS(),Ie=Ue[Ee],De=Ue[Y],Ne=Bf(0,Q[le],ge[le]),ot=H?Q[le]/2-U-Ne-Ie-S.mainAxis:ie-Ne-Ie-S.mainAxis,Je=H?-Q[le]/2+U+Ne+De+S.mainAxis:be+Ne+De+S.mainAxis,st=s.elements.arrow&&dg(s.elements.arrow),Ce=st?P==="y"?st.clientTop||0:st.clientLeft||0:0,gt=(fe=oe==null?void 0:oe[P])!=null?fe:0,He=ve+ot-gt-Ce,bt=ve+Je-gt,Ot=Bf(M?n$(me,He):me,ve,M?Hu(de,bt):de);J[P]=Ot,$e[P]=Ot-ve}if(_){var Et,ft=P==="x"?ln:an,mt=P==="x"?gi:mi,dt=J[F],Tt=F==="y"?"height":"width",Pe=dt+B[ft],ce=dt-B[mt],Be=[ln,an].indexOf(W)!==-1,bo=(Et=oe==null?void 0:oe[F])!=null?Et:0,ht=Be?Pe:dt-Q[Tt]-re[Tt]-bo+S.altAxis,lo=Be?dt+Q[Tt]+re[Tt]-bo-S.altAxis:ce,at=M&&Be?Qx(ht,dt,lo):Bf(M?ht:Pe,dt,M?lo:ce);J[F]=at,$e[F]=at-dt}s.modifiersData[c]=$e}}const wL={name:"preventOverflow",enabled:!0,phase:"main",fn:RL,requiresIfExists:["offset"]};function OL(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function AL(r){return r===Un(r)||!pi(r)?XT(r):OL(r)}function xL(r){var s=r.getBoundingClientRect(),n=Wh(s.width)/r.offsetWidth||1,c=Wh(s.height)/r.offsetHeight||1;return n!==1||c!==1}function LL(r,s,n){n===void 0&&(n=!1);var c=pi(s),h=pi(s)&&xL(s),f=_c(s),g=zh(r,h,n),_={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(c||!c&&!n)&&((ol(s)!=="body"||KT(f))&&(_=AL(s)),pi(s)?(y=zh(s,!0),y.x+=s.clientLeft,y.y+=s.clientTop):f&&(y.x=YT(f))),{x:g.left+_.scrollLeft-y.x,y:g.top+_.scrollTop-y.y,width:g.width,height:g.height}}function NL(r){var s=new Map,n=new Set,c=[];r.forEach(function(f){s.set(f.name,f)});function h(f){n.add(f.name);var g=[].concat(f.requires||[],f.requiresIfExists||[]);g.forEach(function(_){if(!n.has(_)){var y=s.get(_);y&&h(y)}}),c.push(f)}return r.forEach(function(f){n.has(f.name)||h(f)}),c}function ML(r){var s=NL(r);return jx.reduce(function(n,c){return n.concat(s.filter(function(h){return h.phase===c}))},[])}function DL(r){var s;return function(){return s||(s=new Promise(function(n){Promise.resolve().then(function(){s=void 0,n(r())})})),s}}function PL(r){var s=r.reduce(function(n,c){var h=n[c.name];return n[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,n},{});return Object.keys(s).map(function(n){return s[n]})}var Fy={placement:"bottom",modifiers:[],strategy:"absolute"};function Uy(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return!s.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function BL(r){r===void 0&&(r={});var s=r,n=s.defaultModifiers,c=n===void 0?[]:n,h=s.defaultOptions,f=h===void 0?Fy:h;return function(_,y,v){v===void 0&&(v=f);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fy,f),modifiersData:{},elements:{reference:_,popper:y},attributes:{},styles:{}},R=[],N=!1,M={state:I,setOptions:function(W){var X=typeof W=="function"?W(I.options):W;A(),I.options=Object.assign({},f,I.options,X),I.scrollParents={reference:Gu(_)?Ff(_):_.contextElement?Ff(_.contextElement):[],popper:Ff(y)};var H=ML(PL([].concat(c,I.options.modifiers)));return I.orderedModifiers=H.filter(function(P){return P.enabled}),x(),M.update()},forceUpdate:function(){if(!N){var W=I.elements,X=W.reference,H=W.popper;if(Uy(X,H)){I.rects={reference:LL(X,dg(H),I.options.strategy==="fixed"),popper:zT(H)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(S){return I.modifiersData[S.name]=Object.assign({},S.data)});for(var P=0;P<I.orderedModifiers.length;P++){if(I.reset===!0){I.reset=!1,P=-1;continue}var F=I.orderedModifiers[P],J=F.fn,Q=F.options,re=Q===void 0?{}:Q,ae=F.name;typeof J=="function"&&(I=J({state:I,options:re,name:ae,instance:M})||I)}}}},update:DL(function(){return new Promise(function(B){M.forceUpdate(),B(I)})}),destroy:function(){A(),N=!0}};if(!Uy(_,y))return M;M.setOptions(v).then(function(B){!N&&v.onFirstUpdate&&v.onFirstUpdate(B)});function x(){I.orderedModifiers.forEach(function(B){var W=B.name,X=B.options,H=X===void 0?{}:X,P=B.effect;if(typeof P=="function"){var F=P({state:I,name:W,instance:M,options:H}),J=function(){};R.push(F||J)}})}function A(){R.forEach(function(B){return B()}),R=[]}return M}}var FL=[aL,CL,sL,Kx,SL,TL,wL,oL,EL],UL=BL({defaultModifiers:FL});function HL(r){return Ct("MuiPopper",r)}kt("MuiPopper",["root"]);function GL(r,s){if(s==="ltr")return r;switch(r){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return r}}function sT(r){return typeof r=="function"?r():r}function VL(r){return r.nodeType!==void 0}const WL=r=>{const{classes:s}=r;return Rt({root:["root"]},HL,s)},zL={},jL=w.forwardRef(function(s,n){const{anchorEl:c,children:h,direction:f,disablePortal:g,modifiers:_,open:y,placement:v,popperOptions:I,popperRef:R,slotProps:N={},slots:M={},TransitionProps:x,ownerState:A,...B}=s,W=w.useRef(null),X=Ho(W,n),H=w.useRef(null),P=Ho(H,R),F=w.useRef(P);fi(()=>{F.current=P},[P]),w.useImperativeHandle(R,()=>H.current,[]);const J=GL(v,f),[Q,re]=w.useState(J),[ae,S]=w.useState(sT(c));w.useEffect(()=>{H.current&&H.current.forceUpdate()}),w.useEffect(()=>{c&&S(sT(c))},[c]),fi(()=>{if(!ae||!y)return;const Y=me=>{re(me.placement)};let le=[{name:"preventOverflow",options:{altBoundary:g}},{name:"flip",options:{altBoundary:g}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:me})=>{Y(me)}}];_!=null&&(le=le.concat(_)),I&&I.modifiers!=null&&(le=le.concat(I.modifiers));const ve=UL(ae,W.current,{placement:J,...I,modifiers:le});return F.current(ve),()=>{ve.destroy(),F.current(null)}},[ae,g,_,y,I,J]);const oe={placement:Q};x!==null&&(oe.TransitionProps=x);const $e=WL(s),fe=M.root??"div",Ee=aS({elementType:fe,externalSlotProps:N.root,externalForwardedProps:B,additionalProps:{role:"tooltip",ref:X},ownerState:s,className:$e.root});return D.jsx(fe,{...Ee,children:typeof h=="function"?h(oe):h})}),XL=w.forwardRef(function(s,n){const{anchorEl:c,children:h,container:f,direction:g="ltr",disablePortal:_=!1,keepMounted:y=!1,modifiers:v,open:I,placement:R="bottom",popperOptions:N=zL,popperRef:M,style:x,transition:A=!1,slotProps:B={},slots:W={},...X}=s,[H,P]=w.useState(!0),F=()=>{P(!1)},J=()=>{P(!0)};if(!y&&!I&&(!A||H))return null;let Q;if(f)Q=f;else if(c){const S=sT(c);Q=S&&VL(S)?Fn(S).body:Fn(null).body}const re=!I&&y&&(!A||H)?"none":void 0,ae=A?{in:I,onEnter:F,onExited:J}:void 0;return D.jsx(mS,{disablePortal:_,container:Q,children:D.jsx(jL,{anchorEl:c,direction:g,disablePortal:_,modifiers:v,ref:n,open:A?!H:I,placement:R,popperOptions:N,popperRef:M,slotProps:B,slots:W,...X,style:{position:"fixed",top:0,left:0,display:re,...x},TransitionProps:ae,children:h})})}),YL=Qe(XL,{name:"MuiPopper",slot:"Root"})({}),AS=w.forwardRef(function(s,n){const c=kT(),h=wt({props:s,name:"MuiPopper"}),{anchorEl:f,component:g,components:_,componentsProps:y,container:v,disablePortal:I,keepMounted:R,modifiers:N,open:M,placement:x,popperOptions:A,popperRef:B,transition:W,slots:X,slotProps:H,...P}=h,F=(X==null?void 0:X.root)??(_==null?void 0:_.Root),J={anchorEl:f,container:v,disablePortal:I,keepMounted:R,modifiers:N,open:M,placement:x,popperOptions:A,popperRef:B,transition:W,...P};return D.jsx(YL,{as:g,direction:c?"rtl":"ltr",slots:{root:F},slotProps:H??y,...J,ref:n})});function KL(r){return Ct("MuiTooltip",r)}const Uo=kt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function JL(r){return Math.round(r*1e5)/1e5}const qL=r=>{const{classes:s,disableInteractive:n,arrow:c,touch:h,placement:f}=r,g={popper:["popper",!n&&"popperInteractive",c&&"popperArrow"],tooltip:["tooltip",c&&"tooltipArrow",h&&"touch",`tooltipPlacement${Ke(f.split("-")[0])}`],arrow:["arrow"]};return Rt(g,KL,s)},QL=Qe(AS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.popper,!n.disableInteractive&&s.popperInteractive,n.arrow&&s.popperArrow,!n.open&&s.popperClose]}})(Ht(({theme:r})=>({zIndex:(r.vars||r).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:s})=>!s.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:s})=>!s,style:{pointerEvents:"none"}},{props:({ownerState:s})=>s.arrow,style:{[`&[data-popper-placement*="bottom"] .${Uo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Uo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Uo.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Uo.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="right"] .${Uo.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="right"] .${Uo.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="left"] .${Uo.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="left"] .${Uo.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),ZL=Qe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.tooltip,n.touch&&s.touch,n.arrow&&s.tooltipArrow,s[`tooltipPlacement${Ke(n.placement.split("-")[0])}`]]}})(Ht(({theme:r})=>({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:to(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium,[`.${Uo.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Uo.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Uo.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Uo.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:s})=>s.arrow,style:{position:"relative",margin:0}},{props:({ownerState:s})=>s.touch,style:{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:`${JL(16/14)}em`,fontWeight:r.typography.fontWeightRegular}},{props:({ownerState:s})=>!s.isRtl,style:{[`.${Uo.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Uo.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:s})=>!s.isRtl&&s.touch,style:{[`.${Uo.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Uo.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:s})=>!!s.isRtl,style:{[`.${Uo.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Uo.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:s})=>!!s.isRtl&&s.touch,style:{[`.${Uo.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Uo.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${Uo.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${Uo.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),eN=Qe("span",{name:"MuiTooltip",slot:"Arrow"})(Ht(({theme:r})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:r.vars?r.vars.palette.Tooltip.bg:to(r.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Om=!1;const Hy=new S$;let kf={x:0,y:0};function Am(r,s){return(n,...c)=>{s&&s(n,...c),r(n,...c)}}const xS=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiTooltip"}),{arrow:h=!1,children:f,classes:g,components:_={},componentsProps:y={},describeChild:v=!1,disableFocusListener:I=!1,disableHoverListener:R=!1,disableInteractive:N=!1,disableTouchListener:M=!1,enterDelay:x=100,enterNextDelay:A=0,enterTouchDelay:B=700,followCursor:W=!1,id:X,leaveDelay:H=0,leaveTouchDelay:P=1500,onClose:F,onOpen:J,open:Q,placement:re="bottom",PopperComponent:ae,PopperProps:S={},slotProps:oe={},slots:$e={},title:fe,TransitionComponent:Ee,TransitionProps:Y,...le}=c,ve=w.isValidElement(f)?f:D.jsx("span",{children:f}),me=Vu(),de=kT(),[U,ie]=w.useState(),[be,Ae]=w.useState(null),ge=w.useRef(!1),Ue=N||W,Ie=Fu(),De=Fu(),Ne=Fu(),ot=Fu(),[Je,st]=q_({controlled:Q,default:!1,name:"Tooltip",state:"open"});let Ce=Je;const gt=T$(X),He=w.useRef(),bt=sa(()=>{He.current!==void 0&&(document.body.style.WebkitUserSelect=He.current,He.current=void 0),ot.clear()});w.useEffect(()=>bt,[bt]);const Ot=ct=>{Hy.clear(),Om=!0,st(!0),J&&!Ce&&J(ct)},Et=sa(ct=>{Hy.start(800+H,()=>{Om=!1}),st(!1),F&&Ce&&F(ct),Ie.start(me.transitions.duration.shortest,()=>{ge.current=!1})}),ft=ct=>{ge.current&&ct.type!=="touchstart"||(U&&U.removeAttribute("title"),De.clear(),Ne.clear(),x||Om&&A?De.start(Om?A:x,()=>{Ot(ct)}):Ot(ct))},mt=ct=>{De.clear(),Ne.start(H,()=>{Et(ct)})},[,dt]=w.useState(!1),Tt=ct=>{Gh(ct.target)||(dt(!1),mt(ct))},Pe=ct=>{U||ie(ct.currentTarget),Gh(ct.target)&&(dt(!0),ft(ct))},ce=ct=>{ge.current=!0;const E=ve.props;E.onTouchStart&&E.onTouchStart(ct)},Be=ct=>{ce(ct),Ne.clear(),Ie.clear(),bt(),He.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ot.start(B,()=>{document.body.style.WebkitUserSelect=He.current,ft(ct)})},bo=ct=>{ve.props.onTouchEnd&&ve.props.onTouchEnd(ct),bt(),Ne.start(P,()=>{Et(ct)})};w.useEffect(()=>{if(!Ce)return;function ct(E){E.key==="Escape"&&Et(E)}return document.addEventListener("keydown",ct),()=>{document.removeEventListener("keydown",ct)}},[Et,Ce]);const ht=Ho(Qh(ve),ie,n);!fe&&fe!==0&&(Ce=!1);const lo=w.useRef(),at=ct=>{const E=ve.props;E.onMouseMove&&E.onMouseMove(ct),kf={x:ct.clientX,y:ct.clientY},lo.current&&lo.current.update()},jt={},j=typeof fe=="string";v?(jt.title=!Ce&&j&&!R?fe:null,jt["aria-describedby"]=Ce?gt:null):(jt["aria-label"]=j?fe:null,jt["aria-labelledby"]=Ce&&!j?gt:null);const b={...jt,...le,...ve.props,className:lt(le.className,ve.props.className),onTouchStart:ce,ref:ht,...W?{onMouseMove:at}:{}},L={};M||(b.onTouchStart=Be,b.onTouchEnd=bo),R||(b.onMouseOver=Am(ft,b.onMouseOver),b.onMouseLeave=Am(mt,b.onMouseLeave),Ue||(L.onMouseOver=ft,L.onMouseLeave=mt)),I||(b.onFocus=Am(Pe,b.onFocus),b.onBlur=Am(Tt,b.onBlur),Ue||(L.onFocus=Pe,L.onBlur=Tt));const K={...c,isRtl:de,arrow:h,disableInteractive:Ue,placement:re,PopperComponentProp:ae,touch:ge.current},te=typeof oe.popper=="function"?oe.popper(K):oe.popper,pe=w.useMemo(()=>{var E,O;let ct=[{name:"arrow",enabled:!!be,options:{element:be,padding:4}}];return(E=S.popperOptions)!=null&&E.modifiers&&(ct=ct.concat(S.popperOptions.modifiers)),(O=te==null?void 0:te.popperOptions)!=null&&O.modifiers&&(ct=ct.concat(te.popperOptions.modifiers)),{...S.popperOptions,...te==null?void 0:te.popperOptions,modifiers:ct}},[be,S.popperOptions,te==null?void 0:te.popperOptions]),Xe=qL(K),_t=typeof oe.transition=="function"?oe.transition(K):oe.transition,ao={slots:{popper:_.Popper,transition:_.Transition??Ee,tooltip:_.Tooltip,arrow:_.Arrow,...$e},slotProps:{arrow:oe.arrow??y.arrow,popper:{...S,...te??y.popper},tooltip:oe.tooltip??y.tooltip,transition:{...Y,..._t??y.transition}}},[un,jr]=Co("popper",{elementType:QL,externalForwardedProps:ao,ownerState:K,className:lt(Xe.popper,S==null?void 0:S.className)}),[No,Nt]=Co("transition",{elementType:o$,externalForwardedProps:ao,ownerState:K}),[Hn,Gn]=Co("tooltip",{elementType:ZL,className:Xe.tooltip,externalForwardedProps:ao,ownerState:K}),[Vn,Ti]=Co("arrow",{elementType:eN,className:Xe.arrow,externalForwardedProps:ao,ownerState:K,ref:Ae});return D.jsxs(w.Fragment,{children:[w.cloneElement(ve,b),D.jsx(un,{as:ae??AS,placement:re,anchorEl:W?{getBoundingClientRect:()=>({top:kf.y,left:kf.x,right:kf.x,bottom:kf.y,width:0,height:0})}:U,popperRef:lo,open:U?Ce:!1,id:gt,transition:!0,...L,...jr,popperOptions:pe,children:({TransitionProps:ct})=>D.jsx(No,{timeout:me.transitions.duration.shorter,...ct,...Nt,children:D.jsxs(Hn,{...Gn,children:[fe,h?D.jsx(Vn,{...Ti}):null]})})})]})}),tN=qh(D.jsx("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}));function oN(){const{text:r,setText:s,setToUpdate:n,data:c}=w.useContext(zr),h=g=>{s(g.target.value),n(!0)},f=r.length?r:(c==null?void 0:c.string)||"Leave empty to generate an example of something which would match the pattern";return D.jsxs(Er,{position:"relative",display:"inline-block",sx:{mt:2,width:"100%"},children:[D.jsx(ax,{fullWidth:!0,multiline:!0,minRows:2,maxRows:10,variant:"outlined",label:"String to match against",id:"textInput",value:r,onChange:h,placeholder:f,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",slotProps:{inputLabel:{shrink:!0}}}),r.length===0&&D.jsx(xS,{title:"Generate a different example",children:D.jsx(ES,{size:"small",onClick:()=>n(!0),sx:{position:"absolute",top:4,right:4,className:"update-button",backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:D.jsx(tN,{fontSize:"small"})})})]})}function rN(){const{data:r}=w.useContext(zr);return D.jsxs(D.Fragment,{children:[D.jsx(rr,{variant:"h5",children:"Looking for matches in:"}),D.jsx(Wu,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",whiteSpace:"pre-wrap"},children:r!=null&&r["string HTML"]?D.jsx("div",{dangerouslySetInnerHTML:{__html:r==null?void 0:r["string HTML"].trim()}}):D.jsx(rr,{color:"text.secondary",fontStyle:"italic",children:"No text to display"})})]})}function nN(r){return Ct("MuiCollapse",r)}kt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const iN=r=>{const{orientation:s,classes:n}=r,c={root:["root",`${s}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${s}`],wrapperInner:["wrapperInner",`${s}`]};return Rt(c,nN,n)},sN=Qe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[n.orientation],n.state==="entered"&&s.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&s.hidden]}})(Ht(({theme:r})=>({height:0,overflow:"hidden",transition:r.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:r.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:s})=>s.state==="exited"&&!s.in&&s.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),lN=Qe("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),aN=Qe("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),i$=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiCollapse"}),{addEndListener:h,children:f,className:g,collapsedSize:_="0px",component:y,easing:v,in:I,onEnter:R,onEntered:N,onEntering:M,onExit:x,onExited:A,onExiting:B,orientation:W="vertical",style:X,timeout:H=Gv.standard,TransitionComponent:P=as,...F}=c,J={...c,orientation:W,collapsedSize:_},Q=iN(J),re=Vu(),ae=Fu(),S=w.useRef(null),oe=w.useRef(),$e=typeof _=="number"?`${_}px`:_,fe=W==="horizontal",Ee=fe?"width":"height",Y=w.useRef(null),le=Ho(n,Y),ve=Ie=>De=>{if(Ie){const Ne=Y.current;De===void 0?Ie(Ne):Ie(Ne,De)}},me=()=>S.current?S.current[fe?"clientWidth":"clientHeight"]:0,de=ve((Ie,De)=>{S.current&&fe&&(S.current.style.position="absolute"),Ie.style[Ee]=$e,R&&R(Ie,De)}),U=ve((Ie,De)=>{const Ne=me();S.current&&fe&&(S.current.style.position="");const{duration:ot,easing:Je}=Hh({style:X,timeout:H,easing:v},{mode:"enter"});if(H==="auto"){const st=re.transitions.getAutoHeightDuration(Ne);Ie.style.transitionDuration=`${st}ms`,oe.current=st}else Ie.style.transitionDuration=typeof ot=="string"?ot:`${ot}ms`;Ie.style[Ee]=`${Ne}px`,Ie.style.transitionTimingFunction=Je,M&&M(Ie,De)}),ie=ve((Ie,De)=>{Ie.style[Ee]="auto",N&&N(Ie,De)}),be=ve(Ie=>{Ie.style[Ee]=`${me()}px`,x&&x(Ie)}),Ae=ve(A),ge=ve(Ie=>{const De=me(),{duration:Ne,easing:ot}=Hh({style:X,timeout:H,easing:v},{mode:"exit"});if(H==="auto"){const Je=re.transitions.getAutoHeightDuration(De);Ie.style.transitionDuration=`${Je}ms`,oe.current=Je}else Ie.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;Ie.style[Ee]=$e,Ie.style.transitionTimingFunction=ot,B&&B(Ie)}),Ue=Ie=>{H==="auto"&&ae.start(oe.current||0,Ie),h&&h(Y.current,Ie)};return D.jsx(P,{in:I,onEnter:de,onEntered:ie,onEntering:U,onExit:be,onExited:Ae,onExiting:ge,addEndListener:Ue,nodeRef:Y,timeout:H==="auto"?null:H,...F,children:(Ie,{ownerState:De,...Ne})=>D.jsx(sN,{as:y,className:lt(Q.root,g,{entered:Q.entered,exited:!I&&$e==="0px"&&Q.hidden}[Ie]),style:{[fe?"minWidth":"minHeight"]:$e,...X},ref:le,ownerState:{...J,state:Ie},...Ne,children:D.jsx(lN,{ownerState:{...J,state:Ie},className:Q.wrapper,ref:S,children:D.jsx(aN,{ownerState:{...J,state:Ie},className:Q.wrapperInner,children:f})})})})});i$&&(i$.muiSupportAuto=!0);function cN(r){return Ct("MuiAppBar",r)}kt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const uN=r=>{const{color:s,position:n,classes:c}=r,h={root:["root",`color${Ke(s)}`,`position${Ke(n)}`]};return Rt(h,cN,c)},Gy=(r,s)=>r?`${r==null?void 0:r.replace(")","")}, ${s})`:s,dN=Qe(Wu,{name:"MuiAppBar",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`position${Ke(n.position)}`],s[`color${Ke(n.color)}`]]}})(Ht(({theme:r})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":r.vars?r.vars.palette.AppBar.defaultBg:r.palette.grey[100],"--AppBar-color":r.vars?r.vars.palette.text.primary:r.palette.getContrastText(r.palette.grey[100]),...r.applyStyles("dark",{"--AppBar-background":r.vars?r.vars.palette.AppBar.defaultBg:r.palette.grey[900],"--AppBar-color":r.vars?r.vars.palette.text.primary:r.palette.getContrastText(r.palette.grey[900])})}},...Object.entries(r.palette).filter(sn(["contrastText"])).map(([s])=>({props:{color:s},style:{"--AppBar-background":(r.vars??r).palette[s].main,"--AppBar-color":(r.vars??r).palette[s].contrastText}})),{props:s=>s.enableColorOnDark===!0&&!["inherit","transparent"].includes(s.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:s=>s.enableColorOnDark===!1&&!["inherit","transparent"].includes(s.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...r.applyStyles("dark",{backgroundColor:r.vars?Gy(r.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:r.vars?Gy(r.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...r.applyStyles("dark",{backgroundImage:"none"})}}]}))),hN=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiAppBar"}),{className:h,color:f="primary",enableColorOnDark:g=!1,position:_="fixed",...y}=c,v={...c,color:f,position:_,enableColorOnDark:g},I=uN(v);return D.jsx(dN,{square:!0,component:"header",ownerState:v,elevation:4,className:lt(I.root,h,_==="fixed"&&"mui-fixed"),ref:n,...y})}),pN=qh(D.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function fN(r){return Ct("MuiChip",r)}const Lt=kt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),gN=r=>{const{classes:s,disabled:n,size:c,color:h,iconColor:f,onDelete:g,clickable:_,variant:y}=r,v={root:["root",y,n&&"disabled",`size${Ke(c)}`,`color${Ke(h)}`,_&&"clickable",_&&`clickableColor${Ke(h)}`,g&&"deletable",g&&`deletableColor${Ke(h)}`,`${y}${Ke(h)}`],label:["label",`label${Ke(c)}`],avatar:["avatar",`avatar${Ke(c)}`,`avatarColor${Ke(h)}`],icon:["icon",`icon${Ke(c)}`,`iconColor${Ke(f)}`],deleteIcon:["deleteIcon",`deleteIcon${Ke(c)}`,`deleteIconColor${Ke(h)}`,`deleteIcon${Ke(y)}Color${Ke(h)}`]};return Rt(v,fN,s)},mN=Qe("div",{name:"MuiChip",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r,{color:c,iconColor:h,clickable:f,onDelete:g,size:_,variant:y}=n;return[{[`& .${Lt.avatar}`]:s.avatar},{[`& .${Lt.avatar}`]:s[`avatar${Ke(_)}`]},{[`& .${Lt.avatar}`]:s[`avatarColor${Ke(c)}`]},{[`& .${Lt.icon}`]:s.icon},{[`& .${Lt.icon}`]:s[`icon${Ke(_)}`]},{[`& .${Lt.icon}`]:s[`iconColor${Ke(h)}`]},{[`& .${Lt.deleteIcon}`]:s.deleteIcon},{[`& .${Lt.deleteIcon}`]:s[`deleteIcon${Ke(_)}`]},{[`& .${Lt.deleteIcon}`]:s[`deleteIconColor${Ke(c)}`]},{[`& .${Lt.deleteIcon}`]:s[`deleteIcon${Ke(y)}Color${Ke(c)}`]},s.root,s[`size${Ke(_)}`],s[`color${Ke(c)}`],f&&s.clickable,f&&c!=="default"&&s[`clickableColor${Ke(c)})`],g&&s.deletable,g&&c!=="default"&&s[`deletableColor${Ke(c)}`],s[y],s[`${y}${Ke(c)}`]]}})(Ht(({theme:r})=>{const s=r.palette.mode==="light"?r.palette.grey[700]:r.palette.grey[300];return{maxWidth:"100%",fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(r.vars||r).palette.text.primary,backgroundColor:(r.vars||r).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:r.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Lt.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Lt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:r.vars?r.vars.palette.Chip.defaultAvatarColor:s,fontSize:r.typography.pxToRem(12)},[`& .${Lt.avatarColorPrimary}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.dark},[`& .${Lt.avatarColorSecondary}`]:{color:(r.vars||r).palette.secondary.contrastText,backgroundColor:(r.vars||r).palette.secondary.dark},[`& .${Lt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:r.typography.pxToRem(10)},[`& .${Lt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Lt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.26)`:to(r.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:to(r.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Lt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Lt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(r.palette).filter(sn(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(r.vars||r).palette[n].main,color:(r.vars||r).palette[n].contrastText,[`& .${Lt.deleteIcon}`]:{color:r.vars?`rgba(${r.vars.palette[n].contrastTextChannel} / 0.7)`:to(r.palette[n].contrastText,.7),"&:hover, &:active":{color:(r.vars||r).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Lt.icon}`]:{color:r.vars?r.vars.palette.Chip.defaultIconColor:s}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Lt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Lt.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:to(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}}},...Object.entries(r.palette).filter(sn(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Lt.focusVisible}`]:{background:(r.vars||r).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:to(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity)},[`&.${Lt.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:to(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)},"&:active":{boxShadow:(r.vars||r).shadows[1]}}},...Object.entries(r.palette).filter(sn(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Lt.focusVisible}`]:{backgroundColor:(r.vars||r).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:r.vars?`1px solid ${r.vars.palette.Chip.defaultBorder}`:`1px solid ${r.palette.mode==="light"?r.palette.grey[400]:r.palette.grey[700]}`,[`&.${Lt.clickable}:hover`]:{backgroundColor:(r.vars||r).palette.action.hover},[`&.${Lt.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`& .${Lt.avatar}`]:{marginLeft:4},[`& .${Lt.avatarSmall}`]:{marginLeft:2},[`& .${Lt.icon}`]:{marginLeft:4},[`& .${Lt.iconSmall}`]:{marginLeft:2},[`& .${Lt.deleteIcon}`]:{marginRight:5},[`& .${Lt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(r.palette).filter(sn()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(r.vars||r).palette[n].main,border:`1px solid ${r.vars?`rgba(${r.vars.palette[n].mainChannel} / 0.7)`:to(r.palette[n].main,.7)}`,[`&.${Lt.clickable}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette[n].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:to(r.palette[n].main,r.palette.action.hoverOpacity)},[`&.${Lt.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette[n].mainChannel} / ${r.vars.palette.action.focusOpacity})`:to(r.palette[n].main,r.palette.action.focusOpacity)},[`& .${Lt.deleteIcon}`]:{color:r.vars?`rgba(${r.vars.palette[n].mainChannel} / 0.7)`:to(r.palette[n].main,.7),"&:hover, &:active":{color:(r.vars||r).palette[n].main}}}}))]}})),$N=Qe("span",{name:"MuiChip",slot:"Label",overridesResolver:(r,s)=>{const{ownerState:n}=r,{size:c}=n;return[s.label,s[`label${Ke(c)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Vy(r){return r.key==="Backspace"||r.key==="Delete"}const _N=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiChip"}),{avatar:h,className:f,clickable:g,color:_="default",component:y,deleteIcon:v,disabled:I=!1,icon:R,label:N,onClick:M,onDelete:x,onKeyDown:A,onKeyUp:B,size:W="medium",variant:X="filled",tabIndex:H,skipFocusWhenDisabled:P=!1,slots:F={},slotProps:J={},...Q}=c,re=w.useRef(null),ae=Ho(re,n),S=Ie=>{Ie.stopPropagation(),x&&x(Ie)},oe=Ie=>{Ie.currentTarget===Ie.target&&Vy(Ie)&&Ie.preventDefault(),A&&A(Ie)},$e=Ie=>{Ie.currentTarget===Ie.target&&x&&Vy(Ie)&&x(Ie),B&&B(Ie)},fe=g!==!1&&M?!0:g,Ee=fe||x?Yf:y||"div",Y={...c,component:Ee,disabled:I,size:W,color:_,iconColor:w.isValidElement(R)&&R.props.color||_,onDelete:!!x,clickable:fe,variant:X},le=gN(Y),ve=Ee===Yf?{component:y||"div",focusVisibleClassName:le.focusVisible,...x&&{disableRipple:!0}}:{};let me=null;x&&(me=v&&w.isValidElement(v)?w.cloneElement(v,{className:lt(v.props.className,le.deleteIcon),onClick:S}):D.jsx(pN,{className:le.deleteIcon,onClick:S}));let de=null;h&&w.isValidElement(h)&&(de=w.cloneElement(h,{className:lt(le.avatar,h.props.className)}));let U=null;R&&w.isValidElement(R)&&(U=w.cloneElement(R,{className:lt(le.icon,R.props.className)}));const ie={slots:F,slotProps:J},[be,Ae]=Co("root",{elementType:mN,externalForwardedProps:{...ie,...Q},ownerState:Y,shouldForwardComponentProp:!0,ref:ae,className:lt(le.root,f),additionalProps:{disabled:fe&&I?!0:void 0,tabIndex:P&&I?-1:H,...ve},getSlotProps:Ie=>({...Ie,onClick:De=>{var Ne;(Ne=Ie.onClick)==null||Ne.call(Ie,De),M(De)},onKeyDown:De=>{var Ne;(Ne=Ie.onKeyDown)==null||Ne.call(Ie,De),oe(De)},onKeyUp:De=>{var Ne;(Ne=Ie.onKeyUp)==null||Ne.call(Ie,De),$e(De)}})}),[ge,Ue]=Co("label",{elementType:$N,externalForwardedProps:ie,ownerState:Y,className:le.label});return D.jsxs(be,{as:Ee,...Ae,children:[de||U,D.jsx(ge,{...Ue,children:N}),me]})});function TN(r){return Ct("MuiDivider",r)}const Wy=kt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),bN=r=>{const{absolute:s,children:n,classes:c,flexItem:h,light:f,orientation:g,textAlign:_,variant:y}=r;return Rt({root:["root",s&&"absolute",y,f&&"light",g==="vertical"&&"vertical",h&&"flexItem",n&&"withChildren",n&&g==="vertical"&&"withChildrenVertical",_==="right"&&g!=="vertical"&&"textAlignRight",_==="left"&&g!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",g==="vertical"&&"wrapperVertical"]},TN,c)},EN=Qe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.absolute&&s.absolute,s[n.variant],n.light&&s.light,n.orientation==="vertical"&&s.vertical,n.flexItem&&s.flexItem,n.children&&s.withChildren,n.children&&n.orientation==="vertical"&&s.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&s.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&s.textAlignLeft]}})(Ht(({theme:r})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:r.vars?`rgba(${r.vars.palette.dividerChannel} / 0.08)`:to(r.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:r.spacing(2),marginRight:r.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:r.spacing(1),marginBottom:r.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:s})=>!!s.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:s})=>s.children&&s.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:s})=>s.orientation==="vertical"&&s.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:s})=>s.textAlign==="right"&&s.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:s})=>s.textAlign==="left"&&s.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),yN=Qe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.wrapper,n.orientation==="vertical"&&s.wrapperVertical]}})(Ht(({theme:r})=>({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`}}]}))),lT=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiDivider"}),{absolute:h=!1,children:f,className:g,orientation:_="horizontal",component:y=f||_==="vertical"?"div":"hr",flexItem:v=!1,light:I=!1,role:R=y!=="hr"?"separator":void 0,textAlign:N="center",variant:M="fullWidth",...x}=c,A={...c,absolute:h,component:y,flexItem:v,light:I,orientation:_,role:R,textAlign:N,variant:M},B=bN(A);return D.jsx(EN,{as:y,className:lt(B.root,g),role:R,ref:n,ownerState:A,"aria-orientation":R==="separator"&&(y!=="hr"||_==="vertical")?_:void 0,...x,children:f?D.jsx(yN,{className:B.wrapper,ownerState:A,children:f}):null})});lT&&(lT.muiSkipListHighlight=!0);function vN(r){return Ct("MuiLink",r)}const SN=kt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),IN=({theme:r,ownerState:s})=>{const n=s.color,c=pc(r,`palette.${n}.main`,!1)||pc(r,`palette.${n}`,!1)||s.color,h=pc(r,`palette.${n}.mainChannel`)||pc(r,`palette.${n}Channel`);return"vars"in r&&h?`rgba(${h} / 0.4)`:to(c,.4)},zy={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},CN=r=>{const{classes:s,component:n,focusVisible:c,underline:h}=r,f={root:["root",`underline${Ke(h)}`,n==="button"&&"button",c&&"focusVisible"]};return Rt(f,vN,s)},kN=Qe(rr,{name:"MuiLink",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`underline${Ke(n.underline)}`],n.component==="button"&&s.button]}})(Ht(({theme:r})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:n})=>s==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(r.palette).filter(sn()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette[s].mainChannel} / 0.4)`:to(r.palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:to(r.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.secondaryChannel} / 0.4)`:to(r.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(r.vars||r).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${SN.focusVisible}`]:{outline:"auto"}}}]}))),LS=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiLink"}),h=Vu(),{className:f,color:g="primary",component:_="a",onBlur:y,onFocus:v,TypographyClasses:I,underline:R="always",variant:N="inherit",sx:M,...x}=c,[A,B]=w.useState(!1),W=F=>{Gh(F.target)||B(!1),y&&y(F)},X=F=>{Gh(F.target)&&B(!0),v&&v(F)},H={...c,color:g,component:_,focusVisible:A,underline:R,variant:N},P=CN(H);return D.jsx(kN,{color:g,className:lt(P.root,f),classes:I,component:_,onBlur:W,onFocus:X,ref:n,ownerState:H,variant:N,...x,sx:[...zy[g]===void 0?[{color:g}]:[],...Array.isArray(M)?M:[M]],style:{...x.style,...R==="always"&&g!=="inherit"&&!zy[g]&&{"--Link-underlineColor":IN({theme:h,ownerState:H})}}})});function RN(r){return Ct("MuiListItem",r)}kt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function wN(r){return Ct("MuiListItemButton",r)}const Lh=kt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),ON=(r,s)=>{const{ownerState:n}=r;return[s.root,n.dense&&s.dense,n.alignItems==="flex-start"&&s.alignItemsFlexStart,n.divider&&s.divider,!n.disableGutters&&s.gutters]},AN=r=>{const{alignItems:s,classes:n,dense:c,disabled:h,disableGutters:f,divider:g,selected:_}=r,v=Rt({root:["root",c&&"dense",!f&&"gutters",g&&"divider",h&&"disabled",s==="flex-start"&&"alignItemsFlexStart",_&&"selected"]},wN,n);return{...n,...v}},xN=Qe(Yf,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:ON})(Ht(({theme:r})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lh.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:to(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${Lh.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:to(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${Lh.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:to(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:to(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${Lh.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${Lh.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},variants:[{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.dense,style:{paddingTop:4,paddingBottom:4}}]}))),NS=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiListItemButton"}),{alignItems:h="center",autoFocus:f=!1,component:g="div",children:_,dense:y=!1,disableGutters:v=!1,divider:I=!1,focusVisibleClassName:R,selected:N=!1,className:M,...x}=c,A=w.useContext(el),B=w.useMemo(()=>({dense:y||A.dense||!1,alignItems:h,disableGutters:v}),[h,A.dense,y,v]),W=w.useRef(null);fi(()=>{f&&W.current&&W.current.focus()},[f]);const X={...c,alignItems:h,dense:B.dense,disableGutters:v,divider:I,selected:N},H=AN(X),P=Ho(W,n);return D.jsx(el.Provider,{value:B,children:D.jsx(xN,{ref:P,href:x.href||x.to,component:(x.href||x.to)&&g==="div"?"button":g,focusVisibleClassName:lt(H.focusVisible,R),ownerState:X,className:lt(H.root,M),...x,classes:H,children:_})})});function LN(r){return Ct("MuiListItemSecondaryAction",r)}kt("MuiListItemSecondaryAction",["root","disableGutters"]);const NN=r=>{const{disableGutters:s,classes:n}=r;return Rt({root:["root",s&&"disableGutters"]},LN,n)},MN=Qe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:r})=>r.disableGutters,style:{right:0}}]}),MS=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiListItemSecondaryAction"}),{className:h,...f}=c,g=w.useContext(el),_={...c,disableGutters:g.disableGutters},y=NN(_);return D.jsx(MN,{className:lt(y.root,h),ownerState:_,ref:n,...f})});MS.muiName="ListItemSecondaryAction";const DN=(r,s)=>{const{ownerState:n}=r;return[s.root,n.dense&&s.dense,n.alignItems==="flex-start"&&s.alignItemsFlexStart,n.divider&&s.divider,!n.disableGutters&&s.gutters,!n.disablePadding&&s.padding,n.hasSecondaryAction&&s.secondaryAction]},PN=r=>{const{alignItems:s,classes:n,dense:c,disableGutters:h,disablePadding:f,divider:g,hasSecondaryAction:_}=r;return Rt({root:["root",c&&"dense",!h&&"gutters",!f&&"padding",g&&"divider",s==="flex-start"&&"alignItemsFlexStart",_&&"secondaryAction"],container:["container"]},RN,n)},BN=Qe("div",{name:"MuiListItem",slot:"Root",overridesResolver:DN})(Ht(({theme:r})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${Lh.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),FN=Qe("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),JT=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiListItem"}),{alignItems:h="center",children:f,className:g,component:_,components:y={},componentsProps:v={},ContainerComponent:I="li",ContainerProps:{className:R,...N}={},dense:M=!1,disableGutters:x=!1,disablePadding:A=!1,divider:B=!1,secondaryAction:W,slotProps:X={},slots:H={},...P}=c,F=w.useContext(el),J=w.useMemo(()=>({dense:M||F.dense||!1,alignItems:h,disableGutters:x}),[h,F.dense,M,x]),Q=w.useRef(null),re=w.Children.toArray(f),ae=re.length&&Nf(re[re.length-1],["ListItemSecondaryAction"]),S={...c,alignItems:h,dense:J.dense,disableGutters:x,disablePadding:A,divider:B,hasSecondaryAction:ae},oe=PN(S),$e=Ho(Q,n),fe=H.root||y.Root||BN,Ee=X.root||v.root||{},Y={className:lt(oe.root,Ee.className,g),...P};let le=_||"li";return ae?(le=!Y.component&&!_?"div":le,I==="li"&&(le==="li"?le="div":Y.component==="li"&&(Y.component="div")),D.jsx(el.Provider,{value:J,children:D.jsxs(FN,{as:I,className:lt(oe.container,R),ref:$e,ownerState:S,...N,children:[D.jsx(fe,{...Ee,...!Xf(fe)&&{as:le,ownerState:{...S,...Ee.ownerState}},...Y,children:re}),re.pop()]})})):D.jsx(el.Provider,{value:J,children:D.jsxs(fe,{...Ee,as:le,ref:$e,...!Xf(fe)&&{ownerState:{...S,...Ee.ownerState}},...Y,children:[re,W&&D.jsx(MS,{children:W})]})})}),jy=kt("MuiListItemIcon",["root","alignItemsFlexStart"]);function UN(r){return Ct("MuiListItemText",r)}const Mh=kt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),HN=r=>{const{classes:s,inset:n,primary:c,secondary:h,dense:f}=r;return Rt({root:["root",n&&"inset",f&&"dense",c&&h&&"multiline"],primary:["primary"],secondary:["secondary"]},UN,s)},GN=Qe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[{[`& .${Mh.primary}`]:s.primary},{[`& .${Mh.secondary}`]:s.secondary},s.root,n.inset&&s.inset,n.primary&&n.secondary&&s.multiline,n.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${ey.root}:where(& .${Mh.primary})`]:{display:"block"},[`.${ey.root}:where(& .${Mh.secondary})`]:{display:"block"},variants:[{props:({ownerState:r})=>r.primary&&r.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:r})=>r.inset,style:{paddingLeft:56}}]}),VN=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiListItemText"}),{children:h,className:f,disableTypography:g=!1,inset:_=!1,primary:y,primaryTypographyProps:v,secondary:I,secondaryTypographyProps:R,slots:N={},slotProps:M={},...x}=c,{dense:A}=w.useContext(el);let B=y??h,W=I;const X={...c,disableTypography:g,inset:_,primary:!!B,secondary:!!W,dense:A},H=HN(X),P={slots:N,slotProps:{primary:v,secondary:R,...M}},[F,J]=Co("root",{className:lt(H.root,f),elementType:GN,externalForwardedProps:{...P,...x},ownerState:X,ref:n}),[Q,re]=Co("primary",{className:H.primary,elementType:rr,externalForwardedProps:P,ownerState:X}),[ae,S]=Co("secondary",{className:H.secondary,elementType:rr,externalForwardedProps:P,ownerState:X});return B!=null&&B.type!==rr&&!g&&(B=D.jsx(Q,{variant:A?"body2":"body1",component:re!=null&&re.variant?void 0:"span",...re,children:B})),W!=null&&W.type!==rr&&!g&&(W=D.jsx(ae,{variant:"body2",color:"textSecondary",...S,children:W})),D.jsxs(F,{...J,children:[B,W]})});function WN(r){return Ct("MuiMenuItem",r)}const Rf=kt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zN=(r,s)=>{const{ownerState:n}=r;return[s.root,n.dense&&s.dense,n.divider&&s.divider,!n.disableGutters&&s.gutters]},jN=r=>{const{disabled:s,dense:n,divider:c,disableGutters:h,selected:f,classes:g}=r,y=Rt({root:["root",n&&"dense",s&&"disabled",!h&&"gutters",c&&"divider",f&&"selected"]},WN,g);return{...g,...y}},XN=Qe(Yf,{shouldForwardProp:r=>_i(r)||r==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:zN})(Ht(({theme:r})=>({...r.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rf.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:to(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${Rf.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:to(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${Rf.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:to(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:to(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${Rf.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${Rf.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},[`& + .${Wy.root}`]:{marginTop:r.spacing(1),marginBottom:r.spacing(1)},[`& + .${Wy.inset}`]:{marginLeft:52},[`& .${Mh.root}`]:{marginTop:0,marginBottom:0},[`& .${Mh.inset}`]:{paddingLeft:36},[`& .${jy.root}`]:{minWidth:36},variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>!s.dense,style:{[r.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:s})=>s.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...r.typography.body2,[`& .${jy.root} svg`]:{fontSize:"1.25rem"}}}]}))),nn=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiMenuItem"}),{autoFocus:h=!1,component:f="li",dense:g=!1,divider:_=!1,disableGutters:y=!1,focusVisibleClassName:v,role:I="menuitem",tabIndex:R,className:N,...M}=c,x=w.useContext(el),A=w.useMemo(()=>({dense:g||x.dense||!1,disableGutters:y}),[x.dense,g,y]),B=w.useRef(null);fi(()=>{h&&B.current&&B.current.focus()},[h]);const W={...c,dense:A.dense,divider:_,disableGutters:y},X=jN(c),H=Ho(B,n);let P;return c.disabled||(P=R!==void 0?R:-1),D.jsx(el.Provider,{value:A,children:D.jsx(XN,{ref:H,role:I,tabIndex:P,component:f,focusVisibleClassName:lt(X.focusVisible,v),className:lt(X.root,N),...M,ownerState:W,classes:X})})});function YN(r){return Ct("MuiToolbar",r)}kt("MuiToolbar",["root","gutters","regular","dense"]);const KN=r=>{const{classes:s,disableGutters:n,variant:c}=r;return Rt({root:["root",!n&&"gutters",c]},YN,s)},JN=Qe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,!n.disableGutters&&s.gutters,s[n.variant]]}})(Ht(({theme:r})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:r.mixins.toolbar}]}))),qN=w.forwardRef(function(s,n){const c=wt({props:s,name:"MuiToolbar"}),{className:h,component:f="div",disableGutters:g=!1,variant:_="regular",...y}=c,v={...c,component:f,disableGutters:g,variant:_},I=KN(v);return D.jsx(JN,{as:f,className:lt(I.root,h),ref:n,ownerState:v,...y})}),QN=qh(D.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}));function ZN({showMode:r,setShowMode:s}){return w.useEffect(()=>{localStorage.setItem("EZRegexShowMode",r)},[r]),w.useEffect(()=>{const n=localStorage.getItem("EZRegexShowMode");n&&s(n)},[]),D.jsxs(ag,{sx:{height:"100%",width:"min-content",ml:"auto"},id:"copy-dropdown",children:[D.jsx(lg,{id:"copy-dropdown",variant:"standard",children:"Show as"}),D.jsxs(Zh,{labelId:"copy-dropdown",id:"copy-dropdown",sx:{height:"100%"},value:r,variant:"standard",onChange:n=>s(n.target.value),size:"small",children:[D.jsx(nn,{value:"plain",children:"Raw"}),D.jsx(nn,{value:"ezregex",children:"EZRegex"}),D.jsx(nn,{value:"regex",children:"Regex String"}),D.jsx(nn,{value:"code",children:"Code"}),D.jsx(nn,{value:"full-ezregex",children:"Full EZRegex"})]})]})}function Xy({name:r,regex:s,ezregex:n,showMode:c}){let h="";switch(c){case"plain":h=s;break;case"regex":h="Coming soon!";break;case"code":h="Coming soon!";break;case"full-ezregex":h=n;break;case"ezregex":const f=new RegExp(/^\w+\ =\ (.*)/m);h=n.split(`
`).map(y=>f.test(y)?y.replace(/^pattern = (.*)/m,"$1")+`
`:"").join("");break}return D.jsx(D.Fragment,{children:D.jsx(LT,{container:!0,alignItems:"top",children:D.jsxs(Wu,{variant:"outlined",sx:{p:2,width:"70%",flex:"1 1 auto",bgcolor:"background.paper",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",position:"relative","&:hover .copy-button":{opacity:1}},children:[!s&&D.jsx(rr,{color:"text.secondary",fontStyle:"italic",children:"No regex pattern to display"}),s&&D.jsxs(D.Fragment,{children:[D.jsx(xS,{title:"Copy to clipboard",children:D.jsx(ES,{size:"small",onClick:()=>navigator.clipboard.writeText(h),className:"copy-button",sx:{position:"absolute",top:4,right:4,opacity:0,transition:"opacity 0.2s",backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:D.jsx(QN,{fontSize:"small"})})}),D.jsx(rr,{variant:"body1",sx:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:h})]})]})})})}function eM(){const[r,s]=w.useState("plain"),{data:n,code:c,replaceCode:h,mode:f}=w.useContext(zr);return D.jsxs(D.Fragment,{children:[D.jsxs(LT,{container:!0,alignItems:"flex-end",children:[D.jsx(rr,{variant:"h5",sx:{mt:3},children:"Compiled Regex:"}),D.jsx(ZN,{showMode:r,setShowMode:s})]}),D.jsx(Xy,{name:"Regex",regex:n==null?void 0:n.regex,ezregex:c,showMode:r}),f==="replace"&&D.jsx(Xy,{name:"Replacement Regex",regex:"Coming soon!",ezregex:h,showMode:r})]})}const DS=qh(D.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),PS=qh(D.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function Yy({group:r,which:s}){const[n,c]=ar.useState(!0),h=()=>{c(!n)},f=Object.entries(r[s]).length>0,g=`${s}`;return D.jsxs(D.Fragment,{children:[D.jsxs(NS,{id:"groups-line",onClick:h,sx:{pl:4,color:f?"text.primary":"text.disabled"},children:[!f&&"No ",f?s.charAt(0).toUpperCase()+s.slice(1):s,f&&(n?D.jsx(DS,{sx:{ml:"auto"}}):D.jsx(PS,{sx:{ml:"auto"}}))]},"span-"+g),D.jsx(i$,{in:n,timeout:"auto",unmountOnExit:!0,children:D.jsx(cg,{component:"div",disablePadding:!0,children:Object.entries(r[s]).map(([_,y])=>{const v=`${_}-${y.start}-${y.end}-${g}`;return D.jsxs(JT,{id:"groups-line",sx:{pl:8},children:[D.jsxs("strong",{children:[_,":"]},"strong-"+v),D.jsx("pre",{className:"group",style:{backgroundColor:y.color,margin:"0",marginRight:".25rem",marginLeft:".25rem",borderRadius:"5px"},children:y.string},"pre-"+v),D.jsxs("em",{children:[" ",`(${y.start}:${y.end})`]},"em-"+v)]},"listitem-"+v)})},"list-"+g)},"collapse-"+g)]})}function tM({match:r,index:s,startOpen:n}){const[c,h]=ar.useState(n),f=()=>{h(!c)},g=`${r.match.start}-${r.match.end}-${s}`;return D.jsxs(Er,{sx:{pl:0,outline:"1px solid",borderRadius:"5px",margin:"2px"},children:[D.jsx(NS,{onClick:f,children:D.jsxs(JT,{children:[D.jsx(_N,{label:s}),D.jsx("pre",{dangerouslySetInnerHTML:{__html:r.match["string HTML"]},style:{margin:"0",borderRadius:"5px",paddingRight:".25rem"}},"pre-"+g),D.jsx("em",{children:`(${r.match.start}:${r.match.end})`},"em-"+g),c?D.jsx(DS,{sx:{ml:"auto"}},"expandless-"+g):D.jsx(PS,{sx:{ml:"auto"}},"expandmore-"+g)]},"listitem-"+g)},"button-"+g),D.jsx(lT,{},"divider-"+g),D.jsx(i$,{in:c,timeout:"auto",unmountOnExit:!0,children:D.jsxs(cg,{component:"div",disablePadding:!0,children:[D.jsx(Yy,{group:r,which:"named groups"},"group-named-"+g),D.jsx(Yy,{group:r,which:"unnamed groups"},"group-unnamed-"+g)]},"list-"+g)},"collapse-"+g)]},"box-"+g)}function oM(){const{data:r}=w.useContext(zr);return r?D.jsxs(D.Fragment,{children:[D.jsx(rr,{variant:"h5",sx:{mt:3},children:"Matches:"}),D.jsx(cg,{variant:"outlined",sx:{mt:-1},children:r.matches.map((s,n)=>D.jsx(tM,{match:s,index:n,startOpen:r.matches.length===1},"match-"+n))})]}):null}function rM(){const{text:r,setCode:s,setToUpdate:n}=w.useContext(zr),[c,h]=w.useState("100px"),f=w.useCallback(y=>{y==null||y.languages.registerCompletionItemProvider("python",{provideCompletionItems:()=>({suggestions:[{label:"digit",kind:y.languages.CompletionItemKind.Function,documentation:"A single digit",detail:"\\d",insertText:"digit",commitCharacters:[" ","+"],additionalTextEdits:{forceMoveMarkers:!0}}]})})},[]),g=w.useCallback(y=>{s(y),n(!0)},[s,n]),_=y=>{const v=y.getModel();if(v){const I=v.getLineCount(),R=Math.min(Math.max(100,I*19),300);h(`${R}px`)}y.onDidChangeModelContent(()=>{var N;const I=((N=y.getModel())==null?void 0:N.getLineCount())||1,R=Math.min(Math.max(100,I*19),300);h(`${R}px`)})};return D.jsxs(Er,{sx:{mt:1,width:"100%"},children:[D.jsx(rr,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"EZRegex Pattern"}),D.jsx(oS,{height:c,defaultLanguage:"python",beforeMount:f,onChange:g,defaultValue:r||"pattern = ",onMount:_,theme:"vs-dark",className:"monaco-editor",options:{wordWrap:"on",minimap:{enabled:!1},links:!1,scrollbar:{horizontal:"hidden"},fontSize:14,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:"none",scrollBeyondLastLine:!1,automaticLayout:!0}})]})}var Bm={exports:{}},Fm={exports:{}},Um={exports:{}},Hm={exports:{}},Gm={exports:{}},nM=Gm.exports,Ky;function qT(){return Ky||(Ky=1,function(r,s){(function(n,c){r.exports=c()})(nM,function(){var n={},c,h,f,g,_,y,v,I,R,N,M,x,A,B,W,X,H,P,F,J,Q,re,ae,S,oe,$e,fe,Ee,Y,le,ve,me,de,U,ie,be,Ae,ge,Ue,Ie,De,Ne,ot,Je,st,Ce,gt,He,bt,Ot,Et,ft,mt,dt,Tt,Pe,ce,Be,bo,ht,lo,at,jt,j,b,L,K,te,pe,Xe,_t,ao,un,jr,No,Nt,Hn,Gn,Vn,Ti,ct,E,O,q,se,ke,rt,ut,cr,Xr,rl,Wn,zu,hg,zn,ep,Tc,tp,ju,bc,Ec,yc,vc,pg,Eo,fg,Xu,Sc,Ic,op,nl,Cc,Ar,rp,xr,gg,Yu,da,il,kc,sl,ha,mg,$g,bi,np,pa,cs,_g,Rc,At,Yr,ip,wc,Oc,Ku,sp,Ac,xc,jn,Kr,Ei,fa,Jr,Xn,Yn,lp,ga,Tg,yi,ma,ap,bg,$a,_a,ll,Ta,Eg,yg,ba,Lc,Ju,qu,dn,Ea,Nc,hn,Mc,Dc,cp,yr,al,Qu,ya,up,Kn,us,cl,Pc,dp,vg,Sg,Ig,Zu,Cg,kg,hp,Rg,wg,pp,Og,Ag,xg,va,Bc,Lg,Ng,pn,oo,ul,Mg,fp,ed,qr,gp,td,Fc,dl,Dg,mp,$p,od,_p,rd,Jn,Pg,Bg,Fg,Tp,Sa,hl,pl,bp,Uc,Ia,nd,ds,Hc,id,sd,fl,ld,ad,Ug,Gc,Ep,Lr,gl,cd,ud,dd,yp,ml,vp,Ca,vi,Nr,$l,Vc,hd,ka,Si,Wc,pd,Ii,Sp,Ra,fd,gd,Ip,zc,qn,md,$d,Hg,Gg,wa,Oa,_d,Td,Wt,Aa,jc,xa,bd,Xc,Mr,La,hs,Cp,Vg,Wg,kp,Qr,fn,Na,Yc,Ma,Kc,ps,Da,Ed,yd,Ci,Qn,Jc,fs,Ut,Pa,vr,Zn,vd,Dr,gs,Ba,_l,qc,Qc,Tl,ei,qt,ro,ki,nr,ur,ti,ms,ir,Zc,Rp,wp,eu,et,ko,Ro,Qt,gn,Fa,Ve,no,$s,tu,bl,Sr,Pr,Ri,Zr,mn,wi,Op,ou,Sd,dr,Ir,go,gr,Ap,xp,Id,_s,Lp,Ua,Cd,Ts,ru,kd,Br,bs,Ha,Es,nu,iu,su,lu,ys,Cr,Oi,au,Rd,$n,Ai,wd,El,_n,xi,yl,Od,Ga,Ad,xd,cu,Va,Ld,Nd,uu,vl,Sl,du,Md,Dd,vs,Pd,Il,en,Cl,Wa,Li,Bd,kl,Np,Fd,yo,hu,Ud,Hd,pu,Gd,Ss,Ge;c=function(e,t,o,a){if(!(e instanceof Re)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const d=t.toLowerCase();if(!o)throw Error("Can not register a null value");let m=co[e],C=Rl[e];if(m||(m=co[e]=Object.create(null),C=Rl[e]=Object.create(null)),h(e,o),!a&&m[d])throw Error('Name "'+d+'" with type "'+e+'" already registered.');m[d]=o,C[d]=t},h=function(e,t){switch(e){case String(Re.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},f=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const o=co[e];o&&o[t]?(delete co[e][t],delete Rl[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},g=function(e,t,o){e=`${e}`.toLowerCase(),t=t.toLowerCase();const a=co[e];if(!a||!a[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",o)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return a[t]},_=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=co[e])?!!e[t]:!1},y=function(e,t,o){return g(e,t,o)},v=function(e,t,o){return g(e,t,o)},I=function(e,t,o){e=`${e}`.toLowerCase();var a=co[e];if(!a){if(a=`Unable to find [${e}] in the registry.`,o)throw Error(`${a} You must require or register a ${e} plugin.`);return console.warn(a),null}if(!t)return a;e=Rl[e],o=Object.create(null);for(const d of Object.keys(a))o[e[d]]=a[d];return o},R=function(e,t,o){return t=t.plugins[String(e)]||kr,typeof t=="function"?t:y(e,t,o)},N=function(e){return wl[e]||null},M=function(){const e=[];for(const t in wl)e.push(wl[t]);return e},x=function(e){wl[e.id]=e},A=function(e){delete wl[e.id]},B=function(){return Vd},W=function(e){Vd=e},X=function(){return Wd},H=function(e){Wd=e},P=function(){return Tn},F=function(e){Tn=e},J=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),o=e.getCachedParentSvgSize();var a=t.parentElement;if(a instanceof HTMLElement){var d=a.offsetWidth;a=a.offsetHeight,o.width!==d&&(t.setAttribute("width",d+"px"),e.setCachedParentSvgSize(d,null)),o.height!==a&&(t.setAttribute("height",a+"px"),e.setCachedParentSvgSize(null,a)),e.resize()}},Q=function(e,t){const o=Object.create(null),a=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=a.indexOf(e),a.splice(e,a.length-e));for(let d=0,m;m=a[d];d++)o[m.type]?o[m.type]++:o[m.type]=1;return o},re=function(e){return function(){this.jsonInit(e)}},ae=function(e){za.defineBlocksWithJsonArrayInternal(e)},S=function(e){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let o=0;o<e.length;o++){const a=e[o];if(!a){console.warn(`Block definition #${o} in JSON array is ${a}. Skipping`);continue}const d=a.type;d?t[d]={init:re(a)}:console.warn(`Block definition #${o} in JSON array is missing a type attribute. Skipping.`)}return t},n.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const o=e[t];t in Xt&&console.warn(`Block definiton "${t}" overwrites previous definition.`),Xt[t]=o}},oe=function(){return"blockly-"+(zg++).toString(36)},$e=function(){return Mp.genUid()},fe=function(e){Ol=e},Ee=function(){return Ol},Y=function(e){gu.fireInternal(e)},le=function(e){if(U()){if(!ks.length)try{requestAnimationFrame(()=>{setTimeout(ve,0)})}catch{setTimeout(ve,0)}ks.push(e)}},ve=function(){var e=me(ks,!0);ks.length=0;for(let o=0,a;a=e[o];o++)if(a.workspaceId){var t=N(a.workspaceId);t&&t.fireChangeListener(a)}e=new Set(e.map(o=>o.workspaceId));for(const o of e){if(!o||(e=N(o),!e))continue;e=e.getUndoStack();let a;for(t=e.length;0<t;t--){const d=e[t-1];if(d.group==="")break;if(a===void 0)a=d.group;else if(d.group!==a)break}a&&t!=e.length-1&&(t=e.splice(t,e.length-t),t=me(t,!0),e.push(...t))}},me=function(e,t){e=e.slice(),t||e.reverse();const o=[],a=Object.create(null);for(let C=0,G;G=e[C];C++)if(!G.isNull()){var d=[G.isUiEvent?xl:G.type,G.blockId,G.workspaceId].join(" "),m=a[d];const ye=m?m.event:null;m?G.type===n.MOVE$$module$build$src$core$events$utils&&m.index===C-1?(d=G,ye.newParentId=d.newParentId,ye.newInputName=d.newInputName,ye.newCoordinate=d.newCoordinate,d.reason&&(ye.reason?(d=new Set(d.reason.concat(ye.reason)),ye.reason=Array.from(d)):ye.reason=d.reason),m.index=C):G.type===n.CHANGE$$module$build$src$core$events$utils&&G.element===ye.element&&G.name===ye.name?ye.newValue=G.newValue:G.type===Pi?(m=G,ye.viewTop=m.viewTop,ye.viewLeft=m.viewLeft,ye.scale=m.scale,ye.oldScale=m.oldScale):(G.type!==En||ye.type!==yn)&&(a[d]={event:G,index:C},o.push(G)):(a[d]={event:G,index:C},o.push(G))}e=o.filter(function(C){return!C.isNull()}),t||e.reverse();for(let C=1,G;G=e[C];C++)G.type===n.CHANGE$$module$build$src$core$events$utils&&G.element==="mutation"&&e.unshift(e.splice(C,1)[0]);return e},de=function(){for(let e=0,t;t=ks[e];e++)t.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){fu++},n.enable$$module$build$src$core$events$utils=function(){fu--},U=function(){return fu===0},n.getGroup$$module$build$src$core$events$utils=function(){return Xd},n.setGroup$$module$build$src$core$events$utils=function(e){gu.setGroupInternal(e)},ie=function(e){Xd=typeof e=="boolean"?e?$e():"":e},be=function(e){const t=[];e=e.getDescendants(!1);for(let o=0,a;a=e[o];o++)t[o]=a.id;return t},Ae=function(e,t){const o=ge(e.type);if(!o)throw Error("Unknown event type.");return o.fromJson(e,t)},ge=function(e){const t=y(Re.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},Ue=function(e){if((e.type===n.MOVE$$module$build$src$core$events$utils||e.type===n.CREATE$$module$build$src$core$events$utils)&&e.workspaceId){var t=N(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const o=Ol;try{Ol=!1;const a=e.getParent();if(a&&a.isEnabled()){const d=e.getDescendants(!1);for(let m=0,C;C=d[m];m++)C.setEnabled(!0)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setEnabled(!1),e=e.getNextBlock();while(e)}finally{Ol=o}}}},Ie=function(e,t){De(),mu=setTimeout(function(){t&&t.handleRightClick(e)},Xa)},De=function(){mu&&(clearTimeout(mu),mu=0)},Ne=function(){Ya=null},ot=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&st(e)},Je=function(e){return`${e.pointerId}`},st=function(e){const t=Je(e);return Ya?Ya===t:e.type==="pointerdown"?(Ya=t,!0):!1},Ce=function(e,t,o,a,d){function m(G){(d||ot(G))&&(o?a.call(o,G):a(G))}const C=[];if(t in Pl)for(let G=0;G<Pl[t].length;G++){const ye=Pl[t][G];e.addEventListener(ye,m,!1),C.push([e,ye,m])}else e.addEventListener(t,m,!1),C.push([e,t,m]);return C},gt=function(e,t,o,a){function d(C){o?a.call(o,C):a(C)}const m=[];if(t in Pl)for(let C=0;C<Pl[t].length;C++){const G=Pl[t][C];e.addEventListener(G,d,!1),m.push([e,G,d])}else e.addEventListener(t,d,!1),m.push([e,t,d]);return m},He=function(e){const t=e[e.length-1][2];for(;e.length;){const[o,a,d]=e.pop();o.removeEventListener(a,d,!1)}return t},bt=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Ot=function(e){return e.ctrlKey&&$u?!0:e.button===2},Et=function(e,t,o){const a=t.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,o||(o=t.getScreenCTM().inverse()),a.matrixTransform(o)},ft=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*eh,y:e.deltaY*eh};case 2:return{x:e.deltaX*Tu,y:e.deltaY*Tu}}},mt=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},dt=function(e){if(Ja)throw Error("CSS already injected");In+=`
`+e},Tt=function(e,t){Ja||(Ja=!0,e&&(e=t.replace(/[\\/]$/,""),t=In.replace(/<<<PATH>>>/g,e),In="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},Pe=function(e,t,o,a){e=e+" was deprecated in "+t+" and will be deleted in "+o+".",a&&(e+=`
Use `+a+" instead."),th.has(e)||(th.add(e),console.warn(e))},ce=function(e,t,o){e=document.createElementNS(qa,`${e}`);for(const a in t)e.setAttribute(a,`${t[a]}`);return o&&o.appendChild(e),e},Be=function(e,t){return t=t.split(" "),t.every(o=>e.classList.contains(o))?!1:(e.classList.add(...t),!0)},bo=function(e,t){e.classList.remove(...t.split(" "))},ht=function(e,t){return t=t.split(" "),t.every(o=>!e.classList.contains(o))?!1:(e.classList.remove(...t),!0)},lo=function(e,t){return e.classList.contains(t)},at=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},jt=function(e,t){const o=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");o?t.insertBefore(e,o):t.appendChild(e)},j=function(e,t){return Pe("Blockly.utils.dom.containsNode","version 10","version 11",'Use native "contains" DOM method'),e.contains(t)},b=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},L=function(){Qa++,Cn||(Cn=Object.create(null))},K=function(){Qa--,Qa||(Cn=null)},te=function(e){const t=e.textContent+`
`+e.className.baseVal;let o;if(Cn&&(o=Cn[t]))return o;try{o=e.getComputedTextLength()}catch{return 8*e.textContent.length}return Cn&&(Cn[t]=o),o},pe=function(e,t,o,a){return Xe(e,t+"pt",o,a)},Xe=function(e,t,o,a){const d=e.textContent;e=d+`
`+e.className.baseVal;var m;return Cn&&(m=Cn[e])||(Vo||(m=document.createElement("canvas"),m.className="blocklyComputeCanvas",document.body.appendChild(m),Vo=m.getContext("2d")),Vo.font=o+" "+t+" "+a,m=d?Vo.measureText(d).width:0,Cn&&(Cn[e]=m)),m},_t=function(e,t,o,a){const d=document.createElement("span");d.style.font=o+" "+t+" "+a,d.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(d),t.appendChild(e),document.body.appendChild(t),o={height:0,baseline:0};try{t.style.alignItems="baseline",o.baseline=e.offsetTop-d.offsetTop,t.style.alignItems="flex-end",o.height=e.offsetTop-d.offsetTop}finally{document.body.removeChild(t)}return o},ao=function(e){return Xp.getSizeInternal(e)},un=function(e){if(No(e,"display")!=="none")return jr(e);const t=e.style,o=t.display,a=t.visibility,d=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const m=e.offsetWidth;return e=e.offsetHeight,t.display=o,t.position=d,t.visibility=a,new Yt(m,e)},jr=function(e){return new Yt(e.offsetWidth,e.offsetHeight)},No=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},Nt=function(e){const t=new Me(0,0);e=e.getBoundingClientRect();var o=document.documentElement;return o=new Me(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop),t.x=e.left+o.x,t.y=e.top+o.y,t},Hn=function(){const e=document.body,t=document.documentElement;return new Me(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},Gn=function(e){const t=parseFloat(No(e,"borderLeftWidth")),o=parseFloat(No(e,"borderRightWidth")),a=parseFloat(No(e,"borderTopWidth"));return e=parseFloat(No(e,"borderBottomWidth")),new Dt(a,e,t,o)},Vn=function(e,t,o){e=Ti(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},Ti=function(e,t,o){var a=Nt(e),d=Nt(t),m=Gn(t);const C=a.x-d.x-m.left;return a=a.y-d.y-m.top,d=jr(e),e=t.clientWidth-d.width,d=t.clientHeight-d.height,m=t.scrollLeft,t=t.scrollTop,o?(m+=C-e/2,t+=a-d/2):(m+=Math.min(C,Math.max(C-e,0)),t+=Math.min(a,Math.max(a-d,0))),new Me(m,t)},ct=function(e){const t=new Me(0,0);var o=e.x&&e.getAttribute("x");const a=e.y&&e.getAttribute("y");return o&&(t.x=parseInt(o)),a&&(t.y=parseInt(a)),(o=(o=e.getAttribute("transform"))&&o.match(Za))&&(t.x+=Number(o[1]),o[3]&&(t.y+=Number(o[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(bu))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},E=function(e){let t=0,o=0;for(;e;){const a=ct(e);if(t+=a.x,o+=a.y,(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1)break;e=e.parentNode}return new Me(t,o)},O=function(){const e=Hn();return new Dt(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},q=function(){const e=document.documentElement,t=window;return new Me(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},se=function(e,t){var o=t.x;t=t.y;const a=e.getInjectionDiv().getBoundingClientRect();return o=new Me(o-a.left,t-a.top),t=e.getOriginOffsetInPixels(),Me.difference(o,t).scale(1/e.scale)},ke=function(e,t){var o=t.scale(e.scale);t=o.x,o=o.y;const a=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Me(t+a.left+e.x,o+a.top+e.y)},rt=function(e){({document:ec=ec,DOMParser:xo=xo,XMLSerializer:mr=mr}=e),Eu=new xo,yu=new mr},n.createElement$$module$build$src$core$utils$xml=function(e){return ec.createElementNS(Gi,e)},n.createTextNode$$module$build$src$core$utils$xml=function(e){return ec.createTextNode(e)},n.textToDom$$module$build$src$core$utils$xml=function(e){let t=Eu.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=Eu.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},ut=function(e){return cr(yu.serializeToString(e))},cr=function(e){return e.replace(Kg,t=>`&#${t.charCodeAt(0)};`)},Xr=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=ju(e),e=ep(e)),rl(e),e):null},rl=function(e){const t=e.kind;if(e=e.contents,t&&t!==Kp&&t!==Fr)throw Error("Invalid toolbox kind "+t+". Please supply either "+Kp+" or "+Fr);if(!e)throw Error("Toolbox must have a contents attribute.")},Wn=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:Tc(e):[]},zu=function(e){return Jg.hasCategoriesInternal(e)},hg=function(e){if(!e)return!1;const t=e.kind;return t?t===Fr:!!e.contents.filter(function(o){return o.kind.toUpperCase()==="CATEGORY"}).length},zn=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},ep=function(e){const t={contents:Tc(e)};return e instanceof Node&&tp(e,t),t},Tc=function(e){const t=[];let o=e.childNodes;o||(o=e);for(let a=0,d;d=o[a];a++){if(!d.tagName)continue;e={};const m=d.tagName.toUpperCase();e.kind=m,m==="BLOCK"?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=Tc(d)),tp(d,e),t.push(e)}return t},tp=function(e,t){for(let o=0;o<e.attributes.length;o++){const a=e.attributes[o];-1<a.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[a.nodeName.replace("css-","")]=a.value):t[a.nodeName]=a.value}},ju=function(e){let t=null;if(e)if(typeof e=="string"){if(t=n.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},bc=function(e,t,o,a,d,m){const C=m.scrollbar&&m.scrollbar.canScrollVertically();return e.horizontal===Ul.LEFT?(o=d.absoluteMetrics.left+o,C&&m.RTL&&(o+=Io.scrollbarThickness)):(o=d.absoluteMetrics.left+d.viewMetrics.width-t.width-o,C&&!m.RTL&&(o-=Io.scrollbarThickness)),e.vertical===ii.TOP?e=d.absoluteMetrics.top+a:(e=d.absoluteMetrics.top+d.viewMetrics.height-t.height-a,m.scrollbar&&m.scrollbar.canScrollHorizontally()&&(e-=Io.scrollbarThickness)),new Dt(e,e+t.height,o,o+t.width)},Ec=function(e,t){return{horizontal:t.toolboxMetrics.position===pt.LEFT||e.horizontalLayout&&!e.RTL?Ul.RIGHT:Ul.LEFT,vertical:t.toolboxMetrics.position===pt.BOTTOM?ii.TOP:ii.BOTTOM}},yc=function(e,t,o,a){const d=e.left,m=e.right-e.left,C=e.bottom-e.top;for(let G=0;G<a.length;G++){const ye=a[G];e.intersects(ye)&&(e=o===Wi.UP?ye.top-C-t:ye.bottom+t,e=new Dt(e,e+C,d,d+m),G=-1)}return e},vc=function(e,t){Mt(e,t)},pg=function(e){Mt=e},Eo=function(e,t){Zo.confirmInternal(e,t)},fg=function(e,t){zo(e,t)},Xu=function(e){zo=e},Sc=function(e,t,o){Lo(e,t,o)},Ic=function(e){Lo=e},op=function(e){return e.getVariableModel!==void 0},nl=function(e){return e.getProcedureDef!==void 0},Cc=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},n.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let o=0;o<e.length;o++){const a=e[o].getVarModels();if(a)for(let d=0;d<a.length;d++){const m=a[d];m.getId()&&t.add(m)}}return Array.from(t.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let a=0,d;d=e[a];a++){var o=d.getDeveloperVariables;if(o){o=o();for(let m=0;m<o.length;m++)t.add(o[m])}}return Array.from(t.values())},Ar=function(e){let t=[];const o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(a){da(a.getTargetWorkspace())}),t.push(o),e=rp(e),t=t.concat(e)},rp=function(e){e=e.getVariablesOfType("");const t=[];if(0<e.length){var o=e[e.length-1];if(Xt.variables_set){var a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set"),a.setAttribute("gap",Xt.math_change?"8":"24"),a.appendChild(bi(o)),t.push(a)}if(Xt.math_change&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","math_change"),a.setAttribute("gap",Xt.variables_get?"20":"8"),a.appendChild(bi(o)),o=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),a.appendChild(o),t.push(a)),Xt.variables_get){e.sort(xs.compareByName);for(let d=0,m;m=e[d];d++)o=n.createElement$$module$build$src$core$utils$xml("block"),o.setAttribute("type","variables_get"),o.setAttribute("gap","8"),o.appendChild(bi(m)),t.push(o)}}return t},xr=function(e){return $r.generateUniqueNameInternal(e)},gg=function(e){return Yu(Gl.charAt(0),e.getAllVariableNames())},Yu=function(e,t){if(!t.length)return e;const o=Gl;let a="",d=o.indexOf(e);for(;;){let m=!1;for(let C=0;C<t.length;C++)if(t[C].toLowerCase()===e){m=!0;break}if(!m)break;d++,d===o.length&&(d=0,a=`${Number(a)+1}`),e=o.charAt(d)+a}return e},da=function(e,t,o){function a(m){il(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,m,function(C){if(C){var G=sl(C,e);if(G){if(G.type===d)var ye=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",G.name);else ye=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,ye=ye.replace("%1",G.name).replace("%2",G.type);vc(ye,function(){a(C)})}else e.createVariable(C,d),t&&t(C)}else t&&t(null)})}const d=o||"";a("")},n.renameVariable$$module$build$src$core$variables=function(e,t,o){function a(d){const m=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);il(m,d,function(C){if(C){var G=kc(C,t.type,e),ye=ha(t.name,C,e);if(G||ye){var We="";G?We=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",G.name).replace("%2",G.type):ye&&(We=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",C).replace("%2",ye)),vc(We,function(){a(C)})}else e.renameVariableById(t.getId(),C),o&&o(C)}else o&&o(null)})}a("")},il=function(e,t,o){Sc(e,t,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").trim(),a===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||a===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(a=null),o(a)})},kc=function(e,t,o){o=o.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let a=0,d;d=o[a];a++)if(d.name.toLowerCase()===e&&d.type!==t)return d;return null},sl=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let o=0,a;a=t[o];o++)if(a.name.toLowerCase()===e)return a;return null},ha=function(e,t,o){return o.getProcedureMap().getProcedures().length?mg(e,t,o):$g(e,t,o)},mg=function(e,t,o){e=e.toLowerCase(),t=t.toLowerCase(),o=o.getProcedureMap().getProcedures();for(const d of o){var a=d.getParameters().filter(op).map(m=>m.getVariableModel().name);if(a&&(o=a.some(m=>m.toLowerCase()===e),a=a.some(m=>m.toLowerCase()===t),o&&a))return d.getName()}return null},$g=function(e,t,o){e=e.toLowerCase(),t=t.toLowerCase(),o=o.getAllBlocks(!1);for(const d of o){if(!nl(d))continue;o=d.getProcedureDef();var a=o[1];const m=a.some(C=>C.toLowerCase()===e);if(a=a.some(C=>C.toLowerCase()===t),m&&a)return o[0]}return null},bi=function(e){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=n.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,o,a){let d=n.getVariable$$module$build$src$core$variables(e,t,o,a);return d||(d=np(e,t,o,a)),d},n.getVariable$$module$build$src$core$variables=function(e,t,o,a){const d=e.getPotentialVariableMap();let m=null;if(t&&(m=e.getVariableById(t),!m&&d&&(m=d.getVariableById(t)),m))return m;if(o){if(a===void 0)throw Error("Tried to look up a variable by name without a type");m=e.getVariable(o,a),!m&&d&&(m=d.getVariable(o,a))}return m},np=function(e,t,o,a){const d=e.getPotentialVariableMap();return o||(o=xr(e.isFlyout?e.targetWorkspace:e)),d?d.createVariable(o,a,t):e.createVariable(o,a,t)},pa=function(e,t){e=e.getAllVariables();const o=[];if(t.length!==e.length)for(let a=0;a<e.length;a++){const d=e[a];t.indexOf(d)===-1&&o.push(d)}return o},cs=function(e,t){c(Re.PASTER,e,t)},_g=function(e){f(Re.PASTER,e)},Rc=function(e){return wc(e),ip()?(Oc(),Promise.resolve()):(Xi||(Xi=new Promise(t=>{rc=t,pr=window.requestAnimationFrame(()=>{Oc(),t()})})),Xi)},At=function(){return Xi||Promise.resolve()},Yr=function(e){e||window.cancelAnimationFrame(pr),Oc(e),!e&&rc&&rc()},ip=function(){return Qd},wc=function(e){Su.add(e);const t=e.getParent();t?wc(t):Ns.add(e)},Oc=function(e){const t=e?new Set([e]):new Set([...Ns].map(d=>d.workspace)),o=[...Ns].filter(sp).filter(d=>t.has(d.workspace));for(var a of o)Ac(a);for(const d of t)d.resizeContents();for(const d of o)a=d.getRelativeToSurfaceXY(),d.updateComponentLocations(a);for(const d of o)Ku(d);e||(Xi=null)},Ku=function(e){Ns.delete(e),Su.delete(e);for(const t of e.getChildren(!1))Ku(t)},sp=function(e){return!e.isDisposed()&&!e.getParent()},Ac=function(e){if(Su.has(e)){for(const t of e.getChildren(!1))Ac(t);e.renderEfficiently()}},xc=function(e,t){const o=n.createElement$$module$build$src$core$utils$xml("xml");var a=jn(n.allUsedVarModels$$module$build$src$core$variables(e));a.hasChildNodes()&&o.appendChild(a),a=e.getTopComments(!0);for(let d=0;d<a.length;d++)o.appendChild(a[d].toXmlWithXY(t));for(e=e.getTopBlocks(!0),a=0;a<e.length;a++)o.appendChild(Kr(e[a],t));return o},jn=function(e){const t=n.createElement$$module$build$src$core$utils$xml("variables");for(let o=0;o<e.length;o++){const a=e[o],d=n.createElement$$module$build$src$core$utils$xml("variable");d.appendChild(n.createTextNode$$module$build$src$core$utils$xml(a.name)),a.type&&d.setAttribute("type",a.type),d.id=a.getId(),t.appendChild(d)}return t},Kr=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let o=0;if(e.workspace.RTL&&(o=e.workspace.getWidth()),t=Jr(e,t),qu(t)){const a=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?o-a.x:a.x))),t.setAttribute("y",String(Math.round(a.y)))}return t},Ei=function(e){if(e.isSerializable()){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},fa=function(e,t){for(let o=0;o<e.inputList.length;o++){const a=e.inputList[o];for(let d=0;d<a.fieldRow.length;d++){const m=Ei(a.fieldRow[d]);m&&t.appendChild(m)}}},Jr=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Jr(t):new DocumentFragment;const o=n.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(o.setAttribute("type",e.type),t||(o.id=e.id),e.mutationToDom){var a=e.mutationToDom();a&&(a.hasChildNodes()||a.hasAttributes())&&o.appendChild(a)}if(fa(e,o),a=e.getCommentText()){var d=e.getIcon(mo.COMMENT),m=d.getBubbleSize();d=d.bubbleIsVisible();var C=n.createElement$$module$build$src$core$utils$xml("comment");C.appendChild(n.createTextNode$$module$build$src$core$utils$xml(a)),C.setAttribute("pinned",`${d}`),C.setAttribute("h",String(m.height)),C.setAttribute("w",String(m.width)),o.appendChild(C)}for(e.data&&(a=n.createElement$$module$build$src$core$utils$xml("data"),a.appendChild(n.createTextNode$$module$build$src$core$utils$xml(e.data)),o.appendChild(a)),a=0;a<e.inputList.length;a++){m=e.inputList[a];var G=void 0;if(d=!0,m.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&m.type!==n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){C=m.connection.targetBlock(),m.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?G=n.createElement$$module$build$src$core$utils$xml("value"):m.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(G=n.createElement$$module$build$src$core$utils$xml("statement"));const We=m.connection.getShadowDom();!We||C&&C.isShadow()||G.appendChild(Xn(We,t)),C&&(C=Jr(C,t),C.nodeType===Hi.ELEMENT_NODE&&(G.appendChild(C),d=!1)),G.setAttribute("name",m.name),d||o.appendChild(G)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&o.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&o.setAttribute("collapsed","true"),e.isEnabled()||o.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||o.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||o.setAttribute("movable","false"),e.isEditable()||o.setAttribute("editable","false"),G=e.getNextBlock();let ye;return G&&(a=Jr(G,t),a.nodeType===Hi.ELEMENT_NODE&&(ye=n.createElement$$module$build$src$core$utils$xml("next"),ye.appendChild(a),o.appendChild(ye))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||G&&G.isShadow()||ye.appendChild(Xn(e,t)),o},Xn=function(e,t){let o=e=e.cloneNode(!0),a;for(;o;)if(t&&o.nodeName==="shadow"&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;){a=o,o=o.parentNode;let d;a.nodeType===Hi.TEXT_NODE&&a.data.trim()===""&&((d=o)==null?void 0:d.firstChild)!==a&&at(a)}o&&(a=o,o=o.nextSibling,a.nodeType===Hi.TEXT_NODE&&a.data.trim()===""&&at(a))}return e},Yn=function(e){return ut(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},lp=function(e){e=Yn(e).split("<");let t="";for(let o=1;o<e.length;o++){const a=e[o];a[0]==="/"&&(t=t.substring(2)),e[o]=t+"<"+a,a[0]!=="/"&&a.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},ga=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=n.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},n.domToWorkspace$$module$build$src$core$xml=function(e,t){let o=0;t.RTL&&(o=t.getWidth());const a=[];L();const d=n.getGroup$$module$build$src$core$events$utils();d||n.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let m=!0;try{for(let C=0,G;G=e.childNodes[C];C++){const ye=G.nodeName.toLowerCase(),We=G;if(ye==="block"||ye==="shadow"&&!Ee()){const $o=yi(We,t);a.push($o.id);let po;const on=parseInt((po=We.getAttribute("x"))!=null?po:"10",10);let vh;const Sh=parseInt((vh=We.getAttribute("y"))!=null?vh:"10",10);isNaN(on)||isNaN(Sh)||$o.moveBy(t.RTL?o-on:on,Sh,["create"]),m=!1}else{if(ye==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(ye==="comment")t.rendered?Do.fromXmlRendered(We,t,o):_r.fromXml(We,t);else if(ye==="variables"){if(m)ma(We,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");m=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(d),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&Yr(),K()}return Y(new(ge(Dl))(t)),a},Tg=function(e,t){if(!t.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(e,t);var o=t.getBlocksBoundingBox();if(e=n.domToWorkspace$$module$build$src$core$xml(e,t),o&&o.top!==o.bottom){var a=o.bottom;o=t.RTL?o.right:o.left;var d=1/0;let m=-1/0,C=1/0;for(let G=0;G<e.length;G++){const ye=t.getBlockById(e[G]).getRelativeToSurfaceXY();ye.y<C&&(C=ye.y),ye.x<d&&(d=ye.x),ye.x>m&&(m=ye.x)}for(a=a-C+10,o=t.RTL?o-m:o-d,d=0;d<e.length;d++)t.getBlockById(e[d]).moveBy(o,a,["create"])}return e},n.domToBlock$$module$build$src$core$xml=function(e,t){return e=yi(e,t),t.rendered&&Yr(),e},yi=function(e,t){n.disable$$module$build$src$core$events$utils();var o=t.getAllVariables();let a;try{if(a=ba(e,t),t.rendered){const d=a,m=a.getDescendants(!1);d.setConnectionTracking(!1);for(let C=m.length-1;0<=C;C--)m[C].initSvg();for(let C=m.length-1;0<=C;C--)m[C].queueRender();setTimeout(function(){d.disposed||d.setConnectionTracking(!0)},1),t.resizeContents()}else{const d=a.getDescendants(!1);for(let m=d.length-1;0<=m;m--)d[m].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(U()){for(e=pa(t,o),t=0;t<e.length;t++)o=e[t],Y(new(ge(Di))(o));Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(a))}return a},ma=function(e,t){for(let a=0;a<e.children.length;a++){var o=e.children[a];const d=o.getAttribute("type"),m=o.getAttribute("id");if(o=o.textContent,!o)break;t.createVariable(o,d,m)}},ap=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let o=0;o<e.children.length;o++){const a=e.children[o];if(a.nodeType!==Hi.TEXT_NODE)switch(a.nodeName.toLowerCase()){case"mutation":t.mutation.push(a);break;case"comment":t.comment.push(a);break;case"data":t.data.push(a);break;case"title":case"field":t.field.push(a);break;case"value":case"statement":t.input.push(a);break;case"next":t.next.push(a);break;default:console.warn("Ignoring unknown tag: "+a.nodeName)}}return t},bg=function(e,t){let o=!1;for(let a=0;a<e.length;a++){const d=e[a];t.domToMutation&&(t.domToMutation(d),t.initSvg&&(o=!0))}return o},$a=function(e,t){for(let a=0;a<e.length;a++){var o=e[a];const d=o.textContent,m=o.getAttribute("pinned")==="true";let C;const G=parseInt((C=o.getAttribute("w"))!=null?C:"50",10);let ye;o=parseInt((ye=o.getAttribute("h"))!=null?ye:"50",10),t.setCommentText(d);const We=t.getIcon(mo.COMMENT);isNaN(G)||isNaN(o)||We.setBubbleSize(new Yt(G,o)),We.setBubbleVisible(m),setTimeout(()=>We.setBubbleVisible(m),1)}},_a=function(e,t){for(let o=0;o<e.length;o++)t.data=e[o].textContent},ll=function(e,t){for(let o=0;o<e.length;o++){const a=e[o],d=a.getAttribute("name");d?Lc(t,d,a):console.warn(`Ignoring unnamed field in block ${t.type}`)}},Ta=function(e){let t=null,o=null;for(let a=0;a<e.childNodes.length;a++){const d=e.childNodes[a];qu(d)&&(d.nodeName.toLowerCase()==="block"?t=d:d.nodeName.toLowerCase()==="shadow"&&(o=d))}return{childBlockElement:t,childShadowElement:o}},Eg=function(e,t,o,a){for(let m=0;m<e.length;m++){var d=e[m];const C=d.getAttribute("name"),G=C?o.getInput(C):null;if(!G){console.warn("Ignoring non-existent input "+C+" in block "+a);break}if(d=Ta(d),d.childBlockElement){if(!G.connection)throw TypeError("Input connection does not exist.");ba(d.childBlockElement,t,G.connection,!1)}if(d.childShadowElement){let ye;(ye=G.connection)==null||ye.setShadowDom(d.childShadowElement)}}},yg=function(e,t,o){for(let a=0;a<e.length;a++){const d=Ta(e[a]);if(d.childBlockElement){if(!o.nextConnection)throw TypeError("Next statement does not exist.");if(o.nextConnection.isConnected())throw TypeError("Next statement is already connected.");ba(d.childBlockElement,t,o.nextConnection,!0)}d.childShadowElement&&o.nextConnection&&o.nextConnection.setShadowDom(d.childShadowElement)}},ba=function(e,t,o,a){var d;const m=e.getAttribute("type");if(!m)throw TypeError("Block type unspecified: "+e.outerHTML);var C=(d=e.getAttribute("id"))!=null?d:void 0;d=t.newBlock(m,C),C=ap(e);const G=bg(C.mutation,d);if($a(C.comment,d),_a(C.data,d),o)if(a)if(d.previousConnection)o.connect(d.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(d.outputConnection)o.connect(d.outputConnection);else if(d.previousConnection)o.connect(d.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(ll(C.field,d),Eg(C.input,t,d,m),yg(C.next,t,d),G&&d.initSvg(),(t=e.getAttribute("inline"))&&d.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&d.setEnabled(t!=="true"&&t!=="disabled"),(t=e.getAttribute("deletable"))&&d.setDeletable(t==="true"),(t=e.getAttribute("movable"))&&d.setMovable(t==="true"),(t=e.getAttribute("editable"))&&d.setEditable(t==="true"),(t=e.getAttribute("collapsed"))&&d.setCollapsed(t==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=d.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");d.setShadow(!0)}return d},Lc=function(e,t,o){const a=e.getField(t);a?a.fromXml(o):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Ju=function(e){for(let t=0;t<e.childNodes.length;t++){const o=e.childNodes[t];if(o.nodeName.toLowerCase()==="next"){e.removeChild(o);break}}},qu=function(e){return e.nodeType===Hi.ELEMENT_NODE},dn=function(e){return e.saveState!==void 0&&e.loadState!==void 0},Ea=function(e,t){c(Re.SERIALIZER,e,t)},Nc=function(e){f(Re.SERIALIZER,e)},hn=function(e,{addCoordinates:t=!1,addInputBlocks:o=!0,addNextBlocks:a=!0,doFullSerialization:d=!0,saveIds:m=!0}={}){if(e.isInsertionMarker())return null;const C={type:e.type,id:m?e.id:void 0};return t&&Dc(e,C),Mc(e,C),cp(e,C,d),yr(e,C,d),al(e,C,d),o&&Qu(e,C,d,m),a&&ya(e,C,d,m),C},Mc=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},Dc=function(e,t){const o=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(o.RTL?o.getWidth()-e.x:e.x),t.y=Math.round(e.y)},cp=function(e,t,o){e.saveExtraState?(e=e.saveExtraState(o),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=Yn(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},yr=function(e,t,o){const a=Object.create(null);for(const d of e.getIcons())dn(d)&&(e=d.saveState(o))&&(a[d.getType().toString()]=e);Object.keys(a).length&&(t.icons=a)},al=function(e,t,o){const a=Object.create(null);for(let d=0;d<e.inputList.length;d++){const m=e.inputList[d];for(let C=0;C<m.fieldRow.length;C++){const G=m.fieldRow[C];G.isSerializable()&&(a[G.name]=G.saveState(o))}}Object.keys(a).length&&(t.fields=a)},Qu=function(e,t,o,a){const d=Object.create(null);for(let m=0;m<e.inputList.length;m++){const C=e.inputList[m];if(!C.connection)continue;const G=up(C.connection,o,a);G&&(d[C.name]=G)}Object.keys(d).length&&(t.inputs=d)},ya=function(e,t,o,a){e.nextConnection&&(e=up(e.nextConnection,o,a))&&(t.next=e)},up=function(e,t,o){const a=e.getShadowState(!0);if(e=e.targetBlock(),!a&&!e)return null;const d=Object.create(null);return a&&(d.shadow=a),e&&!e.isShadow()&&(d.block=hn(e,{doFullSerialization:t,saveIds:o})),d},Kn=function(e,t,{recordUndo:o=!1}={}){return e=us(e,t,{recordUndo:o}),t.rendered&&Yr(),e},us=function(e,t,{parentConnection:o,isShadow:a=!1,recordUndo:d=!1}={}){const m=Ee();fe(d),(d=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();let C;try{C=cl(e,t,{parentConnection:o,isShadow:a})}finally{n.enable$$module$build$src$core$events$utils()}if(U()&&Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(C)),n.setGroup$$module$build$src$core$events$utils(d),fe(m),t.rendered){const G=C;setTimeout(()=>{G.disposed||G.setConnectionTracking(!0)},1)}return C},cl=function(e,t,{parentConnection:o,isShadow:a=!1}={}){if(!e.type)throw new Jp(e);const d=t.newBlock(e.type,e.id);return d.setShadow(a),Pc(d,e),dp(d,e),vg(d,e),Sg(o,d,e),Ig(d,e),Zu(d,e),Cg(d,e),kg(d,e),Rg(d,t.rendered),d},Pc=function(e,t){let o=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const a=e.workspace;o=a.RTL?a.getWidth()-o:o,e.moveBy(o,t)},dp=function(e,t){t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setEnabled(!1),t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},vg=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(n.textToDom$$module$build$src$core$utils$xml(t.extraState)))},Sg=function(e,t,o){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new qg(o);if(e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var a=t.outputConnection;if(!a)throw new Wl("output",t,o)}else if(a=t.previousConnection,!a)throw new Wl("previous",t,o);if(!e.connect(a)){const d=t.workspace.connectionChecker;throw new rh(d.getErrorMessage(d.canConnectWithReason(a,e,!1),a,e),e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,o)}}},Ig=function(e,t){if(t.icons){var o=Object.keys(t.icons);for(const d of o){o=t.icons[d];var a=e.getIcon(d);if(!a){if(a=y(Re.ICON,d,!1),!a)throw new Yi(d,e,t);a=new a(e),e.addIcon(a)}dn(a)&&a.loadState(o)}}},Zu=function(e,t){if(t.fields){var o=Object.keys(t.fields);for(let a=0;a<o.length;a++){const d=o[a],m=t.fields[d],C=e.getField(d);C?C.loadState(m):console.warn(`Ignoring non-existant field ${d} in block ${e.type}`)}}},Cg=function(e,t){if(t.inputs){var o=Object.keys(t.inputs);for(let a=0;a<o.length;a++){const d=o[a],m=e.getInput(d);if(!m||!m.connection)throw new Wl(d,e,t);hp(m.connection,t.inputs[d])}}},kg=function(e,t){if(t.next){if(!e.nextConnection)throw new Wl("next",e,t);hp(e.nextConnection,t.next)}},hp=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&cl(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Rg=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const o of e.getIcons())o.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},wg=function(e){const t=e.workspace,o=n.config$$module$build$src$core$config.snapRadius,a=e.getRelativeToSurfaceXY(),d=new Me(0,0),m=t.getAllBlocks(!1).filter(C=>C.id!=e.id).map(C=>C.getRelativeToSurfaceXY());for(;pp(Me.sum(a,d),m)||Og(e,d,o);)t.RTL?d.translate(-o,2*o):d.translate(o,2*o);e.moveTo(Me.sum(a,d))},pp=function(e,t){return t.some(o=>1>=Math.abs(o.x-e.x)&&1>=Math.abs(o.y-e.y))},Og=function(e,t,o){return e.getConnections_(!1).some(a=>!!a.closest(o,t).connection)},Ag=function(e){return Pe("Blockly.clipboard.copy","v11","v12","myCopyable.toCopyData()"),ch.copyInternal(e)},xg=function(e){const t=e.toCopyData();So=t;let o;return Zp=(o=e.workspace)!=null?o:null,t},va=function(e,t,o){return e&&t?Bc(e,t,o):So&&Zp?Bc(So,Zp):null},Bc=function(e,t,o){let a;t=(a=t.getRootWorkspace())!=null?a:t;let d,m;return(m=(d=v(Re.PASTER,e.paster,!1))==null?void 0:d.paste(e,t,o))!=null?m:null},Lg=function(e){return Pe("Blockly.clipboard.duplicate","v11","v12","Blockly.clipboard.paste(myCopyable.toCopyData(), myWorkspace)"),ch.duplicateInternal(e)},Ng=function(e){const t=e.toCopyData();return t?va(t,e.workspace):null},pn=function(e,t){e.setAttribute(Qg,t)},oo=function(e,t,o){Array.isArray(o)&&(o=o.join(" ")),e.setAttribute(k$+t,`${o}`)},ul=function(){return tn},Mg=function(e){if(tn=e,e===null){let t;(t=document.querySelector("."+Ji))==null||t.remove()}},fp=function(){document.querySelector("."+Ji)||(tn=document.createElement("div"),tn.className=Ji,(P()||document.body).appendChild(tn))},ed=function(e,t,o){qr(),Ur=e,Yl=o,(e=tn)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=B(),qi=t.getRenderer().getClassName(),Ps=t.getTheme().getClassName(),qi&&Be(e,qi),Ps&&Be(e,Ps))},qr=function(){if(gp()){Ur=null;var e=tn;e&&(e.style.display="none",e.style.left="",e.style.top="",Yl&&Yl(),Yl=null,e.textContent="",qi&&(ht(e,qi),qi=""),Ps&&(ht(e,Ps),Ps=""),B().markFocused())}},gp=function(){return!!Ur},td=function(e){Ur===e&&qr()},Fc=function(e,t,o){tn.style.left=e+"px",tn.style.top=t+"px",tn.style.height=o+"px"},dl=function(e,t,o,a){const d=mp(e,t,o);e=Dg(e,t,o,a),0>d?Fc(e,0,o.height+d):Fc(e,d,o.height)},Dg=function(e,t,o,a){return a?Math.min(Math.max(t.right-o.width,e.left),e.right-o.width):Math.max(Math.min(t.left,e.right-o.width),e.left)},mp=function(e,t,o){return t.bottom+o.height>=e.bottom?t.top-o.height:t.bottom},$p=function(e){return!(e==null||!e.repositionForWindowResize)},od=function(){$p(Ur)&&Ur.repositionForWindowResize()||qr()},_p=function(){return ic},rd=function(e){ic=e},Jn=function(e,t,o){if(ed(Zg,o,hl),t.length){var a=Pg(t,o);Cu=a,Bg(a,e,o),setTimeout(function(){a.focus()},1),ic=null}else Sa()},Pg=function(e,t){const o=new Iu;o.setRole(Tr.MENU);for(let a=0;a<e.length;a++){const d=e[a],m=new ef(d.text);m.setRightToLeft(t),m.setRole(Tr.MENUITEM),o.addChild(m),m.setEnabled(d.enabled),d.enabled&&m.onAction(function(){Sa(),requestAnimationFrame(()=>{setTimeout(()=>{d.callback(d.scope)},0)})},{})}return o},Bg=function(e,t,o){const a=O();t=new Dt(t.clientY+a.top,t.clientY+a.top,t.clientX+a.left,t.clientX+a.left),Fg(e);const d=e.getSize();o&&(t.left+=d.width,t.right+=d.width,a.left+=d.width,a.right+=d.width),dl(a,t,d,o),e.focus()},Fg=function(e){var t=ul();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),Be(t,"blocklyContextMenu"),Ce(t,"contextmenu",null,Tp),e.focus()},Tp=function(e){e.preventDefault(),e.stopPropagation()},Sa=function(){td(Zg),ic=null},hl=function(){Cu&&(Cu.dispose(),Cu=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{n.disable$$module$build$src$core$events$utils();let o;try{o=t instanceof Element?yi(t,e.workspace):us(t,e.workspace);const a=e.getRelativeToSurfaceXY();a.x=e.RTL?a.x-n.config$$module$build$src$core$config.snapRadius:a.x+n.config$$module$build$src$core$config.snapRadius,a.y+=2*n.config$$module$build$src$core$config.snapRadius,o.moveBy(a.x,a.y)}finally{n.enable$$module$build$src$core$events$utils()}return U()&&!o.isShadow()&&Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(o)),o.select(),o}},pl=function(e){return{text:n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,enabled:!0,callback:function(){n.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)}}},bp=function(e){return{text:n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){const t=e.toCopyData();t&&va(t,e.workspace)}}},Uc=function(e,t){const o={enabled:!0};return o.text=n.Msg$$module$build$src$core$msg.ADD_COMMENT,o.callback=function(){const a=new Do(e,n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT,Do.DEFAULT_SIZE,Do.DEFAULT_SIZE);var d=e.getInjectionDiv().getBoundingClientRect();d=new Me(t.clientX-d.left,t.clientY-d.top);const m=e.getOriginOffsetInPixels();d=Me.difference(d,m),d.scale(1/e.scale),a.moveBy(d.x,d.y),e.rendered&&(a.initSvg(),a.render(),a.select())},o},Ia=function(e){return e*Math.PI/180},nd=function(e){return 180*e/Math.PI},ds=function(e,t,o){if(o<e){const a=o;o=e,e=a}return Math.max(e,Math.min(t,o))},Hc=function(){document.querySelector(".blocklyDropDownDiv")||(Pt=document.createElement("div"),Pt.className="blocklyDropDownDiv",(P()||document.body).appendChild(Pt),es=document.createElement("div"),es.className="blocklyDropDownContent",Pt.appendChild(es),ql=document.createElement("div"),ql.className="blocklyDropDownArrow",Pt.appendChild(ql),Pt.style.opacity="0",Pt.style.transition="transform "+sc+"s, opacity "+sc+"s",Pt.addEventListener("focusin",function(){Be(Pt,"blocklyFocused")}),Pt.addEventListener("focusout",function(){ht(Pt,"blocklyFocused")}))},id=function(e){Ql=e},sd=function(){return Bs},fl=function(){return es},ld=function(){es.textContent="",es.style.width=""},ad=function(e,t){Pt.style.backgroundColor=e,Pt.style.borderColor=t},Ug=function(e,t,o,a){return gl(Ep(t),e,o,a)},Gc=function(e,t,o){return Ru=!0,gl(Lr(e),e,t,o)},Ep=function(e){var t=e.getSvgRoot();const o=e.workspace.scale,a=e.height*o;return e=e.width*o,t=Nt(t),new Dt(t.y,t.y+a,t.x,t.x+e)},Lr=function(e){return e=e.getScaledBBox(),new Dt(e.top,e.bottom,e.left,e.right)},gl=function(e,t,o,a){const d=e.left+(e.right-e.left)/2,m=e.bottom;e=e.top,a&&(e+=a),a=t.getSourceBlock();let C=a.workspace;for(;C.options.parentWorkspace;)C=C.options.parentWorkspace;return id(C.getParentSvg().parentNode),cd(t,a.RTL,d,m,d,e,o)},cd=function(e,t,o,a,d,m,C){return Bs=e,Qi=C||null,Pt.style.direction=t?"rtl":"ltr",e=B(),Zi=e.getRenderer().getClassName(),Jl=e.getTheme().getClassName(),Zi&&Be(Pt,Zi),Jl&&Be(Pt,Jl),$l(o,a,d,m)},ud=function(e,t,o,a){return e=ml(e,o.left,o.right,a.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+dh,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},dd=function(e,t,o,a){return e=ml(e,o.left,o.right,a.width),{initialX:e.divX,initialY:t-a.height,finalX:e.divX,finalY:t-a.height-dh,arrowX:e.arrowX,arrowY:a.height-2*uh-ku/2,arrowAtTop:!1,arrowVisible:!0}},yp=function(e,t,o){return e=ml(e,t.left,t.right,o.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},ml=function(e,t,o,a){return t=ds(t,e-a/2,o-a),e=e-ku/2-t,o=em,e=ds(o,e,a-o-ku),{arrowX:e,divX:t}},vp=function(){return!!Bs},Ca=function(e,t){return Bs===e?(t?Nr():vi(),!0):!1},vi=function(){Pt.style.transform="translate(0, 0)",Pt.style.opacity="0",lc=setTimeout(function(){Nr()},1e3*sc),Qi&&(Qi(),Qi=null)},Nr=function(){vp()&&(lc&&clearTimeout(lc),Pt.style.transform="",Pt.style.left="",Pt.style.top="",Pt.style.opacity="0",Pt.style.display="none",Pt.style.backgroundColor="",Pt.style.borderColor="",Qi&&(Qi(),Qi=null),ld(),Bs=null,Zi&&(ht(Pt,Zi),Zi=""),Jl&&(ht(Pt,Jl),Jl=""),B().markFocused())},$l=function(e,t,o,a){e=i.getPositionMetrics(e,t,o,a),e.arrowVisible?(ql.style.display="",ql.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",ql.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):ql.style.display="none",t=Math.floor(e.initialX),o=Math.floor(e.initialY),a=Math.floor(e.finalX);const d=Math.floor(e.finalY);return Pt.style.left=t+"px",Pt.style.top=o+"px",Pt.style.display="block",Pt.style.opacity="1",Pt.style.transform="translate("+(a-t)+"px,"+(d-o)+"px)",!!e.arrowAtTop},Vc=function(){if(Bs){var e=Bs.getSourceBlock();e=Ru?Lr(Bs):Ep(e);const t=e.left+(e.right-e.left)/2;$l(t,e.bottom,t,e.top)}else vi()},hd=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,o=e.getSvgRoot();t.getAudioManager().play("delete");var a=t.getSvgXY(o);o=o.cloneNode(!0),o.setAttribute("transform","translate("+a.x+","+a.y+")"),t.getParentSvg().appendChild(o),ka(o,{x:a.x,y:a.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)}},ka=function(e,t,o,a,d){const m=(new Date().getTime()-a.getTime())/150;1<m?at(e):(e.setAttribute("transform","translate("+(t.x+(o?-1:1)*t.width*d/2*m)+","+(t.y+t.height*d*m)+") scale("+(1-m)*d+")"),setTimeout(ka,10,e,t,o,a,d))},Si=function(e){var t=e.workspace;const o=t.scale;if(t.getAudioManager().play("click"),!(1>o)){var a=t.getSvgXY(e.getSvgRoot());e.outputConnection?(a.x+=(e.RTL?3:-3)*o,a.y+=13*o):e.previousConnection&&(a.x+=(e.RTL?-23:23)*o,a.y+=3*o);var d=ce(V.CIRCLE,{cx:a.x,cy:a.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=ce(V.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*o},d),t=ce(V.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},d),e.beginElement(),t.beginElement(),setTimeout(()=>void at(d),150)}},Wc=function(e){if(Ii(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),p=e,pd(e,t,new Date)}},pd=function(e,t,o){const a=(new Date().getTime()-o.getTime())/200;let d="";1>=a&&(d=`skewX(${Math.round(Math.sin(a*Math.PI*3)*(1-a)*t)})`,u=setTimeout(pd,10,e,t,o)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${d}`)},Ii=function(){p&&(u&&(clearTimeout(u),u=null),p.getSvgRoot().setAttribute("transform",p.getTranslation()),p=null)},Sp=function(e,t){return Pe("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(t)},Ra=function(e){return e.length?e.reduce(function(t,o){return t.length<o.length?t:o}).length:0},fd=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let o=0;t=t||Ra(e);let a;for(a=0;a<t;a++){for(var d=e[0][a],m=1;m<e.length;m++)if(d!==e[m][a])return o;d===" "&&(o=a+1)}for(d=1;d<e.length;d++)if((m=e[d][a])&&m!==" ")return o;return t},gd=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let o=0;t=t||Ra(e);let a;for(a=0;a<t;a++){for(var d=e[0].substr(-a-1,1),m=1;m<e.length;m++)if(d!==e[m].substr(-a-1,1))return o;d===" "&&(o=a+1)}for(d=1;d<e.length;d++)if((m=e[d].charAt(e[d].length-a-1))&&m!==" ")return o;return t},n.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let o=0;o<e.length;o++)e[o]=Ip(e[o],t);return e.join(`
`)},Ip=function(e,t){if(e.length<=t)return e;const o=e.trim().split(/\s+/);for(var a=0;a<o.length;a++)o[a].length>t&&(t=o[a].length);var d=-1/0;let m,C=1;do{a=d,m=e,e=[],d=o.length/C;let G=1;for(let ye=0;ye<o.length-1;ye++)G<(ye+1.5)/d?(G++,e[ye]=!0):e[ye]=!1;e=qn(o,e,t),d=zc(o,e,t),e=md(o,e),C++}while(d>a);return m},zc=function(e,t,o){const a=[0],d=[];for(var m=0;m<e.length;m++)a[a.length-1]+=e[m].length,t[m]===!0?(a.push(0),d.push(e[m].charAt(e[m].length-1))):t[m]===!1&&a[a.length-1]++;for(e=Math.max(...a),t=0,m=0;m<a.length;m++)t-=2*Math.pow(Math.abs(o-a[m]),1.5),t-=Math.pow(e-a[m],1.5),".?!".indexOf(d[m])!==-1?t+=o/3:",;)]}".indexOf(d[m])!==-1&&(t+=o/4);return 1<a.length&&a[a.length-1]<=a[a.length-2]&&(t+=.5),t},qn=function(e,t,o){let a=zc(e,t,o),d;for(let m=0;m<t.length-1;m++){if(t[m]===t[m+1])continue;const C=[].concat(t);C[m]=!C[m],C[m+1]=!C[m+1];const G=zc(e,C,o);G>a&&(a=G,d=C)}return d?qn(e,d,o):t},md=function(e,t){const o=[];for(let a=0;a<e.length;a++)o.push(e[a]),t[a]!==void 0&&o.push(t[a]?`
`:" ");return o.join("")},n.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},$d=function(e){qe=e},Hg=function(){return qe},Gg=function(){return Ze},wa=function(){return er},Oa=function(e){if(e=_d(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},_d=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Td=function(){document.querySelector(".blocklyTooltipDiv")||(er=document.createElement("div"),er.className="blocklyTooltipDiv",(P()||document.body).appendChild(er))},Wt=function(e){e.mouseOverWrapper_=gt(e,"pointerover",null,jc),e.mouseOutWrapper_=gt(e,"pointerout",null,xa),e.addEventListener("pointermove",bd,!1)},Aa=function(e){e&&(He(e.mouseOverWrapper_),He(e.mouseOutWrapper_),e.removeEventListener("pointermove",bd))},jc=function(e){uo||(e=_d(e.currentTarget),tt!==e&&(Mr(),it=null,tt=e),clearTimeout(ne))},xa=function(e){uo||(ne=setTimeout(function(){it=tt=null,Mr()},1),clearTimeout(he),he=0)},bd=function(e){if(tt&&tt.tooltip&&!uo)if(Ze){const t=Fe-e.pageX;e=nt-e.pageY,Math.sqrt(t*t+e*e)>Bt&&Mr()}else it!==tt&&(clearTimeout(he),Fe=e.pageX,nt=e.pageY,he=setTimeout(kp,ts))},Xc=function(){it=tt=null,Mr()},Mr=function(){Ze&&(Ze=!1,er&&(er.style.display="none")),he&&(clearTimeout(he),he=0)},La=function(){Mr(),uo=!0},hs=function(){uo=!1},Cp=function(){er&&tt&&(typeof qe=="function"?qe(er,tt):Vg())},Vg=function(){var e=Oa(tt);e=n.wrap$$module$build$src$core$utils$string(e,ue),e=e.split(`
`);for(let t=0;t<e.length;t++){const o=document.createElement("div");o.appendChild(document.createTextNode(e[t])),er.appendChild(o)}},Wg=function(e){const t=document.documentElement.clientWidth,o=document.documentElement.clientHeight;let a=Fe;a=e?a-($t+er.offsetWidth):a+$t;let d=nt+Po;return d+er.offsetHeight>o+window.scrollY&&(d-=er.offsetHeight+2*Po),e?a=Math.max(hh-window.scrollX,a):a+er.offsetWidth>t+window.scrollX-2*hh&&(a=t-er.offsetWidth-2*hh),{x:a,y:d}},kp=function(){if(!uo&&(it=tt,er)){er.textContent="",Cp();var e=tt.RTL;er.style.direction=e?"rtl":"ltr",er.style.display="block",Ze=!0;var{x:t,y:o}=Wg(e);er.style.left=t+"px",er.style.top=o+"px"}},Qr=function(e,t){for(const o in t)e[o]=t[o]!==null&&typeof t[o]=="object"?Qr(e[o]||Object.create(null),t[o]):t[o];return e},fn=function(e){return e.bubbleIsVisible!==void 0&&e.setBubbleVisible!==void 0},Na=function(){return w$},Yc=function(e){w$=e},Ma=function(){return O$},Kc=function(e){O$=e},ps=function(e){e=`${e}`.toLowerCase().trim();var t=tb[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var o=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(e=Number(o[1]),t=Number(o[2]),o=Number(o[3]),0<=e&&256>e&&0<=t&&256>t&&0<=o&&256>o)?Da(e,t,o):null},Da=function(e,t,o){return t=e<<16|t<<8|o,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},Ed=function(e){return e=ps(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},yd=function(e,t,o){let a=0,d=0,m=0;if(t===0)m=d=a=o;else{const C=Math.floor(e/60),G=e/60-C;e=o*(1-t);const ye=o*(1-t*G);switch(t=o*(1-t*(1-G)),C){case 1:a=ye,d=o,m=e;break;case 2:a=e,d=o,m=t;break;case 3:a=e,d=ye,m=o;break;case 4:a=t,d=e,m=o;break;case 5:a=o,d=e,m=ye;break;case 6:case 0:a=o,d=t,m=e}}return Da(Math.floor(a),Math.floor(d),Math.floor(m))},Ci=function(e,t,o){return e=ps(e),!e||(t=ps(t),!t)?null:(e=Ed(e),t=Ed(t),Da(Math.round(t[0]+o*(e[0]-t[0])),Math.round(t[1]+o*(e[1]-t[1])),Math.round(t[2]+o*(e[2]-t[2]))))},Qn=function(e){return yd(e,w$,255*O$)},Jc=function(e,t,o){const a=[];var d=e.split("");d.push("");var m=0;e=[];let C=null;for(let We=0;We<d.length;We++){var G=d[We];if(m===0)if(G==="%")(m=e.join(""))&&a.push(m),e.length=0,m=1;else if(o&&G===`
`){const $o=e.join("");$o&&a.push($o),e.length=0,a.push(G)}else e.push(G);else if(m===1)G==="%"?(e.push(G),m=0):t&&"0"<=G&&"9">=G?(m=2,C=G,(G=e.join(""))&&a.push(G),e.length=0):G==="{"?m=3:(e.push("%",G),m=0);else if(m===2)if("0"<=G&&"9">=G)C+=G;else{var ye=void 0;a.push(parseInt((ye=C)!=null?ye:"",10)),We--,m=0}else m===3&&(G===""?(e.splice(0,0,"%{"),We--,m=0):G!=="}"?e.push(G):(m=e.join(""),/[A-Z]\w*/i.test(m)?(G=m.toUpperCase(),(G=G.startsWith("BKY_")?G.substring(4):null)&&G in n.Msg$$module$build$src$core$msg?(m=n.Msg$$module$build$src$core$msg[G],typeof m=="string"?Array.prototype.push.apply(a,Jc(m,t,o)):t?a.push(`${m}`):a.push(m)):a.push("%{"+m+"}")):a.push("%{"+m+"}"),m=e.length=0))}for((t=e.join(""))&&a.push(t),ye=[],e.length=0,d=0;d<a.length;d++)typeof a[d]!="string"||o&&a[d]===`
`?((t=e.join(""))&&ye.push(t),e.length=0,ye.push(a[d])):e.push(a[d]);return(t=e.join(""))&&ye.push(t),e.length=0,ye},fs=function(e){return Jc(e,!0,!0)},Ut=function(e){return typeof e!="string"?e:(e=Jc(e,!1,!1),e.length?String(e[0]):"")},Pa=function(e){let t=!0;const o=n.Msg$$module$build$src$core$msg,a=e.match(/%{BKY_[A-Z]\w*}/gi);if(a)for(let d=0;d<a.length;d++){const m=a[d].toUpperCase();o[m.slice(6,-1)]===void 0&&(console.warn("No message string for "+a[d]+" in "+e),t=!1)}return t},vr=function(e){const t=typeof e=="string"?Ut(e):e;var o=Number(t);if(!isNaN(o)&&0<=o&&360>=o)return{hue:o,hex:yd(o,Na(),255*Ma())};if(o=ps(t))return{hue:null,hex:o};throw o='Invalid colour: "'+t+'"',e!==t&&(o+=' (from "'+e+'")'),Error(o)},Zn=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},vd=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Dr=function(e,t){c(Re.FIELD,e,t)},gs=function(e){f(Re.FIELD,e)},n.fromJson$$module$build$src$core$field_registry=function(e){return rb.fromJsonInternal(e)},Ba=function(e){const t=v(Re.FIELD,e.type);if(t){if(typeof t.fromJson!="function")throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},_l=function(e){let t=!1;const o=e.map(([C,G])=>typeof C=="string"?[Ut(C),G]:(t=!0,[C.alt!==null?Object.assign({},C,{alt:Ut(C.alt)}):Object.assign({},C),G]));if(t||2>e.length)return{options:o};var a=o.map(([C])=>C),d=Ra(a);e=fd(a,d);const m=gd(a,d);return!e&&!m||d<=e+m?{options:o}:(d=e?a[0].substring(0,e-1):void 0,a=m?a[0].substr(1-m):void 0,{options:qc(o,e,m),prefix:d,suffix:a})},qc=function(e,t,o){return e.map(([a,d])=>[a.substring(t,a.length-o),d])},Qc=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(a)?typeof a[1]!="string"?(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+a[1]+" in: ",a)):a[0]&&typeof a[0]!="string"&&typeof a[0].src!="string"&&(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+a[0]+" in: ",a)):(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",a))}if(t)throw TypeError("Found invalid FieldDropdown options.")},n.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(ph[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');ph[e]=t},n.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');n.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},n.registerMutator$$module$build$src$core$extensions=function(e,t,o,a){const d='Error when registering mutator "'+e+'": ';ms(d,t);const m=ur(t,d);if(o&&typeof o!="function")throw Error(d+'Extension "'+e+'" is not a function');n.register$$module$build$src$core$extensions(e,function(){m&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(a||[],this)),this.mixin(t),o&&o.apply(this)})},Tl=function(e){ei(e)?delete ph[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},ei=function(e){return!!ph[e]},qt=function(e,t,o){const a=ph[e];if(typeof a!="function")throw Error('Error: Extension "'+e+'" not found.');let d;if(o?ro(e,t):d=ir(t),a.apply(t),o)ms('Error after applying mutator "'+e+'": ',t);else if(!Zc(d,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},ro=function(e,t){if(ir(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},ki=function(e,t){return ti(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},nr=function(e,t){return ti(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},ur=function(e,t){return ti(e.compose,e.decompose,t+" compose/decompose")},ti=function(e,t,o){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(o+" must be a function");return!0}if(!e&&!t)return!1;throw Error(o+"Must have both or neither functions")},ms=function(e,t){const o=ki(t,e),a=nr(t,e);if(!o&&!a)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");ur(t,e)},ir=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},Zc=function(e,t){if(t=ir(t),t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(e[o]!==t[o])return!1;return!0},Rp=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const o=[];return function(){o.indexOf(this.type)===-1&&(wp(this,e,t),o.push(this.type)),this.setTooltip((function(){const a=String(this.getFieldValue(e));return Ut(t[a])}).bind(this))}},wp=function(e,t,o){var a=e.getField(t);if(a instanceof Fs&&!a.isOptionListDynamic()){a=a.getOptions();for(const[,d]of a)o[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field ${t} of block type ${e.type}.`)}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const o=this.getField(t);return Ut(e).replace("%1",o?o.getText():"")}).bind(this))}},eu=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},et=function(e,t){return" "+e+","+t+" "},ko=function(e,t){return" "+e+t.join("")},Ro=function(e,t){return" M "+e+","+t+" "},Qt=function(e,t){return" m "+e+","+t+" "},gn=function(e,t){return" l "+e+","+t+" "},Fa=function(e){return" l"+e.join("")},Ve=function(e,t){return" "+e+" "+t+" "},no=function(e,t,o,a){return e+" "+o+" "+o+" "+t+a},$s=function(e,t){c(Re.ICON,e.toString(),t)},tu=function(e){f(Re.ICON,e)},bl=function(e){const t=e.getProcedureMap().getProcedures().filter(a=>!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(d=>d.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(a=>{!Zn(a)&&nl(a)&&t.push(a.getProcedureDef())});const o=e.getProcedureMap().getProcedures().filter(a=>!!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(d=>d.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(a=>{!Zn(a)&&nl(a)&&o.push(a.getProcedureDef())}),t.sort(Sr),o.sort(Sr),[t,o]},Sr=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!Pr(e,t.workspace,t);){const o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2])+1):e+"2"}return e},Pr=function(e,t,o){return!Ri(e,t,o)},Ri=function(e,t,o){for(const a of t.getAllBlocks(!1))if(a!==o&&nl(a)&&n.Names$$module$build$src$core$names.equals(a.getProcedureDef()[0],e))return!0;o=o&&Zn(o)?o==null?void 0:o.getProcedureModel():void 0;for(const a of t.getProcedureMap().getProcedures())if(a!==o&&n.Names$$module$build$src$core$names.equals(a.getName(),e))return!0;return!1},n.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new ho;e=e.trim();const o=n.findLegalName$$module$build$src$core$procedures(e,t);Zn(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(o);const a=this.getValue();if(a!==e&&a!==o)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const d=e[t];d.renameProcedure&&d.renameProcedure(a,o)}return o},Zr=function(e){function t(m,C){for(let ye=0;ye<m.length;ye++){var G=m[ye][0];const We=m[ye][1],$o=n.createElement$$module$build$src$core$utils$xml("block");$o.setAttribute("type",C),$o.setAttribute("gap","16");const po=n.createElement$$module$build$src$core$utils$xml("mutation");for(po.setAttribute("name",G),$o.appendChild(po),G=0;G<We.length;G++){const on=n.createElement$$module$build$src$core$utils$xml("arg");on.setAttribute("name",We[G]),po.appendChild(on)}o.push($o)}}const o=[];if(Xt.procedures_defnoreturn){var a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_defnoreturn"),a.setAttribute("gap","16");var d=n.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),d.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),a.appendChild(d),o.push(a)}return Xt.procedures_defreturn&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_defreturn"),a.setAttribute("gap","16"),d=n.createElement$$module$build$src$core$utils$xml("field"),d.setAttribute("name","NAME"),d.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),a.appendChild(d),o.push(a)),Xt.procedures_ifreturn&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_ifreturn"),a.setAttribute("gap","16"),o.push(a)),o.length&&o[o.length-1].setAttribute("gap","24"),e=bl(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),o},mn=function(e){var t=[],o=e.getBlocksByType("procedures_mutatorarg",!1);for(let m=0,C;C=o[m];m++)t.push(C.getFieldValue("NAME"));o=n.createElement$$module$build$src$core$utils$xml("xml");const a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_mutatorarg");const d=n.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),t=Yu(n.DEFAULT_ARG$$module$build$src$core$procedures,t),t=n.createTextNode$$module$build$src$core$utils$xml(t),d.appendChild(t),a.appendChild(d),o.appendChild(a),e.updateToolbox(o)},wi=function(e){if(e.type===yn&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=N(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),mn(e),e.addChangeListener(Op))}},Op=function(e){(e.type===n.CREATE$$module$build$src$core$events$utils||e.type===n.DELETE$$module$build$src$core$events$utils||e.type===n.CHANGE$$module$build$src$core$events$utils||e.type===Mi)&&(e=N(e.workspaceId),mn(e))},ou=function(e,t){return t.getAllBlocks(!1).filter(o=>Sd(o,e)||Cc(o)&&n.Names$$module$build$src$core$names.equals(o.getProcedureCall(),e))},Sd=function(e,t){return Zn(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},n.mutateCallers$$module$build$src$core$procedures=function(e){const t=Ee();var o=e.getProcedureDef()[0];const a=e.mutationToDom(!0);e=ou(o,e.workspace);for(let m=0,C;C=e[m];m++){o=(o=C.mutationToDom())&&ut(o),C.domToMutation&&C.domToMutation(a);var d=C.mutationToDom();d=d&&ut(d),o!==d&&(fe(!1),Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(C,"mutation",null,o,d)),fe(t))}},n.getDefinition$$module$build$src$core$procedures=function(e,t){for(const o of t.getAllBlocks(!1))if(Zn(o)&&o.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(o.getProcedureModel().getName(),e)||nl(o)&&n.Names$$module$build$src$core$names.equals(o.getProcedureDef()[0],e))return o;return null},dr=function(e){return e.isDynamic},Ir=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},go=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},gr=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Ap=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},xp=function(e,t){let o=null;t=t.outputConnection;const a=t==null?void 0:t.getConnectionChecker();for(let d=0,m;m=e.inputList[d];d++){const C=m.connection;let G;if(C&&((G=a)!=null&&G.canConnect(t,C,!1))){if(o)return null;o=C}}return o},Id=function(e,t){let o;for(;o=xp(e,t);)if(e=o.targetBlock(),!e||e.isShadow())return o;return null},_s=function(e,t){c(Re.RENDERER,e,t)},Lp=function(e){f(Re.RENDERER,e)},Ua=function(e,t,o){return e=new(y(Re.RENDERER,e))(e),e.init(t,o),e},Cd=function(e){da(e.getTargetWorkspace(),void 0,"String")},Ts=function(e){da(e.getTargetWorkspace(),void 0,"Number")},ru=function(e){da(e.getTargetWorkspace(),void 0,"Colour")},kd=function(e){let t=[],o=document.createElement("button");return o.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(o),o=document.createElement("button"),o.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(o),o=document.createElement("button"),o.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(o),e.registerButtonCallback("CREATE_VARIABLE_STRING",Cd),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Ts),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",ru),e=Br(e),t=t.concat(e)},Br=function(e){e=e.getAllVariables();const t=[];if(0<e.length){if(Xt.variables_set_dynamic){var o=e[e.length-1];const a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set_dynamic"),a.setAttribute("gap","24"),a.appendChild(bi(o)),t.push(a)}if(Xt.variables_get_dynamic){e.sort(xs.compareByName);for(let a=0,d;d=e[a];a++)o=n.createElement$$module$build$src$core$utils$xml("block"),o.setAttribute("type","variables_get_dynamic"),o.setAttribute("gap","8"),o.appendChild(bi(d)),t.push(o)}}return t},bs=function(e){return e.toCopyData!==void 0},Ha=function(){Vt.registry.register({name:Ws.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[yt.ESC]})},Es=function(){Vt.registry.register({name:Ws.DELETE,preconditionFn(e){const t=X();return!e.options.readOnly&&t!=null&&t.isDeletable()},callback(e,t){return t.preventDefault(),Zl.inProgress()?!1:(X().checkAndDelete(),!0)},keyCodes:[yt.DELETE,yt.BACKSPACE]})},nu=function(){const e=Vt.registry.createSerializedKey(yt.C,[yt.CTRL]),t=Vt.registry.createSerializedKey(yt.C,[yt.ALT]),o=Vt.registry.createSerializedKey(yt.C,[yt.META]);Vt.registry.register({name:Ws.COPY,preconditionFn(a){const d=X();return!a.options.readOnly&&!Zl.inProgress()&&d!=null&&d.isDeletable()&&d.isMovable()&&bs(d)},callback(a,d){return d.preventDefault(),a.hideChaff(),d=X(),!d||!bs(d)?!1:(pf=d.toCopyData(),pm=a,!!pf)},keyCodes:[e,t,o]})},iu=function(){const e=Vt.registry.createSerializedKey(yt.X,[yt.CTRL]),t=Vt.registry.createSerializedKey(yt.X,[yt.ALT]),o=Vt.registry.createSerializedKey(yt.X,[yt.META]);Vt.registry.register({name:Ws.CUT,preconditionFn(a){const d=X();return!a.options.readOnly&&!Zl.inProgress()&&d!=null&&d instanceof Vs&&d.isDeletable()&&d.isMovable()&&!d.workspace.isFlyout},callback(a){const d=X();return!d||!bs(d)?!1:(pf=d.toCopyData(),pm=a,d.checkAndDelete(),!0)},keyCodes:[e,t,o]})},su=function(){const e=Vt.registry.createSerializedKey(yt.V,[yt.CTRL]),t=Vt.registry.createSerializedKey(yt.V,[yt.ALT]),o=Vt.registry.createSerializedKey(yt.V,[yt.META]);Vt.registry.register({name:Ws.PASTE,preconditionFn(a){return!a.options.readOnly&&!Zl.inProgress()},callback(){return pf&&pm?!!va(pf,pm):!1},keyCodes:[e,t,o]})},lu=function(){const e=Vt.registry.createSerializedKey(yt.Z,[yt.CTRL]),t=Vt.registry.createSerializedKey(yt.Z,[yt.ALT]),o=Vt.registry.createSerializedKey(yt.Z,[yt.META]);Vt.registry.register({name:Ws.UNDO,preconditionFn(a){return!a.options.readOnly&&!Zl.inProgress()},callback(a){return a.hideChaff(),a.undo(!1),!0},keyCodes:[e,t,o]})},ys=function(){const e=Vt.registry.createSerializedKey(yt.Z,[yt.SHIFT,yt.CTRL]),t=Vt.registry.createSerializedKey(yt.Z,[yt.SHIFT,yt.ALT]),o=Vt.registry.createSerializedKey(yt.Z,[yt.SHIFT,yt.META]),a=Vt.registry.createSerializedKey(yt.Y,[yt.CTRL]);Vt.registry.register({name:Ws.REDO,preconditionFn(d){return!Zl.inProgress()&&!d.options.readOnly},callback(d){return d.hideChaff(),d.undo(!0),!0},keyCodes:[e,t,o,a]})},Cr=function(){Ha(),Es(),nu(),iu(),su(),lu(),ys()},Oi=function(e){const t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length&&(t.parameters=e.getParameters().map(o=>au(o))),t},au=function(e){const t={id:e.getId(),name:e.getName()};return e.getTypes().length&&(t.types=e.getTypes()),t},Rd=function(e,t,o,a){if(e=new e(a,o.name,o.id).setReturnTypes(o.returnTypes),!o.parameters)return e;for(const[d,m]of o.parameters.entries())e.insertParameter($n(t,m,a),d);return e},$n=function(e,t,o){return e=new e(o,t.name,t.id),t.types&&e.setTypes(t.types),e},Ai=function(e){const t=Object.create(null),o=I(Re.SERIALIZER,!0);for(const a in o){let d;const m=(d=o[a])==null?void 0:d.save(e);m&&(t[a]=m)}return t},wd=function(e,t,{recordUndo:o=!1}={}){var a=I(Re.SERIALIZER,!0);if(a){a=Object.entries(a).sort((m,C)=>C[1].priority-m[1].priority);var d=Ee();fe(o),(o=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),L(),t instanceof ns&&t.setResizesEnabled(!1);for(const[,m]of a.reverse()){let C;(C=m)==null||C.clear(t)}for(let[m,C]of a.reverse())if(e[m]){let G;(G=C)==null||G.load(e[m],t)}t instanceof ns&&t.setResizesEnabled(!0),K(),Y(new(ge(Dl))(t)),n.setGroup$$module$build$src$core$events$utils(o),fe(d)}},El=function(e,t,o){const a=o.getBoundingRectangle(),d=a.right-a.left,m=ds(t.top,a.top,t.top+t.height-(a.bottom-a.top))-a.top;let C=t.left;return t=t.left+t.width-d,e.RTL?C=Math.min(t,C):t=Math.max(C,t),(e=ds(C,a.left,t)-a.left)||m?(o.moveBy(e,m,["inbounds"]),!0):!1},_n=function(e){return t=>{var o=e.getMetricsManager();if(o.hasFixedEdges()&&!e.isDragging()){var a;if(Yd.indexOf((a=t.type)!=null?a:"")!==-1){a=o.getScrollMetrics(!0);const d=xi(e,t);d&&(o=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(t.group),El(e,a,d)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(o))}else t.type===Pi&&t.scale&&t.oldScale&&t.scale>t.oldScale&&yl(e)}}},xi=function(e,t){let o=null;switch(t.type){case n.CREATE$$module$build$src$core$events$utils:case n.MOVE$$module$build$src$core$events$utils:(o=e.getBlockById(t.blockId))&&(o=o.getRootBlock());break;case Bi:case vn:o=e.getCommentById(t.commentId)}return o},yl=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var o=e.getTopBoundedElements();for(let a=0,d;d=o[a];a++)El(e,t,d)}},Od=function(e,t){const o=[];for(const a of e.getIcons())(!fn(a)||a.bubbleIsVisible())&&(o.push({location:t,icon:a}),a.onLocationChange(t));for(const a of e.getChildren(!1))o.push(...Od(a,Me.sum(t,a.relativeCoords)));return o},Ga=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:St.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Ad=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:St.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},xd=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:St.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},cu=function(e,t){function o(m){d--,m.setCollapsed(e),d===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let a=0,d=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let m=0;m<t.length;m++){let C=t[m];for(;C;)d++,setTimeout(o.bind(null,C),a),C=C.getNextBlock(),a+=10}},Va=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let o=e[t];for(;o;){if(!o.isCollapsed())return"enabled";o=o.getNextBlock()}}return"disabled"}return"hidden"},callback(e){cu(!0,e.workspace.getTopBlocks(!0))},scopeType:St.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Ld=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let o=e[t];for(;o;){if(o.isCollapsed())return"enabled";o=o.getNextBlock()}}return"disabled"}return"hidden"},callback(e){cu(!1,e.workspace.getTopBlocks(!0))},scopeType:St.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Nd=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let o=0;o<e.length;o++)Nd(e[o],t)}},uu=function(e){const t=[];e=e.getTopBlocks(!0);for(let o=0;o<e.length;o++)Nd(e[o],t);return t},vl=function(e,t){t?n.setGroup$$module$build$src$core$events$utils(t):(n.setGroup$$module$build$src$core$events$utils(!0),t=n.getGroup$$module$build$src$core$events$utils());const o=e.shift();o&&(o.isDeadOrDying()?vl(e,t):(o.dispose(!1,!0),setTimeout(vl,10,e,t))),n.setGroup$$module$build$src$core$events$utils(!1)},Sl=function(){St.registry.register({displayText(e){return e.workspace?(e=uu(e.workspace).length,e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<uu(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=uu(e.workspace);2>t.length?vl(t):Eo(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(o){o&&vl(t)})}},scopeType:St.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},du=function(){Ga(),Ad(),xd(),Va(),Ld(),Sl()},Md=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&va(t,e.block.workspace)}},scopeType:St.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Dd=function(){St.registry.register({displayText(e){return e.block.hasIcon(Hr.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.hasIcon(Hr.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:St.ScopeType.BLOCK,id:"blockComment",weight:2})},vs=function(){St.registry.register({displayText(e){return e.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof gm||e.inputList[t]instanceof gm))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:St.ScopeType.BLOCK,id:"blockInline",weight:3})},Pd=function(){St.registry.register({displayText(e){return e.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:St.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},Il=function(){St.registry.register({displayText(e){return e.block.isEnabled()?n.Msg$$module$build$src$core$msg.DISABLE_BLOCK:n.Msg$$module$build$src$core$msg.ENABLE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback(e){e=e.block;const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),e.setEnabled(!e.isEnabled()),n.setGroup$$module$build$src$core$events$utils(t)},scopeType:St.ScopeType.BLOCK,id:"blockDisable",weight:5})},en=function(){St.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:St.ScopeType.BLOCK,id:"blockDelete",weight:6})},Cl=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:St.ScopeType.BLOCK,id:"blockHelp",weight:7})},Wa=function(){Md(),Dd(),vs(),Pd(),Il(),en(),Cl()},Li=function(){du(),Wa()},Bd=function(e,t){var o=null;o=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;let a;if(!document.contains(o)&&document!==((a=o)==null?void 0:a.ownerDocument))throw Error("Error: container is not in current document");e=new ai(t||{}),t=document.createElement("div"),t.className="injectionDiv",t.tabIndex=0,oo(t,so.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),o.appendChild(t),o=kl(t,e);const d=Np(t,o,e);return Fd(d),W(d),J(d),t.addEventListener("focusin",function(){W(d)}),d},kl=function(e,t){e.setAttribute("dir","LTR"),Tt(t.hasCss,t.pathToMedia),e=ce(V.SVG,{xmlns:qa,"xmlns:html":Rr,"xmlns:xlink":Zt,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const o=ce(V.DEFS,{},e),a=String(Math.random()).substring(2);return t.gridPattern=R$.createDom(a,t.gridOptions,o),e},Np=function(e,t,o){o.parentWorkspace=null,o=new ns(o);const a=o.options;o.scale=a.zoomOptions.startScale,t.appendChild(o.createDom("blocklyMainBackground",e));var d=o.getRenderer().getClassName();return d&&Be(e,d),(d=o.getTheme().getClassName())&&Be(e,d),!a.hasCategories&&a.languageTree&&(e=o.addFlyout(V.SVG),jt(e,t)),a.hasTrashcan&&o.addTrashcan(),a.zoomOptions&&a.zoomOptions.controls&&o.addZoomControls(),o.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),o.translate(0,0),o.addChangeListener(_n(o)),J(o),fp(),Hc(),Td(),o},Fd=function(e){const t=e.options;var o=e.getParentSvg();if(Ce(o.parentNode,"contextmenu",null,function(a){bt(a)||a.preventDefault()}),o=Ce(window,"resize",null,function(){Mr(),e.hideComponents(!0),Vc(),od(),J(e),yl(e)}),e.setResizeHandlerWrapper(o),hu(),t.languageTree){o=e.getToolbox();const a=e.getFlyout(!0);o?o.init():a&&(a.init(e),a.show(t.languageTree),typeof a.scrollToStart=="function"&&a.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new e_(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Ud(t.pathToMedia,e)},yo=function(e){const t=B();t&&!(bt(e)||t.rendered&&!t.isVisible())&&Vt.registry.onKeyDown(t,e)},hu=function(){Vb||(Ce(document,"scroll",null,function(){const e=M();for(let t=0,o;o=e[t];t++)o instanceof ns&&o.updateInverseScreenCTM()}),Ce(document,"keydown",null,yo),gt(document,"touchend",null,De),gt(document,"touchcancel",null,De),Bl&&Ce(window,"orientationchange",document,function(){J(B())})),Vb=!0},Ud=function(e,t){function o(){for(;d.length;){const m=d.pop();m&&He(m)}a.preload()}const a=t.getAudioManager();a.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),a.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),a.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const d=[];d.push(Ce(document,"pointermove",null,o,!0)),d.push(Ce(document,"touchstart",null,o,!0))},Hd=function(e){return e.getType!==void 0&&e.initView!==void 0&&e.dispose!==void 0&&e.getWeight!==void 0&&e.getSize!==void 0&&e.applyColour!==void 0&&e.hideForInsertionMarker!==void 0&&e.updateEditable!==void 0&&e.updateCollapsed!==void 0&&e.isShownWhenCollapsed!==void 0&&e.setOffsetInBlock!==void 0&&e.onLocationChange!==void 0&&e.onClick!==void 0},pu=function(e){return e.paste!==void 0},Gd=function(e){return e.isSelectable()},Ss=function(e){B().hideChaff(e)},Ge=Ge||{},Ge.scope={},Ge.ASSUME_ES5=!1,Ge.ASSUME_NO_NATIVE_MAP=!1,Ge.ASSUME_NO_NATIVE_SET=!1,Ge.SIMPLE_FROUND_POLYFILL=!1,Ge.ISOLATE_POLYFILLS=!1,Ge.FORCE_POLYFILL_PROMISE=!1,Ge.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,Ge.defineProperty=Ge.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,o){return e==Array.prototype||e==Object.prototype||(e[t]=o.value),e},Ge.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof hE=="object"&&hE];for(var t=0;t<e.length;++t){var o=e[t];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},Ge.global=Ge.getGlobal(this),Ge.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",Ge.TRUST_ES6_POLYFILLS=!Ge.ISOLATE_POLYFILLS||Ge.IS_SYMBOL_NATIVE,Ge.polyfills={},Ge.propertyToPolyfillSymbol={},Ge.POLYFILL_PREFIX="$jscp$",Ge.polyfill=function(e,t,o,a){t&&(Ge.ISOLATE_POLYFILLS?Ge.polyfillIsolated(e,t,o,a):Ge.polyfillUnisolated(e,t,o,a))},Ge.polyfillUnisolated=function(e,t,o,a){for(o=Ge.global,e=e.split("."),a=0;a<e.length-1;a++){var d=e[a];if(!(d in o))return;o=o[d]}e=e[e.length-1],a=o[e],t=t(a),t!=a&&t!=null&&Ge.defineProperty(o,e,{configurable:!0,writable:!0,value:t})},Ge.polyfillIsolated=function(e,t,o,a){var d=e.split(".");e=d.length===1,a=d[0],a=!e&&a in Ge.polyfills?Ge.polyfills:Ge.global;for(var m=0;m<d.length-1;m++){var C=d[m];if(!(C in a))return;a=a[C]}d=d[d.length-1],o=Ge.IS_SYMBOL_NATIVE&&o==="es6"?a[d]:null,t=t(o),t!=null&&(e?Ge.defineProperty(Ge.polyfills,d,{configurable:!0,writable:!0,value:t}):t!==o&&(Ge.propertyToPolyfillSymbol[d]===void 0&&(o=1e9*Math.random()>>>0,Ge.propertyToPolyfillSymbol[d]=Ge.IS_SYMBOL_NATIVE?Ge.global.Symbol(d):Ge.POLYFILL_PREFIX+o+"$"+d),Ge.defineProperty(a,Ge.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:t})))},Ge.polyfill("globalThis",function(e){return e||Ge.global},"es_2020","es3"),Ge.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Ge.arrayIterator=function(e){return{next:Ge.arrayIteratorImpl(e)}},Ge.initSymbol=function(){},Ge.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},Ge.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var o=0,a=!1,d={next:function(){if(!a&&o<e.length){var m=o++;return{value:t(m,e[m]),done:!1}}return a=!0,{done:!0,value:void 0}}};return d[Symbol.iterator]=function(){return d},d},Ge.polyfill("Array.prototype.values",function(e){return e||function(){return Ge.iteratorFromArray(this,function(t,o){return o})}},"es8","es3"),Ge.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var o=[];return Array.prototype.forEach.call(this,function(a){Array.isArray(a)&&0<t?(a=Array.prototype.flat.call(a,t-1),o.push.apply(o,a)):o.push(a)}),o}},"es9","es5"),Ge.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ge.polyfill("Object.entries",function(e){return e||function(t){var o=[],a;for(a in t)Ge.owns(t,a)&&o.push([a,t[a]]);return o}},"es8","es3"),Ge.polyfill("Object.values",function(e){return e||function(t){var o=[],a;for(a in t)Ge.owns(t,a)&&o.push(t[a]);return o}},"es8","es3");var co=Object.create(null),Jo={typeMap:co},Rl=Object.create(null),kr="default",Re=class{constructor(e){this.name=e}toString(){return this.name}};Re.CONNECTION_CHECKER=new Re("connectionChecker"),Re.CONNECTION_PREVIEWER=new Re("connectionPreviewer"),Re.CURSOR=new Re("cursor"),Re.EVENT=new Re("event"),Re.FIELD=new Re("field"),Re.INPUT=new Re("input"),Re.RENDERER=new Re("renderer"),Re.TOOLBOX=new Re("toolbox"),Re.THEME=new Re("theme"),Re.TOOLBOX_ITEM=new Re("toolboxItem"),Re.FLYOUTS_VERTICAL_TOOLBOX=new Re("flyoutsVerticalToolbox"),Re.FLYOUTS_HORIZONTAL_TOOLBOX=new Re("flyoutsHorizontalToolbox"),Re.METRICS_MANAGER=new Re("metricsManager"),Re.BLOCK_DRAGGER=new Re("blockDragger"),Re.SERIALIZER=new Re("serializer"),Re.ICON=new Re("icon"),Re.PASTER=new Re("paster");var Ni={DEFAULT:kr,TEST_ONLY:Jo};Ni.Type=Re,Ni.getAllItems=I,Ni.getClass=y,Ni.getClassFromOptions=R,Ni.getObject=v,Ni.hasItem=_,Ni.register=c,Ni.unregister=f;var Xt=Object.create(null),wl=Object.create(null),Vd,Wd=null,Tn,sr=[],za={defineBlocksWithJsonArrayInternal:S},Go={TEST_ONLY:za};Go.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Go.defineBlocks=n.defineBlocks$$module$build$src$core$common,Go.defineBlocksWithJsonArray=ae,Go.draggingConnections=sr,Go.getAllWorkspaces=M,Go.getBlockTypeCounts=Q,Go.getMainWorkspace=B,Go.getParentContainer=P,Go.getSelected=X,Go.getWorkspaceById=N,Go.registerWorkspace=x,Go.setMainWorkspace=W,Go.setParentContainer=F,Go.setSelected=H,Go.svgResize=J,Go.unregisterWorkpace=A;var zd="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Mp={genUid:()=>{const e=zd.length,t=[];for(let o=0;20>o;o++)t[o]=zd.charAt(Math.random()*e);return t.join("")}},zg=0,jd={TEST_ONLY:Mp};jd.genUid=$e,jd.getNextUniqueId=oe;var Xd,Ol,fu,Mi,Di,bn,Al,xl,oi,ri,En,Ll,yn,Nl,Ml,Is,Pi,Bi,Cs,ja,vn,Dl,Yd,ks,gu,hr;Xd="",Ol=!0,fu=0,n.CREATE$$module$build$src$core$events$utils="create",n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils="delete",n.DELETE$$module$build$src$core$events$utils,n.CHANGE$$module$build$src$core$events$utils="change",n.CHANGE$$module$build$src$core$events$utils,Mi="block_field_intermediate_change",n.MOVE$$module$build$src$core$events$utils="move",n.MOVE$$module$build$src$core$events$utils,Di="var_create",bn="var_delete",Al="var_rename",xl="ui",oi="drag",ri="selected",En="click",Ll="marker_move",yn="bubble_open",Nl="trashcan_open",Ml="toolbox_item_select",Is="theme_change",Pi="viewport_change",Bi="comment_create",Cs="comment_delete",ja="comment_change",vn="comment_move",Dl="finished_loading",Yd=[n.CREATE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,Bi,vn],ks=[],gu={FIRE_QUEUE:ks,fireNow:ve,fireInternal:le,setGroupInternal:ie},hr={BLOCK_CHANGE:n.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:n.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:n.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:oi,BLOCK_FIELD_INTERMEDIATE_CHANGE:Mi,BLOCK_MOVE:n.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:yn,BUMP_EVENTS:Yd,CHANGE:n.CHANGE$$module$build$src$core$events$utils,CLICK:En,COMMENT_CHANGE:ja,COMMENT_CREATE:Bi,COMMENT_DELETE:Cs,COMMENT_MOVE:vn,CREATE:n.CREATE$$module$build$src$core$events$utils,DELETE:n.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:Dl,MARKER_MOVE:Ll,MOVE:n.MOVE$$module$build$src$core$events$utils,SELECTED:ri,TEST_ONLY:gu,THEME_CHANGE:Is,TOOLBOX_ITEM_SELECT:Ml,TRASHCAN_OPEN:Nl,UI:xl,VAR_CREATE:Di,VAR_DELETE:bn,VAR_RENAME:Al,VIEWPORT_CHANGE:Pi},hr.clearPendingUndo=de,hr.disable=n.disable$$module$build$src$core$events$utils,hr.disableOrphans=Ue,hr.enable=n.enable$$module$build$src$core$events$utils,hr.filter=me,hr.fire=Y,hr.fromJson=Ae,hr.get=ge,hr.getDescendantIds=be,hr.getGroup=n.getGroup$$module$build$src$core$events$utils,hr.getRecordUndo=Ee,hr.isEnabled=U,hr.setGroup=n.setGroup$$module$build$src$core$events$utils,hr.setRecordUndo=fe;var Fi=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=Ee()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,o){return o.isBlank=!1,o.group=e.group||"",o.workspaceId=t.id,o}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=N(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},ni=class extends Fi{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Dp=class extends ni{constructor(e,t,o){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=En,this.blockId=e?e.id:void 0,this.targetType=o}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Dp),t.targetType=e.targetType,t.blockId=e.blockId,t}},Pp;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(Pp||(Pp={})),c(Re.EVENT,En,Dp);var Xa=750,Kd="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Ya=null,Pl={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},mu=0,Rs={TOUCH_ENABLED:Kd,TOUCH_MAP:Pl};Rs.checkTouchIdentifier=st,Rs.clearTouchIdentifier=Ne,Rs.getTouchIdentifierFromEvent=Je,Rs.longStart=Ie,Rs.longStop=De,Rs.shouldHandleEvent=ot;var Jd,Bp,Fp,jg,lr,qo,qd,Up,Hp,Gp;(function(e){function t(a){return o.indexOf(a.toUpperCase())!==-1}Jd=e;const o=Jd.toUpperCase();Bp=t("JavaFX"),Fp=t("WebKit"),jg=t("Gecko")&&!Fp,lr=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,qo=t("iPad")||t("Macintosh")&&0<e,qd=t("iPhone")&&!qo,Up=t("Macintosh"),Hp=qo||lr&&!t("Mobile")||t("Silk"),Gp=!Hp&&(qd||lr)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var Xg=Jd,Qd=Bp,Zd=jg,Ka=lr,Bl=qo,Vp=qd,$u=Up,_u=Gp,Yg={ANDROID:Ka,GECKO:Zd,IPAD:Bl,IPHONE:Vp,JavaFx:Qd,MAC:$u,MOBILE:_u,raw:Xg},eh=40,Tu=125,Ui={};Ui.bind=gt,Ui.conditionalBind=Ce,Ui.getScrollDeltaPixels=ft,Ui.isRightButton=Ot,Ui.isTargetInput=bt,Ui.mouseToSvg=Et,Ui.unbind=He;var Wp={};Wp.removeElem=mt;var Sn=class{constructor(e){this.name_=e}toString(){return this.name_}};Sn.POSITIONABLE=new Sn("positionable"),Sn.DRAG_TARGET=new Sn("drag_target"),Sn.DELETE_AREA=new Sn("delete_area"),Sn.AUTOHIDEABLE=new Sn("autohideable");var Ao=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const o=e.component.id;if(!t&&this.componentData.has(o)){var a;throw Error('Plugin "'+o+'" with capabilities "'+((a=this.componentData.get(o))==null?void 0:a.capabilities)+'" already added.')}for(this.componentData.set(o,e),t=[],a=0;a<e.capabilities.length;a++){const d=String(e.capabilities[a]).toLowerCase();if(t.push(d),this.capabilityToComponentIds.has(d)){let m;(m=this.capabilityToComponentIds.get(d))==null||m.push(o)}else this.capabilityToComponentIds.set(d,[o])}this.componentData.get(o).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let o=0;o<t.capabilities.length;o++){const a=String(t.capabilities[o]).toLowerCase();mt(this.capabilityToComponentIds.get(a),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var o;(o=this.componentData.get(e))==null||o.capabilities.push(t);var a;(a=this.capabilityToComponentIds.get(t))==null||a.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),mt(this.componentData.get(e).capabilities,t),mt(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.indexOf(t)!==-1}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const o=[];if(t){const a=[];e.forEach(d=>{a.push(this.componentData.get(d))}),a.sort(function(d,m){return d.weight-m.weight}),a.forEach(function(d){o.push(d.component)})}else e.forEach(a=>{o.push(this.componentData.get(a).component)});return o}};Ao.Capability=Sn;var Ja=!1,In=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyBlockDragSurface {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}
`,zp={};zp.inject=Tt,zp.register=dt;var Me=class{constructor(e,t){this.x=e,this.y=t}clone(){return new Me(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const o=e.x-t.x;return e=e.y-t.y,Math.sqrt(o*o+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new Me(e.x-t.x,e.y-t.y)}static sum(e,t){return new Me(e.x+t.x,e.y+t.y)}},th=new Set,jp={};jp.warn=Pe;var qa="http://www.w3.org/2000/svg",Rr="http://www.w3.org/1999/xhtml",Zt="http://www.w3.org/1999/xlink",Hi;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(Hi||(Hi={}));var Cn=null,Qa=0,Vo=null,Wo={HTML_NS:Rr};Wo.NodeType=Hi,Wo.SVG_NS=qa,Wo.XLINK_NS=Zt,Wo.addClass=Be,Wo.containsNode=j,Wo.createSvgElement=ce,Wo.getFastTextWidth=pe,Wo.getFastTextWidthWithSizeString=Xe,Wo.getTextWidth=te,Wo.hasClass=lo,Wo.insertAfter=jt,Wo.measureFontMetrics=_t,Wo.removeClass=ht,Wo.removeClasses=bo,Wo.removeNode=at,Wo.setCssTransform=b,Wo.startTextWidthCache=L,Wo.stopTextWidthCache=K;var V=class{constructor(e){this.tagName=e}toString(){return this.tagName}};V.ANIMATE=new V("animate"),V.CIRCLE=new V("circle"),V.CLIPPATH=new V("clipPath"),V.DEFS=new V("defs"),V.FECOMPOSITE=new V("feComposite"),V.FECOMPONENTTRANSFER=new V("feComponentTransfer"),V.FEFLOOD=new V("feFlood"),V.FEFUNCA=new V("feFuncA"),V.FEGAUSSIANBLUR=new V("feGaussianBlur"),V.FEPOINTLIGHT=new V("fePointLight"),V.FESPECULARLIGHTING=new V("feSpecularLighting"),V.FILTER=new V("filter"),V.FOREIGNOBJECT=new V("foreignObject"),V.G=new V("g"),V.IMAGE=new V("image"),V.LINE=new V("line"),V.PATH=new V("path"),V.PATTERN=new V("pattern"),V.POLYGON=new V("polygon"),V.RECT=new V("rect"),V.SVG=new V("svg"),V.TEXT=new V("text"),V.TSPAN=new V("tspan");var Dt=class{constructor(e,t,o,a){this.top=e,this.bottom=t,this.left=o,this.right=a}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},Yt=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}},Xp={getSizeInternal:un},ws={TEST_ONLY:Xp};ws.getBorderBox=Gn,ws.getComputedStyle=No,ws.getContainerOffsetToScrollInto=Ti,ws.getPageOffset=Nt,ws.getSize=ao,ws.getViewportPageOffset=Hn,ws.scrollIntoContainerView=Vn;var Za=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,bu=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,Yp={XY_REGEX:Za,XY_STYLE_REGEX:bu},Os={TEST_ONLY:Yp};Os.getDocumentScroll=q,Os.getInjectionDivXY=E,Os.getRelativeXY=ct,Os.getViewportBBox=O,Os.screenToWsCoordinates=se,Os.wsToScreenCoordinates=ke;var Io=class{constructor(e,t,o,a,d){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new Me(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Me(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=o||!1,this.margin=d!==void 0?d:Io.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),a&&(e+=" "+a),this.outerSvg=ce(V.SVG,{class:e}),a=ce(V.G,{},this.outerSvg),this.svgBackground=ce(V.RECT,{class:"blocklyScrollbarBackground"},a),e=Math.floor((Io.scrollbarThickness-5)/2),this.svgHandle=ce(V.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},a),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),jt(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=Ce(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=Ce(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Io.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),He(this.onMouseDownBarWrapper_),He(this.onMouseDownHandleWrapper_),at(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,b(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Io.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=Io.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Io.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Io.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var o=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*o,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=o/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=Io.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Io.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var o=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*o,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=o/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),Ne(),this.cleanUp(),Ot(e))e.stopPropagation();else{var t=Et(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var o=E(this.svgHandle);o=this.horizontal?o.x:o.y;var a=this.handlePosition,d=.95*this.handleLength;t<=o?a-=d:t>=o+this.handleLength&&(a+=d),this.setHandlePosition(this.constrainHandlePosition(a)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Ot(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=Ce(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=Ce(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){Ne(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(He(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(He(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new Me(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Io.scrollbarThickness=Kd?25:15,Io.DEFAULT_SCROLLBAR_MARGIN=.5;var Eu={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},yu={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:ec,DOMParser:xo,XMLSerializer:mr}=globalThis;xo&&(Eu=new xo),mr&&(yu=new mr);var Gi="https://developers.google.com/blockly/xml",Kg=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Fl={NAME_SPACE:Gi};Fl.createElement=n.createElement$$module$build$src$core$utils$xml,Fl.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,Fl.domToText=ut,Fl.injectDependencies=rt,Fl.textToDom=n.textToDom$$module$build$src$core$utils$xml;var Fr="categoryToolbox",Kp="flyoutToolbox",pt;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(pt||(pt={}));var Jg={hasCategoriesInternal:hg},Vi={};Vi.Position=pt,Vi.TEST_ONLY=Jg,Vi.convertFlyoutDefToJsonArray=Wn,Vi.convertToolboxDefToJson=Xr,Vi.hasCategories=zu,Vi.isCategoryCollapsible=zn,Vi.parseToolboxTree=ju;var ii;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(ii||(ii={}));var Ul;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Ul||(Ul={}));var Wi;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Wi||(Wi={}));var Hl={};Hl.bumpDirection=Wi,Hl.bumpPositionRect=yc,Hl.getCornerOppositeToolbox=Ec,Hl.getStartPositionRect=bc,Hl.horizontalPosition=Ul,Hl.verticalPosition=ii;var Qo={width:96,height:124,url:"sprites.png"},oh=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=ce(V.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[Ao.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&at(this.svgGroup);for(const e of this.boundEvents)He(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Dt(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var o=Ec(this.workspace,e),a=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT),e=bc(o,new Yt(this.WIDTH,a),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),o=o.vertical,t=yc(e,this.MARGIN_VERTICAL,o===ii.TOP?Wi.DOWN:Wi.UP,t),o===ii.TOP){var d=this.SMALL_SPACING+this.HEIGHT,m;(m=this.zoomInGroup)==null||m.setAttribute("transform","translate(0, "+d+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(d+this.LARGE_SPACING+this.HEIGHT)+")")}else{m=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let G;(G=this.zoomInGroup)==null||G.setAttribute("transform","translate(0, "+m+")"),m=m+this.SMALL_SPACING+this.HEIGHT,(d=this.zoomOutGroup)==null||d.setAttribute("transform","translate(0, "+m+")")}this.top=t.top,this.left=t.left;var C;(C=this.svgGroup)==null||C.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=ce(V.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=ce(V.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);ce(V.RECT,{width:32,height:32},t),ce(V.IMAGE,{width:Qo.width,height:Qo.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(Zt,"xlink:href",this.workspace.options.pathToMedia+Qo.url),this.boundEvents.push(Ce(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=ce(V.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=ce(V.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);ce(V.RECT,{width:32,height:32},t),ce(V.IMAGE,{width:Qo.width,height:Qo.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(Zt,"xlink:href",this.workspace.options.pathToMedia+Qo.url),this.boundEvents.push(Ce(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),Ne(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=ce(V.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=ce(V.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);ce(V.RECT,{width:32,height:32},t),ce(V.IMAGE,{width:Qo.width,height:Qo.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(Zt,"xlink:href",this.workspace.options.pathToMedia+Qo.url),this.boundEvents.push(Ce(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),Ne(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(ge(En))(null,this.workspace.id,"zoom_controls");Y(e)}};dt(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var mo=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};mo.MUTATOR=new mo("mutator"),mo.WARNING=new mo("warning"),mo.COMMENT=new mo("comment"),function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"}(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Mt=function(e,t){window.alert(e),t&&t()},zo=function(e,t){t(window.confirm(e))},Lo=function(e,t,o){o(window.prompt(e,t))},Zo={confirmInternal:fg},jo={TEST_ONLY:Zo};jo.alert=vc,jo.confirm=Eo,jo.prompt=Sc,jo.setAlert=pg,jo.setConfirm=Xu,jo.setPrompt=Ic;var As,Mo;n.Msg$$module$build$src$core$msg=Object.create(null),As=function(e){Object.keys(e).forEach(function(t){n.Msg$$module$build$src$core$msg[t]=e[t]})},Mo={Msg:n.Msg$$module$build$src$core$msg,setLocale:As};var zi=class extends Fi{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new zi),t.varId=e.varId,t}},ji=class extends zi{constructor(e){super(e),this.type=Di,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new ji),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};c(Re.EVENT,Di,ji);var xs=class{constructor(e,t,o,a){this.workspace=e,this.name=t,this.type=o||"",this.id_=a||$e()}getId(){return this.id_}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},vu="VARIABLE",Gl="ijkmnopqrstuvwxyzabcdefgh",$r={generateUniqueNameInternal:gg},Xo={CATEGORY_NAME:vu,TEST_ONLY:$r,VAR_LETTER_OPTIONS:Gl};Xo.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,Xo.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,Xo.createVariableButtonHandler=da,Xo.flyoutCategory=Ar,Xo.flyoutCategoryBlocks=rp,Xo.generateUniqueName=xr,Xo.generateUniqueNameFromOptions=Yu,Xo.generateVariableFieldDom=bi,Xo.getAddedVariables=pa,Xo.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,Xo.getVariable=n.getVariable$$module$build$src$core$variables,Xo.nameUsedWithAnyType=sl,Xo.nameUsedWithConflictingParam=ha,Xo.promptName=il,Xo.renameVariable=n.renameVariable$$module$build$src$core$variables;var _r=class{constructor(e,t,o,a,d){this.workspace=e,this.editable=this.movable=this.deletable=!0,this.disposed_=!1,this.isComment=!0,this.id=d&&!e.getCommentById(d)?d:$e(),e.addTopComment(this),this.xy_=new Me(0,0),this.height_=o,this.width_=a,this.RTL=e.RTL,this.content_=t,_r.fireCreateEvent(this)}dispose(){this.disposed_||(U()&&Y(new(ge(Cs))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(e){this.height_=e}getWidth(){return this.width_}setWidth(e){this.width_=e}getRelativeToSurfaceXY(){return new Me(this.xy_.x,this.xy_.y)}moveBy(e,t){const o=new(ge(vn))(this);this.xy_.translate(e,t),o.recordNew(),Y(o)}isDeletable(){return this.deletable&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(e){this.movable=e}isEditable(){return this.editable&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(e){this.editable=e}getContent(){return this.content_}setContent(e){this.content_!==e&&(Y(new(ge(ja))(this,this.content_,e)),this.content_=e)}toXmlWithXY(e){return e=this.toXml(e),e.setAttribute("x",String(Math.round(this.xy_.x))),e.setAttribute("y",String(Math.round(this.xy_.y))),e.setAttribute("h",String(this.height_)),e.setAttribute("w",String(this.width_)),e}toXml(e){const t=n.createElement$$module$build$src$core$utils$xml("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}static fireCreateEvent(e){if(U()){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0);try{Y(new(ge(Bi))(e))}finally{n.setGroup$$module$build$src$core$events$utils(t)}}}static fromXml(e,t){var o=_r.parseAttributes(e);return t=new _r(t,o.content,o.h,o.w,o.id),o=e.getAttribute("x"),e=e.getAttribute("y"),o=o?parseInt(o,10):NaN,e=e?parseInt(e,10):NaN,isNaN(o)||isNaN(e)||t.moveBy(o,e),_r.fireCreateEvent(t),t}static parseAttributes(e){const t=e.getAttribute("h"),o=e.getAttribute("w"),a=e.getAttribute("x"),d=e.getAttribute("y"),m=e.getAttribute("id");if(!m)throw Error("No ID present in XML comment definition.");let C;return{id:m,h:t?parseInt(t):100,w:o?parseInt(o):100,x:a?parseInt(a):NaN,y:d?parseInt(d):NaN,content:(C=e.textContent)!=null?C:""}}},kn=class extends ni{constructor(e,t,o){super(o),this.type=ri,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new kn),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};c(Re.EVENT,ri,kn);var tc={};tc.register=cs,tc.unregister=_g;var oc=class{paste(e,t,o){const a=e.commentState;if(o)a.setAttribute("x",`${o.x}`),a.setAttribute("y",`${o.y}`);else{var d;o=parseInt((d=a.getAttribute("x"))!=null?d:"0")+50;let m;d=parseInt((m=a.getAttribute("y"))!=null?m:"0")+50,a.setAttribute("x",`${o}`),a.setAttribute("y",`${d}`)}return Do.fromXmlRendered(e.commentState,t)}};oc.TYPE="workspace-comment",cs(oc.TYPE,new oc);var io=8,Vl=3,Ls=2,Do=class extends _r{constructor(e,t,o,a,d){super(e,t,o,a,d),this.onMouseMoveWrapper=this.onMouseUpWrapper=null,this.eventsInit=!1,this.deleteIconBorder=this.deleteGroup=this.resizeGroup=this.foreignObject=this.svgHandleTarget=this.svgRectTarget=this.textarea=null,this.rendered=this.autoLayout=this.focused=!1,this.svgGroup=ce(V.G,{class:"blocklyComment"}),this.workspace=e,this.svgRect_=ce(V.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:Vl,ry:Vl}),this.svgGroup.appendChild(this.svgRect_),this.render()}dispose(){this.disposed_||(X()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),U()&&Y(new(ge(Cs))(this)),at(this.svgGroup),n.disable$$module$build$src$core$events$utils(),super.dispose(),n.enable$$module$build$src$core$events$utils())}initSvg(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit||(Ce(this.svgRectTarget,"pointerdown",this,this.pathMouseDown),Ce(this.svgHandleTarget,"pointerdown",this,this.pathMouseDown)),this.eventsInit=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea&&this.textarea.select()}pathMouseDown(e){const t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(X()!==this){var e=null;if(X()){e=X().id,n.disable$$module$build$src$core$events$utils();try{X().unselect()}finally{n.enable$$module$build$src$core$events$utils()}}e=new(ge(ri))(e,this.id,this.workspace.id),Y(e),H(this),this.addSelect()}}unselect(){if(X()===this){var e=new(ge(ri))(this.id,null,this.workspace.id);Y(e),H(null),this.removeSelect(),this.blurFocus()}}addSelect(){Be(this.svgGroup,"blocklySelected"),this.setFocus()}removeSelect(){Be(this.svgGroup,"blocklySelected"),this.blurFocus()}addFocus(){Be(this.svgGroup,"blocklyFocused")}removeFocus(){ht(this.svgGroup,"blocklyFocused")}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,o=0,a=this.getSvgRoot();if(a)do{const d=ct(a);t+=d.x,o+=d.y,a=a.parentNode}while(a&&!e.hasLayer(a)&&a!==null);return this.xy_=new Me(t,o)}moveBy(e,t){const o=new(ge(vn))(this),a=this.getRelativeToSurfaceXY();this.translate(a.x+e,a.y+t),this.xy_=new Me(a.x+e,a.y+t),o.recordNew(),Y(o),this.workspace.resizeContents()}translate(e,t){this.xy_=new Me(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveDuringDrag(e){e=`translate(${e.x}, ${e.y})`,this.getSvgRoot().setAttribute("transform",e)}moveTo(e,t){this.translate(e,t)}clearTransformAttributes(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var e=this.getRelativeToSurfaceXY();const t=this.getHeightWidth(),o=e.y,a=e.y+t.height;let d;return this.RTL?(d=e.x-t.width,e=e.x):(d=e.x,e=e.x+t.width),new Dt(o,a,d,e)}updateMovable(){this.isMovable()?Be(this.svgGroup,"blocklyDraggable"):ht(this.svgGroup,"blocklyDraggable")}setMovable(e){super.setMovable(e),this.updateMovable()}setEditable(e){super.setEditable(e),this.textarea&&(this.textarea.readOnly=!e)}setDragging(e){e?Be(this.getSvgRoot(),"blocklyDragging"):ht(this.getSvgRoot(),"blocklyDragging")}getSvgRoot(){return this.svgGroup}getContent(){return this.textarea?this.textarea.value:this.content_}setContent(e){super.setContent(e),this.textarea&&(this.textarea.value=e)}setDeleteStyle(e){e?Be(this.svgGroup,"blocklyDraggingDelete"):ht(this.svgGroup,"blocklyDraggingDelete")}setAutoLayout(e){}toXmlWithXY(e){let t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);const o=this.getRelativeToSurfaceXY();return e.setAttribute("x",String(Math.round(this.workspace.RTL?t-o.x:o.x))),e.setAttribute("y",String(Math.round(o.y))),e.setAttribute("h",String(this.getHeight())),e.setAttribute("w",String(this.getWidth())),e}toCopyData(){return{paster:oc.TYPE,commentState:this.toXmlWithXY()}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered){var e=this.getHeightWidth(),t=this.createEditor();this.svgGroup.appendChild(t),this.svgHandleTarget=ce(V.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup.appendChild(this.svgHandleTarget),this.svgRectTarget=ce(V.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:Vl,ry:Vl}),this.svgGroup.appendChild(this.svgRectTarget),this.addResizeDom(),this.isDeletable()&&this.addDeleteDom(),this.setSize(e.width,e.height),this.textarea.value=this.content_,this.rendered=!0,this.resizeGroup&&Ce(this.resizeGroup,"pointerdown",this,this.resizeMouseDown),this.isDeletable()&&(Ce(this.deleteGroup,"pointerdown",this,this.deleteMouseDown),Ce(this.deleteGroup,"pointerout",this,this.deleteMouseOut),Ce(this.deleteGroup,"pointerup",this,this.deleteMouseUp))}}createEditor(){this.foreignObject=ce(V.FOREIGNOBJECT,{x:0,y:Do.TOP_OFFSET,class:"blocklyCommentForeignObject"});const e=document.createElementNS(Rr,"body");e.setAttribute("xmlns",Rr),e.className="blocklyMinimalBody";const t=document.createElementNS(Rr,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea=t,this.foreignObject.appendChild(e),Ce(t,"wheel",this,function(o){o.stopPropagation()}),Ce(t,"change",this,function(o){this.setContent(t.value)}),this.foreignObject}addResizeDom(){this.resizeGroup=ce(V.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup),ce(V.POLYGON,{points:`0,${io} ${io},${io} ${io},0`},this.resizeGroup),ce(V.LINE,{class:"blocklyResizeLine",x1:io/3,y1:io-1,x2:io-1,y2:io/3},this.resizeGroup),ce(V.LINE,{class:"blocklyResizeLine",x1:2*io/3,y1:io-1,x2:io-1,y2:2*io/3},this.resizeGroup)}addDeleteDom(){this.deleteGroup=ce(V.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup),this.deleteIconBorder=ce(V.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup),ce(V.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup),ce(V.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup)}resizeMouseDown(e){this.unbindDragEvents(),Ot(e)||(this.workspace.startDrag(e,new Me(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper=Ce(document,"pointerup",this,this.resizeMouseUp),this.onMouseMoveWrapper=Ce(document,"pointermove",this,this.resizeMouseMove),this.workspace.hideChaff()),e.stopPropagation()}deleteMouseDown(e){this.deleteIconBorder&&Be(this.deleteIconBorder,"blocklyDeleteIconHighlighted"),e.stopPropagation()}deleteMouseOut(e){this.deleteIconBorder&&ht(this.deleteIconBorder,"blocklyDeleteIconHighlighted")}deleteMouseUp(e){this.dispose(),e.stopPropagation()}unbindDragEvents(){this.onMouseUpWrapper&&(He(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onMouseMoveWrapper&&(He(this.onMouseMoveWrapper),this.onMouseMoveWrapper=null)}resizeMouseUp(e){Ne(),this.unbindDragEvents()}resizeMouseMove(e){this.autoLayout=!1,e=this.workspace.moveDrag(e),this.setSize(this.RTL?-e.x:e.x,e.y)}resizeComment(){const e=this.getHeightWidth(),t=Do.TOP_OFFSET,o=2*Ls;let a;(a=this.foreignObject)==null||a.setAttribute("width",String(e.width));let d;if((d=this.foreignObject)==null||d.setAttribute("height",String(e.height-t)),this.RTL){let m;(m=this.foreignObject)==null||m.setAttribute("x",String(-e.width))}this.textarea&&(this.textarea.style.width=e.width-o+"px",this.textarea.style.height=e.height-o-t+"px")}setSize(e,t){e=Math.max(e,45),t=Math.max(t,20+Do.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",`${e}`),this.svgRect_.setAttribute("height",`${t}`);let o;(o=this.svgRectTarget)==null||o.setAttribute("width",`${e}`);let a;(a=this.svgRectTarget)==null||a.setAttribute("height",`${t}`);let d;(d=this.svgHandleTarget)==null||d.setAttribute("width",`${e}`);let m;if((m=this.svgHandleTarget)==null||m.setAttribute("height",String(Do.TOP_OFFSET)),this.RTL){this.svgRect_.setAttribute("transform","scale(-1 1)");let C;(C=this.svgRectTarget)==null||C.setAttribute("transform","scale(-1 1)")}if(this.resizeGroup)if(this.RTL){this.resizeGroup.setAttribute("transform","translate("+(-e+io)+","+(t-io)+") scale(-1 1)");let C;(C=this.deleteGroup)==null||C.setAttribute("transform","translate("+(-e+io)+","+-io+") scale(-1 1)")}else{this.resizeGroup.setAttribute("transform","translate("+(e-io)+","+(t-io)+")");let C;(C=this.deleteGroup)==null||C.setAttribute("transform","translate("+(e-io)+","+-io+")")}this.resizeComment()}setFocus(){this.focused=!0,setTimeout(()=>{this.disposed_||(this.textarea.focus(),this.addFocus(),this.svgRectTarget&&Be(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&Be(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))},0)}blurFocus(){this.focused=!1,setTimeout(()=>{this.disposed_||(this.textarea.blur(),this.removeFocus(),this.svgRectTarget&&ht(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&ht(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))},0)}static fromXmlRendered(e,t,o){n.disable$$module$build$src$core$events$utils();let a;try{const d=_r.parseAttributes(e);if(a=new Do(t,d.content,d.h,d.w,d.id),t.rendered&&(a.initSvg(!0),a.render()),!isNaN(d.x)&&!isNaN(d.y))if(t.RTL){const m=o||t.getWidth();a.moveBy(m-d.x,d.y)}else a.moveBy(d.x,d.y)}finally{n.enable$$module$build$src$core$events$utils()}return _r.fireCreateEvent(a),a}};Do.DEFAULT_SIZE=100,Do.TOP_OFFSET=10,dt(`
.blocklyCommentForeignObject {
  position: relative;
  z-index: 0;
}

.blocklyCommentRect {
  fill: #E7DE8E;
  stroke: #bcA903;
  stroke-width: 1px;
}

.blocklyCommentTarget {
  fill: transparent;
  stroke: #bcA903;
}

.blocklyCommentTargetFocused {
  fill: none;
}

.blocklyCommentHandleTarget {
  fill: none;
}

.blocklyCommentHandleTargetFocused {
  fill: transparent;
}

.blocklyFocused>.blocklyCommentRect {
  fill: #B9B272;
  stroke: #B9B272;
}

.blocklySelected>.blocklyCommentTarget {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCommentDeleteIcon {
  cursor: pointer;
  fill: #000;
  display: none;
}

.blocklySelected > .blocklyCommentDeleteIcon {
  display: block;
}

.blocklyDeleteIconShape {
  fill: #000;
  stroke: #000;
  stroke-width: 1px;
}

.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {
  stroke: #fc3;
}
`);var Ns=new Set,Su=new WeakSet,Xi=null,rc=null,pr=0,Rn={};Rn.finishQueuedRenders=At,Rn.queueRender=Rc,Rn.triggerQueuedRenders=Yr;var vo={};vo.appendDomToWorkspace=Tg,vo.blockToDom=Jr,vo.blockToDomWithXY=Kr,vo.clearWorkspaceAndLoadFromXml=ga,vo.deleteNext=Ju,vo.domToBlock=n.domToBlock$$module$build$src$core$xml,vo.domToBlockInternal=yi,vo.domToPrettyText=lp,vo.domToText=Yn,vo.domToVariables=ma,vo.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,vo.variablesToDom=jn,vo.workspaceToDom=xc;var Yo=class extends Error{},Jp=class extends Yo{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Wl=class extends Yo{constructor(e,t,o){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=o}},rh=class extends Yo{constructor(e,t,o,a){super(`The block ${o.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=o,this.childState=a}},qg=class extends Yo{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},Yi=class extends Yo{constructor(e,t,o){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=o}},Ms={};Ms.BadConnectionCheck=rh,Ms.DeserializationError=Yo,Ms.MissingBlockType=Jp,Ms.MissingConnection=Wl,Ms.RealChildOfShadow=qg,Ms.UnregisteredIcon=Yi;var nh=100,Ds=75,ih=50,zl={BLOCKS:ih,PROCEDURES:Ds,VARIABLES:nh},sh={};sh.register=Ea,sh.unregister=Nc;var qp=class{constructor(){this.priority=ih}save(e){const t=[];for(const o of e.getTopBlocks(!1))(e=hn(o,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const o of e)Kn(o,t,{recordUndo:Ee()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Ea("blocks",new qp);var jl={};jl.BlockSerializer=qp,jl.append=Kn,jl.appendInternal=us,jl.save=hn;var si=class extends Fi{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new si),t.blockId=e.blockId,t}},Qp=class extends si{constructor(e){super(e),this.type=n.CREATE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Kr(e),this.ids=be(e),this.json=hn(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Yn(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Qp),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!C$(t,this.ids))if(e)Kn(this.json,t);else for(e=0;e<this.ids.length;e++){const o=this.ids[e],a=t.getBlockById(o);a?a.dispose(!1):o===this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}}},C$=function(e,t){return t.map(o=>e.getBlockById(o)).filter(o=>o&&o.isShadow()).length===t.length};c(Re.EVENT,n.CREATE$$module$build$src$core$events$utils,Qp);var lh=class extends ni{constructor(e,t){super(t),this.type=Is,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new lh),t.themeName=e.themeName,t}};c(Re.EVENT,Is,lh);var ah=class extends ni{constructor(e,t,o,a,d){super(a),this.type=Pi,this.viewTop=e,this.viewLeft=t,this.scale=o,this.oldScale=d}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new ah),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};c(Re.EVENT,Pi,ah);var Ki;Ki=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Ki,connectingSnapRadius:Ki,currentConnectionPreference:8,bumpDelay:250},n.config$$module$build$src$core$config;var je;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(je||(je={}));var wn=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const o=this.calculateIndexForYPos(t);if(o>=this.connections.length)return-1;t=e.y;let a=o;for(;0<=a&&this.connections[a].y===t;){if(this.connections[a]===e)return a;a--}for(a=o;a<this.connections.length&&this.connections[a].y===t;){if(this.connections[a]===e)return a;a++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,o=this.connections.length;for(;t<o;){const a=Math.floor((t+o)/2);if(this.connections[a].y<e)t=a+1;else if(this.connections[a].y>e)o=a;else{t=a;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function o(We){const $o=d-a[We].x,po=m-a[We].y;return Math.sqrt($o*$o+po*po)<=t&&ye.push(a[We]),po<t}const a=this.connections,d=e.x,m=e.y;e=0;let C=a.length-2,G=C;for(;e<G;)a[G].y<m?e=G:C=G,G=Math.floor((e+C)/2);const ye=[];if(C=e=G,a.length){for(;0<=e&&o(e);)e--;do C++;while(C<a.length&&o(C))}return ye}isInYRange(e,t,o){return Math.abs(this.connections[e].y-t)<=o}searchForClosest(e,t,o){if(!this.connections.length)return{connection:null,radius:t};const a=e.y,d=e.x;e.x=d+o.x,e.y=a+o.y;var m=this.calculateIndexForYPos(e.y);o=null;let C=t,G,ye=m-1;for(;0<=ye&&this.isInYRange(ye,e.y,t);)G=this.connections[ye],this.connectionChecker.canConnect(e,G,!0,C)&&(o=G,C=G.distanceFrom(e)),ye--;for(;m<this.connections.length&&this.isInYRange(m,e.y,t);)G=this.connections[m],this.connectionChecker.canConnect(e,G,!0,C)&&(o=G,C=G.distanceFrom(e)),m++;return e.x=d,e.y=a,{connection:o,radius:C}}static init(e){const t=[];return t[je.INPUT_VALUE]=new wn(e),t[je.OUTPUT_VALUE]=new wn(e),t[je.NEXT_STATEMENT]=new wn(e),t[je.PREVIOUS_STATEMENT]=new wn(e),t}},nc=class{paste(e,t,o){if(!t.isCapacityAvailable(e.typeCounts))return null;o&&(e.blockState.x=o.x,e.blockState.y=o.y),n.disable$$module$build$src$core$events$utils();let a;try{a=Kn(e.blockState,t),wg(a)}finally{n.enable$$module$build$src$core$events$utils()}return a&&(U()&&!a.isShadow()&&Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(a)),a.select(),a)}};nc.TYPE="block",cs(nc.TYPE,new nc);var So=null,Zp=null,ch={duplicateInternal:Ng,copyInternal:xg},Xl={};Xl.BlockPaster=nc,Xl.TEST_ONLY=ch,Xl.copy=Ag,Xl.duplicate=Lg,Xl.paste=va,Xl.registry=tc;var k$="aria-",Qg="role",Tr;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(Tr||(Tr={}));var so;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(so||(so={}));var fr={};fr.Role=Tr,fr.State=so,fr.setRole=pn,fr.setState=oo;var Iu=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&pn(t,this.roleName),this.element=t;for(let o=0,a;a=this.menuItems[o];o++)t.appendChild(a.createDom());return this.mouseOverHandler=Ce(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=Ce(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=Ce(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=Ce(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=Ce(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),Be(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),ht(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(He(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(He(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(He(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(He(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(He(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){for(let o=0,a;a=this.menuItems[o];o++)if(a.getElement()===e)return a}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),Vn(e.getElement(),t),oo(t,so.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let o;for(;o=this.menuItems[e];){if(o.isEnabled()){this.setHighlighted(o);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const o=new Me(e.clientX,e.clientY);if(1>Me.distance(t,o))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=ao(e);return t.height=e.scrollHeight,t}},ef=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=oe(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var o=document.createElement("div");o.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(o)}return o=this.content,typeof this.content=="string"&&(o=document.createTextNode(this.content)),t.appendChild(o),e.appendChild(t),this.roleName&&pn(e,this.roleName),oo(e,so.SELECTED,this.checkable&&this.checked||!1),oo(e,so.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(Be(t,"blocklyMenuItemHighlight"),Be(t,"goog-menuitem-highlight")):(ht(t,"blocklyMenuItemHighlight"),ht(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},Ur=null,Yl=null,Ji="blocklyWidgetDiv",qi="",Ps="",tn,li={};li.createDom=fp,li.getDiv=ul,li.hide=qr,li.hideIfOwner=td,li.isVisible=gp,li.positionWithAnchor=dl,li.repositionForWindowResize=od,li.show=ed,li.testOnly_setDiv=Mg;var ic=null,Zg={},Cu=null,On={};On.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,On.commentDeleteOption=pl,On.commentDuplicateOption=bp,On.dispose=hl,On.getCurrentBlock=_p,On.hide=Sa,On.setCurrentBlock=rd,On.show=Jn,On.workspaceCommentOption=Uc;var St=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let t;return(t=this.registry_.get(e))!=null?t:null}getContextMenuOptions(e,t){const o=[];for(const d of this.registry_.values())if(e===d.scopeType){var a=d.preconditionFn(t);a!=="hidden"&&(a={text:typeof d.displayText=="function"?d.displayText(t):d.displayText,enabled:a==="enabled",callback:d.callback,scope:t,weight:d.weight},o.push(a))}return o.sort(function(d,m){return d.weight-m.weight}),o}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e})(St||(St={})),St.ScopeType;var Kl={};Kl.clamp=ds,Kl.toDegrees=nd,Kl.toRadians=Ia;var ku=16,uh=1,em=12,dh=16,sc=.25,lc=null,Qi=null,Zi="",Jl="",Pt,es,ql,Ql=null,Bs=null,Ru=null,i={getBoundsInfo:function(){const e=Nt(Ql),t=ao(Ql);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,o,a){const d=i.getBoundsInfo(),m=ao(Pt);return t+m.height<d.bottom?ud(e,t,d,m):a-m.height>d.top?dd(o,a,d,m):t+m.height<document.documentElement.clientHeight?ud(e,t,d,m):a-m.height>document.documentElement.clientTop?dd(o,a,d,m):yp(e,d,m)}},l={ANIMATION_TIME:sc,ARROW_HORIZONTAL_PADDING:em,ARROW_SIZE:ku,BORDER_SIZE:uh,PADDING_Y:dh,TEST_ONLY:i};l.clearContent=ld,l.createDom=Hc,l.getContentDiv=fl,l.getOwner=sd,l.getPositionX=ml,l.hide=vi,l.hideIfOwner=Ca,l.hideWithoutAnimation=Nr,l.isVisible=vp,l.repositionForWindowResize=Vc,l.setBoundsElement=id,l.setColour=ad,l.show=cd,l.showPositionedByBlock=Ug,l.showPositionedByField=Gc;var u=null,p=null,$={};$.connectionUiEffect=Si,$.disconnectUiEffect=Wc,$.disconnectUiStop=Ii,$.disposeUiEffect=hd;var T=50,k=100,z=class{constructor(e,t){this.bubble=e,this.workspace=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY()}startBubbleDrag(){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout&&this.bubble.setAutoLayout(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(e,t){t=this.pixelsToWorkspaceUnits_(t),t=Me.sum(this.startXY_,t),this.bubble.moveDuringDrag(t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(e){return e&&this.workspace.getComponentManager().hasCapability(e.id,Ao.Capability.DELETE_AREA)?e.wouldDelete(this.bubble,!1):!1}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(e,t){if(this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=Me.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_)this.fireMoveEvent_(),this.bubble.dispose();else{if(this.bubble.setDragging){this.bubble.setDragging(!1);let o;(o=this.workspace.getLayerManager())==null||o.moveOffDragLayer(this.bubble,k)}this.fireMoveEvent_()}this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(!1)}fireMoveEvent_(){if(this.bubble instanceof Do){const e=new(ge(vn))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),Y(e)}}pixelsToWorkspaceUnits_(e){return e=new Me(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}},Z=30,Te=!0,Oe=[];Oe[je.INPUT_VALUE]=je.OUTPUT_VALUE,Oe[je.OUTPUT_VALUE]=je.INPUT_VALUE,Oe[je.NEXT_STATEMENT]=je.PREVIOUS_STATEMENT,Oe[je.PREVIOUS_STATEMENT]=je.NEXT_STATEMENT;var Le="RENAME_VARIABLE_ID",xe="DELETE_VARIABLE_ID",ze={};ze.commonWordPrefix=fd,ze.commonWordSuffix=gd,ze.isNumber=n.isNumber$$module$build$src$core$utils$string,ze.shortestStringLength=Ra,ze.startsWith=Sp,ze.wrap=n.wrap$$module$build$src$core$utils$string;var qe=void 0,Ze=!1,uo=!1,ue=50,ne=0,he=0,Fe=0,nt=0,tt=null,it=null,$t=0,Po=10,Bt=10,ts=750,hh=5,er=null,An={HOVER_MS:ts,LIMIT:ue,MARGINS:hh,OFFSET_X:$t,OFFSET_Y:Po,RADIUS_OK:Bt};An.bindMouseEvents=Wt,An.block=La,An.createDom=Td,An.dispose=Xc,An.getCustomTooltip=Hg,An.getDiv=wa,An.getTooltipOfObject=Oa,An.hide=Mr,An.isVisible=Gg,An.setCustomTooltip=$d,An.unbindMouseEvents=Aa,An.unblock=hs;var ZT=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new Me(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){X()&&X().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=Me.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},FS=5,US=6,Zl=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new Me(0,0),this.startWorkspace_=this.targetBlock=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.flyout=this.workspaceDragger=this.blockDragger=this.bubbleDragger=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new Me(0,0),this.healStack=!Te}dispose(){Ne(),hs(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.blockDragger&&this.blockDragger.dispose(),this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new Me(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(),De()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=Me.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Me.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),this.targetBlock.select(),!0):!1}updateIsDraggingBubble(){return this.startBubble?(this.startDraggingBubble(),!0):!1}updateIsDraggingBlock(){if(!this.targetBlock)return!1;if(this.flyout){if(this.updateIsDraggingFromFlyout())return this.startDraggingBlock(),!0}else if(this.targetBlock.isMovable())return this.startDraggingBlock(),!0;return!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger=new ZT(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(){if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.updateIsDraggingBubble()||this.updateIsDraggingBlock()||this.updateIsDraggingWorkspace()}startDraggingBlock(){this.blockDragger=new(R(Re.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock,this.startWorkspace_),this.blockDragger.startDrag(this.currentDragDeltaXY,this.healStack),this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY)}startDraggingBubble(){if(!this.startBubble)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger=new z(this.startBubble,this.startWorkspace_),this.bubbleDragger.startBubbleDrag(),this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,bt(e)?this.cancel():(this.gestureHasStarted=!0,Ii(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=sd(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,La(),this.targetBlock&&this.targetBlock.select(),Ot(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&Ie(e,this),this.mouseDownXY=new Me(e.clientX,e.clientY),this.healStack=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(Ce(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(Ce(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(Ce(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&De())}handleMove(e){this.isDragging()&&ot(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.blockDragger?this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY):this.bubbleDragger&&this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),De())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ot(e))return;if(this.updateFromEvent(e),De(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.bubbleDragger?this.bubbleDragger.endBubbleDrag(e,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()?this.doBubbleClick():this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=Je(e);this.cachedPoints.set(t,this.getTouchPoint(e));var o=Array.from(this.cachedPoints.keys());o.length===2&&(t=this.cachedPoints.get(o[0]),o=this.cachedPoints.get(o[1]),this.startDistance=Me.distance(t,o),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const t=Je(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):this.handleMove(e)}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),o=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),o=Me.distance(o,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=o-this.previousScale,t=0<t?t*FS:t*US,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const a=this.startWorkspace_,d=Et(e,a.getParentSvg(),a.getInverseScreenCTM());a.zoom(d.x,d.y,t)}this.previousScale=o,e.preventDefault()}handleTouchEnd(e){e=Je(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new Me(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(De(),this.bubbleDragger?this.bubbleDragger.endBubbleDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.doStart(e)}fireWorkspaceClick(e){Y(new(ge(En))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}doBubbleClick(){this.startBubble instanceof Do&&(this.startBubble.setFocus(),this.startBubble.select())}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock.isEnabled()&&(n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.flyout.createBlock(this.targetBlock).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const e=new(ge(En))(this.startBlock,this.startWorkspace_.id,"block");Y(e)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,X()&&X().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}isDragging(){return!!this.workspaceDragger||!!this.blockDragger||!!this.bubbleDragger}hasStarted(){return this.gestureHasStarted}getInsertionMarkers(){return this.blockDragger?this.blockDragger.getInsertionMarkers():[]}getCurrentDragger(){let e,t;return(t=(e=this.blockDragger)!=null?e:this.workspaceDragger)!=null?t:this.bubbleDragger}static inProgress(){const e=M();for(let t=0,o;o=e[t];t++)if(o.currentGesture_)return!0;return!1}},R$=class{constructor(e,t){this.pattern=e,this.scale=1;let o;this.spacing=(o=t.spacing)!=null?o:0;let a;this.length=(a=t.length)!=null?a:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let d;this.snapToGrid=(d=t.snap)!=null?d:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}setLength(e){this.length=e,this.update(this.scale)}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let o=t-this.length/2,a=t+this.length/2;t*=e,o*=e,a*=e,this.setLineAttributes(this.line1,e,o,a,t,t),this.setLineAttributes(this.line2,e,t,t,o,a)}setLineAttributes(e,t,o,a,d,m){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${o}`),e.setAttribute("y1",`${d}`),e.setAttribute("x2",`${a}`),e.setAttribute("y2",`${m}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}static createDom(e,t,o){e=ce(V.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},o);let a,d;if(0<((a=t.length)!=null?a:1)&&0<((d=t.spacing)!=null?d:0)){ce(V.LINE,{stroke:t.colour},e);let m;(m=t.length)!=null&&m&&ce(V.LINE,{stroke:t.colour},e)}else ce(V.LINE,{},e);return e}},tf=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t=0,o;o=e[t];t++)this.unregisterMarker(o);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};tf.LOCAL_MARKER="local_marker_1";var eb={};eb.deepMerge=Qr;var wu=class{constructor(e,t,o,a){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=o||Object.create(null),this.componentStyles=a||Object.create(null),this.fontStyle=Object.create(null),c(Re.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const o=new wu(e);let a=t.base;if(a){if(typeof a=="string"){let d;a=(d=v(Re.THEME,a))!=null?d:void 0}a instanceof wu&&(Qr(o,a),o.name=e)}return Qr(o.blockStyles,t.blockStyles),Qr(o.categoryStyles,t.categoryStyles),Qr(o.componentStyles,t.componentStyles),Qr(o.fontStyle,t.fontStyle),t.startHats!==null&&(o.startHats=t.startHats),o}},HS={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},GS={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},tm=new wu("classic",HS,GS),ai=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,o=!1;var a=!1,d=!1,m=!1,C=!1,G=!1;const ye=!!e.readOnly;if(!ye){var We;t=Xr((We=e.toolbox)!=null?We:null),o=zu(t),a=e.trashcan,a=a===void 0?o:a,d=e.collapse,d=d===void 0?o:d,m=e.comments,m=m===void 0?o:m,C=e.disable,C=C===void 0?o:C,G=e.sounds,G=G===void 0?!0:G}We=e.maxTrashcanContents,a?We===void 0&&(We=32):We=0;const $o=!!e.rtl;let po=e.horizontalLayout;po===void 0&&(po=!1);var on=e.toolboxPosition!=="end";on=po?on?pt.TOP:pt.BOTTOM:on===$o?pt.RIGHT:pt.LEFT;let vh=e.css;vh===void 0&&(vh=!0);let Sh="https://blockly-demo.appspot.com/static/media/";e.media?Sh=e.media.endsWith("/")?e.media:e.media+"/":"path"in e&&(Pe("path","Nov 2014","Jul 2023","media"),Sh=e.path+"media/");const aE=e.oneBasedIndex,II=e.renderer||"geras",CI=e.plugins||{};let __=e.modalInputs;__===void 0&&(__=!0),this.RTL=$o,this.oneBasedIndex=aE===void 0?!0:aE,this.collapse=d,this.comments=m,this.disable=C,this.readOnly=ye,this.maxBlocks=e.maxBlocks||1/0;let cE;this.maxInstances=(cE=e.maxInstances)!=null?cE:null,this.modalInputs=__,this.pathToMedia=Sh,this.hasCategories=o,this.moveOptions=ai.parseMoveOptions_(e,o),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=a,this.maxTrashcanContents=We,this.hasSounds=G,this.hasCss=vh,this.horizontalLayout=po,this.languageTree=t,this.gridOptions=ai.parseGridOptions_(e),this.zoomOptions=ai.parseZoomOptions_(e),this.toolboxPosition=on,this.theme=ai.parseThemeOptions_(e),this.renderer=II;let uE;this.rendererOverrides=(uE=e.rendererOverrides)!=null?uE:null;let dE;this.parentWorkspace=(dE=e.parentWorkspace)!=null?dE:null,this.plugins=CI}static parseMoveOptions_(e,t){const o=e.move||{},a={};return o.scrollbars===void 0&&e.scrollbars===void 0?a.scrollbars=t:typeof o.scrollbars=="object"?(a.scrollbars={horizontal:!!o.scrollbars.horizontal,vertical:!!o.scrollbars.vertical},a.scrollbars.horizontal&&a.scrollbars.vertical?a.scrollbars=!0:a.scrollbars.horizontal||a.scrollbars.vertical||(a.scrollbars=!1)):a.scrollbars=!!o.scrollbars||!!e.scrollbars,a.wheel=a.scrollbars&&o.wheel!==void 0?!!o.wheel:typeof a.scrollbars=="object",a.drag=a.scrollbars?o.drag===void 0?!0:!!o.drag:!1,a}static parseZoomOptions_(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions_(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions_(e){return e=e.theme||tm,typeof e=="string"?v(Re.THEME,e):e instanceof wu?e:wu.defineTheme(e.name||"builtin"+oe(),e)}},Ou=class extends si{constructor(e,t,o,a,d){super(e),this.type=n.CHANGE$$module$build$src$core$events$utils,e&&(this.element=t,this.name=o||void 0,this.oldValue=a,this.newValue=d)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Ou),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");var o=t.getIcon(mo.MUTATOR);switch(o&&fn(o)&&o.bubbleIsVisible()&&o.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":o=Ou.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(n.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),Y(new Ou(t,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Yn(e):""}};c(Re.EVENT,n.CHANGE$$module$build$src$core$events$utils,Ou);var w$=.45,O$=.65,tb={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},ci={};ci.blend=Ci,ci.getHsvSaturation=Na,ci.getHsvValue=Ma,ci.hexToRgb=Ed,ci.hsvToHex=yd,ci.hueToHex=Qn,ci.names=tb,ci.parse=ps,ci.rgbToHex=Da,ci.setHsvSaturation=Yc,ci.setHsvValue=Kc;var of={};of.checkMessageReferences=Pa,of.parseBlockColour=vr,of.replaceMessageReferences=Ut,of.tokenizeInterpolation=fs;var It=class{constructor(e,t,o){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Yt(0,0),e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(Ut(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=ce(V.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=ce(V.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=ce(V.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Wt(e),this.mouseDownWrapper_=Ce(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(It),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(It,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=n.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),ut(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){Ca(this),td(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||at(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(Be(e,"blocklyEditableText"),ht(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(Be(e,"blocklyNonEditableText"),ht(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==It.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let o=2*e,a=t.FIELD_TEXT_HEIGHT,d=0;this.textElement_&&(d=pe(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),o+=d),this.isFullBlockField()||(a=Math.max(a,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=a,this.size_.width=o,this.positionTextElement_(e,d),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var o=this.getConstants(),a=this.size_.height/2,d;this.textElement_.setAttribute("x",String((d=this.getSourceBlock())!=null&&d.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(o.FIELD_TEXT_BASELINE_CENTER?a:a-o.FIELD_TEXT_HEIGHT/2+o.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new Yt(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new ho;if(this.isFullBlockField()){var o=this.sourceBlock_.getHeightWidth();const a=t.workspace.scale;e=this.getAbsoluteXY_(),t=(o.width+1)*a,o=(o.height+1)*a,Zd?(e.x+=1.5*a,e.y+=1.5*a):(e.x-=.5*a,e.y-=.5*a)}else o=this.borderRect_.getBoundingClientRect(),e=Nt(this.borderRect_),t=o.width,o=o.height;return new Dt(e.y,e.y+o,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,It.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e):It.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours())}setValue(e,t=!0){if(e!==null){var o=this.doClassValidation_(e);if(e=this.processValidation_(e,o),!(e instanceof Error)){var a;o=(a=this.getValidator())==null?void 0:a.call(this,e),a=this.processValidation_(e,o),a instanceof Error||(e=this.sourceBlock_,e&&e.disposed||(o=this.getValue(),o===a?this.doValueUpdate_(a):(this.doValueUpdate_(a),t&&e&&U()&&Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(e,"field",this.name||null,o,a)),this.isDirty_&&this.forceRerender())))}}}processValidation_(e,t){return t===null?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return Oa(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return Nt(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new ho;const o=t.inputList;for(let a=0;a<t.inputList.length;a++){const d=o[a],m=d.fieldRow;for(let C=0;C<m.length;C++)if(m[C]===this){e=d;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new ho;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(tf.LOCAL_MARKER).draw()}};It.NBSP="",It.SKIP_SETUP=Symbol("SKIP_SETUP");var ho=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}};n.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=n.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let o=e;t===n.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(o=e),e=o.toLowerCase();const a=t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const d=this.db.get(t);return d.has(e)?a+d.get(e):(t=this.getDistinctName(o,t),d.set(e,t.substr(a.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let o=null,a,d;for(;this.dbReverse.has(e+((a=o)!=null?a:""))||this.reservedWords.has(e+((d=o)!=null?d:""));)o=o?o+1:2;let m;return e+=(m=o)!=null?m:"",this.dbReverse.add(e),(t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".indexOf(e[0])!==-1&&(e="my_"+e)):e=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var ob=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),vd(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(vd(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},om=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new Me(0,0),this.workspaceLocation=new Me(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=ce(V.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),Ce(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,Wt(this.svgRoot)}}dispose(){Aa(this.svgRoot),at(this.svgRoot)}getWeight(){return-1}getSize(){return new Yt(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",fn(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=Me.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}setVisible(e){Pe("setVisible","v10","v11","setBubbleVisible"),fn(this)&&this.setBubbleVisible(e)}},rb={fromJsonInternal:Ba},rm={TEST_ONLY:rb};rm.fromJson=n.fromJson$$module$build$src$core$field_registry,rm.register=Dr,rm.unregister=gs;var Fs=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==It.SKIP_SETUP&&(Array.isArray(e)?(Qc(e),e=_l(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],o&&this.configure_(o),this.setValue(this.selectedOption[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Fs,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=ce(V.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&Be(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=ce(V.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Fs.ARROW_CHAR+" ":" "+Fs.ARROW_CHAR));let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=ce(V.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(Zt,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new ho;this.dropdownCreate(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new Me(e.clientX,e.clientY):null,ld(),e=this.menu_.render(fl()),Be(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),ad(t,this.sourceBlock_.style.colourTertiary)),Gc(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),Vn(this.selectedMenuItem.getElement(),fl(),!0)),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new ho;const t=new Iu;t.setRole(Tr.LISTBOX),this.menu_=t;const o=this.getOptions(!1);this.selectedMenuItem=null;for(let d=0;d<o.length;d++){const[m,C]=o[d];if(typeof m=="object"){var a=new Image(m.width,m.height);a.src=m.src,a.alt=m.alt||""}else a=m;a=new ef(a,C),a.setRole(Tr.OPTION),a.setRightToLeft(e.RTL),a.setCheckable(!0),t.addChild(a),a.setChecked(C===this.value_),C===this.value_&&(this.selectedMenuItem=a),a.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){Ca(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),Qc(this.generatedOptions),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,o;o=e[t];t++)o[1]===this.value_&&(this.selectedOption=o)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&typeof e=="object"?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new ho;this.imageElement.style.display="",this.imageElement.setAttributeNS(Zt,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const o=Number(e.height);e=Number(e.width);var a=!!this.borderRect_;const d=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,o+WS);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let m;m=this.svgArrow?this.positionSVGArrow(e+a,d/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):pe(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+m+2*a,this.size_.height=d;let C=0;t.RTL?this.imageElement.setAttribute("x",`${a+m}`):(C=e+m,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${a}`)),this.imageElement.setAttribute("y",String(d/2-o/2)),this.positionTextElement_(C+a,e+m)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();Be(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const o=pe(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let a=0;this.svgArrow&&(a=this.positionSVGArrow(o+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=o+a+2*t,this.size_.height=e,this.positionTextElement_(t,o)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const o=this.getSourceBlock();if(!o)throw new ho;const a=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,d=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,m=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(o.RTL?a:e+d)+","+t+")"),m+d}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};Fs.CHECKMARK_OVERHANG=25,Fs.MAX_MENU_HEIGHT_VH=.45,Fs.ARROW_CHAR="";var VS=5,WS=2*VS;Dr("field_dropdown",Fs);var xn,Gt=class{constructor(e,t,o){this.workspace=e,this.anchor=t,this.ownerRect=o,this.size=new Yt(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.svgRoot=ce(V.G,{},e.getBubbleCanvas()),e=ce(V.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=ce(V.PATH,{},e),this.background=ce(V.RECT,{class:"blocklyDraggable",x:0,y:0,rx:xn.BORDER_WIDTH,ry:xn.BORDER_WIDTH},e),this.contentContainer=ce(V.G,{},this.svgRoot),Ce(this.background,"pointerdown",this,this.onMouseDown)}dispose(){at(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,xn.MIN_SIZE),e.height=Math.max(e.height,xn.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new Dt(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),o=this.getOptimalRelativeLeft(t),a=this.getOptimalRelativeTop(t);const d={x:o,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},m={x:-this.size.width-30,y:a};a={x:e.getWidth(),y:a};var C={x:o,y:e.getHeight()};o=e.getWidth()<e.getHeight()?a:C,e=e.getWidth()<e.getHeight()?C:a,a=this.getOverlap(d,t),C=this.getOverlap(m,t);const G=this.getOverlap(o,t);t=this.getOverlap(e,t),t=Math.max(a,C,G,t),a===t?(this.relativeLeft=d.x,this.relativeTop=d.y):C===t?(this.relativeLeft=m.x,this.relativeTop=m.y):G===t?(this.relativeLeft=o.x,this.relativeTop=o.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var o=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(o+this.size.width,t.left+t.width)-Math.max(o,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var o=this.anchor.x-t;o-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):o>e.right&&(t=-(e.right-this.anchor.x))}else{o=t+this.anchor.x;const a=o+this.size.width;o<e.left?t=e.left-this.anchor.x:a>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const o=this.anchor.y+t,a=o+this.size.height;return e=this.getWorkspaceViewRect(e),o<e.top?t=e.top-this.anchor.y:a>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let o=e.top+e.height,a=e.left;return e=e.left+e.width,o-=this.getScrollbarThickness(),this.workspace.RTL?a-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new Dt(t,o,a,e)}getScrollbarThickness(){return Io.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,o=this.size.height/2,a=-this.relativeLeft,d=-this.relativeTop;if(t===a&&o===d)e.push("M "+t+","+o);else{d-=o,a-=t,this.workspace.RTL&&(a*=-1);var m=Math.sqrt(d*d+a*a),C=Math.acos(a/m);0>d&&(C=2*Math.PI-C);var G=C+Math.PI/2;G>2*Math.PI&&(G-=2*Math.PI);var ye=Math.sin(G);const $o=Math.cos(G);let po=(this.size.width+this.size.height)/xn.TAIL_THICKNESS;po=Math.min(po,this.size.width,this.size.height)/4,G=1-xn.ANCHOR_RADIUS/m,a=t+G*a,d=o+G*d,G=t+po*$o;const on=o+po*ye;t-=po*$o,o-=po*ye,ye=Ia(this.workspace.RTL?-xn.TAIL_ANGLE:xn.TAIL_ANGLE),ye=C+ye,ye>2*Math.PI&&(ye-=2*Math.PI),C=Math.sin(ye)*m/xn.TAIL_BEND,m=Math.cos(ye)*m/xn.TAIL_BEND,e.push("M"+G+","+on),e.push("C"+(G+m)+","+(on+C)+" "+a+","+d+" "+a+","+d),e.push("C"+a+","+d+" "+(t+m)+","+(o+C)+" "+t+","+o)}e.push("z");let We;(We=this.tail)==null||We.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(t==null?void 0:t.lastChild)!==this.svgRoot?(t==null||t.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Me(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}};xn=Gt,Gt.BORDER_WIDTH=6,Gt.DOUBLE_BORDER=2*xn.BORDER_WIDTH,Gt.MIN_SIZE=xn.DOUBLE_BORDER,Gt.TAIL_THICKNESS=1,Gt.TAIL_ANGLE=20,Gt.TAIL_BEND=4,Gt.ANCHOR_RADIUS=8;var ea=class extends Gt{constructor(e,t,o,a){super(t,o,a),this.workspace=t,this.anchor=o,this.ownerRect=a,this.autoLayout=!0,t=new ai(e),this.validateWorkspaceOptions(t),this.svgDialog=ce(V.SVG,{x:Gt.BORDER_WIDTH,y:Gt.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new ai(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(V.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(t.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let d,m;(d=this.miniWorkspace.getFlyout())==null||(m=d.getWorkspace())==null||m.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(20>t.y&&e.moveBy(0,20-t.y),e.RTL){let o=-20;const a=this.miniWorkspace.getFlyout();a&&(o-=a.getWidth()),t.x>o&&e.moveBy(o-t.x,0)}else 20>t.x&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<ea.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<ea.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new Yt(t.width+Gt.DOUBLE_BORDER,t.height+Gt.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+ea.MARGIN;e=e.height+ea.MARGIN;const o=this.miniWorkspace.getFlyout();if(o){const a=o.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,a.height+20),t+=o.getWidth()}return new Yt(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const o of e.getAllBlocks(!1))o.setStyle(o.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ea.MINIMUM_VIEW_CHANGE=10,ea.MARGIN=3*Gt.DOUBLE_BORDER;var nm,im;nm=17,im=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends om{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),ce(V.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),ce(V.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),ce(V.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),Be(this.svgRoot,"blockly-icon-mutator"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Yt(nm,nm)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary);let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){if(this.bubbleIsVisible()!==e){if(e){this.miniWorkspaceBubble=new ea(this.getMiniWorkspaceConfig(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour(),this.createRootBlock(),this.addSaveConnectionsListener();let t;(t=this.miniWorkspaceBubble)==null||t.addWorkspaceChangeListener(this.createMiniWorkspaceChangeListener())}else{let t;(t=this.miniWorkspaceBubble)==null||t.dispose(),this.miniWorkspaceBubble=null,this.saveConnectionsListener&&this.sourceBlock.workspace.removeChangeListener(this.saveConnectionsListener),this.saveConnectionsListener=null}Y(new(ge(yn))(this.sourceBlock,e,"mutator"))}}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(o=>({kind:"block",type:o}))}),t}getAnchorLocation(){const e=nm/2;return Me.sum(this.workspaceLocation,new Me(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Dt(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,o,a,d;e=(d=(t=this.miniWorkspaceBubble)==null||(o=t.getWorkspace())==null||(a=o.getFlyout())==null?void 0:a.getWidth())!=null?d:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+im):im,im)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||e.type===n.CREATE$$module$build$src$core$events$utils||e.type===n.CHANGE$$module$build$src$core$events$utils&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=Ou.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var o=Ou.getExtraBlockState_(this.sourceBlock);t!==o&&Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,t,o)),n.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}static reconnect(e,t,o){return Pe("MutatorIcon.reconnect","v10","v11","connection.reconnect"),e?e.reconnect(t,o):!1}static findParentWs(e){return Pe("MutatorIcon.findParentWs","v10","v11","workspace.getRootWorkspace"),e.getRootWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=mo.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var ph=Object.create(null),zS={allExtensions:ph};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",eu);var os={TEST_ONLY:zS};os.apply=qt,os.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,os.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,os.isRegistered=ei,os.register=n.register$$module$build$src$core$extensions,os.registerMixin=n.registerMixin$$module$build$src$core$extensions,os.registerMutator=n.registerMutator$$module$build$src$core$extensions,os.runAfterPageLoad=Rp,os.unregister=Tl;var yt;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(yt||(yt={}));var ta={};ta.arc=no,ta.curve=ko,ta.line=Fa,ta.lineOnAxis=Ve,ta.lineTo=gn,ta.moveBy=Qt,ta.moveTo=Ro,ta.point=et;var wo={};wo.Coordinate=Me,wo.KeyCodes=yt,wo.Rect=Dt,wo.Size=Yt,wo.Svg=V,wo.aria=fr,wo.array=Wp,wo.browserEvents=Ui,wo.colour=ci,wo.deprecation=jp,wo.dom=Wo,wo.extensions=os,wo.idGenerator=jd,wo.math=Kl,wo.object=eb,wo.parsing=of,wo.string=ze,wo.style=ws,wo.svgMath=Os,wo.svgPaths=ta,wo.toolbox=Vi,wo.userAgent=Yg,wo.xml=Fl;var A$={};A$.register=$s,A$.unregister=tu;var x$=class extends Gt{constructor(e,t,o,a){super(t,o,a),this.text=e,this.workspace=t,this.anchor=o,this.ownerRect=a,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,at(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createSpans(t,e),this.workspace.RTL&&this.rightAlignSpans(t.getBBox().width,e),t}createParagraph(e){return ce(V.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Gt.BORDER_WIDTH},e)}createSpans(e,t){return t.split(`
`).map(o=>{const a=ce(V.TSPAN,{dy:"1em",x:Gt.BORDER_WIDTH},e);return o=document.createTextNode(o),a.appendChild(o),a})}rightAlignSpans(e,t){for(const o of t)o.setAttribute("text-anchor","end"),o.setAttribute("x",`${e+Gt.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Yt(e.width+2*Gt.BORDER_WIDTH,e.height+2*Gt.BORDER_WIDTH),!0)}},nb=class extends Gt{constructor(e,t,o){super(e,t,o),this.workspace=e,this.anchor=t,this.ownerRect=o,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new Yt(160+Gt.DOUBLE_BORDER,80+Gt.DOUBLE_BORDER),this.MIN_SIZE=new Yt(45+Gt.DOUBLE_BORDER,20+Gt.DOUBLE_BORDER),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=ce(V.FOREIGNOBJECT,{x:Gt.BORDER_WIDTH,y:Gt.BORDER_WIDTH},e);const t=document.createElementNS(Rr,"body");t.setAttribute("xmlns",Rr),t.className="blocklyMinimalBody";const o=document.createElementNS(Rr,"textarea");return o.className="blocklyCommentTextarea",o.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(o),e.appendChild(t),this.bindTextAreaEvents(o),setTimeout(()=>{o.focus()},0),{inputRoot:e,textArea:o}}bindTextAreaEvents(e){Ce(e,"wheel",this,t=>{t.stopPropagation()}),Ce(e,"focus",this,this.onStartEdit,!0),Ce(e,"change",this,this.onTextChange)}createResizeHandle(e){e=ce(V.G,{class:this.workspace.RTL?"blocklyResizeSW":"blocklyResizeSE"},e);const t=2*Gt.BORDER_WIDTH;return ce(V.POLYGON,{points:`0,${t} ${t},${t} ${t},0`},e),ce(V.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},e),ce(V.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},e),Ce(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const o=e.width-Gt.DOUBLE_BORDER,a=e.height-Gt.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${o}`),this.inputRoot.setAttribute("height",`${a}`),this.textArea.style.width=`${o-4}px`,this.textArea.style.height=`${a-4}px`,this.workspace.RTL?this.resizeGroup.setAttribute("transform",`translate(${Gt.DOUBLE_BORDER}, ${a}) scale(-1 1)`):this.resizeGroup.setAttribute("transform",`translate(${o}, ${a})`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),Ot(e)||(this.workspace.startDrag(e,new Me(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=Ce(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=Ce(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){Ne(),this.resizePointerUpListener&&(He(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(He(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new Yt(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};dt(`
.blocklyCommentTextarea {
  background-color: #fef49c;
  border: 0;
  display: block;
  margin: 0;
  outline: 0;
  padding: 3px;
  resize: none;
  text-overflow: hidden;
}
`);var L$=17,ib=160,sb=80,Hr=class extends om{constructor(e){super(e),this.sourceBlock=e,this.textBubble=this.textInputBubble=null,this.text="",this.bubbleSize=new Yt(ib,sb),this.bubbleVisiblity=!1}getType(){return Hr.TYPE}initView(e){this.svgRoot||(super.initView(e),ce(V.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),ce(V.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),ce(V.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),Be(this.svgRoot,"blockly-icon-comment"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose();let t;(t=this.textBubble)==null||t.dispose()}getWeight(){return Hr.WEIGHT}getSize(){return new Yt(L$,L$)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let t;(t=this.textInputBubble)==null||t.setColour(e);let o;(o=this.textBubble)==null||o.setColour(e)}updateEditable(){super.updateEditable(),this.bubbleIsVisible()&&(this.setBubbleVisible(!1),this.setBubbleVisible(!0))}onLocationChange(e){super.onLocationChange(e),e=this.getAnchorLocation();let t;(t=this.textInputBubble)==null||t.setAnchorLocation(e);let o;(o=this.textBubble)==null||o.setAnchorLocation(e)}setText(e){const t=this.text;Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,t,e)),this.text=e;let o;(o=this.textInputBubble)==null||o.setText(this.text);let a;(a=this.textBubble)==null||a.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let o,a;this.bubbleSize=new Yt((o=e.width)!=null?o:ib,(a=e.height)!=null?a:sb);let d;this.bubbleVisiblity=(d=e.pinned)!=null?d:!1,setTimeout(()=>this.setBubbleVisible(this.bubbleVisiblity),1)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){(!e||!this.textBubble&&!this.textInputBubble)&&(e||this.textBubble||this.textInputBubble)&&(this.bubbleVisiblity=e,this.sourceBlock.rendered&&!this.sourceBlock.isInFlyout&&(e?(this.sourceBlock.isEditable()?this.showEditableBubble():this.showNonEditableBubble(),this.applyColour()):this.hideBubble(),Y(new(ge(yn))(this.sourceBlock,e,"comment"))))}showEditableBubble(){this.textInputBubble=new nb(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.textBubble=new x$(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null;let t;(t=this.textBubble)==null||t.dispose(),this.textBubble=null}getAnchorLocation(){const e=L$/2;return Me.sum(this.workspaceLocation,new Me(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Dt(e.y,e.y+e.height,e.x,e.x+e.width)}};Hr.TYPE=mo.COMMENT,Hr.WEIGHT=3,$s(Hr.TYPE,Hr);var N$=17,rs=class extends om{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return rs.TYPE}initView(e){this.svgRoot||(super.initView(e),ce(V.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),ce(V.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),ce(V.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),Be(this.svgRoot,"blockly-icon-warning"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return rs.WEIGHT}getSize(){return new Yt(N$,N$)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let o;return(o=this.textBubble)==null||o.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){if(this.bubbleIsVisible()!==e){if(e)this.textBubble=new x$(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour();else{let t;(t=this.textBubble)==null||t.dispose(),this.textBubble=null}Y(new(ge(yn))(this.sourceBlock,e,"warning"))}}getAnchorLocation(){const e=N$/2;return Me.sum(this.workspaceLocation,new Me(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Dt(e.y,e.y+e.height,e.x,e.x+e.width)}};rs.TYPE=mo.WARNING,rs.WEIGHT=2;var lb=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},ab={};ab.DuplicateIconType=lb;var ac={};ac.CommentIcon=Hr,ac.Icon=om,ac.IconType=mo,ac.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,ac.WarningIcon=rs,ac.exceptions=ab,ac.registry=A$;var sm,Gr;sm="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",Gr={CATEGORY_NAME:sm,DEFAULT_ARG:n.DEFAULT_ARG$$module$build$src$core$procedures},Gr.ObservableProcedureMap=ob,Gr.allProcedures=bl,Gr.findLegalName=n.findLegalName$$module$build$src$core$procedures,Gr.flyoutCategory=Zr,Gr.getCallers=ou,Gr.getDefinition=n.getDefinition$$module$build$src$core$procedures,Gr.isNameUsed=Ri,Gr.isProcedureBlock=Zn,Gr.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,Gr.mutatorOpenListener=wi,Gr.rename=n.rename$$module$build$src$core$procedures;var jS=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},ee=new jS,Us=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=ee.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},rf=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=ee.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(ee.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(ee.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(ee.isSpacer(t))return t}return null}},M$=class extends rf{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=ee.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,o=0;for(let a=0;a<this.elements.length;a++){const d=this.elements[a];t+=d.width,ee.isSpacer(d)||(ee.isNextConnection(d)?o=Math.max(o,d.height):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+o,this.descenderHeight=o,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},oa=class extends Us{constructor(e,t){super(e),this.connectionModel=t,this.type|=ee.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},cc=class extends oa{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=ee.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},lm=class extends cc{constructor(e,t){super(e,t),this.height=0,this.type|=ee.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},fh=class extends Us{constructor(e,t,o){super(e),this.field=t,this.parentInput=o,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=ee.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},D$=class extends Us{constructor(e){super(e),this.type|=ee.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},cb=class extends Us{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.isVisible=fn(t)&&t.bubbleIsVisible(),this.type|=ee.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},Ln=class extends Us{constructor(e,t){super(e),this.type=this.type|ee.SPACER|ee.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},P$=class extends cc{constructor(e,t){super(e,t),this.type|=ee.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},nf=class extends cc{constructor(e,t){super(e,t),this.type|=ee.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},B$=class extends rf{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=ee.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const o=this.elements[t];this.width+=o.width,ee.isInput(o)&&o instanceof cc&&(ee.isStatementInput(o)&&o instanceof nf?e+=o.connectedBlockWidth:ee.isExternalInput(o)&&o instanceof lm&&o.connectedBlockWidth!==0&&(e+=o.connectedBlockWidth-o.connectionWidth)),ee.isSpacer(o)||(this.height=Math.max(this.height,o.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},ub=class extends Us{constructor(e){super(e),this.type|=ee.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},db=class extends oa{constructor(e,t){super(e,t),this.type|=ee.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},hb=class extends oa{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=ee.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},pb=class extends oa{constructor(e,t){super(e,t),this.type|=ee.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},sf=class extends Us{constructor(e,t){super(e),this.type=(t&&t!=="left"?ee.RIGHT_ROUND_CORNER:ee.LEFT_ROUND_CORNER)|ee.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},F$=class extends rf{constructor(e,t,o){super(e),this.height=t,this.width=o,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|ee.SPACER|ee.BETWEEN_ROW_SPACER,this.elements=[new Ln(this.constants_,o)]}measure(){}},lf=class extends Us{constructor(e,t){super(e),this.type=(t&&t!=="left"?ee.RIGHT_SQUARE_CORNER:ee.LEFT_SQUARE_CORNER)|ee.CORNER,this.width=this.height=this.constants_.NO_PADDING}},U$=class extends rf{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=ee.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,o=e.getPreviousBlock();return!!e.outputConnection||t||(o?o.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,o=0;for(let a=0;a<this.elements.length;a++){const d=this.elements[a];t+=d.width,ee.isSpacer(d)||(ee.isHat(d)&&d instanceof D$?o=Math.max(o,d.ascenderHeight):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+o,this.capline=this.ascenderHeight=o,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},af=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=Qt(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const o in t)this.blockStyles[o]=this.validatedBlockStyle_(t[o]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=_t("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.indexOf("auto_")===0?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=vr(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?vr(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?vr(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return Ci("#fff",e,.6)||e}generateTertiaryColour_(e){return Ci("#fff",e,.3)||e}dispose(){this.embossFilter&&at(this.embossFilter),this.disabledPattern&&at(this.disabledPattern),this.debugFilter&&at(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,o=Fa([et(t,e/4),et(2*-t,e/2),et(t,e/4)]);return{height:e,width:t,path:o}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,o=ko("c",[et(30,-e),et(70,-e),et(t,0)]);return{height:e,width:t,path:o}}makePuzzleTab(){function e(m){m=m?-1:1;const C=-m;var G=o/2;const ye=G+2.5,We=G+.5,$o=et(-t,m*G);return G=et(t,m*G),ko("c",[et(0,m*ye),et(-t,C*We),$o])+ko("s",[et(t,2.5*C),G])}const t=this.TAB_WIDTH,o=this.TAB_HEIGHT,a=e(!0),d=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:o,pathDown:d,pathUp:a}}makeNotch(){function e(C){return Fa([et(C*a,o),et(3*C,0),et(C*a,-o)])}const t=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,a=(t-3)/2,d=e(1),m=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:o,pathLeft:d,pathRight:m}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=no("a","0 0,0",e,et(-e,e)),o=no("a","0 0,0",e,et(e,e));return{width:e,height:e,pathTop:t,pathBottom:o}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=Qt(0,e)+no("a","0 0,1",e,et(e,-e)),o=no("a","0 0,1",e,et(e,e)),a=no("a","0 0,1",e,et(-e,-e)),d=no("a","0 0,1",e,et(-e,e));return{topLeft:t,topRight:o,bottomRight:d,bottomLeft:a,rightHeight:e}}shapeFor(e){switch(e.type){case je.INPUT_VALUE:case je.OUTPUT_VALUE:return this.PUZZLE_TAB;case je.PREVIOUS_STATEMENT:case je.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,o){this.injectCSS_(t,o),this.defs=ce(V.DEFS,{},e),e=ce(V.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),ce(V.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=ce(V.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),ce(V.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),ce(V.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),ce(V.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=ce(V.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),ce(V.RECT,{width:10,height:10,fill:"#aaa"},e),ce(V.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=ce(V.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=ce(V.FECOMPONENTTRANSFER,{result:"outBlur"},e);ce(V.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),ce(V.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),ce(V.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const o=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=o:(t=document.createElement("style"),t.id=e,e=document.createTextNode(o),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},cf=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}hideHiddenIcons_(){Pe("hideHiddenIcons_","v10","v11")}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=Qt(e.xPos,this.info_.startY);for(let o=0,a;a=t[o];o++)ee.isLeftRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:ee.isRightRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:ee.isPreviousConnection(a)&&a instanceof oa?this.outlinePath_+=a.shape.pathLeft:ee.isHat(a)?this.outlinePath_+=this.constants_.START_HAT.path:ee.isSpacer(a)&&(this.outlinePath_+=Ve("h",a.width));this.outlinePath_+=Ve("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Ve("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const o=dr(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=Ve("H",t.xPos+t.width)+o+Ve("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var o=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+Ve("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var a=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Ve("H",o)+t+Ve("v",a)+this.constants_.INSIDE_CORNERS.pathBottom+Ve("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=Ve("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let o=0,a="";for(let d=t.length-1,m;m=t[d];d--)ee.isNextConnection(m)&&m instanceof oa?a+=m.shape.pathRight:ee.isLeftSquareCorner(m)?a+=Ve("H",e.xPos):ee.isLeftRoundedCorner(m)?a+=this.constants_.OUTSIDE_CORNERS.bottomLeft:ee.isRightRoundedCorner(m)?(a+=this.constants_.OUTSIDE_CORNERS.bottomRight,o=this.constants_.OUTSIDE_CORNERS.rightHeight):ee.isSpacer(m)&&(a+=Ve("h",-1*m.width));this.outlinePath_+=Ve("V",e.baseline-o),this.outlinePath_+=a}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=dr(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=Ve("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let o=0,a;a=t.elements[o];o++)ee.isInlineInput(a)?this.drawInlineInput_(a):(ee.isIcon(a)||ee.isField(a))&&this.layoutField_(a)}layoutField_(e){const t=e.centerline-e.height/2;let o=e.xPos;var a="";this.info_.RTL&&(o=-(o+e.width),e.flipRtl&&(o+=e.width,a="scale(-1 1)")),ee.isIcon(e)?(a=e.icon,a.setOffsetInBlock(new Me(o,t)),this.info_.isInsertionMarker&&a.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+o+","+t+")"+a),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,o=e.height,a=e.connectionOffsetY,d=e.connectionHeight+a;this.inlinePath_+=Ro(e.xPos+e.connectionWidth,e.centerline-o/2)+Ve("v",a)+e.shape.pathDown+Ve("v",o-d)+Ve("h",t-e.connectionWidth)+Ve("v",-o)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let o=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let o=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let o=e.xPos+e.width;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,o=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-o:o,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements)if(t instanceof oa)if(t.highlighted)this.drawConnectionHighlightPath(t);else{let o,a;(a=(o=this.block_.pathObject).removeConnectionHighlight)==null||a.call(o,t.connectionModel)}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===je.INPUT_VALUE||t.type===je.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const o=t.getSourceBlock();let a,d;(d=(a=o.pathObject).addConnectionHighlight)==null||d.call(a,t,e,t.getOffsetInBlock(),o.RTL)}getExpressionConnectionHighlightPath(e){let t="";return dr(e.shape)?t=e.shape.pathDown(e.height):Ir(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,Qt(0,-e)+Ve("v",e)+t+Ve("v",e)}getStatementConnectionHighlightPath(e){if(!go(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return Qt(-t,0)+Ve("h",t)+e.shape.pathLeft+Ve("h",t)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Au=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==It.SKIP_SETUP&&(o?this.configure_(o):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&Be(this.getTextElement(),this.class)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&ht(this.textElement_,this.class),e&&Be(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Ut(e.text),void 0,e)}};Dr("field_label",Au),Au.prototype.DEFAULT_VALUE="";var Hs=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$input.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,o){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&o)&&(typeof t=="string"&&(t=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=o,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours())),e}removeField(e,t){for(let o=0,a;a=this.fieldRow[o];o++)if(a.name===e)return a.dispose(),this.fieldRow.splice(o,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let a=0,d;d=this.fieldRow[a];a++)d.setVisible(e);if(this.connection){var o=this.connection;e?t=o.startTrackingAll():o.stopTrackingAll(),(o=o.targetBlock())&&(o.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},fb;(function(e){e=e.Align||(e.Align={}),e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Hs||(Hs={})),n.Align$$module$build$src$core$inputs$input=Hs.Align,fb={Align:n.Align$$module$build$src$core$inputs$input},fb.Input=Hs;var Gs=class extends Hs{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},ra=class extends Hs{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},Nn=class extends Hs{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(je.NEXT_STATEMENT)}},gb;n.ValueInput$$module$build$src$core$inputs$value_input=class extends Hs{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(je.INPUT_VALUE)}},gb={},gb.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var gh=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new hb(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new U$(this.constants_),this.bottomRow=new M$(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new B$(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let o=0,a;a=t[o];o++){const d=new cb(this.constants_,a);this.isCollapsed&&!a.isShownWhenCollapsed()||e.elements.push(d)}t=void 0;for(let o=0,a;a=this.block_.inputList[o];o++)if(a.isVisible()){this.shouldStartNewRow_(a,t)&&(this.rows.push(e),e=new B$(this.constants_),this.inputRows.push(e));for(let d=0,m;m=a.fieldRow[d];d++)e.elements.push(new fh(this.constants_,m,a));this.addInput_(a,e),t=a}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new ub(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let o=this.topRow.hasLeftSquareCorner(this.block_)?lf:sf;this.topRow.elements.push(new o(this.constants_)),t?(e=new D$(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new pb(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof Nn&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,o=this.topRow.hasRightSquareCorner(this.block_)?lf:sf,this.topRow.elements.push(new o(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof Nn?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new lf(this.constants_)):this.bottomRow.elements.push(new sf(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new db(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new lf(this.constants_,"right")):this.bottomRow.elements.push(new sf(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new P$(this.constants_,e)),t.hasInlineInput=!0):e instanceof Nn?(t.elements.push(new nf(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new lm(this.constants_,e)),t.hasExternalInput=!0):(e instanceof Gs||e instanceof ra)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof ra||e instanceof Nn||t instanceof Nn?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Gs||t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const o=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new Ln(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(let a=0;a<o.length-1;a++){t.elements.push(o[a]);const d=this.getInRowSpacing_(o[a],o[a+1]);t.elements.push(new Ln(this.constants_,d))}t.elements.push(o[o.length-1]),t.endsWithElemSpacer()&&t.elements.push(new Ln(this.constants_,this.getInRowSpacing_(o[o.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&ee.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&ee.isInput(e)&&!t){if(ee.isExternalInput(e))return this.constants_.NO_PADDING;if(ee.isInlineInput(e))return this.constants_.LARGE_PADDING;if(ee.isStatementInput(e))return this.constants_.NO_PADDING}return e&&ee.isLeftSquareCorner(e)&&t&&(ee.isPreviousConnection(t)||ee.isNextConnection(t))?t.notchOffset:e&&ee.isLeftRoundedCorner(e)&&t&&(ee.isPreviousConnection(t)||ee.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,o=0;for(let d=0,m;m=this.rows[d];d++){if(m.measure(),t=Math.max(t,m.width),m.hasStatement){var a=m.getLastInput();let C,G;a=m.width-((G=(C=a)==null?void 0:C.width)!=null?G:0),e=Math.max(e,a)}o=Math.max(o,m.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let d=0,m;m=this.rows[d];d++)m.hasStatement&&(m.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,o),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,o;o=this.rows[t];t++)if(o.hasStatement)this.alignStatementRow_(o);else{var e=o.width;e=this.getDesiredRowWidth_(o)-e,0<e&&this.addAlignmentPadding_(o,e),ee.isTopOrBottomRow(o)&&(o.widthWithConnectedBlocks=o.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const o=e.getFirstSpacer(),a=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===n.Align$$module$build$src$core$inputs$align.LEFT&&a)a.width+=t;else if(e.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&o&&a)o.width+=t/2,a.width+=t/2;else if(e.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&o)o.width+=t;else if(a)a.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var o=e.width-t.width,a=this.statementEdge;o=a-o,0<o&&this.addAlignmentPadding_(e,o),o=e.width,a=this.getDesiredRowWidth_(e),t.width+=a-o,t.height=Math.max(t.height,e.height),e.width+=a-o,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var o=this.getSpacerRowHeight_(e,t);const a=this.getSpacerRowWidth_(e,t);return o=new F$(this.constants_,o,a),e.hasStatement&&(o.followsStatement=!0),t.hasStatement&&(o.precedesStatement=!0),o}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return ee.isSpacer(t)?e.yPos+t.height/2:ee.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,ee.isNextConnection(t)?e+t.height/2:e-t.height/2):ee.isTopRow(e)?ee.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let o=0,a;a=e.elements[o];o++)ee.isSpacer(a)&&(a.height=e.height),a.xPos=t,a.centerline=this.getElemCenterline_(e,a),t+=a.width}finalize_(){let e=0,t=0;for(let o=0,a;a=this.rows[o];o++)a.yPos=t,a.xPos=this.startX,t+=a.height,e=Math.max(e,a.widthWithConnectedBlocks),this.recordElemPositions_(a);if(this.outputConnection&&this.block_.nextConnection){const o=this.block_.nextConnection.targetBlock();o&&(e=Math.max(e,o.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const o of this.rows)for(const a of o.elements)if(a instanceof oa&&a.connectionModel===e)return a;return null}},we=class{constructor(e,t,o){if(this.wsCoordinate=null,!t)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=we.isConnectionType(e),this.location=t,this.processParams(o||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const o=t.inputList[e],a=o.fieldRow;for(let d=0;d<a.length;d++){const m=a[d];if(m.isClickable()||we.NAVIGATE_ALL_FIELDS)return we.createFieldNode(m)}if(o.connection)return we.createInputNode(o)}return null}findNextForField(){var e=this.location,t=e.getParentInput();const o=e.getSourceBlock();if(!o)throw Error("The current AST location is not associated with a block");var a=o.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;a<o.inputList.length;a++){t=o.inputList[a];const d=t.fieldRow;for(;e<d.length;){if(d[e].isClickable()||we.NAVIGATE_ALL_FIELDS)return we.createFieldNode(d[e]);e++}if(e=0,t.connection)return we.createInputNode(t)}return null}findPrevForInput(){const e=this.location.getParentInput(),t=e.getSourceBlock();for(var o=t.inputList.indexOf(e);0<=o;o--){var a=t.inputList[o];if(a.connection&&a!==e)return we.createInputNode(a);a=a.fieldRow;for(let d=a.length-1;0<=d;d--){const m=a[d];if(m.isClickable()||we.NAVIGATE_ALL_FIELDS)return we.createFieldNode(m)}}return null}findPrevForField(){var e=this.location;const t=e.getParentInput(),o=e.getSourceBlock();if(!o)throw Error("The current AST location is not associated with a block");var a=o.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=a;a--){var d=o.inputList[a];if(d.connection&&d!==t)return we.createInputNode(d);for(d=d.fieldRow;-1<e;){if(d[e].isClickable()||we.NAVIGATE_ALL_FIELDS)return we.createFieldNode(d[e]);e--}0<=a-1&&(e=o.inputList[a-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var t=this.getLocation();if(t.getSourceBlock){var o=t.getSourceBlock();o&&(t=o)}if(!t||t.isDeadOrDying())return null;o=t.getRootBlock(),t=o.workspace.getTopBlocks(!0);for(let a=0;a<t.length;a++)if(o.id===t[a].id)return e=a+(e?1:-1),e===-1||e===t.length?null:we.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}findTopASTNodeForBlock(e){const t=gr(e);return t?we.createConnectionNode(t):we.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const t=gr(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?we.createInputNode(t.targetConnection.getParentInput()):we.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let t=0;t<e.length;t++){const o=e[t],a=o.fieldRow;for(let d=0;d<a.length;d++){const m=a[d];if(m.isClickable()||we.NAVIGATE_ALL_FIELDS)return we.createFieldNode(m)}if(o.connection)return we.createInputNode(o)}return null}getSourceBlock(){return this.getType()===we.types.BLOCK?this.getLocation():this.getType()===we.types.STACK?this.getLocation():this.getType()===we.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case we.types.STACK:return this.navigateBetweenStacks(!0);case we.types.OUTPUT:return we.createBlockNode(this.location.getSourceBlock());case we.types.FIELD:return this.findNextForField();case we.types.INPUT:return this.findNextForInput();case we.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return we.createConnectionNode(e);case we.types.PREVIOUS:return we.createBlockNode(this.location.getSourceBlock());case we.types.NEXT:return we.createConnectionNode(this.location.targetConnection)}return null}in(){switch(this.type){case we.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return we.createStackNode(e[0]);break;case we.types.STACK:return this.findTopASTNodeForBlock(this.location);case we.types.BLOCK:return this.findFirstFieldOrInput(this.location);case we.types.INPUT:return we.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case we.types.STACK:return this.navigateBetweenStacks(!1);case we.types.FIELD:return this.findPrevForField();case we.types.INPUT:return this.findPrevForInput();case we.types.BLOCK:var e=gr(this.location);if(!e)break;return we.createConnectionNode(e);case we.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return we.createConnectionNode(e);break;case we.types.NEXT:return we.createBlockNode(this.location.getSourceBlock())}return null}out(){switch(this.type){case we.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new Me(t.x,t.y+we.DEFAULT_OFFSET_Y),we.createWorkspaceNode(e.workspace,t);case we.types.OUTPUT:return e=this.location,(t=e.targetConnection)?we.createConnectionNode(t):we.createStackNode(e.getSourceBlock());case we.types.FIELD:if(e=this.location.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return we.createBlockNode(e);case we.types.INPUT:return we.createBlockNode(this.location.getSourceBlock());case we.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case we.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case we.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case we.types.PREVIOUS:case we.types.NEXT:case we.types.INPUT:case we.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new we(we.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===je.INPUT_VALUE||t===je.NEXT_STATEMENT&&e.getParentInput()?we.createInputNode(e.getParentInput()):t===je.NEXT_STATEMENT?new we(we.types.NEXT,e):t===je.OUTPUT_VALUE?new we(we.types.OUTPUT,e):t===je.PREVIOUS_STATEMENT?new we(we.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new we(we.types.INPUT,e.connection):null}static createBlockNode(e){return e?new we(we.types.BLOCK,e):null}static createStackNode(e){return e?new we(we.types.STACK,e):null}static createWorkspaceNode(e,t){return t&&e?new we(we.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=gr(e);return t?we.createConnectionNode(t):we.createBlockNode(e)}};we.NAVIGATE_ALL_FIELDS=!1,we.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(we||(we={}));var H$=class extends ni{constructor(e,t,o,a){let d=e?e.workspace.id:void 0;a&&a.getType()===we.types.WORKSPACE&&(d=a.getLocation().id),super(d),this.type=Ll,this.blockId=e==null?void 0:e.id,this.oldNode=o||void 0,this.newNode=a,this.isCursor=t}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new H$),t.isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};c(Re.EVENT,Ll,H$);var XS="blocklyCursor",YS="blocklyMarker",KS=.75,G$=class{constructor(e,t,o){this.workspace=e,this.marker=o,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=o.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?XS:YS;return this.svgGroup_=ce(V.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var o=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||o,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===we.types.BLOCK?this.showWithBlock_(e):e.getType()===we.types.OUTPUT?this.showWithOutput_(e):t===je.INPUT_VALUE?this.showWithInput_(e):t===je.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===we.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===we.types.FIELD?this.showWithField_(e):e.getType()===we.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===we.types.STACK&&this.showWithStack_(e)}showWithBlockPrevOutput(e){e=e.getSourceBlock();const t=e.width;var o=e.height,a=o*KS;const d=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(o=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,d,a,o)):e.outputConnection?(a=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,o,a)):this.positionBlock_(t,d,a),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const t=e.getSize().width,o=e.getSize().height;this.positionRect_(0,0,t,o),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let o=0;t=t.getOffsetInBlock().y;const a=e.getHeightWidth().width;this.workspace.RTL&&(o=-a),this.positionLine_(o,t,a),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var t=e.getHeightWidth();const o=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const a=-this.constants_.CURSOR_STACK_PADDING/2,d=-this.constants_.CURSOR_STACK_PADDING/2;let m=a;this.workspace.RTL&&(m=-(o+a)),this.positionRect_(m,d,o,t),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,o){if(e=Qt(-t,o)+Ve("V",-t)+Ve("H",e+2*t)+Ve("V",o),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,o=e.getOffsetInBlock().y;e=Ro(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+o+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,o){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${o}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,o){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=Qt(e,0)+Ve("h",-(e-o.width))+Ve("v",this.constants_.TAB_OFFSET_FROM_TOP)+o.pathDown+Ve("V",t)+Ve("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,o,a){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=Qt(-t,o)+Ve("V",-t)+Ve("H",this.constants_.NOTCH_OFFSET_LEFT)+a.pathLeft+Ve("H",e+2*t)+Ve("V",o),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,o,a){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${o}`),this.markerSvgRect_.setAttribute("height",`${a}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,t){const o=t.getSourceBlock();e=new(ge(Ll))(o,this.isCursor(),e,t),Y(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=ce(V.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=ce(V.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=ce(V.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=ce(V.PATH,{transform:""},this.markerSvg_),this.markerBlock_=ce(V.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();ce(V.ANIMATE,e,this.markerSvgLine_),ce(V.ANIMATE,e,this.markerInput_),ce(V.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&at(this.svgGroup_)}},am=class{constructor(e,t,o){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=o,this.style=t,this.svgRoot=e,this.svgPath=ce(V.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?Be(this.svgRoot,e):ht(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,o,a){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,o))return;this.removeConnectionHighlight(e)}t=ce(V.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${o.x}, ${o.y})`+(a?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}currentHighlightMatchesNew(e,t,o){let a;const d=(a=this.connectionHighlights.get(e))==null?void 0:a.getAttribute("d");return e=this.highlightOffsets.get(e),d===t&&Me.equals(e,o)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(at(t),this.connectionHighlights.delete(e))}},Ft=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const t=je.INPUT_VALUE,o=this.getSourceBlock();var a=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let d;if(this.isConnected()){const C=this.stashShadowState(),G=this.targetBlock();G.isShadow()?G.dispose(!1):(this.disconnectInternal(),d=G),this.applyShadowState(C)}let m;U()&&(m=new(ge(n.MOVE$$module$build$src$core$events$utils))(a),m.setReason(["connect"])),Ap(this,e),a.setParent(o),m&&(m.recordNew(),Y(m)),d&&(e=this.type===t?d.outputConnection:d.previousConnection)&&((a=Ft.getConnectionForOrphanedConnection(a,e))?e.connect(a):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===je.INPUT_VALUE||this.type===je.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:o}=this.getParentAndChildConnections();if(!t||!o)throw Error("Source connection not connected.");const a=n.getGroup$$module$build$src$core$events$utils();a||n.setGroup$$module$build$src$core$events$utils(!0);let d;U()&&(d=new(ge(n.MOVE$$module$build$src$core$events$utils))(o.getSourceBlock()),d.setReason(["disconnect"]));const m=this.targetConnection;m&&(m.targetConnection=null),this.targetConnection=null,e&&o.getSourceBlock().setParent(null),d&&(d.recordNew(),Y(d)),o.getSourceBlock().isShadow()||t.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(a)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var o;return t=(o=e.getInput(t))==null?void 0:o.connection,o=this.targetBlock(),o&&o!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Jr(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?hn(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let o=0;o<t.length;o++)if(t[o].connection===this){e=t[o];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let o=0,a;a=e.inputList[o];o++)if(a.connection===this){t=a;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))}createShadowBlock(e){var t=this.getSourceBlock();const o=this.getShadowState(),a=this.getShadowDom();if(t.isDeadOrDying()||!o&&!a)return null;if(o)return t=us(o,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(a){if(t=yi(a,t.workspace),e)if(this.type===je.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===je.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Jr(e),this.shadowState=hn(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===je.OUTPUT_VALUE)return Id(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const o=t.getConnectionChecker();return e&&o.canConnect(t,e,!1)?e:null}};Ft.CAN_CONNECT=0,Ft.REASON_SELF_CONNECTION=1,Ft.REASON_WRONG_TYPE=2,Ft.REASON_TARGET_NULL=3,Ft.REASON_CHECKS_FAILED=4,Ft.REASON_DIFFERENT_WORKSPACES=5,Ft.REASON_SHADOW_PARENT=6,Ft.REASON_DRAG_CHECKS_FAILED=7,Ft.REASON_PREVIOUS_AND_OUTPUT=8;var xu="_TEMP_COLLAPSED_INPUT",cm="_TEMP_COLLAPSED_FIELD",JS={COLLAPSED_FIELD_NAME:cm,COLLAPSED_INPUT_NAME:xu},mb="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",ui=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,H(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){n.disable$$module$build$src$core$events$utils(),this.hidePreview(),n.enable$$module$build$src$core$events$utils();var{local:e,closest:t}=this.activeCandidate;if(e.connect(t),this.topBlock.rendered){const o=e.isSuperior()?t:e,a=this.topBlock.getRootBlock();At().then(()=>{Si(o.getSourceBlock()),setTimeout(()=>{a.bringToFront()},0)})}}}update(e,t){const o=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!o,t))||this.shouldUpdatePreviews(o,e))&&(n.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(o),this.maybeShowPreview(o),n.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){var t=e.type;n.disable$$module$build$src$core$events$utils();let o;try{if(o=this.workspace.newBlock(t),o.setInsertionMarker(!0),e.saveExtraState){var a=e.saveExtraState(!0);a&&o.loadExtraState&&o.loadExtraState(a)}else if(e.mutationToDom){const d=e.mutationToDom();d&&o.domToMutation&&o.domToMutation(d)}for(t=0;t<e.inputList.length;t++){const d=e.inputList[t];if(d.name===xu)continue;const m=o.inputList[t];if(!m)throw Error(mb.replace("%1","an input"));for(a=0;a<d.fieldRow.length;a++){const C=d.fieldRow[a],G=m.fieldRow[a];if(!G)throw Error(mb.replace("%1","a field"));G.setValue(C.getValue())}}for(const d of o.getDescendants(!1))d.setInsertionMarker(!0);o.setCollapsed(e.isCollapsed()),o.setInputsInline(e.getInputsInline()),o.initSvg(),o.getSvgRoot().setAttribute("visibility","hidden")}finally{n.enable$$module$build$src$core$events$utils()}return o}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:o,closest:a}=this.activeCandidate;if(a===e.closest&&o===e.local)return!1;const d=o.x+t.x-a.x;return t=o.y+t.y-a.y,e.radius<Math.sqrt(d*d+t*t)-n.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),o=null;for(let a=0;a<this.availableConnections.length;a++){const d=this.availableConnections[a],m=d.closest(t,e);m.connection&&(o={closest:m.connection,local:d,radius:m.radius},t=m.radius)}return o}getStartRadius(){return this.activeCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return t&&this.workspace.getComponentManager().hasCapability(t.id,Ao.Capability.DELETE_AREA)?t.wouldDelete(this.topBlock,e):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t=e.closest,o;t===((o=this.activeCandidate)==null?void 0:o.closest)||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case ui.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case ui.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case ui.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=(e=this.activeCandidate)==null?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:o}=e;let a=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!a)throw Error("Cannot show the insertion marker because there is no insertion marker block");let d;try{d=a.getMatchingConnection(t.getSourceBlock(),t)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),a=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),a=this.firstMarker=this.createMarkerBlock(this.topBlock)),!a)throw Error("Cannot show the insertion marker because there is no insertion marker block");d=a.getMatchingConnection(t.getSourceBlock(),t)}if(!d)throw Error("Cannot show the insertion marker because there is no associated connection");if(d===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");a.queueRender(),Yr(),d.connect(o);const m={x:o.x-d.x,y:o.y-d.y},C=d.getOffsetInBlock().clone(),G=d;At().then(()=>{let ye;(ye=a)==null||ye.positionNearConnection(G,m,C);let We;(We=a)==null||We.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=d}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),o=t.outputConnection,a;if((a=t.previousConnection)!=null&&a.targetConnection||o!=null&&o.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){n.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{n.enable$$module$build$src$core$events$utils()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(ui||(ui={})),ui.PREVIEW_TYPE;var uf=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const o=this.getConstants();o.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=o.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new af}makeRenderInfo_(e){return new gh(this,e)}makeDrawer_(e,t){return new cf(e,t)}makeMarkerDrawer(e,t){return new G$(e,this.getConstants(),t)}makePathObject(e,t){return new am(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,o){return!!Ft.getConnectionForOrphanedConnection(e,o===je.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,o){return Pe("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===je.OUTPUT_VALUE||t.type===je.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(o,e.targetBlock(),t.type)?ui.PREVIEW_TYPE.INSERTION_MARKER:ui.PREVIEW_TYPE.REPLACEMENT_FADE:ui.PREVIEW_TYPE.INSERTION_MARKER}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},zt={};zt.BottomRow=M$,zt.Connection=oa,zt.ConstantProvider=af,zt.Drawer=cf,zt.ExternalValueInput=lm,zt.Field=fh,zt.Hat=D$,zt.Icon=cb,zt.InRowSpacer=Ln,zt.InlineInput=P$,zt.InputConnection=cc,zt.InputRow=B$,zt.JaggedEdge=ub,zt.MarkerSvg=G$,zt.Measurable=Us,zt.NextConnection=db,zt.OutputConnection=hb,zt.PathObject=am,zt.PreviousConnection=pb,zt.RenderInfo=gh,zt.Renderer=uf,zt.RoundCorner=sf,zt.Row=rf,zt.SpacerRow=F$,zt.SquareCorner=lf,zt.StatementInput=nf,zt.TopRow=U$,zt.Types=ee,zt.init=Ua,zt.register=_s,zt.unregister=Lp;var $b=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&ht(e,t),(t=this.theme.getClassName())&&Be(e,t));for(let o=0,a;a=this.subscribedWorkspaces_[o];o++)a.refreshTheme();for(const[o,a]of this.componentDB)for(const d of a){e=d.element,t=d.propertyName;const m=this.theme&&this.theme.getComponentStyle(o);e.style.setProperty(t,m||"")}for(const o of this.subscribedWorkspaces_)o.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!mt(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,o){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:o}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(o,t||"")}unsubscribe(e){if(e)for(const[t,o]of this.componentDB){for(let a=o.length-1;0<=a;a--)o[a].element===e&&o.splice(a,1);o.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},V$="VARIABLE_DYNAMIC",Lu={CATEGORY_NAME:V$};Lu.flyoutCategory=kd,Lu.flyoutCategoryBlocks=Br,Lu.onCreateVariableButtonClick_Colour=ru,Lu.onCreateVariableButtonClick_Number=Ts,Lu.onCreateVariableButtonClick_String=Cd;var _b=class{canConnect(e,t,o,a){return this.canConnectWithReason(e,t,o,a)===Ft.CAN_CONNECT}canConnectWithReason(e,t,o,a){const d=this.doSafetyChecks(e,t);return d!==Ft.CAN_CONNECT?d:this.doTypeChecks(e,t)?o&&!this.doDragChecks(e,t,a||0)?Ft.REASON_DRAG_CHECKS_FAILED:Ft.CAN_CONNECT:Ft.REASON_CHECKS_FAILED}getErrorMessage(e,t,o){switch(e){case Ft.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Ft.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Ft.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Ft.REASON_TARGET_NULL:return"Target connection is null.";case Ft.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+o.getCheck());case Ft.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Ft.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Ft.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return Ft.REASON_TARGET_NULL;let o,a,d;return e.isSuperior()?(o=e.getSourceBlock(),a=t.getSourceBlock(),d=t):(a=e.getSourceBlock(),o=t.getSourceBlock(),d=e,e=t),o===a?Ft.REASON_SELF_CONNECTION:d.type!==Oe[e.type]?Ft.REASON_WRONG_TYPE:o.workspace!==a.workspace?Ft.REASON_DIFFERENT_WORKSPACES:o.isShadow()&&!a.isShadow()?Ft.REASON_SHADOW_PARENT:d.type===je.OUTPUT_VALUE&&a.previousConnection&&a.previousConnection.isConnected()||d.type===je.PREVIOUS_STATEMENT&&a.outputConnection&&a.outputConnection.isConnected()?Ft.REASON_PREVIOUS_AND_OUTPUT:Ft.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let o=0;o<e.length;o++)if(t.indexOf(e[o])!==-1)return!0;return!1}doDragChecks(e,t,o){if(e.distanceFrom(t)>o||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case je.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case je.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case je.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case je.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return sr.indexOf(t)===-1}canConnectToPrevious_(e,t){return e.targetConnection||sr.indexOf(t)!==-1?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};c(Re.CONNECTION_CHECKER,kr,_b);var W$=class extends zi{constructor(e){super(e),this.type=bn,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new W$),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};c(Re.EVENT,bn,W$);var z$=class extends zi{constructor(e,t){super(e),this.type=Al,e&&(this.oldName=e.name,this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new z$),t.oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};c(Re.EVENT,Al,z$);var j$=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var o=this.getVariable(t,e.type),a=this.workspace.getAllBlocks(!1),d=n.getGroup$$module$build$src$core$events$utils();d||n.setGroup$$module$build$src$core$events$utils(!0);try{o&&o.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,o,a):this.renameVariableAndUses_(e,t,a)}finally{n.setGroup$$module$build$src$core$events$utils(d)}}}renameVariableById(e,t){const o=this.getVariableById(e);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(o,t)}renameVariableAndUses_(e,t,o){for(Y(new(ge(Al))(e,t)),e.name=t,t=0;t<o.length;t++)o[t].updateVarName(e)}renameVariableWithConflict_(e,t,o,a){const d=e.type;for(t!==o.name&&this.renameVariableAndUses_(o,t,a),t=0;t<a.length;t++)a[t].renameVarById(e.getId(),o.getId());Y(new(ge(bn))(e)),mt(this.variableMap.get(d),e)}createVariable(e,t,o){var a=this.getVariable(e,t);if(a){if(o&&a.getId()!==o)throw Error('Variable "'+e+'" is already in use and its id is "'+a.getId()+'" which conflicts with the passed in id, "'+o+'".');return a}if(o&&this.getVariableById(o))throw Error('Variable id, "'+o+'", is already in use.');return a=o||$e(),t=t||"",a=new xs(this.workspace,e,t,a),e=this.variableMap.get(t)||[],e.push(a),this.variableMap.delete(t),this.variableMap.set(t,e),Y(new(ge(Di))(a)),a}deleteVariable(e){const t=e.getId(),o=this.variableMap.get(e.type);if(o){for(let a=0;a<o.length;a++)if(o[a].getId()===t){o.splice(a,1),Y(new(ge(bn))(e)),o.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var o=t.name;const a=this.getVariableUsesById(e);for(let d=0,m;m=a[d];d++)if(m.type==="procedures_defnoreturn"||m.type==="procedures_defreturn"){e=String(m.getFieldValue("NAME")),o=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",e),vc(o);return}1<a.length?(o=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(a.length)).replace("%2",o),Eo(o,d=>{d&&t&&this.deleteVariableInternal(t,a)})):this.deleteVariableInternal(t,a)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const o=n.getGroup$$module$build$src$core$events$utils();o||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let a=0;a<t.length;a++)t[a].dispose(!0);this.deleteVariable(e)}finally{n.setGroup$$module$build$src$core$events$utils(o)}}getVariable(e,t){if(t=this.variableMap.get(t||"")){for(let o=0,a;a=t[o];o++)if(n.Names$$module$build$src$core$names.equals(a.name,e))return a}return null}getVariableById(e){for(const t of this.variableMap.values())for(const o of t)if(o.getId()===e)return o;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const o of e.getPotentialVariableMap().variableMap.keys())t.add(o);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const t=[],o=this.workspace.getAllBlocks(!1);for(let a=0;a<o.length;a++){const d=o[a].getVarModels();if(d)for(let m=0;m<d.length;m++)d[m].getId()===e&&t.push(o[a])}return t}},df=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new ob,this.potentialVariableMap=null,this.id=$e(),x(this),this.options=e||new ai({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(R(Re.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new j$(this)}dispose(){this.listeners.length=0,this.clear(),A(this)}sortObjects_(e,t){const o=Math.sin(Ia(df.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+o*e.x-(t.y+o*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!mt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){mt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter(function(o){return!o.isInsertionMarker()})):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!mt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let o=0;o<t.length;o++)e.push(...t[o].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(function(o){return!o.isInsertionMarker()})}clear(){this.isClearing=!0;try{const e=n.getGroup$$module$build$src$core$events$utils();for(e||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,o){return this.variableMap.createVariable(e,t,o)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const o in e){if(e[o]>this.remainingCapacityOfType(o))return!1;t+=e[o]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,o=e?this.undoStack_:this.redoStack_;const a=t.pop();if(a){for(var d=[a];t.length&&a.group&&a.group===t[t.length-1].group;){const m=t.pop();m&&d.push(m)}for(t=0;t<d.length;t++)o.push(d[t]);d=me(d,e),fe(!1);try{for(o=0;o<d.length;o++)d[o].run(e)}finally{fe(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,de()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){mt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let o=0;o<t.length;o++)if(!t[o].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new j$(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return N(e)}static getAll(){return M()}};df.SCAN_ANGLE=3;var qS=100,Tb=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var o=new globalThis.Audio}catch{return}for(let d=0;d<e.length;d++){const m=e[d],C=m.match(/\.(\w+)$/);if(C&&o.canPlayType("audio/"+C[1])){var a=new globalThis.Audio(m);break}}a&&this.sounds.set(t,a)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),Bl||Vp)break}}play(e,t){if(!this.muted){var o=this.sounds.get(e);o?(e=new Date,this.lastSound_!==null&&e.getTime()-this.lastSound_.getTime()<qS||(this.lastSound_=e,o=Bl||Ka?o:o.cloneNode(),o.volume=t===void 0?1:t,o.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},QS=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e)),e=this.createLayer(T),Be(e,"blocklyBlockCanvas"),e=this.createLayer(k),Be(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=ce(V.SVG,{class:"blocklyBlockDragSurface",xmlns:qa,"xmlns:html":Rr,"xmlns:xlink":Zt,version:"1.1"});return e.append(t),ce(V.G,{},t)}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let o;(o=this.dragLayer)==null||o.setAttribute("transform",e);for(const[,a]of this.layers)a.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot())}moveOffDragLayer(e,t){this.append(e,t)}append(e,t){this.layers.has(t)||this.createLayer(t);let o;(o=this.layers.get(t))==null||o.appendChild(e.getSvgRoot())}createLayer(e){const t=this.workspace.getSvgGroup(),o=ce(V.G,{});let a=!1;const d=[...this.layers].sort((m,C)=>m[0]-C[0]);for(const[m,C]of d)if(e<m){t.insertBefore(o,C),a=!0;break}return a||t.appendChild(o),this.layers.set(e,o),o}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(T)}getBubbleLayer(){return this.layers.get(k)}},ZS=20,ns=class extends df{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(R(Re.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||ns.setTopLevelWorkspaceMetrics_,this.componentManager=new Ao,this.connectionDBList=wn.init(this.connectionChecker),this.audioManager=new Tb(e.parentWorkspace),this.grid=this.options.gridPattern?new R$(this.options.gridPattern,e.gridOptions):null,this.markerManager=new tf(this),Xo&&Ar&&this.registerToolboxCategoryCallback(vu,Ar),Lu&&kd&&this.registerToolboxCategoryCallback(V$,kd),Gr&&Zr&&(this.registerToolboxCategoryCallback(sm,Zr),this.addChangeListener(wi)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new $b(this,this.options.theme||tm),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Ua(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new Yt(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=tm),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(t){return!!t.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(ge(Is))(this.getTheme().name,this.id);Y(e)}updateBlockStyles_(e){for(let t=0,o;o=e[t];t++){const a=o.getStyleName();a&&o.setStyle(a)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let t=0,o=0,a=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(a=this.scale);do{const d=ct(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(a=1),t+=d.x*a,o+=d.y*a,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Me(t,o)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Yt(e.width,e.height)}getOriginOffsetInPixels(){return E(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=ce(V.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=ce(V.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new QS(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(Ce(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),Ce(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(R(Re.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=R(Re.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&at(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&at(e.parentNode)}this.resizeHandlerWrapper&&(He(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=ns.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new oh(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new ai({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(R(Re.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(R(Re.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(Ao.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),o=[];for(let a=0,d;d=e[a];a++){d.position(t,o);const m=d.getBoundingRectangle();m&&o.push(m)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=q();Me.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const o=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,o.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,o.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(U()){var e=this.scale,t=-this.scrollY,o=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(o-this.oldLeft))){var a=new(ge(Pi))(t,o,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=o,Y(a)}}}translate(e,t){let o;(o=this.layerManager)==null||o.translateLayers(new Me(e,t),this.scale);let a;(a=this.grid)==null||a.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.isVisible_=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e||this.hideChaff(!0))}render(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].queueRender();if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].queueRender();At().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,t){if(t===void 0){for(let o=0,a;a=this.highlightedBlocks[o];o++)a.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.indexOf(e)===-1&&this.highlightedBlocks.push(e):mt(this.highlightedBlocks,e),e.setHighlighted(t))}paste(e){if(Pe("Blockly.WorkspaceSvg.prototype.paste","v10","v11","Blockly.clipboard.paste"),!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0);let o;try{o=e.type?this.pasteBlock_(null,e):e.tagName.toLowerCase()==="comment"?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null)}finally{n.setGroup$$module$build$src$core$events$utils(t)}return o}pasteBlock_(e,t){n.disable$$module$build$src$core$events$utils();let o;try{let a=0,d=0;if(e){o=yi(e,this);let m;a=parseInt((m=e.getAttribute("x"))!=null?m:"0"),this.RTL&&(a=-a);let C;d=parseInt((C=e.getAttribute("y"))!=null?C:"0")}else t&&(o=Kn(t,this),a=t.x||10,this.RTL&&(a=this.getWidth()-a),d=t.y||10);if(!isNaN(a)&&!isNaN(d)){let m;do{m=!1;const C=this.getAllBlocks(!1);for(let G=0,ye;ye=C[G];G++){const We=ye.getRelativeToSurfaceXY();if(1>=Math.abs(a-We.x)&&1>=Math.abs(d-We.y)){m=!0;break}}if(!m){const G=o.getConnections_(!1);for(let ye=0,We;We=G[ye];ye++)if(We.closest(n.config$$module$build$src$core$config.snapRadius,new Me(a,d)).connection){m=!0;break}}m&&(a=this.RTL?a-n.config$$module$build$src$core$config.snapRadius:a+n.config$$module$build$src$core$config.snapRadius,d+=2*n.config$$module$build$src$core$config.snapRadius)}while(m);o.moveTo(new Me(a,d))}}finally{n.enable$$module$build$src$core$events$utils()}return U()&&!o.isShadow()&&Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(o)),o.select(),o}pasteWorkspaceComment_(e){n.disable$$module$build$src$core$events$utils();let t;try{t=Do.fromXmlRendered(e,this);let o,a=parseInt((o=e.getAttribute("x"))!=null?o:"0"),d,m=parseInt((d=e.getAttribute("y"))!=null?d:"0");isNaN(a)||isNaN(m)||(this.RTL&&(a=-a),t.moveBy(a+50,m+50))}finally{n.enable$$module$build$src$core$events$utils()}return U()&&_r.fireCreateEvent(t),t.select(),t}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,o){return e=super.createVariable(e,t,o),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(Ao.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,o;o=e[t];t++){const a=o.getClientRect();a&&this.dragTargetAreas.push({component:o,clientRect:a})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,o;o=this.dragTargetAreas[t];t++)if(o.clientRect.contains(e.clientX,e.clientY))return o.component;return null}onMouseDown_(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){e=Et(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY=Me.difference(t,e)}moveDrag(e){return e=Et(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,Me.sum(this.dragDeltaXY,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(Zl.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||o){var a=ft(e);if($u)var d=e.metaKey;t&&(e.ctrlKey||d||!o)?(a=-a.y/50,t=Et(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,a)):(t=this.scrollX-a.x,o=this.scrollY-a.y,e.shiftKey&&!a.x&&(t=this.scrollX-a.y,o=this.scrollY),this.scroll(t,o)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new Dt(0,0,0,0);const t=e[0].getBoundingRectangle();for(let a=1;a<e.length;a++){var o=e[a];o.isInsertionMarker&&o.isInsertionMarker()||(o=o.getBoundingRectangle(),o.top<t.top&&(t.top=o.top),o.bottom>t.bottom&&(t.bottom=o.bottom),o.left<t.left&&(t.left=o.left),o.right>t.right&&(t.right=o.right))}return t}cleanUp(){this.setResizesEnabled(!1),n.setGroup$$module$build$src$core$events$utils(!0);const e=this.getTopBlocks(!0);let t=0;for(let o=0,a;a=e[o];o++){if(!a.isMovable())continue;const d=a.getRelativeToSurfaceXY();a.moveBy(-d.x,t-d.y,["cleanup"]),a.snapToGrid(),t=a.getRelativeToSurfaceXY().y+a.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}n.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=St.registry.getContextMenuOptions(St.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),Jn(e,t,this.RTL)}}updateToolbox(e){if(e=Xr(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(zu(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(W(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,o){o=Math.pow(this.options.zoomOptions.scaleSpeed,o);const a=this.scale*o;if(this.scale!==a){a>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale/this.scale:a<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale/this.scale);var d=this.getCanvas().getCTM(),m=this.getParentSvg().createSVGPoint();m.x=e,m.y=t,m=m.matrixTransform(d.inverse()),e=m.x,t=m.y,d=d.translate(e*(1-o),t*(1-o)).scale(o),this.scrollX=d.e,this.scrollY=d.f,this.setScale(a)}}zoomCenter(e){var t=this.getMetrics();let o;this.flyout?(o=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(o=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(o,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var o=this.getBlocksBoundingBox(),a=2*ZS,d=o.right-o.left+a;if(o=o.bottom-o.top+a,d){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),o+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),d+=this.flyout.getWidth()/this.scale)),t/=d,e/=o,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){Be(this.getCanvas(),"blocklyCanvasTransitioning"),Be(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){ht(this.getCanvas(),"blocklyCanvasTransitioning"),ht(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,o=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,o=-o-e.scrollTop,this.scroll(t,o)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var o=e?this.getBlockById(e):null;if(o){e=o.getRelativeToSurfaceXY(),o=t?{height:o.height,width:o.width}:o.getHeightWidth();var a=this.scale;t=(e.x+(this.RTL?-1:1)*o.width/2)*a,e=(e.y+o.height/2)*a,o=this.getMetrics(),this.scroll(-(t-o.viewWidth/2),-(e-o.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const o=this.getMetrics();e=Math.min(e,-o.scrollLeft),t=Math.min(t,-o.scrollTop);const a=o.scrollTop+Math.max(0,o.scrollHeight-o.viewHeight);e=Math.max(e,-(o.scrollLeft+Math.max(0,o.scrollWidth-o.viewWidth))),t=Math.max(t,-a),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+o.scrollLeft),-(t+o.scrollTop),!1),e+=o.absoluteLeft,t+=o.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){mt(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t=e.type==="pointerdown",o=this.currentGesture_;return o?t&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:t?this.currentGesture_=new Zl(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Mr(),qr(),Nr(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(Ao.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics_(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},X$=class extends ni{constructor(e,t){super(t),this.type=Nl,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new X$),t.isOpen=e.isOpen,t}};c(Re.EVENT,Nl,X$);var Y$=class extends si{constructor(e){if(super(e),this.type=n.DELETE$$module$build$src$core$events$utils,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Kr(e),this.ids=be(e),this.wasShadow=e.isShadow(),this.oldJson=hn(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Yn(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Y$),t.oldXml=n.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const o=this.ids[e],a=t.getBlockById(o);a?a.dispose(!1):o===this.blockId&&console.warn("Can't delete non-existent block: "+o)}else Kn(this.oldJson,t)}};c(Re.EVENT,n.DELETE$$module$build$src$core$events$utils,Y$);var mh=class{constructor(e,t,o){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.isInsertionMarker_=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=e,this.id=o&&!e.getBlockById(o)?o:$e(),e.setBlockById(this.id,this),this.xy_=new Me(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,o=Xt[t],!o||typeof o!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,o)}e.addTopBlock(this),e.addTypedBlock(this),new.target===mh&&this.doInit_()}doInit_(){const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);const t=Ee();try{typeof this.init=="function"&&(fe(!1),this.init(),fe(t)),U()&&Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(this))}finally{n.setGroup$$module$build$src$core$events$utils(e),fe(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),U()&&Y(new(ge(n.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal())}disposeInternal(){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0)}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(const e of this.inputList)for(const t of e.fieldRow)t.initModel&&t.initModel()}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let t=null,o;(o=this.outputConnection)!=null&&o.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e==null||e.onFailedConnect(t))}getOnlyValueConnection_(){let e=null;for(let t=0;t<this.inputList.length;t++){const o=this.inputList[t].connection;if(o&&o.type===je.INPUT_VALUE&&o.targetConnection){if(e)return null;e=o}}return e}unplugFromStack_(e){let t=null;var o;if((o=this.previousConnection)!=null&&o.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),o=this.getNextBlock(),e&&o&&!o.isShadow()){let a,d;e=(d=(a=this.nextConnection)==null?void 0:a.targetConnection)!=null?d:null,e==null||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,o;o=this.inputList[t];t++)o.connection&&e.push(o.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const o=t.targetBlock();if(!o||e&&o.isShadow())return t;t=o.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,o;o=this.inputList[t];t++)if(o.connection&&o.connection.targetBlock()===e)return o;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let o=0,a;a=this.inputList[o];o++)if(a.connection){var t=a.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),o=!!t;if(o&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!o&&e)throw Error("Block not connected to new parent.");if(o&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?mt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],o=this.getChildren(e);for(let a,d=0;a=o[d];d++)t.push(...a.getDescendants(e));return t}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(e){this.movable_=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(Q(this,!0)):!0}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(e){this.editable_=e;for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,t){const o=this.getConnections_(!0);if(e=e.getConnections_(!0),o.length!==e.length)throw Error("Connection lists did not match in length.");for(let a=0;a<e.length;a++)if(e[a]===t)return o[a];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return Oa(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=vr(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)if(d.name===e)return d;return null}getVars(){const e=[];for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.referencesVariables()&&e.push(d.getValue());return e}getVarModels(){const e=[];for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)if(d.referencesVariables()){const m=this.workspace.getVariableById(d.getValue());m&&e.push(m)}return e}updateVarName(e){for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.referencesVariables()&&e.getId()===d.getValue()&&d.refreshVariableName()}renameVarById(e,t){for(let o=0,a;a=this.inputList[o];o++)for(let d=0,m;m=a.fieldRow[d];d++)m.referencesVariables()&&e===m.getValue()&&m.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const o=this.getField(t);if(!o)throw Error('Field "'+t+'" not found.');o.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(je.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(je.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(je.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Gs&&this.inputList[e]instanceof Gs)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof Gs)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof ra)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(e){if(this.isEnabled()!==e){const t=this.disabled;this.disabled=!e,Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,t,!e))}}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let a=2;a<t.length;a++)t[a-2]==="("&&t[a]===")"&&(t[a-2]=t[a-1],t.splice(a-1,2));let o="";return t=t.reduce((a,d)=>(a=a+(o==="("||d===")"?"":" ")+d,o=d[d.length-1],a),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const a of this.inputList)if(a.name!=xu){for(const d of a.fieldRow)t.push(d.getText());if(a.connection){const d=a.connection.targetBlock();if(d){var o=a.connection;let m=o.getCheck();!m&&o.targetConnection&&(m=o.targetConnection.getCheck()),(o=!!m&&(m.indexOf("Boolean")!==-1||m.indexOf("Number")!==-1))&&t.push("("),t.push(...d.toTokens(e)),o&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new Nn(e,this))}appendDummyInput(e=""){return this.appendInput(new Gs(e,this))}appendEndRowInput(e=""){return this.appendInput(new ra(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=y(Re.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var o=0;e["args"+o];){if(e["message"+o]===void 0)throw Error(t+`args${o} must have a corresponding message (message${o}).`);o++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t),o=0;e["message"+o]!==void 0;)this.interpolate_(e["message"+o],e["args"+o]||[],e["implicitAlign"+o]||e["lastDummyAlign"+o],t),o++;if(e.inputsInline!==void 0&&(n.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),n.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(o=Ut(e.tooltip),this.setTooltip(o)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(o=Ut(e.helpUrl),this.setHelpUrl(o)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&qt(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)qt(e[t],this,!1)}jsonInitColour_(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle_(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const o in e)this[o]!==void 0&&t.push(o);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate_(e,t,o,a){e=fs(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,o),o=[];for(let d=0,m;m=t[d];d++)if(this.isInputKeyword_(m.type)){if(e=this.inputFromJson_(m,a)){for(let C=0,G;G=o[C];C++)e.appendField(G[0],G[1]);o.length=0}}else(e=this.fieldFromJson_(m))&&o.push([e,m.name])}validateTokens_(e,t){const o=[];let a=0;for(let d=0;d<e.length;d++){const m=e[d];if(typeof m=="number"){if(1>m||m>t)throw Error('Block "'+this.type+'": Message index %'+m+" out of range.");if(o[m])throw Error('Block "'+this.type+'": Message index %'+m+" duplicated.");o[m]=!0,a++}}if(a!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments_(e,t,o){const a=[];for(let m=0;m<e.length;m++){var d=e[m];if(typeof d=="number"&&(d=t[d-1]),typeof d=="string"){if(d===`
`)d={type:"input_end_row"},o&&(d.align=o);else if(d=this.stringToFieldJson_(d),!d)continue}a.push(d)}return(e=a.length)&&!this.isInputKeyword_(a[e-1].type)&&(e={type:"input_dummy"},o&&(e.align=o),a.push(e)),a}fieldFromJson_(e){const t=n.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}inputFromJson_(e,t){var o={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let a;switch(e.type){case"input_value":a=this.appendValueInput(e.name);break;case"input_statement":a=this.appendStatementInput(e.name);break;case"input_dummy":a=this.appendDummyInput(e.name);break;case"input_end_row":a=this.appendEndRowInput(e.name);break;default:a=this.appendInputFromRegistry(e.type,e.name)}return a?(e.check&&a.setCheck(e.check),e.align&&(o=o[e.align.toUpperCase()],o===void 0?console.warn(t+"Illegal align value: ",e.align):a.setAlign(o)),a):null}isInputKeyword_(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||_(Re.INPUT,e)}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var o=-1,a=t?-1:this.inputList.length;for(let d=0,m;m=this.inputList[d];d++)if(m.name===e){if(o=d,a!==-1)break}else if(t&&m.name===t&&(a=d,o!==-1))break;if(o===-1)throw Error('Named input "'+e+'" not found.');if(a===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(o,a)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const o=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,o)}removeInput(e,t){for(let o=0,a;a=this.inputList[o];o++)if(a.name===e)return a instanceof Nn&&this.statementInputCount--,a.dispose(),this.inputList.splice(o,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,o;o=this.inputList[t];t++)if(o.name===e)return o;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(Hr.TYPE))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let o;const a=(o=(t=this.getIcon(Hr.TYPE))==null?void 0:t.getText())!=null?o:null;a!==e&&(e!==null?((t=this.getIcon(Hr.TYPE))||(t=this.addIcon(new Hr(this))),n.disable$$module$build$src$core$events$utils(),t.setText(e),n.enable$$module$build$src$core$events$utils()):this.removeIcon(Hr.TYPE),Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,a,e)))}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new lb(e);return this.icons.push(e),this.icons.sort((t,o)=>t.getWeight()-o.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(o=>!o.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof mo?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,t,o){if(this.parentBlock_)throw Error("Block has parent");const a=new(ge(n.MOVE$$module$build$src$core$events$utils))(this);o&&a.setReason(o),this.xy_.translate(e,t),a.recordNew(),Y(a)}makeConnection_(e){return new Ft(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let o=0,a;a=this.inputList[o];o++)if(a.connection){var t=a.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};mh.COLLAPSED_INPUT_NAME=xu,mh.COLLAPSED_FIELD_NAME=cm;var bb=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},K$=class extends bb{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===we.types.NEXT||e.getType()===we.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===we.types.PREVIOUS||e.getType()===we.types.OUTPUT)&&(e=e.next());let t,o;return(e=(o=(t=e)==null?void 0:t.in())!=null?o:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===we.types.NEXT||e.getType()===we.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===we.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};c(Re.CURSOR,kr,K$);var hf=class extends K${constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const o=e.in()||e.next();return t(o)?o:o?this.getNextNode_(o,t):(e=this.findSiblingOrParent(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)}getPreviousNode_(e,t){if(!e)return null;let o=e.prev();return o=o?this.getRightMostChild(o):e.out(),t(o)?o:o?this.getPreviousNode_(o,t):null}validNode_(e){let t=!1;return e=e&&e.getType(),(e===we.types.OUTPUT||e===we.types.INPUT||e===we.types.FIELD||e===we.types.NEXT||e===we.types.PREVIOUS||e===we.types.WORKSPACE)&&(t=!0),t}findSiblingOrParent(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};hf.registrationName="basicCursor",c(Re.CURSOR,hf.registrationName,hf);var Eb=class extends hf{validNode_(e){let t=!1;const o=e&&e.getType();return e&&(e=e.getLocation(),o===we.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},J$=10,Vr=class extends Ft{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[Oe[t]],this.offsetInBlock=new Me(0,0),this.trackedState=Vr.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Vr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e){if(!this.sourceBlock_.workspace.isDragging()){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var o=!1;if(!t.isMovable()){if(t=e.getSourceBlock().getRootBlock(),!t.isMovable())return;e=this,o=!0}var a=X()==t;a||t.addSelect();var d=e.x+n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*J$)-this.x,m=e.y+n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*J$)-this.y;o&&(m=-m),t.RTL&&(d=e.x-n.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*J$)-this.x),t.moveBy(d,m,["bump"]),a||t.removeSelect()}}}moveTo(e,t){let o=!1;return this.trackedState===Vr.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Vr.TrackedState.TRACKED,o=!0):this.trackedState===Vr.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),o=!0),this.x=e,this.y=t,o}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=Me.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Vr.TrackedState.TRACKED||!e&&this.trackedState===Vr.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Vr.TrackedState.TRACKED):(this.trackedState===Vr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Vr.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const o=e[t],a=o.getConnections_(!0);for(let d=0;d<a.length;d++)a[d].setTracking(!1);for(const d of o.getIcons())fn(d)&&d.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==je.INPUT_VALUE&&this.type!==je.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let o;t.isCollapsed()?(o=[],t.outputConnection&&o.push(t.outputConnection),t.nextConnection&&o.push(t.nextConnection),t.previousConnection&&o.push(t.previousConnection)):o=t.getConnections_(!0);for(let a=0;a<o.length;a++)e.push(...o[a].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(Ee()){const o=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(n.setGroup$$module$build$src$core$events$utils(o),this.bumpAwayFrom(e),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:o}=this.getParentAndChildConnections();if(t&&o){var a=t.getSourceBlock(),d=o.getSourceBlock();super.disconnectInternal(e),a.rendered&&a.queueRender(),d.rendered&&(d.updateDisabled(),d.queueRender(),d.getSvgRoot().style.display="block")}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock();const o=t.rendered,a=e.rendered;o&&t.updateDisabled(),a&&e.updateDisabled(),o&&a&&(this.type===je.NEXT_STATEMENT||this.type===je.PREVIOUS_STATEMENT?e.queueRender():t.queueRender()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}setCheck(e){return super.setCheck(e),this.sourceBlock_.rendered&&this.sourceBlock_.queueRender(),this}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Vr||(Vr={})),Vr.TrackedState;var Vs=class extends mh{constructor(e,t,o){super(e,t,o),this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=this.rendered=!1,this.translation="",this.bumpNeighboursPid=0,this.dragging=!1,this.relativeCoords=new Me(0,0),this.workspace=e,this.svgGroup_=ce(V.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),e=this.pathObject.svgPath,e.tooltip=this,Wt(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let t=0,o;o=this.inputList[t];t++)o.init();for(var e of this.getIcons())e.initView(this.createIconPointerDownListener(e)),e.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||Ce(e,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(X()!==this){var e=null;if(X()){e=X().id,n.disable$$module$build$src$core$events$utils();try{X().unselect()}finally{n.enable$$module$build$src$core$events$utils()}}e=new(ge(ri))(e,this.id,this.workspace.id),Y(e),H(this),this.addSelect()}}unselect(){if(X()===this){var e=new(ge(ri))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,Y(e),H(null),this.removeSelect()}}setParent(e){const t=this.parentBlock_;if(e!==t){L(),super.setParent(e),K();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var a=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(o):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(o,e):this.workspace.getCanvas().appendChild(o),this.translate(a.x,a.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,o=0,a=this.getSvgRoot();if(a)do{const d=ct(a);t+=d.x,o+=d.y,a=a.parentNode}while(a&&!e.hasLayer(a));return new Me(t,o)}moveBy(e,t,o){if(this.parentBlock_)throw Error("Block has parent");const a=U();let d=null;a&&(d=new(ge(n.MOVE$$module$build$src$core$events$utils))(this),o&&d.setReason(o)),e=new Me(e,t),t=this.getRelativeToSurfaceXY(),e=Me.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),a&&d&&(d.recordNew(),Y(d)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new Me(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const o=this.getRelativeToSurfaceXY();this.moveBy(e.x-o.x,e.y-o.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),o=t/2,a=this.getRelativeToSurfaceXY();e=Math.round(Math.round((a.x-o)/t)*t+o-a.x),t=Math.round(Math.round((a.y-o)/t)*t+o-a.y),(e||t)&&this.moveBy(e,t,["snap"])}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();let o,a;return this.RTL?(o=e.x-t.width,a=e.x):(o=e.x,a=e.x+t.width),new Dt(e.y,e.y+t.height,o,a)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed_())}updateCollapsed_(){var e=this.isCollapsed();const t=xu,o=cm;for(let d=0,m;m=this.inputList[d];d++)m.name!==t&&m.setVisible(!e);for(var a of this.getIcons())a.updateCollapsed();e?(e=this.toString(Z),(a=this.getField(o))?a.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Au(e),o)):(this.updateDisabled(),this.removeInput(t))}tab(e,t){const o=new Eb;o.setCurNode(we.createFieldNode(e)),e=o.getCurNode(),t?o.next():o.prev(),(t=o.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=St.registry.getContextMenuOptions(St.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(Jn(e,t,this.RTL),rd(this))}updateComponentLocations(e){if(this.rendered){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(Me.sum(e,t.relativeCoords))}}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const o of t.fieldRow)o.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",sr.push(...this.getConnections_(!0)),Be(this.svgGroup_,"blocklyDragging")):(sr.length=0,ht(this.svgGroup_,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,t){this.isDeadOrDying()||(Xc(),Sa(),t&&this.rendered&&(this.unplug(e),hd(this)),super.dispose(!!e),at(this.svgGroup_))}disposeInternal(){this.isDeadOrDying()||(super.disposeInternal(),this.rendered=!1,X()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose()))}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:nc.TYPE,blockState:hn(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:Q(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}getCommentIcon(){Pe("getCommentIcon","v10","v11","getIcon");let e;return(e=this.getIcon(Hr.TYPE))!=null?e:null}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var o of this.warningTextDb.values())clearTimeout(o);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),o=this.getIcon(rs.TYPE),e){let a=this.getSurroundParent(),d=null;for(;a;)a.isCollapsed()&&(d=a),a=a.getSurroundParent();d&&d.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Vs.COLLAPSED_WARNING_ID),o?o.addMessage(e,t):this.addIcon(new rs(this).addMessage(e,t))}else o&&(t?(o.addMessage("",t),o.getText()||this.removeIcon(rs.TYPE)):this.removeIcon(rs.TYPE))}setMutator(e){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof rs&&(this.warning=e),e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),this.rendered&&(e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),Yr(),this.bumpNeighbours()),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(rs.TYPE)&&(this.warning=null),e.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.rendered&&(this.queueRender(),Yr(),this.bumpNeighbours()),t}setEnabled(e){this.isEnabled()!==e&&(super.setEnabled(e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(e){this.rendered&&this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(e=!1){let t=this;if(!t.isDeadOrDying())do{const o=t.getSvgRoot(),a=o.parentNode,d=a.childNodes;if(d[d.length-1]!==o&&a.appendChild(o),e)break;t=t.getParent()}while(t)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setNextStatement(e,t){super.setNextStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setOutput(e,t){super.setOutput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setInputsInline(e){super.setInputsInline(e),this.rendered&&(this.queueRender(),this.bumpNeighbours())}removeInput(e,t){return e=super.removeInput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}appendInput(e){return super.appendInput(e),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var o=this.inputList[t].connection;o&&(o.setTracking(e),(o=o.targetBlock())&&o.setConnectionTracking(e))}}getConnections_(e){const t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(let o=0,a;a=this.inputList[o];o++)a.connection&&t.push(a.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Vr(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){if(!this.bumpNeighboursPid){var e=n.getGroup$$module$build$src$core$events$utils();this.bumpNeighboursPid=setTimeout(()=>{const t=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(e),this.getRootBlock().bumpNeighboursInternal(),n.setGroup$$module$build$src$core$events$utils(t),this.bumpNeighboursPid=0},n.config$$module$build$src$core$config.bumpDelay)}}bumpNeighboursInternal(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let o;(o=t.targetBlock())==null||o.bumpNeighboursInternal()}for(const o of t.neighbours(n.config$$module$build$src$core$config.snapRadius))o.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&o.isConnected()||(t.isSuperior()?o.bumpAwayFrom(t):t.bumpAwayFrom(o)))}}scheduleSnapAndBump(){const e=n.getGroup$$module$build$src$core$events$utils();setTimeout(()=>{n.setGroup$$module$build$src$core$events$utils(e),this.snapToGrid(),n.setGroup$$module$build$src$core$events$utils(!1)},n.config$$module$build$src$core$config.bumpDelay/2),this.bumpNeighbours()}positionNearConnection(e,t,o){if(e.type===je.NEXT_STATEMENT||e.type===je.INPUT_VALUE){let a=t.x;t=t.y,a+=o.x-e.getOffsetInBlock().x,t+=o.y-e.getOffsetInBlock().y,this.moveBy(a,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return Rc(this)}render(){this.queueRender(),Yr()}renderEfficiently(){this.rendered=!0,L(),this.isCollapsed()&&this.updateCollapsed_(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),K(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(tf.LOCAL_MARKER).draw();for(const e of this.inputList)for(const t of e.fieldRow)t.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var o=this.getNextBlock();if(o){o=o.getHeightWidth();const a=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=o.height-a,t=Math.max(t,o.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}};Vs.INLINE=-1,Vs.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var yb=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},um=class extends yb{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e,t){return e instanceof Vs?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},vb=class extends um{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new ai({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===pt.TOP?pt.BOTTOM:pt.TOP,this.flyout=new(R(Re.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===pt.RIGHT?pt.LEFT:pt.RIGHT,this.flyout=new(R(Re.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=ce(V.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=ce(V.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),ce(V.RECT,{width:$h,height:dm,y:_h},e);const o=ce(V.IMAGE,{width:Qo.width,x:-q$,height:Qo.height,y:-Q$,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return o.setAttributeNS(Zt,"xlink:href",this.workspace.options.pathToMedia+Qo.url),e=ce(V.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),ce(V.RECT,{width:$h,height:_h},e),this.svgLid=ce(V.IMAGE,{width:Qo.width,x:-q$,height:Qo.height,y:-Q$,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(Zt,"xlink:href",this.workspace.options.pathToMedia+Qo.url),gt(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),gt(this.svgGroup,"pointerup",this,this.click),gt(o,"pointerover",this,this.mouseOver),gt(o,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(jt(this.flyout.createDom(V.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[Ao.Capability.AUTOHIDEABLE,Ao.Capability.DELETE_AREA,Ao.Capability.DRAG_TARGET,Ao.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&at(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(o){return JSON.parse(o)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let o;(o=this.flyout)==null||o.show(e),t.cursor="";let a;(a=this.workspace.scrollbar)==null||a.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var o=Ec(this.workspace,e);e=bc(o,new Yt($h,dm+_h),eI,Sb,e,this.workspace),t=yc(e,Sb,o.vertical===ii.TOP?Wi.DOWN:Wi.UP,t),this.top=t.top,this.left=t.left;var a;(a=this.svgGroup)==null||a.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new Dt(this.top,this.top+dm+_h,this.left,this.left+$h)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+Q$-hm;return e=e.left+q$-hm,new Dt(t,t+_h+dm+2*hm,e,e+$h+2*hm)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=rI;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*Cb),t=Ib+this.lidOpen*(nI-Ib),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),oI/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===pt.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let o;(o=this.svgLid)==null||o.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:$h-4)+","+(_h-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*Cb)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(ge(Nl))(e,this.workspace.id),Y(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==n.DELETE$$module$build$src$core$events$utils||e.type!==n.DELETE$$module$build$src$core$events$utils||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),this.contents.indexOf(e)===-1){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(tI)}}}cleanBlockJson(e){function t(o){if(o){if(delete o.id,delete o.x,delete o.y,delete o.enabled,o.icons&&o.icons.comment){var a=o.icons.comment;delete a.height,delete a.width,delete a.pinned}a=o.inputs;for(var d in a){var m=a[d];const C=m.block;m=m.shadow,C&&t(C),m&&t(m)}o.next&&(d=o.next,o=d.block,d=d.shadow,o&&t(o),d&&t(d))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},$h=47,dm=44,_h=16,Sb=20,eI=20,hm=10,q$=0,Q$=32,tI=.1,oI=80,rI=4,Ib=.4,nI=.8,Cb=45,Vt=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(let o=0;o<t.length;o++)this.addKeyMapping(t[o],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,o){e=`${e}`;const a=this.keyMap.get(e);if(a&&!o)throw Error(`Shortcut named "${t}" collides with shortcuts "${a}"`);a&&o?a.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,o){const a=this.keyMap.get(e);if(!a)return o||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const d=a.indexOf(t);return-1<d?(a.splice(d,1),a.length===0&&this.keyMap.delete(e),!0):(o||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,o]of this.keyMap)e[t]=o;return e}getRegistry(){const e=Object.create(null);for(const[t,o]of this.shortcuts)e[t]=o;return Qr(Object.create(null),e)}onKeyDown(e,t){var o=this.serializeKeyEvent_(t);if(o=this.getShortcutNamesByKeyCode(o),!o)return!1;for(let a=0,d;d=o[a];a++){const m=this.shortcuts.get(d);let C,G;if((C=m)==null||!C.preconditionFn||(G=m)!=null&&G.preconditionFn(e)){let ye,We;if((ye=m)!=null&&ye.callback&&((We=m)!=null&&We.callback(e,t,m)))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[o,a]of this.keyMap)-1<a.indexOf(e)&&t.push(o);return t}serializeKeyEvent_(e){let t="";for(const o in Vt.modifierKeys)e.getModifierState(o)&&(t!==""&&(t+="+"),t+=o);return t!==""&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers_(e){for(let t=0,o;o=e[t];t++)if(!(o in Vt.modifierKeys))throw Error(o+" is not a valid modifier key.")}createSerializedKey(e,t){let o="";if(t){this.checkModifiers_(t);for(const a in Vt.modifierKeys)-1<t.indexOf(Vt.modifierKeys[a])&&(o!==""&&(o+="+"),o+=a)}return o!==""&&e?o=o+"+"+e:e&&(o=`${e}`),o}};Vt.registry=new Vt,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(Vt||(Vt={}));var Ws;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Ws||(Ws={}));var pf=null,pm=null;Cr();var zs={};zs.names=Ws,zs.registerCopy=nu,zs.registerCut=iu,zs.registerDefaultShortcuts=Cr,zs.registerDelete=Es,zs.registerEscape=Ha,zs.registerPaste=su,zs.registerRedo=ys,zs.registerUndo=lu;var iI=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=Ds}save(e){return e=e.getProcedureMap().getProcedures().map(t=>Oi(t)),e.length?e:null}load(e,t){const o=t.getProcedureMap();for(const a of e)o.add(Rd(this.procedureModelClass,this.parameterModelClass,a,t))}clear(e){e.getProcedureMap().clear()}},Th={};Th.ProcedureSerializer=iI,Th.loadParameter=$n,Th.loadProcedure=Rd,Th.saveParameter=au,Th.saveProcedure=Oi;var kb=class{constructor(){this.priority=nh}save(e){const t=[];for(const o of e.getAllVariables())e={name:o.name,id:o.getId()},o.type&&(e.type=o.type),t.push(e);return t.length?t:null}load(e,t){for(const o of e)t.createVariable(o.name,o.type,o.id)}clear(e){e.getVariableMap().clear()}};Ea("variables",new kb);var Rb={};Rb.VariableSerializer=kb;var Z$={};Z$.load=wd,Z$.save=Ai;var sI={blocks:jl,exceptions:Ms,priorities:zl,procedures:Th,registry:sh,variables:Rb,workspaces:Z$},e_=class{constructor(e,t,o,a,d){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,o=o===void 0?!0:o;const m=t&&o;t&&(this.hScroll=new Io(e,!0,m,a,d)),o&&(this.vScroll=new Io(e,!1,m,a,d)),m&&(this.corner_=ce(V.RECT,{height:Io.scrollbarThickness,width:Io.scrollbarThickness,class:"blocklyScrollbarBackground"}),jt(this.corner_,e.getBubbleCanvas()))}dispose(){at(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,o=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(o=!0)):o=t=!0,t||o){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&o&&this.vScroll.resize(e)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let a;(a=this.corner_)==null||a.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let a;(a=this.corner_)==null||a.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,o){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(o||o===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},t_=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,o=0;return e&&(t=e.getWidth(),o=e.getHeight()),new Yt(t,o)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const o=this.getToolboxMetrics(),a=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var m;const C=!((m=this.workspace_.getFlyout())!=null&&m.autoClose);m=d?o.position:a.position;const G=m===pt.TOP;return m===pt.LEFT&&(d&&(e+=o.width),C&&(e+=a.width)),G&&(d&&(t+=o.height),C&&(t+=a.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),o=this.getToolboxMetrics(),a=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var m;const C=!((m=this.workspace_.getFlyout())!=null&&m.autoClose);m=d?o.position:a.position;const G=m===pt.LEFT||m===pt.RIGHT;return(m===pt.TOP||m===pt.BOTTOM)&&(d&&(t.height-=o.height),C&&(t.height-=a.height)),G&&(d&&(t.width-=o.width),C&&(t.width-=a.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),o=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const a={};return o||(a.top=e.top,a.bottom=e.top+e.height),t||(a.left=e.left,a.right=e.left+e.width),a}getPaddedContent_(e,t){const o=t.top+t.height,a=t.left+t.width,d=e.width;e=e.height;const m=d/2,C=e/2;return{top:Math.min(t.top-C,o-e),bottom:Math.max(o+C,t.top+e),left:Math.min(t.left-m,a-d),right:Math.max(a+m,t.left+d)}}getScrollMetrics(e,t,o){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var a=o||this.getContentMetrics();o=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,a),a=o.top!==void 0?o.top:t.top;const d=o.left!==void 0?o.left:t.left;return{top:a/e,left:d/e,width:((o.right!==void 0?o.right:t.right)-d)/e,height:((o.bottom!==void 0?o.bottom:t.bottom)-a)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),o=this.getSvgMetrics(),a=this.getAbsoluteMetrics(),d=this.getViewMetrics(),m=this.getContentMetrics(),C=this.getScrollMetrics(!1,d,m);return{contentHeight:m.height,contentWidth:m.width,contentTop:m.top,contentLeft:m.left,scrollHeight:C.height,scrollWidth:C.width,scrollTop:C.top,scrollLeft:C.left,viewHeight:d.height,viewWidth:d.width,viewTop:d.top,viewLeft:d.left,absoluteTop:a.top,absoluteLeft:a.left,svgHeight:o.height,svgWidth:o.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};c(Re.METRICS_MANAGER,kr,t_);var wb=class extends Fi{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Dl,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};c(Re.EVENT,Dl,wb);var o_=class extends ni{constructor(e,t,o){super(e?e.workspace.id:void 0),this.type=oi,e&&(this.blockId=e.id,this.isStart=t,this.blocks=o)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new o_),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};c(Re.EVENT,oi,o_);var fm={};fm.bumpIntoBounds=El,fm.bumpIntoBoundsHandler=_n,fm.bumpTopObjectsIntoBounds=yl;var Ob=class{constructor(e,t){this.connectionCandidate=this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.dragIconData_=[],this.draggingBlock_=e,this.workspace_=t,this.connectionPreviewer=new(R(Re.CONNECTION_PREVIEWER,this.workspace_.options))(e),this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=Od(e,this.startXY_)}dispose(){this.dragIconData_.length=0,this.connectionPreviewer.dispose()}startDrag(e,t){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent_(),this.draggingBlock_.bringToFront(!0),L(),this.workspace_.setResizesEnabled(!1),Ii(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0);let o;(o=this.workspace_.getLayerManager())==null||o.moveToDragLayer(this.draggingBlock_)}shouldDisconnect_(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=Me.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),Wc(this.draggingBlock_)}fireDragStartEvent_(){const e=new(ge(oi))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));Y(e)}drag(e,t){const o=this.draggingBlock_;this.moveBlock(o,t),this.updateDragTargets(e,o),this.wouldDeleteBlock_=this.wouldDeleteBlock(e,o,t),this.updateCursorDuringBlockDrag_(),this.updateConnectionPreview(o,t)}moveBlock(e,t){t=this.pixelsToWorkspaceUnits_(t),t=Me.sum(this.startXY_,t),e.moveDuringDrag(t)}updateDragTargets(e,t){if(e=this.workspace_.getDragTarget(e),this.dragTarget_!==e){let o;(o=this.dragTarget_)==null||o.onDragExit(t),e==null||e.onDragEnter(t)}e==null||e.onDragOver(t),this.dragTarget_=e}wouldDeleteBlock(e,t,o){return(e=this.workspace_.getDragTarget(e))&&this.workspace_.getComponentManager().hasCapability(e.id,Ao.Capability.DELETE_AREA)?e.wouldDelete(t,!!this.getConnectionCandidate(t,o)):!1}updateConnectionPreview(e,t){t=this.pixelsToWorkspaceUnits_(t);const o=this.connectionCandidate,a=this.getConnectionCandidate(e,t);if(a){this.connectionCandidate=t=o&&this.currCandidateIsBetter(o,t,a)?o:a;var{local:d,neighbour:m}=t;d.type!==je.OUTPUT_VALUE&&d.type!==je.PREVIOUS_STATEMENT||!m.isConnected()||m.targetBlock().isInsertionMarker()||this.orphanCanConnectAtEnd(e,m.targetBlock(),d.type)?this.connectionPreviewer.previewConnection(d,m):this.connectionPreviewer.previewReplacement(d,m,m.targetBlock())}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,t,o){return!!Ft.getConnectionForOrphanedConnection(e,o===je.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,o){const{local:a,neighbour:d}=e;e=new Me(a.x,a.y);const m=new Me(d.x,d.y);return t=Me.distance(Me.sum(e,t),m),o.distance>t-n.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let o=this.connectionCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius,a=null;for(const d of e){const{connection:m,radius:C}=d.closest(o,t);m&&(a={local:d,neighbour:m,distance:C},o=C)}return a}getLocalConnections(e){const t=e.getConnections_(!1),o=e.lastConnectionInStack(!0);return o&&o!==e.nextConnection&&t.push(o),t}endDrag(e,t){if(this.drag(e,t),this.fireDragEndEvent_(),K(),Ii(),this.connectionPreviewer.hidePreview(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)||(e=this.getNewLocationAfterDrag_(t).delta),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),!this.maybeDeleteBlock_()){let o;(o=this.workspace_.getLayerManager())==null||o.moveOffDragLayer(this.draggingBlock_,T),this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_():El(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)}this.connectionPreviewer.dispose(),this.workspace_.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(!1)}getNewLocationAfterDrag_(e){e=this.pixelsToWorkspaceUnits_(e);const t=Me.sum(this.startXY_,e);return{delta:e,newLocation:t}}maybeDeleteBlock_(){return this.wouldDeleteBlock_?(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),sr.length=0,!0):!1}updateBlockAfterMove_(){this.fireMoveEvent_(),this.connectionCandidate?this.applyConnections(this.connectionCandidate):this.draggingBlock_.queueRender(),this.draggingBlock_.scheduleSnapAndBump()}applyConnections(e){const{local:t,neighbour:o}=e;if(t.connect(o),this.draggingBlock_.rendered){const a=t.isSuperior()?o:t,d=this.draggingBlock_.getRootBlock();At().then(()=>{Si(a.getSourceBlock()),setTimeout(()=>{d.bringToFront()},0)})}}fireDragEndEvent_(){const e=new(ge(oi))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));Y(e)}updateToolboxStyle_(e){const t=this.workspace_.getToolbox();if(t){const o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&typeof t.removeStyle=="function"?t.removeStyle(o):e||typeof t.addStyle!="function"||t.addStyle(o)}}fireMoveEvent_(){if(!this.draggingBlock_.isDeadOrDying()){var e=new(ge(n.MOVE$$module$build$src$core$events$utils))(this.draggingBlock_);e.setReason(["drag"]),e.oldCoordinate=this.startXY_,e.recordNew(),Y(e)}}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(e){return e=new Me(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}dragIcons_(){Pe("Blockly.BlockDragger.prototype.dragIcons_","v10","v11")}getInsertionMarkers(){return this.workspace_.getAllBlocks().filter(e=>e.isInsertionMarker())}};c(Re.BLOCK_DRAGGER,kr,Ob);var ff={};ff.Bubble=Gt,ff.MiniWorkspaceBubble=ea,ff.TextBubble=x$,ff.TextInputBubble=nb;var r_=class extends si{constructor(e,t,o,a){super(e),this.type=Mi,this.recordUndo=!1,e&&(this.name=t,this.oldValue=o,this.newValue=a)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new r_),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};c(Re.EVENT,Mi,r_);var n_=class extends si{constructor(e){super(e),this.type=n.MOVE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new n_),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(o=e.oldCoordinate.split(","),t.oldCoordinate=new Me(Number(o[0]),Number(o[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(o=e.newCoordinate.split(","),t.newCoordinate=new Me(Number(o[0]),Number(o[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const o=t.getParent();return o?(e.parentId=o.id,(t=o.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Me.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var o=t.getBlockById(this.blockId);if(o){var a=e?this.newParentId:this.oldParentId,d=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,a){var m=t.getBlockById(a);if(!m){console.warn("Can't connect to non-existent block: "+a);return}}if(o.getParent()&&o.unplug(),e)d=o.getRelativeToSurfaceXY(),o.moveBy(e.x-d.x,e.y-d.y,this.reason);else{t=o.outputConnection,(!t||o.previousConnection&&o.previousConnection.isConnected())&&(t=o.previousConnection);let C,G;o=(G=t)==null?void 0:G.type,d?(o=m.getInput(d))&&(C=o.connection):o===je.PREVIOUS_STATEMENT&&(C=m.nextConnection),C&&t?t.connect(C):console.warn("Can't connect to non-existent input: "+d)}}else console.warn("Can't move non-existent block: "+this.blockId)}};c(Re.EVENT,n.MOVE$$module$build$src$core$events$utils,n_);var i_=class extends ni{constructor(e,t,o){super(e?e.workspace.id:void 0),this.type=yn,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=o)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new i_),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},s_;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(s_||(s_={})),c(Re.EVENT,yn,i_);var uc=class extends Fi{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=Ee())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new uc),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){var o=e.getEventWorkspace_();if(t){if(t=n.createElement$$module$build$src$core$utils$xml("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),n.domToWorkspace$$module$build$src$core$xml(t,o)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(o=o.getCommentById(e.commentId))?o.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}},l_=class extends uc{constructor(e,t,o){super(e),this.type=ja,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof o>"u"?"":o)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new l_),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var o=e?this.newContents_:this.oldContents_;if(!o)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setContent(o)}else console.warn("Can't change non-existent comment: "+this.commentId)}};c(Re.EVENT,ja,l_);var a_=class extends uc{constructor(e){super(e),this.type=Bi,e&&(this.xml=e.toXmlWithXY())}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Yn(this.xml),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new a_),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t}run(e){uc.CommentCreateDeleteHelper(this,e)}};c(Re.EVENT,Bi,a_);var c_=class extends uc{constructor(e){super(e),this.type=Cs,e&&(this.xml=e.toXmlWithXY())}run(e){uc.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Yn(this.xml),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new c_),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t}};c(Re.EVENT,Cs,c_);var u_=class extends uc{constructor(e){super(e),this.type=vn,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new u_),o=e.oldCoordinate.split(","),t.oldCoordinate_=new Me(Number(o[0]),Number(o[1])),o=e.newCoordinate.split(","),t.newCoordinate_=new Me(Number(o[0]),Number(o[1])),t}isNull(){return Me.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var o=t.getRelativeToSurfaceXY();t.moveBy(e.x-o.x,e.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};c(Re.EVENT,vn,u_);var d_=class extends ni{constructor(e,t,o){super(o),this.type=Ml,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new d_),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};c(Re.EVENT,Ml,d_),n.CHANGE$$module$build$src$core$events$utils,n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,n.CHANGE$$module$build$src$core$events$utils,n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils;var Ye={};Ye.Abstract=Fi,Ye.BLOCK_CHANGE=n.CHANGE$$module$build$src$core$events$utils,Ye.BLOCK_CREATE=n.CREATE$$module$build$src$core$events$utils,Ye.BLOCK_DELETE=n.DELETE$$module$build$src$core$events$utils,Ye.BLOCK_DRAG=oi,Ye.BLOCK_FIELD_INTERMEDIATE_CHANGE=Mi,Ye.BLOCK_MOVE=n.MOVE$$module$build$src$core$events$utils,Ye.BUBBLE_OPEN=yn,Ye.BUMP_EVENTS=Yd,Ye.BlockBase=si,Ye.BlockChange=Ou,Ye.BlockCreate=Qp,Ye.BlockDelete=Y$,Ye.BlockDrag=o_,Ye.BlockFieldIntermediateChange=r_,Ye.BlockMove=n_,Ye.BubbleOpen=i_,Ye.BubbleType=s_,Ye.CHANGE=n.CHANGE$$module$build$src$core$events$utils,Ye.CLICK=En,Ye.COMMENT_CHANGE=ja,Ye.COMMENT_CREATE=Bi,Ye.COMMENT_DELETE=Cs,Ye.COMMENT_MOVE=vn,Ye.CREATE=n.CREATE$$module$build$src$core$events$utils,Ye.Click=Dp,Ye.ClickTarget=Pp,Ye.CommentBase=uc,Ye.CommentChange=l_,Ye.CommentCreate=a_,Ye.CommentDelete=c_,Ye.CommentMove=u_,Ye.DELETE=n.DELETE$$module$build$src$core$events$utils,Ye.FINISHED_LOADING=Dl,Ye.FinishedLoading=wb,Ye.MARKER_MOVE=Ll,Ye.MOVE=n.MOVE$$module$build$src$core$events$utils,Ye.MarkerMove=H$,Ye.SELECTED=ri,Ye.Selected=kn,Ye.THEME_CHANGE=Is,Ye.TOOLBOX_ITEM_SELECT=Ml,Ye.TRASHCAN_OPEN=Nl,Ye.ThemeChange=lh,Ye.ToolboxItemSelect=d_,Ye.TrashcanOpen=X$,Ye.UI=xl,Ye.UiBase=ni,Ye.VAR_CREATE=Di,Ye.VAR_DELETE=bn,Ye.VAR_RENAME=Al,Ye.VIEWPORT_CHANGE=Pi,Ye.VarBase=zi,Ye.VarCreate=ji,Ye.VarDelete=W$,Ye.VarRename=z$,Ye.ViewportChange=ah,Ye.clearPendingUndo=de,Ye.disable=n.disable$$module$build$src$core$events$utils,Ye.disableOrphans=Ue,Ye.enable=n.enable$$module$build$src$core$events$utils,Ye.filter=me,Ye.fire=Y,Ye.fromJson=Ae,Ye.get=ge,Ye.getDescendantIds=be,Ye.getGroup=n.getGroup$$module$build$src$core$events$utils,Ye.getRecordUndo=Ee,Ye.isEnabled=U,Ye.setGroup=n.setGroup$$module$build$src$core$events$utils,Ye.setRecordUndo=fe;var Ab=class extends af{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&at(this.selectedGlowFilter),this.replacementGlowFilter&&at(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,o=ko("c",[et(25,-e),et(71,-e),et(t,0)]);return{height:e,width:t,path:o}}makeHexagonal(){function e(o,a,d){var m=o/2;return m=m>t?t:m,d=d?-1:1,o=(a?-1:1)*o/2,gn(-d*m,o)+gn(d*m,o)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(o){return o/=2,o>t?t:o},height(o){return o},connectionOffsetY(o){return o/2},connectionOffsetX(o){return-o},pathDown(o){return e(o,!1,!1)},pathUp(o){return e(o,!0,!1)},pathRightDown(o){return e(o,!1,!0)},pathRightUp(o){return e(o,!1,!0)}}}makeRounded(){function e(a,d,m){const C=a>o?a-o:0;a=(a>o?o:a)/2;const G=m===d?"0":"1";return no("a","0 0,"+G,a,et((m?1:-1)*a,(d?-1:1)*a))+Ve("v",(d?-1:1)*C)+no("a","0 0,"+G,a,et((m?-1:1)*a,(d?-1:1)*a))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width(a){return a/=2,a>t?t:a},height(a){return a},connectionOffsetY(a){return a/2},connectionOffsetX(a){return-a},pathDown(a){return e(a,!1,!1)},pathUp(a){return e(a,!0,!1)},pathRightDown(a){return e(a,!1,!0)},pathRightUp(a){return e(a,!1,!0)}}}makeSquared(){function e(o,a,d){o-=2*t;const m=d===a?"0":"1";return no("a","0 0,"+m,t,et((d?1:-1)*t,(a?-1:1)*t))+Ve("v",(a?-1:1)*o)+no("a","0 0,"+m,t,et((d?-1:1)*t,(a?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(o){return t},height(o){return o},connectionOffsetY(o){return o/2},connectionOffsetX(o){return-o},pathDown(o){return e(o,!1,!1)},pathUp(o){return e(o,!0,!1)},pathRightDown(o){return e(o,!1,!0)},pathRightUp(o){return e(o,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case je.INPUT_VALUE:case je.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.indexOf("Boolean")!==-1?this.HEXAGONAL:t&&t.indexOf("Number")!==-1?this.ROUNDED:(t&&t.indexOf("String"),this.ROUNDED);case je.PREVIOUS_STATEMENT:case je.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(We){return ko("c",[et(We*d/2,0),et(We*d*3/4,C/2),et(We*d,C)])+Fa([et(We*d,m)])+ko("c",[et(We*d/4,C/2),et(We*d/2,C),et(We*d,C)])+Ve("h",We*a)+ko("c",[et(We*d/2,0),et(We*d*3/4,-(C/2)),et(We*d,-C)])+Fa([et(We*d,-m)])+ko("c",[et(We*d/4,-(C/2)),et(We*d/2,-C),et(We*d,-C)])}const t=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,a=t/3,d=a/3,m=o/2,C=m/2,G=e(1),ye=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:o,pathLeft:G,pathRight:ye}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=no("a","0 0,0",e,et(-e,e)),o=no("a","0 0,1",e,et(-e,e)),a=no("a","0 0,0",e,et(e,e)),d=no("a","0 0,1",e,et(e,e));return{width:e,height:e,pathTop:t,pathBottom:a,rightWidth:e,rightHeight:e,pathTopRight:o,pathBottomRight:d}}generateSecondaryColour_(e){return Ci("#000",e,.15)||e}generateTertiaryColour_(e){return Ci("#000",e,.25)||e}createDom(e,t,o){super.createDom(e,t,o),e=ce(V.DEFS,{},e),t=ce(V.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ce(V.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),o=ce(V.FECOMPONENTTRANSFER,{result:"outBlur"},t),ce(V.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),ce(V.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),ce(V.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=ce(V.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),ce(V.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=ce(V.FECOMPONENTTRANSFER,{result:"outBlur"},e),ce(V.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),ce(V.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),ce(V.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),ce(V.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},xb=class extends cf{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(ee.isSpacer(e)){const a=e.precedesStatement;var t=e.followsStatement;if(a||t){const d=this.constants_.INSIDE_CORNERS;var o=d.rightHeight;o=e.height-(a?o:0),t=t?d.pathBottomRight:"",e=0<o?Ve("V",e.yPos+o):"",this.outlinePath_+=t+e+(a?d.pathTopRight:"");return}}this.outlinePath_+=Ve("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=Qt(e.xPos,this.info_.startY),this.outlinePath_+=Ve("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=Ve("V",e.baseline),this.outlinePath_+=Ve("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=Ro(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-2*e.connectionWidth,o=e.height;return Ve("h",t)+e.shape.pathRightDown(o)+Ve("h",-t)+e.shape.pathUp(o)+"z"}drawStatementInput_(e){var t=e.getLastInput();const o=t.xPos+t.notchOffset+t.shape.width,a=this.constants_.INSIDE_CORNERS,d=t.shape.pathRight+Ve("h",-(t.notchOffset-a.width))+a.pathTop,m=e.height-2*a.height;t=a.pathBottom+Ve("h",t.notchOffset-a.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=Ve("H",o)+d+Ve("v",m)+t+Ve("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===je.NEXT_STATEMENT||t.type===je.PREVIOUS_STATEMENT||t.type===je.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=t.type===je.INPUT_VALUE?Ro(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):Ro(e.width,-e.height/2)+e.shape.pathDown(e.height);var o=t.getSourceBlock(),a,d;(d=(a=o.pathObject).addConnectionHighlight)==null||d.call(a,t,e,t.getOffsetInBlock(),o.RTL)}}},Nu=class extends It{constructor(e,t,o,a,d,m,C){if(super(It.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",o=Number(Ut(o)),t=Number(Ut(t)),isNaN(o)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=o||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Yt(t,o+Nu.Y_PADDING),this.imageHeight=o,typeof d=="function"&&(this.clickHandler=d),e!==It.SKIP_SETUP&&(C?this.configure_(C):(this.flipRtl=!!m,this.altText=Ut(a)||""),this.setValue(Ut(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Ut(e.alt))}initView(){this.imageElement=ce(V.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(Zt,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(Zt,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Nu.Y_PADDING=1,Dr("field_image",Nu),Nu.prototype.DEFAULT_VALUE="";var gf=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new ho;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new ho;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&U()&&Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new ho;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(ht(e,"blocklyInvalidInput"),oo(e,so.INVALID,!1)):(Be(e,"blocklyInvalidInput"),oo(e,so.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new ho;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(_u||Ka||Bl)?this.showPromptEditor_():this.showInlineEditor_(t)}showPromptEditor_(){Sc(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor_(e){const t=this.getSourceBlock();if(!t)throw new ho;ed(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new ho;n.setGroup$$module$build$src$core$events$utils(!0);const t=ul();var o=this.getClickTarget_();if(!o)throw Error("A click target has not been set.");Be(o,"editing"),o=document.createElement("input"),o.className="blocklyHtmlInput",o.setAttribute("spellcheck",this.spellcheck_);const a=this.workspace_.getScale();var d=this.getConstants().FIELD_TEXT_FONTSIZE*a+"pt";return t.style.fontSize=d,o.style.fontSize=d,d=gf.BORDERRADIUS*a+"px",this.isFullBlockField()&&(d=this.getScaledBBox(),d=(d.bottom-d.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,o.style.border=1*a+"px solid "+e,t.style.borderRadius=d,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*a+"px")),o.style.borderRadius=d,t.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(o),o}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&U()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(Y(new(ge(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=ul().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");ht(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=Ce(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=Ce(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(He(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(He(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(qr(),Nr()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),qr(),Nr()):e.key==="Tab"&&(qr(),Nr(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&U()&&this.value_!==e&&Y(new(ge(Mi))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new ho;const t=ul(),o=this.getScaledBBox();t.style.width=o.right-o.left+"px",t.style.height=o.bottom-o.top+"px",e=new Me(e.RTL?o.right-t.offsetWidth:o.left,o.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}repositionForWindowResize(){const e=this.getSourceBlock();return e instanceof Vs?(El(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),e)||this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};gf.BORDERRADIUS=4;var bh=class extends gf{constructor(e,t,o){super(e,t,o)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Ut(e.text),void 0,e)}};Dr("field_input",bh),bh.prototype.DEFAULT_VALUE="";var Lb=class extends M${constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},gm=class extends nf{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},Nb=class extends Us{constructor(e){super(e),this.width=this.height=0,this.type|=ee.getType("RIGHT_CONNECTION")}},Mb=class extends U${constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Db=class extends gh{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new Mb(this.constants_),this.bottomRow=new Lb(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new Nb(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof ra||e instanceof Nn||t instanceof Nn?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Gs||e instanceof ra?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&ee.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&ee.isLeftRoundedCorner(e)&&t&&(ee.isPreviousConnection(t)||ee.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&ee.isLeftSquareCorner(e)&&t&&ee.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(ee.isTopRow(e)&&ee.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const o=ee.isInputRow(e)&&e.hasStatement,a=ee.isInputRow(t)&&t.hasStatement;return a||o?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),a&&o?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):ee.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):ee.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const o=this.width-this.startX;return ee.isInputRow(e)&&e.hasStatement||ee.isInputRow(t)&&t.hasStatement?Math.max(o,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):o}getElemCenterline_(e,t){if(e.hasStatement&&!ee.isSpacer(t)&&!ee.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(ee.isInlineInput(t)&&t instanceof cc){const o=t.connectedBlock;if(o&&o.outputConnection&&o.nextConnection)return e.yPos+o.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof Gs||e instanceof ra)&&t.hasDummyInput&&t.align===n.Align$$module$build$src$core$inputs$align.LEFT&&e.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof Nn){t.elements.push(new gm(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let o;for(let a=0;a<e.elements.length;a++){const d=e.elements[a];if(ee.isSpacer(d)&&(o=d),ee.isField(d)&&d instanceof fh&&d.parentInput===this.rightAlignedDummyInputs.get(e))break}if(o){o.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let d=2;d<this.rows.length-1;d+=2){var o=this.rows[d-1];const m=this.rows[d];var a=this.rows[d+1];if(o=d===2?!!this.topRow.hasPreviousConnection:!!o.followsStatement,a=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!a.precedesStatement,ee.isInputRow(m)&&m.hasStatement){m.measure();let C,G;t=m.width-((G=(C=m.getLastInput())==null?void 0:C.width)!=null?G:0)+e}else if(o&&(d===2||a)&&ee.isInputRow(m)&&!m.hasStatement){a=m.xPos,o=null;for(let C=0;C<m.elements.length;C++){const G=m.elements[C];ee.isSpacer(G)&&(o=G),o&&(ee.isField(G)||ee.isInput(G))&&a<t&&!(ee.isField(G)&&G instanceof fh&&(G.field instanceof Au||G.field instanceof Nu))&&(o.width+=t-a),a+=G.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,o=0;o<this.rows.length;o++){const a=this.rows[o];a.yPos=t,t+=a.height}this.height=t,o=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(o),o=e.width(o),this.outputConnection.height=t,this.outputConnection.width=o,this.outputConnection.startX=o,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(o),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=o,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=o,this.width+=o+e,this.widthWithChildren+=o+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var o=this.rows[t];if(!ee.isInputRow(o))continue;e=o.elements[o.elements.length-2];let a=this.getNegativeSpacing_(o.elements[1]),d=this.getNegativeSpacing_(e);e=a+d;const m=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<m&&(e=this.width-m,a=e/2,d=e/2),o.elements.unshift(new Ln(this.constants_,-a)),o.elements.push(new Ln(this.constants_,-d))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)o=this.rows[t],ee.isTopOrBottomRow(o)&&(o.elements[1].width-=e),o.width-=e,o.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var o=this.outputConnection.shape.type;const a=this.constants_;if(1<this.inputRows.length)switch(o){case a.SHAPES.ROUND:return o=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=this.height/2>o?o:this.height/2,t-o*(1-Math.sin(Math.acos((o-this.constants_.SMALL_PADDING)/o)));default:return 0}if(ee.isInlineInput(e)&&e instanceof cc){const d=e.connectedBlock;return e=d?d.pathObject.outputShapeType:e.shape.type,e==null||d&&d.outputConnection&&(d.statementInputCount||d.nextConnection)||o===a.SHAPES.HEXAGONAL&&o!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[o][e]}return ee.isField(e)&&e instanceof fh?o===a.SHAPES.ROUND&&e.field instanceof bh?t-2.75*a.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[o][0]:ee.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let a=2;a<this.rows.length-1;a+=2){const d=this.rows[a-1],m=this.rows[a],C=this.rows[a+1];var e=a===2,t=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!C.precedesStatement;if(e?this.topRow.hasPreviousConnection:d.followsStatement){var o=m.elements[1];if(o=m.elements.length===3&&o instanceof fh&&(o.field instanceof Au||o.field instanceof Nu),!e&&o)d.height-=this.constants_.SMALL_PADDING,C.height-=this.constants_.SMALL_PADDING,m.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)d.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<m.elements.length;t++)if(o=m.elements[t],o instanceof cc&&ee.isInlineInput(o)&&o.connectedBlock&&!o.connectedBlock.isShadow()&&40<=o.connectedBlock.getHeightWidth().height){e=!0;break}e&&(d.height-=this.constants_.SMALL_PADDING,C.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},Pb=class extends G${constructor(e,t,o){super(e,t,o),this.markerCircle=null}showWithInputOutput(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){e=e.getLocation();const t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,t){let o;(o=this.markerCircle)==null||o.setAttribute("cx",`${e}`);let a;(a=this.markerCircle)==null||a.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=ce(V.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();ce(V.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let t;(t=this.markerCircle)==null||t.setAttribute("fill",this.colour_);let o;if((o=this.markerCircle)==null||o.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let a;(a=this.markerCircle)==null||a.firstElementChild.setAttribute("values",e)}}},Bb=class extends am{constructor(e,t,o){super(e,t,o),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=o}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const o of this.outlines.values())o.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,ce(V.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,o;(t=this.outlines.get(e))==null||(o=t.parentNode)==null||o.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},h_=class extends uf{constructor(e){super(e)}makeConstants_(){return new Ab}makeRenderInfo_(e){return new Db(this,e)}makeDrawer_(e,t){return new xb(e,t)}makeMarkerDrawer(e,t){return new Pb(e,this.getConstants(),t)}makePathObject(e,t){return new Bb(e,t,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,t,o){return Pe("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===je.OUTPUT_VALUE?e.isConnected()?ui.PREVIEW_TYPE.REPLACEMENT_FADE:ui.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,o)}};_s("zelos",h_);var is={};is.BottomRow=Lb,is.ConstantProvider=Ab,is.Drawer=xb,is.MarkerSvg=Pb,is.PathObject=Bb,is.RenderInfo=Db,is.Renderer=h_,is.RightConnectionShape=Nb,is.StatementInput=gm,is.TopRow=Mb,Li();var Wr={};Wr.registerCleanup=xd,Wr.registerCollapse=Va,Wr.registerCollapseExpandBlock=Pd,Wr.registerComment=Dd,Wr.registerDefaultOptions=Li,Wr.registerDelete=en,Wr.registerDeleteAll=Sl,Wr.registerDisable=Il,Wr.registerDuplicate=Md,Wr.registerExpand=Ld,Wr.registerHelp=Cl,Wr.registerInline=vs,Wr.registerRedo=Ad,Wr.registerUndo=Ga;var vt=class extends gf{constructor(e,t,o){super(It.SKIP_SETUP),this.clockwise=vt.CLOCKWISE,this.offset=vt.OFFSET,this.wrap=vt.WRAP,this.round=vt.ROUND,this.boundEvents=[],this.symbol_=this.gauge=this.line=null,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){switch(super.configure_(e),e.mode){case mm.COMPASS:this.clockwise=!0,this.offset=90;break;case mm.PROTRACTOR:this.clockwise=!1,this.offset=0}e.clockwise&&(this.clockwise=e.clockwise),e.offset&&(this.offset=e.offset),e.wrap&&(this.wrap=e.wrap),e.round&&(this.round=e.round)}initView(){super.initView(),this.symbol_=ce(V.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph()}showEditor_(e){super.showEditor_(e,_u||Ka||Bl),e=this.dropdownCreate(),fl().appendChild(e),this.sourceBlock_ instanceof Vs&&ad(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),Gc(this,this.dropdownDispose.bind(this)),this.updateGraph()}dropdownCreate(){const e=ce(V.SVG,{xmlns:qa,"xmlns:html":Rr,"xmlns:xlink":Zt,version:"1.1",height:2*vt.HALF+"px",width:2*vt.HALF+"px"});e.style.touchAction="none";const t=ce(V.CIRCLE,{cx:vt.HALF,cy:vt.HALF,r:vt.RADIUS,class:"blocklyAngleCircle"},e);this.gauge=ce(V.PATH,{class:"blocklyAngleGauge"},e),this.line=ce(V.LINE,{x1:vt.HALF,y1:vt.HALF,class:"blocklyAngleLine"},e);for(let o=0;360>o;o+=15)ce(V.LINE,{x1:vt.HALF+vt.RADIUS,y1:vt.HALF,x2:vt.HALF+vt.RADIUS-(o%45===0?10:5),y2:vt.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+vt.HALF+","+vt.HALF+")"},e);return this.boundEvents.push(Ce(e,"click",this,this.hide)),this.boundEvents.push(Ce(t,"pointerdown",this,this.onMouseMove_,!0)),this.boundEvents.push(Ce(t,"pointermove",this,this.onMouseMove_,!0)),e}dropdownDispose(){for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.line=this.gauge=null}hide(){Ca(this),qr()}onMouseMove_(e){var t=this.gauge.ownerSVGElement.getBoundingClientRect();const o=e.clientX-t.left-vt.HALF;e=e.clientY-t.top-vt.HALF,t=Math.atan(-e/o),isNaN(t)||(t=nd(t),0>o?t+=180:0<e&&(t+=360),t=this.clockwise?this.offset+360-t:360-(this.offset-t),this.displayMouseOrKeyboardValue(t))}displayMouseOrKeyboardValue(e){if(this.round&&(e=Math.round(e/this.round)*this.round),e=this.wrapValue(e),e!==this.value_){const t=this.value_;this.setEditorValue_(e,!1),this.sourceBlock_&&U()&&this.value_!==t&&Y(new(ge(Mi))(this.sourceBlock_,this.name||null,t,this.value_))}}updateGraph(){if(this.gauge&&this.line){var e=Number(this.getText())+this.offset,t=Ia(e%360);e=["M ",vt.HALF,",",vt.HALF];var o=vt.HALF,a=vt.HALF;if(!isNaN(t)){const d=Number(this.clockwise),m=Ia(this.offset),C=Math.cos(m)*vt.RADIUS,G=Math.sin(m)*-vt.RADIUS;d&&(t=2*m-t),o+=Math.cos(t)*vt.RADIUS,a-=Math.sin(t)*vt.RADIUS,t=Math.abs(Math.floor((t-m)/Math.PI)%2),d&&(t=1-t),e.push(" l ",C,",",G," A ",vt.RADIUS,",",vt.RADIUS," 0 ",t," ",d," ",o,",",a," z")}this.gauge.setAttribute("d",e.join("")),this.line.setAttribute("x2",`${o}`),this.line.setAttribute("y2",`${a}`)}}onHtmlInputKeyDown_(e){super.onHtmlInputKeyDown_(e);var t=this.getSourceBlock();if(!t)throw new ho;let o=0;switch(e.key){case"ArrowLeft":o=t.RTL?1:-1;break;case"ArrowRight":o=t.RTL?-1:1;break;case"ArrowDown":o=-1;break;case"ArrowUp":o=1}o&&(t=this.getValue(),this.displayMouseOrKeyboardValue(t+o*this.round),e.preventDefault(),e.stopPropagation())}doClassValidation_(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue(e)}wrapValue(e){return e%=360,0>e&&(e+=360),e>this.wrap&&(e-=360),e}static fromJson(e){return new this(e.angle,void 0,e)}};vt.HALF=50,vt.RADIUS=vt.HALF-1,vt.CLOCKWISE=!1,vt.OFFSET=0,vt.WRAP=360,vt.ROUND=15,Dr("field_angle",vt),vt.prototype.DEFAULT_VALUE=0,dt(`
.blocklyAngleCircle {
  stroke: #444;
  stroke-width: 1;
  fill: #ddd;
  fill-opacity: 0.8;
}

.blocklyAngleMarks {
  stroke: #444;
  stroke-width: 1;
}

.blocklyAngleGauge {
  fill: #f88;
  fill-opacity: 0.8;
  pointer-events: none;
}

.blocklyAngleLine {
  stroke: #f00;
  stroke-width: 2;
  stroke-linecap: round;
  pointer-events: none;
}
`);var mm;(function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"})(mm||(mm={}));var Mu=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=Mu.CHECK_CHAR,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(Mu);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();Be(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||Mu.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};Mu.CHECK_CHAR="",Dr("field_checkbox",Mu),Mu.prototype.DEFAULT_VALUE=!1;var Mn=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.highlightedIndex=this.picker=null,this.boundEvents=[],this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles=this.colours=null,this.columns=0,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.colourOptions&&(this.colours=e.colourOptions),e.colourTitles&&(this.titles=e.colourTitles),e.columns&&(this.columns=e.columns)}initView(){this.size_=new Yt(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1",this.getBorderRect().setAttribute("stroke","#fff"),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new ho;const t=this.getConstants();return e.isSimpleReporter()&&!(t==null||!t.FIELD_COLOUR_FULL_BLOCK)}applyColour(){const e=this.getSourceBlock();if(!e)throw new ho;if(this.fieldGroup_){var t=this.borderRect_;if(!t)throw Error("The border rect has not been initialized");this.isFullBlockField()?(t.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getValue()),e.pathObject.svgPath.setAttribute("stroke","#fff")):(t.style.display="block",t.style.fill=this.getValue())}}getSize(){let e;return(e=this.getConstants())!=null&&e.FIELD_COLOUR_FULL_BLOCK&&(this.render_(),this.isDirty_=!1),super.getSize()}render_(){super.render_();const e=this.getSourceBlock();if(!e)throw new ho;e.applyColour()}updateSize_(e){var t=this.getConstants();this.isFullBlockField()?(e=2*(e??0),t=t.FIELD_TEXT_HEIGHT):(e=t.FIELD_COLOUR_DEFAULT_WIDTH,t=t.FIELD_COLOUR_DEFAULT_HEIGHT),this.size_.height=t,this.size_.width=e,this.positionBorderRect_()}doClassValidation_(e){return typeof e!="string"?null:ps(e)}getText(){let e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}setColours(e,t){return this.colours=e,t&&(this.titles=t),this}setColumns(e){return this.columns=e,this}showEditor_(){this.dropdownCreate(),fl().appendChild(this.picker),Gc(this,this.dropdownDispose.bind(this)),this.picker.focus({preventScroll:!0})}onClick(e){e=(e=e.target)&&e.getAttribute("data-colour"),e!==null&&(this.setValue(e),Ca(this))}onKeyDown(e){let t=!0;var o;switch(e.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":(o=this.getHighlighted())&&(o=o.getAttribute("data-colour"),o!==null&&this.setValue(o)),Nr();break;default:t=!1}t&&e.stopPropagation()}moveHighlightBy(e,t){if(this.highlightedIndex){var o=this.colours||Mn.COLOURS,a=this.columns||Mn.COLUMNS,d=this.highlightedIndex%a,m=Math.floor(this.highlightedIndex/a);d+=e,m+=t,0>e?0>d&&0<m?(d=a-1,m--):0>d&&(d=0):0<e?d>a-1&&m<Math.floor(o.length/a)-1?(d=0,m++):d>a-1&&d--:0>t?0>m&&(m=0):0<t&&m>Math.floor(o.length/a)-1&&(m=Math.floor(o.length/a)-1),this.setHighlightedCell(this.picker.childNodes[m].childNodes[d],m*a+d)}}onMouseMove(e){const t=(e=e.target)&&Number(e.getAttribute("data-index"));t!==null&&t!==this.highlightedIndex&&this.setHighlightedCell(e,t)}onMouseEnter(){let e;(e=this.picker)==null||e.focus({preventScroll:!0})}onMouseLeave(){var e;(e=this.picker)==null||e.blur(),(e=this.getHighlighted())&&ht(e,"blocklyColourHighlighted")}getHighlighted(){if(!this.highlightedIndex)return null;const e=this.columns||Mn.COLUMNS,t=this.picker.childNodes[Math.floor(this.highlightedIndex/e)];return t?t.childNodes[this.highlightedIndex%e]:null}setHighlightedCell(e,t){const o=this.getHighlighted();o&&ht(o,"blocklyColourHighlighted"),Be(e,"blocklyColourHighlighted"),this.highlightedIndex=t,(e=e.getAttribute("id"))&&this.picker&&oo(this.picker,so.ACTIVEDESCENDANT,e)}dropdownCreate(){const e=this.columns||Mn.COLUMNS,t=this.colours||Mn.COLOURS,o=this.titles||Mn.TITLES,a=this.getValue(),d=document.createElement("table");d.className="blocklyColourTable",d.tabIndex=0,d.dir="ltr",pn(d,Tr.GRID),oo(d,so.EXPANDED,!0),oo(d,so.ROWCOUNT,Math.floor(t.length/e)),oo(d,so.COLCOUNT,e);let m;for(let C=0;C<t.length;C++){C%e===0&&(m=document.createElement("tr"),pn(m,Tr.ROW),d.appendChild(m));const G=document.createElement("td");m.appendChild(G),G.setAttribute("data-colour",t[C]),G.title=o[C]||t[C],G.id=oe(),G.setAttribute("data-index",`${C}`),pn(G,Tr.GRIDCELL),oo(G,so.LABEL,t[C]),oo(G,so.SELECTED,t[C]===a),G.style.backgroundColor=t[C],t[C]===a&&(G.className="blocklyColourSelected",this.highlightedIndex=C)}this.boundEvents.push(Ce(d,"pointerdown",this,this.onClick,!0)),this.boundEvents.push(Ce(d,"pointermove",this,this.onMouseMove,!0)),this.boundEvents.push(Ce(d,"pointerenter",this,this.onMouseEnter,!0)),this.boundEvents.push(Ce(d,"pointerleave",this,this.onMouseLeave,!0)),this.boundEvents.push(Ce(d,"keydown",this,this.onKeyDown,!1)),this.picker=d}dropdownDispose(){for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.highlightedIndex=this.picker=null}static fromJson(e){return new this(e.colour,void 0,e)}};Mn.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Mn.TITLES=[],Mn.COLUMNS=7,Mn.prototype.DEFAULT_VALUE=Mn.COLOURS[0],Dr("field_colour",Mn),dt(`
.blocklyColourTable {
  border-collapse: collapse;
  display: block;
  outline: none;
  padding: 1px;
}

.blocklyColourTable>tr>td {
  border: 0.5px solid #888;
  box-sizing: border-box;
  cursor: pointer;
  display: inline-block;
  height: 20px;
  padding: 0;
  width: 20px;
}

.blocklyColourTable>tr>td.blocklyColourHighlighted {
  border-color: #eee;
  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);
  position: relative;
}

.blocklyColourSelected, .blocklyColourSelected:hover {
  border-color: #eee !important;
  outline: 1px solid #333;
  position: relative;
}
`);var Fb=class extends Au{constructor(e,t,o){super(String(e??""),t,o),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Ut(e.text),void 0,e)}};Dr("field_label_serializable",Fb);var p_=class extends bh{constructor(e,t,o){super(It.SKIP_SETUP),this.textGroup=null,this.maxLines_=1/0,this.isOverflowedY_=!1,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.maxLines&&this.setMaxLines(e.maxLines)}toXml(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}fromXml(e){this.setValue(e.textContent.replace(/&#10;/g,`
`))}saveState(){const e=this.saveLegacyState(p_);return e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(It,e)||this.setValue(e)}initView(){this.createBorderRect_(),this.textGroup=ce(V.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const e=this.getSourceBlock();if(!e)throw new ho;let t=this.getText();if(!t)return It.NBSP;const o=t.split(`
`);t="";const a=this.isOverflowedY_?this.maxLines_:o.length;for(let d=0;d<a;d++){let m=o[d];m.length>this.maxDisplayLength?m=m.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&d===a-1&&(m=m.substring(0,m.length-3)+"..."),m=m.replace(/\s/g,It.NBSP),t+=m,d!==a-1&&(t+=`
`)}return e.RTL&&(t+=""),t}doValueUpdate_(e){super.doValueUpdate_(e),this.value_!==null&&(this.isOverflowedY_=this.value_.split(`
`).length>this.maxLines_)}render_(){var e=this.getSourceBlock();if(!e)throw new ho;for(var t,o=this.textGroup;t=o.firstChild;)o.removeChild(t);t=this.getDisplayText_().split(`
`);let a=0;for(let d=0;d<t.length;d++){const m=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;ce(V.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:a+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},o).appendChild(document.createTextNode(t[d])),a+=m}this.isBeingEdited_&&(o=this.htmlInput_,this.isOverflowedY_?Be(o,"blocklyHtmlTextAreaInputOverflowedY"):ht(o,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(e.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(ht(e,"blocklyInvalidInput"),oo(e,so.INVALID,!1)):(Be(e,"blocklyInvalidInput"),oo(e,so.INVALID,!0)))}updateSize_(){var e=this.textGroup.childNodes;const t=this.getConstants().FIELD_TEXT_FONTSIZE,o=this.getConstants().FIELD_TEXT_FONTWEIGHT,a=this.getConstants().FIELD_TEXT_FONTFAMILY;let d=0,m=0;for(var C=0;C<e.length;C++){var G=pe(e[C],t,o,a);G>d&&(d=G),m+=this.getConstants().FIELD_TEXT_HEIGHT+(0<C?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=String(this.value_).split(`
`),C=ce(V.TEXT,{class:"blocklyText blocklyMultilineText"}),G=0;G<e.length;G++){e[G].length>this.maxDisplayLength&&(e[G]=e[G].substring(0,this.maxDisplayLength)),C.textContent=e[G];const ye=pe(C,t,o,a);ye>d&&(d=ye)}d+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(m+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,d+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",`${d}`),this.borderRect_.setAttribute("height",`${m}`)),this.size_.width=d,this.size_.height=m,this.positionBorderRect_()}showEditor_(e,t){super.showEditor_(e,t),this.forceRerender()}widgetCreate_(){const e=ul(),t=this.workspace_.getScale(),o=document.createElement("textarea");o.className="blocklyHtmlInput blocklyHtmlTextAreaInput",o.setAttribute("spellcheck",String(this.spellcheck_));var a=this.getConstants().FIELD_TEXT_FONTSIZE*t+"pt";e.style.fontSize=a,o.style.fontSize=a,o.style.borderRadius=bh.BORDERRADIUS*t+"px",a=this.getConstants().FIELD_BORDER_RECT_X_PADDING*t;const d=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*t/2;return o.style.padding=d+"px "+a+"px "+d+"px "+a+"px",a=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o.style.lineHeight=a*t+"px",e.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.setAttribute("data-untyped-default-value",String(this.value_)),o.setAttribute("data-old-value",""),Zd?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o}setMaxLines(e){typeof e=="number"&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(e){e.key!=="Enter"&&super.onHtmlInputKeyDown_(e)}static fromJson(e){return new this(Ut(e.text),void 0,e)}};Dr("field_multilinetext",p_),dt(`
.blocklyHtmlTextAreaInput {
  font-family: monospace;
  resize: none;
  overflow: hidden;
  height: 100%;
  text-align: left;
}

.blocklyHtmlTextAreaInputOverflowedY {
  overflow-y: scroll;
}
`);var f_=class extends gf{constructor(e,t,o,a,d,m){super(It.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==It.SKIP_SETUP&&(m?this.configure_(m):this.setConstraints(t,o,a),this.setValue(e),d&&this.setValidator(d))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,o){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(o),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.indexOf("e")!==-1&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const o=t.indexOf(".");this.decimalPlaces=o===-1?e?0:null:t.length-o-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,oo(e,so.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,oo(e,so.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Dr("field_number",f_),f_.prototype.DEFAULT_VALUE=0;var mf=class extends Fs{constructor(e,t,o,a,d){super(It.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=mf.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Yt(0,0),e!==It.SKIP_SETUP&&(d?this.configure_(d):this.setTypes(o,a),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new ho;this.variable||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new ho;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new ho;const o=e.getAttribute("id"),a=e.textContent,d=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,o,a,d),d!==null&&d!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+Yn(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var t=this.saveLegacyState(mf);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new ho;this.loadLegacyState(mf,e)||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new ho;return t=n.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new ho;this.variable=n.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let o=0;o<t.length;o++)if(e===t[o])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,t=""){if(Array.isArray(e)){let o=!1;for(let a=0;a<e.length;a++)e[a]===t&&(o=!0);if(!o)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===Le){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===xe){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Ut(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var o=this.getVariableTypes(),a=0;a<o.length;a++){const d=this.sourceBlock_.workspace.getVariablesOfType(o[a]);t=t.concat(d)}for(t.sort(xs.compareByName),o=[],a=0;a<t.length;a++)o[a]=[t[a].name,t[a].getId()];return o.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,Le]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&o.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),xe]),o}};Dr("field_variable",mf);var ss=class{constructor(e,t,o,a){this.workspace=e,this.targetWorkspace=t,this.isLabel_=a,this.onMouseUpWrapper=null,this.height=this.width=0,this.svgText=this.svgGroup=null,this.text=o.text,this.position=new Me(0,0),this.callbackKey=o.callbackKey||o.callbackkey,this.cssClass=o["web-class"]||null,this.info=o}createDom(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=ce(V.G,{class:e},this.workspace.getCanvas());let t;this.isLabel_||(t=ce(V.RECT,{class:"blocklyFlyoutButtonShadow",rx:ss.BORDER_RADIUS,ry:ss.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=ce(V.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:ss.BORDER_RADIUS,ry:ss.BORDER_RADIUS},this.svgGroup);const o=ce(V.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var a=Ut(this.text);this.workspace.RTL&&(a+=""),o.textContent=a,this.isLabel_&&(this.svgText=o,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const d=No(o,"fontSize"),m=No(o,"fontWeight"),C=No(o,"fontFamily");if(this.width=Xe(o,d,m,C),a=_t(a,d,m,C),this.height=a.height,!this.isLabel_){this.width+=2*ss.TEXT_MARGIN_X,this.height+=2*ss.TEXT_MARGIN_Y;let G;(G=t)==null||G.setAttribute("width",String(this.width));let ye;(ye=t)==null||ye.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),o.setAttribute("x",String(this.width/2)),o.setAttribute("y",String(this.height/2-a.height/2+a.baseline)),this.updateTransform(),this.onMouseUpWrapper=Ce(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}isLabel(){return this.isLabel_}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper&&He(this.onMouseUpWrapper),this.svgGroup&&at(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isLabel_||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};ss.TEXT_MARGIN_X=5,ss.TEXT_MARGIN_Y=2,ss.BORDER_RADIUS=4,dt(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var Ub=class extends t_{constructor(e,t){super(e),this.flyout_=t}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,o){return t=o||this.getContentMetrics(),o=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*o)/e,width:(t.width+t.left+o)/e,top:0,left:0}}},Eh;(function(e){e.BLOCK="block",e.BUTTON="button"})(Eh||(Eh={}));var $m=class extends um{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new ns(e),this.workspace_.setMetricsManager(new Ub(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=$e(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=ce(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=ce(V.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new e_(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(Ce(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(Ce(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[Ao.Capability.AUTOHIDEABLE,Ao.Capability.DELETE_AREA,Ao.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&at(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}isVisible(){return this.isVisible_}setVisible(e){const t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,o,a){let d;(d=this.svgGroup_)==null||d.setAttribute("width",`${e}`);let m;(m=this.svgGroup_)==null||m.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&b(this.svgGroup_,"translate("+o+"px,"+a+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(o,a),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)He(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Wn(e),e=this.createFlyoutInfo(e),Yr(this.workspace_),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const t=[],o=[];this.permanentlyDisabled.length=0;const a=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of e){if("custom"in d){e=this.getDynamicCategoryContents(d.custom),e=Wn(e);const{contents:m,gaps:C}=this.createFlyoutInfo(e);t.push(...m),o.push(...C)}switch(d.kind.toUpperCase()){case"BLOCK":e=d;const m=this.createFlyoutBlock(e);t.push({type:Eh.BLOCK,block:m}),this.addBlockGap(e,o,a);break;case"SEP":this.addSeparatorGap(d,o,a);break;case"LABEL":e=this.createButton(d,!0),t.push({type:Eh.BUTTON,button:e}),o.push(a);break;case"BUTTON":e=this.createButton(d,!1),t.push({type:Eh.BUTTON,button:e}),o.push(a)}}return{contents:t,gaps:o}}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,t){return new ss(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock(e){let t;return e.blockxml?(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=yi(e,this.workspace_))):(t=this.getRecycledBlock(e.type),t||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),t=us(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled.push(t),t}getRecycledBlock(e){let t=-1;for(let o=0;o<this.recycledBlocks.length;o++)if(this.recycledBlocks[o].type===e){t=o;break}return t===-1?void 0:this.recycledBlocks.splice(t,1)[0]}addBlockGap(e,t,o){let a;e.gap?a=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,a=parseInt(e.getAttribute("gap"))),t.push(!a||isNaN(a)?o:a)}addSeparatorGap(e,t,o){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(o)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let o=0,a;a=e[o];o++)this.blockIsRecyclable_(a)?this.recycleBlock(a):a.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const o=this.mats[e];o&&(Aa(o),at(o))}this.mats.length=0;for(let o=0,a;a=this.buttons_[o];o++)a.dispose();this.buttons_.length=0;let t;(t=this.workspace_.getPotentialVariableMap())==null||t.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}addBlockListeners_(e,t,o){this.listeners.push(Ce(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(Ce(o,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(gt(e,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(gt(e,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()})),this.listeners.push(gt(o,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(gt(o,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()}))}blockMouseDown(e){return t=>{const o=this.targetWorkspace.getGesture(t);o&&(o.setStartBlock(e),o.handleFlyoutStart(t,this))}}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;n.disable$$module$build$src$core$events$utils();var o=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=pa(this.targetWorkspace,o),U()){for(n.setGroup$$module$build$src$core$events$utils(!0),o=0;o<e.length;o++){const a=e[o];Y(new(ge(Di))(a))}Y(new(ge(n.CREATE$$module$build$src$core$events$utils))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}initFlyoutButton_(e,t,o){const a=e.createDom();e.moveTo(t,o),e.show(),this.listeners.push(Ce(a,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,t,o,a,d){return t=ce(V.RECT,{"fill-opacity":0,x:t,y:o,height:a.height,width:a.width}),t.tooltip=e,Wt(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[d]=t}moveRectToBlock_(e,t){const o=t.getHeightWidth();e.setAttribute("width",String(o.width)),e.setAttribute("height",String(o.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-o.width:t.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let t=0,o;o=e[t];t++)if(this.permanentlyDisabled.indexOf(o)===-1){const a=this.targetWorkspace.isCapacityAvailable(Q(o));for(;o;)o.setEnabled(a),o=o.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const o=hn(e);return t.setResizesEnabled(!1),t=Kn(o,t),this.positionNewBlock(e,t),t}positionNewBlock(e,t){const o=this.targetWorkspace;var a=o.getOriginOffsetInPixels(),d=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),d=Me.sum(d,e),a=Me.difference(d,a),a.scale(1/o.scale),t.moveTo(new Me(a.x,a.y))}};$m.FlyoutItemType=Eh;var Hb=class extends $m{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),o=t.getScrollMetrics(),a=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(o.left+(o.width-a.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),o=e.getViewMetrics();e=e.getToolboxMetrics();const a=this.toolboxPosition_===pt.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?a?e.height:o.height-this.height_:a?0:o.height:a?0:o.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const o=this.toolboxPosition_===pt.TOP,a=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(a.push("h",e+2*this.CORNER_RADIUS),a.push("v",t),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",-e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),a.push("h",e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",t),a.push("h",-e-2*this.CORNER_RADIUS)),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=ft(e);if(t=t.x||t.y){const o=this.workspace_.getMetricsManager(),a=o.getScrollMetrics();t=o.getViewMetrics().left-a.left+t;let d;(d=this.workspace_.scrollbar)==null||d.setX(t),qr(),Nr()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const o=this.MARGIN;let a=o+this.tabWidth_;this.RTL&&(e=e.reverse());for(let G=0,ye;ye=e[G];G++)if(ye.type==="block"){var d=ye.block,m=d.getDescendants(!1);for(let $o=0,po;po=m[$o];$o++)po.isInFlyout=!0;m=d.getSvgRoot();const We=d.getHeightWidth();var C=d.outputConnection?this.tabWidth_:0;C=this.RTL?a+We.width:a-C,d.moveBy(C,o),C=this.createRect_(d,C,o,We,G),a+=We.width+t[G],this.addBlockListeners_(m,d,C)}else ye.type==="button"&&(d=ye.button,this.initFlyoutButton_(d,a,o),a+=d.width+t[G])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===pt.TOP?new Dt(-1e9,t+e.height,-1e9,1e9):new Dt(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let a=0,d;d=t[a];a++)e=Math.max(e,d.getHeightWidth().height);const o=this.buttons_;for(let a=0,d;d=o[a];a++)e=Math.max(e,d.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=Io.scrollbarThickness,this.height_!==e){for(let a=0,d;d=t[a];a++)this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==pt.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};c(Re.FLYOUTS_HORIZONTAL_TOOLBOX,kr,Hb);var g_=class extends $m{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),o=t.getScrollMetrics(),a=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(o.top+(o.height-a.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),o=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===pt.LEFT?e.width:o.width-this.width_:this.toolboxPosition_===pt.LEFT?0:o.width:this.toolboxPosition_===pt.LEFT?0:o.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const o=this.toolboxPosition_===pt.RIGHT;var a=e+this.CORNER_RADIUS;a=["M "+(o?a:0)+",0"],a.push("h",o?-e:e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",Math.max(0,t)),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",o?e:-e),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=ft(e);if(t.y){const o=this.workspace_.getMetricsManager(),a=o.getScrollMetrics();t=o.getViewMetrics().top-a.top+t.y;let d;(d=this.workspace_.scrollbar)==null||d.setY(t),qr(),Nr()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var o=this.MARGIN;const a=this.RTL?o:o+this.tabWidth_;for(let G=0,ye;ye=e[G];G++)if(ye.type==="block"){var d=ye.block,m=d.getDescendants(!1);for(let $o=0,po;po=m[$o];$o++)po.isInFlyout=!0;m=d.getSvgRoot();const We=d.getHeightWidth();var C=d.outputConnection?a-this.tabWidth_:a;d.moveBy(C,o),C=this.createRect_(d,this.RTL?C-We.width:C,o,We,G),this.addBlockListeners_(m,d,C),o+=We.height+t[G]}else ye.type==="button"&&(d=ye.button,this.initFlyoutButton_(d,a,o),o+=d.height+t[G])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===pt.LEFT?new Dt(-1e9,1e9,-1e9,t+e.width):new Dt(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let a=0,d;d=t[a];a++){var o=d.getHeightWidth().width;d.outputConnection&&(o-=this.tabWidth_),e=Math.max(e,o)}for(let a=0,d;d=this.buttons_[a];a++)e=Math.max(e,d.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=Io.scrollbarThickness,this.width_!==e){for(let a=0,d;d=t[a];a++){if(this.RTL){o=d.getRelativeToSurfaceXY().x;let m=e/this.workspace_.scale-this.MARGIN;d.outputConnection||(m-=this.tabWidth_),d.moveBy(m-o,0)}this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d)}if(this.RTL)for(let a=0,d;d=this.buttons_[a];a++)t=d.getPosition().y,d.moveTo(e/this.workspace_.scale-d.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==pt.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};g_.registryName="verticalFlyout",c(Re.FLYOUTS_VERTICAL_TOOLBOX,kr,g_);var Gb;n.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=B());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let o=0,a;a=e[o];o++){let d=this.blockToCode(a);Array.isArray(d)&&(d=d[0]),d&&(a.outputConnection&&(d=this.scrubNakedValue(d),this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&(d=this.injectId(this.STATEMENT_PREFIX,a)+d),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(d+=this.injectId(this.STATEMENT_SUFFIX,a))),t.push(d))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let o=0;o<e.length;o++){const a=e[o].getCommentText();a&&t.push(a)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var o=this.forBlock[e.type];if(!o&&this[e.type]&&(Pe("block generator functions on CodeGenerator objects","10.0","11.0","the .forBlock[blockType] dictionary"),o=this[e.type]),typeof o!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(o=o.call(e,e,this),Array.isArray(o)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,o[0],t),o[1]]}if(typeof o=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,e)+o),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,o,t);if(o===null)return"";throw SyntaxError("Invalid code generated: "+o)}valueToCode(e,t,o){if(isNaN(o))throw TypeError("Expecting valid order from block: "+e.type);var a=e.getInputTargetBlock(t);if(!a||(t=this.blockToCode(a),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${a.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+a.type);if(!e)return"";a=!1;var d=Math.floor(o);const m=Math.floor(t);if(d<=m&&(d!==m||d!==0&&d!==99)){for(a=!0,d=0;d<this.ORDER_OVERRIDES.length;d++)if(this.ORDER_OVERRIDES[d][0]===o&&this.ORDER_OVERRIDES[d][1]===t){a=!1;break}}return a&&(e="("+e+")"),e}statementToCode(e,t){if(e=e.getInputTargetBlock(t),t=this.blockToCode(e),typeof t!="string")throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const o=this.nameDB_.getDistinctName(e,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=o,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);let a;for(;a!==t;)a=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,n.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,n.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,o){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Gb={},Gb.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var Vb=!1,dc={};dc.Align=n.Align$$module$build$src$core$inputs$align,dc.DummyInput=Gs,dc.EndRowInput=ra,dc.Input=Hs,dc.StatementInput=Nn,dc.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,dc.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var Wb="The insertion marker previewer tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",zb=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,o){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=o,o.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{n.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{n.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===je.PREVIOUS_STATEMENT||t.type===je.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof h_)}previewMarker(e,t){const o=e.getSourceBlock(),a=this.createInsertionMarker(o),d=this.getMatchingConnection(o,a,e);if(!d)throw Error("Could not create insertion marker to preview connection");a.queueRender(),Yr(),d.connect(t);const m={x:t.x-d.x,y:t.y-d.y},C=d.getOffsetInBlock().clone();return At().then(()=>{a==null||a.positionNearConnection(d,m,C),a==null||a.getSvgRoot().setAttribute("visibility","visible")}),d}createInsertionMarker(e){const t=this.workspace.newBlock(e.type);if(t.setInsertionMarker(!0),e.saveExtraState){var o=e.saveExtraState(!0);o&&t.loadExtraState&&t.loadExtraState(o)}else e.mutationToDom&&(o=e.mutationToDom())&&t.domToMutation&&t.domToMutation(o);for(o=0;o<e.inputList.length;o++){const a=e.inputList[o];if(a.name===xu)continue;const d=t.inputList[o];if(!d)throw Error(Wb.replace("%1","an input"));for(let m=0;m<a.fieldRow.length;m++){const C=a.fieldRow[m],G=d.fieldRow[m];if(!G)throw Error(Wb.replace("%1","a field"));G.setValue(C.getValue())}}for(const a of t.getDescendants(!1))a.setInsertionMarker(!0);return t.setCollapsed(e.isCollapsed()),t.setInputsInline(e.getInputsInline()),t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden"),t}getMatchingConnection(e,t,o){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let a=0;a<e.length;a++)if(e[a]===o)return t[a];return null}hidePreview(){n.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{n.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),o=t.outputConnection;let a;if((a=t.previousConnection)!=null&&a.targetConnection||o!=null&&o.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};c(Re.CONNECTION_PREVIEWER,kr,zb);var jb=class extends af{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Xb=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=Qt(e.xPos,this.info_.startY);for(let t=0,o;o=e.elements[t];t++)ee.isLeftSquareCorner(o)?this.steps_+=this.highlightConstants_.START_POINT:ee.isLeftRoundedCorner(o)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):ee.isPreviousConnection(o)?this.steps_+=this.notchPaths_.pathLeft:ee.isHat(o)?this.steps_+=this.startPaths_.path(this.RTL_):ee.isSpacer(o)&&o.width!==0&&(this.steps_+=Ve("H",o.xPos+o.width-this.highlightOffset));this.steps_+=Ve("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Ve("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const o=e.height-t.connectionHeight;this.steps_+=Ro(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ve("v",o)}else this.steps_+=Ro(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const o=e.height-2*this.insideCornerPaths_.height;this.steps_+=Ro(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Ve("v",o)+this.insideCornerPaths_.pathBottom(this.RTL_)+gn(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=Ro(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+gn(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof F$&&e.followsStatement&&(this.steps_+=Ve("H",t)),this.RTL_&&(this.steps_+=Ve("H",t),e.height>this.highlightOffset&&(this.steps_+=Ve("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=Ve("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];ee.isLeftSquareCorner(t)?this.steps_+=Ro(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):ee.isLeftRoundedCorner(t)&&(this.steps_+=Ro(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=Ro(this.info_.startX,e):(this.steps_+=Ro(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=Ve("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,ee.isLeftRoundedCorner(e.elements[0])?this.steps_+=Ve("V",this.outsideCornerPaths_.height):this.steps_+=Ve("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,o=e.xPos+e.connectionWidth;var a=e.centerline-e.height/2;const d=e.width-e.connectionWidth,m=a+t;this.RTL_?(a=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=Ro(o-t,m)+Ve("v",a)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ve("v",e)+Ve("h",d)):this.inlineSteps_+=Ro(e.xPos+e.width+t,m)+Ve("v",e.height)+Ve("h",-d)+Ro(o,a+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Yb=class extends cf{constructor(e,t){super(e,t),this.highlighter_=new Xb(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=Ve("H",e.xPos+e.width)+Ve("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let o=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let o=e.xPos+e.statementEdge+t.notchOffset;o=this.info_.RTL?-1*o:o+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(o,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let o=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,o=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-o:o)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},Kb=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=Qt(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,o=(1-Math.SQRT1_2)*(e+t)-t,a=Qt(o,o)+no("a","0 0,0",e,et(-o-t,e-o)),d=no("a","0 0,0",e+t,et(e+t,e+t)),m=Qt(o,-o)+no("a","0 0,0",e+t,et(e-o,o+t));return{width:e+t,height:e,pathTop(C){return C?a:""},pathBottom(C){return C?d:m}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,o=(1-Math.SQRT1_2)*(e-t)+t,a=Qt(o,o)+no("a","0 0,1",e-t,et(e-o,-o+t)),d=Qt(t,e)+no("a","0 0,1",e-t,et(e,-e+t)),m=-o,C=Qt(o,m)+no("a","0 0,1",e-t,et(-o+t,-m-e));return{height:e,topLeft(G){return G?a:d},bottomLeft(){return C}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,o=Qt(-2,-t+3.4)+gn(-.45*e,-2.1),a=Ve("v",2.5)+Qt(.97*-e,2.5)+ko("q",[et(.05*-e,10),et(.3*e,9.5)])+Qt(.67*e,-1.9)+Ve("v",2.5),d=Ve("v",-1.5)+Qt(-.92*e,-.5)+ko("q",[et(-.19*e,-5.5),et(0,-11)])+Qt(.92*e,1),m=Qt(-5,t-.7)+gn(.46*e,-2.1);return{width:e,height:t,pathUp(C){return C?o:d},pathDown(C){return C?a:m}}}makeNotch(){return{pathLeft:Ve("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:gn(5.1,2.6)+Qt(-10.2,6.8)+gn(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=Qt(25,-8.7)+ko("c",[et(29.7,-6.2),et(57.2,-.5),et(75,8.7)]),o=ko("c",[et(17.8,-9.2),et(45.3,-14.9),et(75,-8.7)])+Ro(100.5,e+.5);return{path(a){return a?t:o}}}},Jb=class extends P${constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},qb=class extends nf{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Qb=class extends gh{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof Nn||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Jb(this.constants_,e)),t.hasInlineInput=!0):e instanceof Nn?(t.elements.push(new qb(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new lm(this.constants_,e)),t.hasExternalInput=!0):(e instanceof Gs||e instanceof ra)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let o=0,a;a=this.rows[o];o++)a.hasExternalInput&&(e=!0);for(let o=0,a;a=this.rows[o];o++){var t=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new Ln(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let d=0;d<t.length-1;d++){a.elements.push(t[d]);const m=this.getInRowSpacing_(t[d],t[d+1]);a.elements.push(new Ln(this.constants_,m))}a.elements.push(t[t.length-1]),a.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&a.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),a.elements.push(new Ln(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&ee.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&ee.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&ee.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!ee.isInput(e)&&(!t||ee.isStatementInput(t)))return ee.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:ee.isIcon(e)?2*this.constants_.LARGE_PADDING+1:ee.isHat(e)?this.constants_.NO_PADDING:ee.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:ee.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:ee.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(ee.isInput(e)&&!t){if(ee.isExternalInput(e))return this.constants_.NO_PADDING;if(ee.isInlineInput(e))return this.constants_.LARGE_PADDING;if(ee.isStatementInput(e))return this.constants_.NO_PADDING}if(!ee.isInput(e)&&t&&ee.isInput(t)){if(ee.isField(e)&&e.isEditable){if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(ee.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(ee.isIcon(e)&&t&&!ee.isInput(t))return this.constants_.LARGE_PADDING;if(ee.isInlineInput(e)&&t&&ee.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(ee.isLeftSquareCorner(e)&&t){if(ee.isHat(t))return this.constants_.NO_PADDING;if(ee.isPreviousConnection(t))return t.notchOffset;if(ee.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(ee.isLeftRoundedCorner(e)&&t){if(ee.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(ee.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return ee.isField(e)&&t&&ee.isField(t)&&e.isEditable===t.isEditable||t&&ee.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return ee.isTopRow(e)&&ee.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:ee.isTopRow(e)||ee.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(ee.isSpacer(t))return e.yPos+t.height/2;if(ee.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,ee.isNextConnection(t)?e+t.height/2:e-t.height/2;if(ee.isTopRow(e))return ee.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let o=e.yPos;return ee.isField(t)||ee.isIcon(t)?(o+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(o+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):o=ee.isInlineInput(t)?o+t.height/2:o+e.height/2,o}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,o=null;for(let a=this.rows.length-1,d;d=this.rows[a];a--)t.set(d,e),ee.isInputRow(d)&&(d.hasStatement&&this.alignStatementRow_(d),o&&o.hasStatement&&d.width<o.width?t.set(d,o.width):e=d.hasStatement?d.width:Math.max(e,d.width),o=d);e=0;for(let a=0,d;d=this.rows[a];a++)d.hasStatement?e=this.getDesiredRowWidth_(d):ee.isSpacer(d)?d.width=Math.max(e,t.get(d)):(o=d.width,e=Math.max(e,t.get(d))-o,0<e&&this.addAlignmentPadding_(d,e),e=d.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let a=0,d;d=this.rows[a];a++){d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var o=t-this.topRow.ascenderHeight;d===this.bottomRow&&o<this.constants_.MIN_BLOCK_HEIGHT&&(o=this.constants_.MIN_BLOCK_HEIGHT-o,this.bottomRow.height+=o,t+=o),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,o.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Zb=class extends am{constructor(e,t,o){super(e,t,o),this.constants=o,this.colourDark="#000000",this.svgPathDark=ce(V.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=ce(V.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Ci("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},eE=class extends uf{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new jb}makeRenderInfo_(e){return new Qb(this,e)}makeDrawer_(e,t){return new Yb(e,t)}makePathObject(e,t){return new Zb(e,t,this.getConstants())}makeHighlightConstants_(){return new Kb(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};_s("geras",eE);var js={};js.ConstantProvider=jb,js.Drawer=Yb,js.HighlightConstantProvider=Kb,js.Highlighter=Xb,js.InlineInput=Jb,js.PathObject=Zb,js.RenderInfo=Qb,js.Renderer=eE,js.StatementInput=qb;var tE=class extends af{constructor(){super(),Pe("Blockly.minimalist.ConstantProvider","v10","v11","Blockly.blockRendering.ConstantProvider")}},oE=class extends cf{constructor(e,t){super(e,t),Pe("Blockly.minimalist.Drawer","v10","v11","Blockly.blockRendering.Drawer")}},rE=class extends gh{constructor(e,t){super(e,t),Pe("Blockly.minimalist.RenderInfo","v10","v11","Blockly.blockRendering.RenderInfo")}getRenderer(){return this.renderer_}},nE=class extends uf{constructor(e){super(e),Pe("Blockly.minimalist.Renderer","v10","v11","Blockly.blockRendering.Renderer")}makeConstants_(){return new tE}makeRenderInfo_(e){return new rE(this,e)}makeDrawer_(e,t){return new oE(e,t)}};_s("minimalist",nE);var $f={};$f.ConstantProvider=tE,$f.Drawer=oE,$f.RenderInfo=rE,$f.Renderer=nE;var iE=class extends gh{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const a=this.rows[t];var o=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new Ln(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(let d=0;d<o.length-1;d++){a.elements.push(o[d]);const m=this.getInRowSpacing_(o[d],o[d+1]);a.elements.push(new Ln(this.constants_,m))}a.elements.push(o[o.length-1]),a.endsWithElemSpacer()&&(o=this.getInRowSpacing_(o[o.length-1],null),e&&a.hasDummyInput&&(o+=this.constants_.TAB_WIDTH),a.elements.push(new Ln(this.constants_,o)))}}}getInRowSpacing_(e,t){if(!e)return t&&ee.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&ee.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&ee.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!ee.isInput(e)&&!t)return ee.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:ee.isIcon(e)?2*this.constants_.LARGE_PADDING+1:ee.isHat(e)?this.constants_.NO_PADDING:ee.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:ee.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:ee.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(ee.isInput(e)&&!t){if(ee.isExternalInput(e))return this.constants_.NO_PADDING;if(ee.isInlineInput(e))return this.constants_.LARGE_PADDING;if(ee.isStatementInput(e))return this.constants_.NO_PADDING}if(!ee.isInput(e)&&t&&ee.isInput(t)){if(ee.isField(e)&&e.isEditable){if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(ee.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(ee.isIcon(e)&&t&&!ee.isInput(t))return this.constants_.LARGE_PADDING;if(ee.isInlineInput(e)&&t&&ee.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(ee.isLeftSquareCorner(e)&&t){if(ee.isHat(t))return this.constants_.NO_PADDING;if(ee.isPreviousConnection(t)||ee.isNextConnection(t))return t.notchOffset}return ee.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:ee.isField(e)&&t&&ee.isField(t)&&e.isEditable===t.isEditable||t&&ee.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return ee.isTopRow(e)&&ee.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:ee.isTopRow(e)||ee.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(ee.isSpacer(t))return e.yPos+t.height/2;if(ee.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,ee.isNextConnection(t)?e+t.height/2:e-t.height/2;if(ee.isTopRow(e))return ee.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let o=e.yPos;return o=ee.isField(t)&&e.hasStatement?o+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):o+e.height/2}finalize_(){let e=0,t=0;for(var o=0;o<this.rows.length;o++){const d=this.rows[o];d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var a=t-this.topRow.ascenderHeight;d===this.bottomRow&&a<this.constants_.MIN_BLOCK_HEIGHT&&(a=this.constants_.MIN_BLOCK_HEIGHT-a,this.bottomRow.height+=a,t+=a),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,o.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},sE=class extends uf{constructor(e){super(e)}makeRenderInfo_(e){return new iE(this,e)}};_s("thrasos",sE);var m_={};m_.RenderInfo=iE,m_.Renderer=sE;var lI={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},aI={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},cI=new wu("zelos",lI,aI),uI={Classic:tm,Zelos:cI},$_=class{constructor(e,t,o){this.id_=e.toolboxitemid||oe(),this.level_=(this.parent_=o||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},ls=class extends $_{constructor(e,t,o){super(e,t,o),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const o=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(o)}}parseCategoryDef_(e){this.name_="name"in e?Ut(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),pn(this.htmlDiv_,Tr.TREEITEM),oo(this.htmlDiv_,so.SELECTED,!1),oo(this.htmlDiv_,so.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),pn(this.iconDom_,Tr.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&oo(this.htmlDiv_,so.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&Be(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&Be(e,t),t=`${ls.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&Be(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&Be(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&Be(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=ls.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(e=Ut(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=ps(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):Qn(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&bo(e,t),(t=this.cssConfig_.openicon)&&Be(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&bo(e,t),(t=this.cssConfig_.closedicon)&&Be(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const o=this.parseColour_(ls.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||o,t&&Be(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&ht(this.rowDiv_,t);oo(this.htmlDiv_,so.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Wn(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){at(this.htmlDiv_)}};ls.registrationName="category",ls.nestedPadding=19,ls.borderWidth=8,ls.defaultBackgroundColour="#57e",dt(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),c(Re.TOOLBOX_ITEM,ls.registrationName,ls);var _f=class extends $_{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&Be(e,t),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){at(this.htmlDiv_)}};_f.registrationName="sep",dt(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),c(Re.TOOLBOX_ITEM,_f.registrationName,_f);var yh=class extends ls{constructor(e,t,o){super(e,t,o),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let o=0;o<t.length;o++){const a=t[o];!_(Re.TOOLBOX_ITEM,a.kind)||a.kind.toLowerCase()===_f.registrationName&&e?(this.flyoutItems_.push(a),e=!0):(this.createToolboxItem_(a),e=!1)}}}}createToolboxItem_(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&zn(e)&&(t=yh.registrationName),e=new(y(Re.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),pn(this.subcategoriesDiv_,Tr.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),oo(this.htmlDiv_,so.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&Be(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var o=this.cssConfig_.contents;for(o&&Be(t,o),o=0;o<e.length;o++){const a=e[o];a.init();const d=a.getDiv();if(t.appendChild(d),a.getClickTarget){let m;(m=a.getClickTarget())==null||m.setAttribute("id",a.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}oo(this.htmlDiv_,so.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let o=0;o<t.length;o++)t[o].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};yh.registrationName="collapsibleCategory",c(Re.TOOLBOX_ITEM,yh.registrationName,yh);var lE=class extends um{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),jt(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[Ao.Capability.AUTOHIDEABLE,Ao.Capability.DELETE_AREA,Ao.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,pn(this.contentsDiv_,Tr.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),Be(e,"blocklyToolboxDiv"),Be(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return Be(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=Ce(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=Ce(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(Ot(e)||e.target===this.HtmlDiv)B().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),B().hideChaff(!0)}Ne()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext_();break;case"ArrowUp":t=this.selectPrevious_();break;case"ArrowLeft":t=this.selectParent_();break;case"ArrowRight":t=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new ai({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?R(Re.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):R(Re.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let t=0;t<this.contents_.length;t++){const o=this.contents_[t];o&&o.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let o=0;o<e.length;o++)this.createToolboxItem_(e[o],t);this.contentsDiv_.appendChild(t)}createToolboxItem_(e,t){var o=e.kind;o.toUpperCase()==="CATEGORY"&&zn(e)&&(o=yh.registrationName),(o=y(Re.TOOLBOX_ITEM,o.toLowerCase()))&&(e=new o(e,this),e.init(),this.addToolboxItem_(e),(o=e.getDiv())&&t.appendChild(o),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&Be(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&ht(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,o=t+e.height,a=e.left;return e=a+e.width,this.toolboxPosition===pt.TOP?new Dt(-1e7,o,-1e7,1e7):this.toolboxPosition===pt.BOTTOM?new Dt(t,1e7,-1e7,1e7):this.toolboxPosition===pt.LEFT?new Dt(-1e7,1e7,-1e7,e):new Dt(-1e7,1e7,a,1e7)}wouldDelete(e,t){return e instanceof Vs?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===pt.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===pt.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===pt.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===pt.TOP?e.scrollY+t.height:e.scrollY),J(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!Gd(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),oo(this.contentsDiv_,so.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),oo(this.contentsDiv_,so.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,t){const o=e&&e.getName();let a=t&&t.getName();e===t&&(a=null),e=new(ge(Ml))(o,a,this.workspace_.id),Y(e)}selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)He(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),at(this.HtmlDiv))}};dt(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),c(Re.TOOLBOX,kr,lE);var dI="10.4.3",hI=n.Align$$module$build$src$core$inputs$align.LEFT,pI=n.Align$$module$build$src$core$inputs$align.CENTRE,fI=n.Align$$module$build$src$core$inputs$align.RIGHT,gI=je.INPUT_VALUE,mI=je.OUTPUT_VALUE,$I=je.NEXT_STATEMENT,_I=je.PREVIOUS_STATEMENT,TI=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,bI=pt.TOP,EI=pt.BOTTOM,yI=pt.LEFT,vI=pt.RIGHT;df.prototype.newBlock=function(e,t){return new mh(this,e,t)},ns.prototype.newBlock=function(e,t){return new Vs(this,e,t)},ns.newTrashcan=function(e){return new vb(e)},Do.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(bp(this)),t.push(pl(this))),Jn(e,t,this.RTL)}},ea.prototype.newWorkspaceSvg=function(e){return new ns(e)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=bl(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var SI=je,_e={ALIGN_CENTRE:pI,ALIGN_LEFT:hI,ALIGN_RIGHT:fI};return _e.ASTNode=we,_e.BasicCursor=hf,_e.Block=mh,_e.BlockDragger=Ob,_e.BlockSvg=Vs,_e.Blocks=Xt,_e.Bubble=Gt,_e.BubbleDragger=z,_e.COLLAPSED_FIELD_NAME=cm,_e.COLLAPSED_INPUT_NAME=xu,_e.COLLAPSE_CHARS=Z,_e.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,_e.CollapsibleToolboxCategory=yh,_e.ComponentManager=Ao,_e.Connection=Ft,_e.ConnectionChecker=_b,_e.ConnectionDB=wn,_e.ConnectionType=je,_e.ContextMenu=On,_e.ContextMenuItems=Wr,_e.ContextMenuRegistry=St,_e.Css=zp,_e.Cursor=K$,_e.DELETE_VARIABLE_ID=xe,_e.DRAG_STACK=Te,_e.DUMMY_INPUT=TI,_e.DeleteArea=um,_e.DragTarget=yb,_e.DropDownDiv=l,_e.Events=Ye,_e.Extensions=os,_e.Field=It,_e.FieldAngle=vt,_e.FieldCheckbox=Mu,_e.FieldColour=Mn,_e.FieldDropdown=Fs,_e.FieldImage=Nu,_e.FieldLabel=Au,_e.FieldLabelSerializable=Fb,_e.FieldMultilineInput=p_,_e.FieldNumber=f_,_e.FieldTextInput=bh,_e.FieldVariable=mf,_e.Flyout=$m,_e.FlyoutButton=ss,_e.FlyoutMetricsManager=Ub,_e.Generator=n.CodeGenerator$$module$build$src$core$generator,_e.Gesture=Zl,_e.Grid=R$,_e.HorizontalFlyout=Hb,_e.INPUT_VALUE=gI,_e.Input=Hs,_e.InsertionMarkerManager=ui,_e.InsertionMarkerPreviewer=zb,_e.Marker=bb,_e.MarkerManager=tf,_e.Menu=Iu,_e.MenuItem=ef,_e.MetricsManager=t_,_e.Msg=n.Msg$$module$build$src$core$msg,_e.NEXT_STATEMENT=$I,_e.Names=n.Names$$module$build$src$core$names,_e.OPPOSITE_TYPE=Oe,_e.OUTPUT_VALUE=mI,_e.Options=ai,_e.PREVIOUS_STATEMENT=_I,_e.PROCEDURE_CATEGORY_NAME=sm,_e.Procedures=Gr,_e.RENAME_VARIABLE_ID=Le,_e.RenderedConnection=Vr,_e.Scrollbar=Io,_e.ScrollbarPair=e_,_e.ShortcutItems=zs,_e.ShortcutRegistry=Vt,_e.TOOLBOX_AT_BOTTOM=EI,_e.TOOLBOX_AT_LEFT=yI,_e.TOOLBOX_AT_RIGHT=vI,_e.TOOLBOX_AT_TOP=bI,_e.TabNavigateCursor=Eb,_e.Theme=wu,_e.ThemeManager=$b,_e.Themes=uI,_e.Toolbox=lE,_e.ToolboxCategory=ls,_e.ToolboxItem=$_,_e.ToolboxSeparator=_f,_e.Tooltip=An,_e.Touch=Rs,_e.Trashcan=vb,_e.UnattachedFieldError=ho,_e.VARIABLE_CATEGORY_NAME=vu,_e.VARIABLE_DYNAMIC_CATEGORY_NAME=V$,_e.VERSION=dI,_e.VariableMap=j$,_e.VariableModel=xs,_e.Variables=Xo,_e.VariablesDynamic=Lu,_e.VerticalFlyout=g_,_e.WidgetDiv=li,_e.Workspace=df,_e.WorkspaceAudio=Tb,_e.WorkspaceComment=_r,_e.WorkspaceCommentSvg=Do,_e.WorkspaceDragger=ZT,_e.WorkspaceSvg=ns,_e.Xml=vo,_e.ZoomControls=oh,_e.blockAnimations=$,_e.blockRendering=zt,_e.browserEvents=Ui,_e.bubbles=ff,_e.bumpObjects=fm,_e.clipboard=Xl,_e.common=Go,_e.config=n.config$$module$build$src$core$config,_e.connectionTypes=SI,_e.constants=JS,_e.defineBlocksWithJsonArray=ae,_e.dialog=jo,_e.fieldRegistry=rm,_e.geras=js,_e.getMainWorkspace=B,_e.getSelected=X,_e.hasBubble=fn,_e.hideChaff=Ss,_e.icons=ac,_e.inject=Bd,_e.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types,_e.inputs=dc,_e.isCopyable=bs,_e.isIcon=Hd,_e.isObservable=vd,_e.isPaster=pu,_e.isSerializable=dn,_e.isVariableBackedParameterModel=op,_e.minimalist=$f,_e.procedures=Gr,_e.registry=Ni,_e.renderManagement=Rn,_e.serialization=sI,_e.setLocale=As,_e.setParentContainer=F,_e.svgResize=J,_e.thrasos=m_,_e.uiPosition=Hl,_e.utils=wo,_e.zelos=is,Object.defineProperties(_e,{HSV_SATURATION:{get:function(){return Pe("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.getHsvSaturation()"),Na()},set:function(e){Pe("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.setHsvSaturation()"),Yc(e)}},HSV_VALUE:{get:function(){return Pe("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.getHsvValue()"),Ma()},set:function(e){Pe("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.setHsvValue()"),Kc(e)}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:Mo}),_e.__namespace__=n,_e})}(Gm)),Gm.exports}var iM=Hm.exports,Jy;function sM(){return Jy||(Jy=1,function(r,s){(function(n,c){r.exports=c(qT())})(iM,function(n){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(Hm)),Hm.exports}var lM=Um.exports,qy;function QT(){return qy||(qy=1,function(r,s){(function(n,c){r.exports=c(sM())})(lM,function(n){return n})}(Um)),Um.exports}var Vm={exports:{}},aM=Vm.exports,Qy;function cM(){return Qy||(Qy=1,function(r,s){(function(n,c){r.exports=c()})(aM,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1  %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_HELPURL=n.Msg.LISTS_INDEX_OF_HELPURL,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.MATH_HUE="230",n.Msg.LOOPS_HUE="120",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.VARIABLES_HUE="330",n.Msg.TEXTS_HUE="160",n.Msg.PROCEDURES_HUE="290",n.Msg.COLOUR_HUE="20",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg})}(Vm)),Vm.exports}var Wm={exports:{}},zm={exports:{}},uM=zm.exports,Zy;function dM(){return Zy||(Zy=1,function(r,s){(function(n,c){r.exports=c(qT())})(uM,function(n){var c=n.__namespace__,h=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),f={customContextMenu:function(b){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(K={text:c.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:g(this)},te=this.getField("VAR").getText(),te={text:c.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",te),enabled:!0,callback:_(this)},b.unshift(K),b.unshift(te));else{if(this.type==="variables_get_dynamic")var L="variables_set_dynamic",K=c.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else L="variables_get_dynamic",K=c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var te=this.getField("VAR");L={type:L,fields:{VAR:te.saveState(!0)}},b.push({enabled:0<this.workspace.remainingCapacity(),text:K.replace("%1",te.getText()),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,L)})}},onchange:function(b){b=this.getFieldValue("VAR"),b=c.getVariable$$module$build$src$core$variables(this.workspace,b),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(b.type):this.getInput("VALUE").connection.setCheck(b.type)}},g=function(b){return function(){const L=b.workspace,K=b.getField("VAR").getVariable();c.renameVariable$$module$build$src$core$variables(L,K)}},_=function(b){return function(){const L=b.workspace,K=b.getField("VAR").getVariable();L.deleteVariableById(K.getId()),L.refreshToolboxSelection()}};c.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",f),c.defineBlocks$$module$build$src$core$common(h);var y={blocks:h},v=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),I={customContextMenu:function(b){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(K={text:c.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:R(this)},te=this.getField("VAR").getText(),te={text:c.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",te),enabled:!0,callback:N(this)},b.unshift(K),b.unshift(te));else{if(this.type==="variables_get")var L="variables_set",K=c.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else L="variables_get",K=c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var te=this.getField("VAR");L={type:L,fields:{VAR:te.saveState(!0)}},b.push({enabled:0<this.workspace.remainingCapacity(),text:K.replace("%1",te.getText()),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,L)})}}},R=function(b){return function(){const L=b.workspace,K=b.getField("VAR").getVariable();c.renameVariable$$module$build$src$core$variables(L,K)}},N=function(b){return function(){const L=b.workspace,K=b.getField("VAR").getVariable();L.deleteVariableById(K.getId()),L.refreshToolboxSelection()}};c.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",I),c.defineBlocks$$module$build$src$core$common(v);var M={blocks:v},x=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:""},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),A={init:function(){this.WHERE_OPTIONS_1=[[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");var L=this.getInput("AT1")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return b.setAttribute("at1",`${L}`),L=this.getInput("AT2")instanceof c.ValueInput$$module$build$src$core$inputs$value_input,b.setAttribute("at2",`${L}`),b},domToMutation:function(b){const L=b.getAttribute("at1")==="true";b=b.getAttribute("at2")==="true",this.updateAt_(1,L),this.updateAt_(2,b)},updateAt_:function(b,L){this.removeInput("AT"+b),this.removeInput("ORDINAL"+b,!0),L?(this.appendValueInput("AT"+b).setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+b).appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+b),b===2&&c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const K=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+b]});K.setValidator(function(te){const pe=te==="FROM_START"||te==="FROM_END";if(pe!==L){const Xe=this.getSourceBlock();return Xe.updateAt_(b,pe),Xe.setFieldValue(te,"WHERE"+b),null}}),this.getInput("AT"+b).appendField(K,"WHERE"+b),b===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};x.text_getSubstring=A,x.text_changeCase={init:function(){const b=[[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},x.text_trim={init:function(){const b=[[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},x.text_print={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var B={updateType_:function(b){this.outputConnection.setCheck(b==="NUMBER"?"Number":"String")},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("type",this.getFieldValue("TYPE")),b},domToMutation:function(b){this.updateType_(b.getAttribute("type"))}};x.text_prompt_ext=Object.assign({},B,{init:function(){var b=[[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),b=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),b.setValidator(L=>{this.updateType_(L)}),this.appendValueInput("TEXT").appendField(b,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var W=Object.assign({},B,{init:function(){this.mixin(X);var b=[[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),b=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),b.setValidator(L=>{this.updateType_(L)}),this.appendDummyInput().appendField(b,"TYPE").appendField(this.newQuote_(!0)).appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});x.text_prompt=W,x.text_count={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},x.text_replace={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},x.text_reverse={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var X={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(b){for(let L=0,K;K=this.inputList[L];L++)for(let te=0,pe;pe=K.fieldRow[te];te++)if(b===pe.name){K.insertFieldAt(te,this.newQuote_(!0)),K.insertFieldAt(te+2,this.newQuote_(!1));return}console.warn('field named "'+b+'" not found in '+this.toDevString())},newQuote_:function(b){return b=this.RTL?!b:b,c.fromJson$$module$build$src$core$field_registry({type:"field_image",src:b?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:b?"":""})}},H=function(){this.mixin(X),this.quoteField_("TEXT")},P={itemCount_:0,mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("items",`${this.itemCount_}`),b},domToMutation:function(b){this.itemCount_=parseInt(b.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(b){this.itemCount_=b.itemCount,this.updateShape_()},decompose:function(b){const L=b.newBlock("text_create_join_container");L.initSvg();let K=L.getInput("STACK").connection;for(let te=0;te<this.itemCount_;te++){const pe=b.newBlock("text_create_join_item");pe.initSvg(),K.connect(pe.previousConnection),K=pe.nextConnection}return L},compose:function(b){var L=b.getInputTargetBlock("STACK");for(b=[];L;)L.isInsertionMarker()||b.push(L.valueConnection_),L=L.getNextBlock();for(L=0;L<this.itemCount_;L++){const K=this.getInput("ADD"+L).connection.targetConnection;K&&b.indexOf(K)===-1&&K.disconnect()}for(this.itemCount_=b.length,this.updateShape_(),L=0;L<this.itemCount_;L++){let K;(K=b[L])==null||K.reconnect(this,"ADD"+L)}},saveConnections:function(b){b=b.getInputTargetBlock("STACK");let L=0;for(;b;){if(b.isInsertionMarker()){b=b.getNextBlock();continue}const K=this.getInput("ADD"+L);b.valueConnection_=K&&K.connection.targetConnection,b=b.getNextBlock(),L++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var b=0;b<this.itemCount_;b++)if(!this.getInput("ADD"+b)){const L=this.appendValueInput("ADD"+b).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT);b===0&&L.appendField(c.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(b=this.itemCount_;this.getInput("ADD"+b);b++)this.removeInput("ADD"+b)}},F=function(){this.mixin(X),this.itemCount_=2,this.updateShape_(),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};c.register$$module$build$src$core$extensions("text_append_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var J=function(){this.setTooltip(()=>c.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Q={isAt_:!1,mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("at",`${this.isAt_}`),b},domToMutation:function(b){b=b.getAttribute("at")!=="false",this.updateAt_(b)},updateAt_:function(b){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),b&&(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=b}},re=function(){this.getField("WHERE").setValidator(function(b){b=b==="FROM_START"||b==="FROM_END";const L=this.getSourceBlock();b!==L.isAt_&&L.updateAt_(b)}),this.updateAt_(!0),this.setTooltip(()=>{var b=this.getFieldValue("WHERE");let L=c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(b==="FROM_START"||b==="FROM_END")&&(b=b==="FROM_START"?c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(L+="  "+b.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),L})};c.register$$module$build$src$core$extensions("text_indexOf_tooltip",J),c.register$$module$build$src$core$extensions("text_quotes",H),c.registerMixin$$module$build$src$core$extensions("quote_image_mixin",X),c.registerMutator$$module$build$src$core$extensions("text_join_mutator",P,F),c.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Q,re),c.defineBlocks$$module$build$src$core$common(x);var ae={blocks:x},S={},oe={setStatements_:function(b){this.hasStatements_!==b&&(b?(this.appendStatementInput("STACK").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=b)},updateParams_:function(){let b="";this.arguments_.length&&(b=c.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),c.disable$$module$build$src$core$events$utils();try{this.setFieldValue(b,"PARAMS")}finally{c.enable$$module$build$src$core$events$utils()}},mutationToDom:function(b){const L=c.createElement$$module$build$src$core$utils$xml("mutation");b&&L.setAttribute("name",this.getFieldValue("NAME"));for(let K=0;K<this.argumentVarModels_.length;K++){const te=c.createElement$$module$build$src$core$utils$xml("arg"),pe=this.argumentVarModels_[K];te.setAttribute("name",pe.name),te.setAttribute("varid",pe.getId()),b&&this.paramIds_&&te.setAttribute("paramId",this.paramIds_[K]),L.appendChild(te)}return this.hasStatements_||L.setAttribute("statements","false"),L},domToMutation:function(b){this.arguments_=[],this.argumentVarModels_=[];for(let K=0,te;te=b.childNodes[K];K++)if(te.nodeName.toLowerCase()==="arg"){var L=te;const pe=L.getAttribute("name");L=L.getAttribute("varid")||L.getAttribute("varId"),this.arguments_.push(pe),L=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,L,pe,""),L!==null?this.argumentVarModels_.push(L):console.log(`Failed to create a variable named "${pe}", ignoring.`)}this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(b.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const b=Object.create(null);if(this.argumentVarModels_.length){b.params=[];for(let L=0;L<this.argumentVarModels_.length;L++)b.params.push({name:this.argumentVarModels_[L].name,id:this.argumentVarModels_[L].getId()})}return this.hasStatements_||(b.hasStatements=!1),b},loadExtraState:function(b){if(this.arguments_=[],this.argumentVarModels_=[],b.params)for(let K=0;K<b.params.length;K++){var L=b.params[K];L=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,L.id,L.name,""),this.arguments_.push(L.name),this.argumentVarModels_.push(L)}this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(b.hasStatements!==!1)},decompose:function(b){const L=c.createElement$$module$build$src$core$utils$xml("block");L.setAttribute("type","procedures_mutatorcontainer");var K=c.createElement$$module$build$src$core$utils$xml("statement");K.setAttribute("name","STACK"),L.appendChild(K);for(let pe=0;pe<this.arguments_.length;pe++){const Xe=c.createElement$$module$build$src$core$utils$xml("block");Xe.setAttribute("type","procedures_mutatorarg");var te=c.createElement$$module$build$src$core$utils$xml("field");te.setAttribute("name","NAME");const _t=c.createTextNode$$module$build$src$core$utils$xml(this.arguments_[pe]);te.appendChild(_t),Xe.appendChild(te),te=c.createElement$$module$build$src$core$utils$xml("next"),Xe.appendChild(te),K.appendChild(Xe),K=te}return b=c.domToBlock$$module$build$src$core$xml(L,b),this.type==="procedures_defreturn"?b.setFieldValue(this.hasStatements_,"STATEMENTS"):b.removeInput("STATEMENT_INPUT"),c.mutateCallers$$module$build$src$core$procedures(this),b},compose:function(b){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let L=b.getInputTargetBlock("STACK");for(;L&&!L.isInsertionMarker();){var K=L.getFieldValue("NAME");this.arguments_.push(K),K=this.workspace.getVariable(K,""),this.argumentVarModels_.push(K),this.paramIds_.push(L.id),L=L.nextConnection&&L.nextConnection.targetBlock()}if(this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),b=b.getFieldValue("STATEMENTS"),b!==null&&(b=b==="TRUE",this.hasStatements_!==b))if(b){this.setStatements_(!0);var te;(te=this.statementConnection_)==null||te.reconnect(this,"STACK"),this.statementConnection_=null}else te=this.getInput("STACK").connection,(this.statementConnection_=te.targetConnection)&&(te=te.targetBlock(),te.unplug(),te.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(b,L){var K=this.workspace.getVariableById(b);if(K.type===""){K=K.name,L=this.workspace.getVariableById(L);var te=!1;for(let pe=0;pe<this.argumentVarModels_.length;pe++)this.argumentVarModels_[pe].getId()===b&&(this.arguments_[pe]=L.name,this.argumentVarModels_[pe]=L,te=!0);te&&(this.displayRenamedVar_(K,L.name),c.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(b){const L=b.name;let K=!1,te;for(let pe=0;pe<this.argumentVarModels_.length;pe++)this.argumentVarModels_[pe].getId()===b.getId()&&(te=this.arguments_[pe],this.arguments_[pe]=L,K=!0);K&&(this.displayRenamedVar_(te,L),c.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(b,L){this.updateParams_();var K=this.getIcon(c.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(K&&K.bubbleIsVisible()){K=K.getWorkspace().getAllBlocks(!1);for(let te=0,pe;pe=K[te];te++)pe.type==="procedures_mutatorarg"&&c.Names$$module$build$src$core$names.equals(b,pe.getFieldValue("NAME"))&&pe.setFieldValue(L,"NAME")}},customContextMenu:function(b){if(!this.isInFlyout){var L=this.getFieldValue("NAME"),K={type:this.callType_,extraState:{name:L,params:this.arguments_}};if(b.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",L),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,K)}),!this.isCollapsed())for(L=0;L<this.argumentVarModels_.length;L++){K=this.argumentVarModels_[L];const te={type:"variables_get",fields:{VAR:{name:K.name,id:K.getId(),type:K.type}}};b.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",K.name),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,te)})}}}};S.procedures_defnoreturn=Object.assign({},oe,{init:function(){var b=c.findLegalName$$module$build$src$core$procedures("",this);b=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:b}),b.setValidator(c.rename$$module$build$src$core$procedures),b.setSpellcheck(!1),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(b,"NAME").appendField("","PARAMS"),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),S.procedures_defreturn=Object.assign({},oe,{init:function(){var b=c.findLegalName$$module$build$src$core$procedures("",this);b=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:b}),b.setValidator(c.rename$$module$build$src$core$procedures),b.setSpellcheck(!1),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(b,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(c.Align$$module$build$src$core$inputs$input.RIGHT).appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var $e={init:function(){this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};S.procedures_mutatorcontainer=$e;var fe={init:function(){const b=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:c.DEFAULT_ARG$$module$build$src$core$procedures});b.setValidator(this.validator_),b.oldShowEditorFn_=b.showEditor_,b.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(b,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,b.onFinishEditing_=this.deleteIntermediateVars_,b.createdVariables_=[],b.onFinishEditing_("x")},validator_:function(b){var L=this.getSourceBlock();const K=L.workspace.getRootWorkspace();if(b=b.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!b)return null;const te=(L.workspace.targetWorkspace||L.workspace).getAllBlocks(!1),pe=b.toLowerCase();for(let Xe=0;Xe<te.length;Xe++){if(te[Xe].id===this.getSourceBlock().id)continue;const _t=te[Xe].getFieldValue("NAME");if(_t&&_t.toLowerCase()===pe)return null}return L.isInFlyout||((L=K.getVariable(b,""))&&L.name!==b&&K.renameVariableById(L.getId(),b),L||(L=K.createVariable(b,""))&&this.createdVariables_&&this.createdVariables_.push(L)),b},deleteIntermediateVars_:function(b){const L=this.getSourceBlock().workspace.getRootWorkspace();if(L)for(let K=0;K<this.createdVariables_.length;K++){const te=this.createdVariables_[K];te.name!==b&&L.deleteVariableById(te.getId())}}};S.procedures_mutatorarg=fe;var Ee={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(b,L){c.Names$$module$build$src$core$names.equals(b,this.getProcedureCall())&&(this.setFieldValue(L,"NAME"),this.setTooltip((this.outputConnection?c.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:c.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",L)))},setProcedureParameters_:function(b,L){var K=c.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((K=(K=K&&K.getIcon(c.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&K.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),b.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=L;else{if(L.length!==b.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let pe=0;pe<this.arguments_.length;pe++){var te=this.getInput("ARG"+pe);te&&(te=te.connection.targetConnection,this.quarkConnections_[this.quarkIds_[pe]]=te,K&&te&&L.indexOf(this.quarkIds_[pe])===-1&&(te.disconnect(),te.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(b),this.argumentVarModels_=[],b=0;b<this.arguments_.length;b++)K=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[b],""),this.argumentVarModels_.push(K);if(this.updateShape_(),this.quarkIds_=L){for(L=0;L<this.arguments_.length;L++)if(b=this.quarkIds_[L],b in this.quarkConnections_){let pe;(pe=this.quarkConnections_[b])!=null&&pe.reconnect(this,"ARG"+L)||delete this.quarkConnections_[b]}}}},updateShape_:function(){for(var b=0;b<this.arguments_.length;b++){var L=this.getField("ARGNAME"+b);if(L){c.disable$$module$build$src$core$events$utils();try{L.setValue(this.arguments_[b])}finally{c.enable$$module$build$src$core$events$utils()}}else L=c.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[b]}),this.appendValueInput("ARG"+b).setAlign(c.Align$$module$build$src$core$inputs$input.RIGHT).appendField(L,"ARGNAME"+b).init()}for(b=this.arguments_.length;this.getInput("ARG"+b);b++)this.removeInput("ARG"+b);(b=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(b.appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),b.init()):this.getField("WITH")&&b.removeField("WITH"))},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");b.setAttribute("name",this.getProcedureCall());for(let L=0;L<this.arguments_.length;L++){const K=c.createElement$$module$build$src$core$utils$xml("arg");K.setAttribute("name",this.arguments_[L]),b.appendChild(K)}return b},domToMutation:function(b){var L=b.getAttribute("name");this.renameProcedure(this.getProcedureCall(),L),L=[];const K=[];for(let te=0,pe;pe=b.childNodes[te];te++)pe.nodeName.toLowerCase()==="arg"&&(L.push(pe.getAttribute("name")),K.push(pe.getAttribute("paramId")));this.setProcedureParameters_(L,K)},saveExtraState:function(){const b=Object.create(null);return b.name=this.getProcedureCall(),this.arguments_.length&&(b.params=this.arguments_),b},loadExtraState:function(b){if(this.renameProcedure(this.getProcedureCall(),b.name),b=b.params){const L=[];L.length=b.length,L.fill(null),this.setProcedureParameters_(b,L)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(b){if(this.workspace&&!this.workspace.isFlyout&&b.recordUndo)if(b.type===c.CREATE$$module$build$src$core$events$utils&&b.ids.indexOf(this.id)!==-1){var L=this.getProcedureCall();if(L=c.getDefinition$$module$build$src$core$procedures(L,this.workspace),!L||L.type===this.defType_&&JSON.stringify(L.getVars())===JSON.stringify(this.arguments_)||(L=null),!L){c.setGroup$$module$build$src$core$events$utils(b.group),b=c.createElement$$module$build$src$core$utils$xml("xml"),L=c.createElement$$module$build$src$core$utils$xml("block"),L.setAttribute("type",this.defType_);var K=this.getRelativeToSurfaceXY(),te=K.y+2*c.config$$module$build$src$core$config.snapRadius;L.setAttribute("x",`${K.x+c.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),L.setAttribute("y",`${te}`),K=this.mutationToDom(),L.appendChild(K),K=c.createElement$$module$build$src$core$utils$xml("field"),K.setAttribute("name","NAME"),te=this.getProcedureCall();const pe=c.findLegalName$$module$build$src$core$procedures(te,this);te!==pe&&this.renameProcedure(te,pe),K.appendChild(c.createTextNode$$module$build$src$core$utils$xml(te)),L.appendChild(K),b.appendChild(L),c.domToWorkspace$$module$build$src$core$xml(b,this.workspace),c.setGroup$$module$build$src$core$events$utils(!1)}}else b.type===c.DELETE$$module$build$src$core$events$utils?(L=this.getProcedureCall(),c.getDefinition$$module$build$src$core$procedures(L,this.workspace)||(c.setGroup$$module$build$src$core$events$utils(b.group),this.dispose(!0),c.setGroup$$module$build$src$core$events$utils(!1))):b.type===c.CHANGE$$module$build$src$core$events$utils&&b.element==="disabled"&&(L=this.getProcedureCall(),(L=c.getDefinition$$module$build$src$core$procedures(L,this.workspace))&&L.id===b.blockId&&((L=c.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),c.setGroup$$module$build$src$core$events$utils(b.group),b.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),c.setGroup$$module$build$src$core$events$utils(L)))},customContextMenu:function(b){if(this.workspace.isMovable()){var L=this.getProcedureCall(),K=this.workspace;b.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const te=c.getDefinition$$module$build$src$core$procedures(L,K);te&&(K.centerOnBlock(te.id),te.select())}})}}};S.procedures_callnoreturn=Object.assign({},Ee,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),S.procedures_callreturn=Object.assign({},Ee,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"});var Y={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("value",String(Number(this.hasReturnValue_))),b},domToMutation:function(b){this.hasReturnValue_=b.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(b){if(!(this.workspace.isDragging&&this.workspace.isDragging()||b.type!==c.MOVE$$module$build$src$core$events$utils)){var L=!1,K=this;do{if(this.FUNCTION_TYPES.indexOf(K.type)!==-1){L=!0;break}K=K.getSurroundParent()}while(K);L?(K.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):K.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(K=c.getGroup$$module$build$src$core$events$utils(),c.setGroup$$module$build$src$core$events$utils(b.group),this.setEnabled(L),c.setGroup$$module$build$src$core$events$utils(K))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};S.procedures_ifreturn=Y,c.defineBlocks$$module$build$src$core$common(S);var le={blocks:S},ve=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),me={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};c.register$$module$build$src$core$extensions("math_op_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("OP",me));var de={mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation"),L=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return b.setAttribute("divisor_input",String(L)),b},domToMutation:function(b){b=b.getAttribute("divisor_input")==="true",this.updateShape_(b)},updateShape_:function(b){const L=this.getInput("DIVISOR");b?L||this.appendValueInput("DIVISOR").setCheck("Number"):L&&this.removeInput("DIVISOR")}},U=function(){this.getField("PROPERTY").setValidator(function(b){b=b==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(b)})};c.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",de,U),c.register$$module$build$src$core$extensions("math_change_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var ie={updateType_:function(b){b==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("op",this.getFieldValue("OP")),b},domToMutation:function(b){if(b=b.getAttribute("op"),b===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(b)}},be=function(){this.getField("OP").setValidator((function(b){this.updateType_(b)}).bind(this))};c.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",ie,be),c.defineBlocks$$module$build$src$core$common(ve);var Ae={blocks:ve},ge=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Ue={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};c.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Ue));var Ie={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};c.register$$module$build$src$core$extensions("controls_flow_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",Ie));var De={customContextMenu:function(b){if(!this.isInFlyout){var L=this.getField("VAR"),K=L.getVariable().name;this.isCollapsed()||K===null||(L={type:"variables_get",fields:{VAR:L.saveState(!0)}},b.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",K),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,L)}))}}};c.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",De),c.register$$module$build$src$core$extensions("controls_for_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),c.register$$module$build$src$core$extensions("controls_forEach_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Ne=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),ot={getSurroundLoop:function(){let b=this;do{if(Ne.has(b.type))return b;b=b.getSurroundParent()}while(b);return null},onchange:function(b){var L=this.workspace;if(L.isDragging&&!L.isDragging()&&b.type===c.MOVE$$module$build$src$core$events$utils&&(L=!!this.getSurroundLoop(),this.setWarningText(L?null:c.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout)){const K=c.getGroup$$module$build$src$core$events$utils();c.setGroup$$module$build$src$core$events$utils(b.group),this.setEnabled(L),c.setGroup$$module$build$src$core$events$utils(K)}}};c.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",ot),c.defineBlocks$$module$build$src$core$common(ge);var Je={blocks:ge,loopTypes:Ne},st=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Ce={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};c.register$$module$build$src$core$extensions("logic_op_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Ce));var gt={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const b=c.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&b.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&b.setAttribute("else","1"),b},domToMutation:function(b){this.elseifCount_=parseInt(b.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(b.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const b=Object.create(null);return this.elseifCount_&&(b.elseIfCount=this.elseifCount_),this.elseCount_&&(b.hasElse=!0),b},loadExtraState:function(b){this.elseifCount_=b.elseIfCount||0,this.elseCount_=b.hasElse?1:0,this.updateShape_()},decompose:function(b){const L=b.newBlock("controls_if_if");L.initSvg();let K=L.nextConnection;for(let te=1;te<=this.elseifCount_;te++){const pe=b.newBlock("controls_if_elseif");pe.initSvg(),K.connect(pe.previousConnection),K=pe.nextConnection}return this.elseCount_&&(b=b.newBlock("controls_if_else"),b.initSvg(),K.connect(b.previousConnection)),L},compose:function(b){b=b.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const L=[null],K=[null];let te=null;for(;b;){if(!b.isInsertionMarker())switch(b.type){case"controls_if_elseif":this.elseifCount_++,L.push(b.valueConnection_),K.push(b.statementConnection_);break;case"controls_if_else":this.elseCount_++,te=b.statementConnection_;break;default:throw TypeError("Unknown block type: "+b.type)}b=b.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(L,K,te)},saveConnections:function(b){b=b.nextConnection.targetBlock();let L=1;for(;b;){if(!b.isInsertionMarker())switch(b.type){case"controls_if_elseif":var K=this.getInput("IF"+L);const te=this.getInput("DO"+L);b.valueConnection_=K&&K.connection.targetConnection,b.statementConnection_=te&&te.connection.targetConnection,L++;break;case"controls_if_else":K=this.getInput("ELSE"),b.statementConnection_=K&&K.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+b.type)}b=b.getNextBlock()}},rebuildShape_:function(){const b=[null],L=[null];let K=null;this.getInput("ELSE")&&(K=this.getInput("ELSE").connection.targetConnection);for(let te=1;this.getInput("IF"+te);te++){const pe=this.getInput("IF"+te),Xe=this.getInput("DO"+te);b.push(pe.connection.targetConnection),L.push(Xe.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(b,L,K)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var b=1;this.getInput("IF"+b);b++)this.removeInput("IF"+b),this.removeInput("DO"+b);for(b=1;b<=this.elseifCount_;b++)this.appendValueInput("IF"+b).setCheck("Boolean").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+b).appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(b,L,K){for(let te=1;te<=this.elseifCount_;te++){let pe;(pe=b[te])==null||pe.reconnect(this,"IF"+te);let Xe;(Xe=L[te])==null||Xe.reconnect(this,"DO"+te)}K==null||K.reconnect(this,"ELSE")}};c.registerMutator$$module$build$src$core$extensions("controls_if_mutator",gt,null,["controls_if_elseif","controls_if_else"]);var He=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};c.register$$module$build$src$core$extensions("controls_if_tooltip",He);var bt={onchange:function(b){this.prevBlocks_||(this.prevBlocks_=[null,null]);var L=this.getInputTargetBlock("A");const K=this.getInputTargetBlock("B");L&&K&&!this.workspace.connectionChecker.doTypeChecks(L.outputConnection,K.outputConnection)&&(c.setGroup$$module$build$src$core$events$utils(b.group),b=this.prevBlocks_[0],b!==L&&(L.unplug(),!b||b.isDisposed()||b.isShadow()||this.getInput("A").connection.connect(b.outputConnection)),L=this.prevBlocks_[1],L!==K&&(K.unplug(),!L||L.isDisposed()||L.isShadow()||this.getInput("B").connection.connect(L.outputConnection)),this.bumpNeighbours(),c.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Ot=function(){this.mixin(bt)};c.register$$module$build$src$core$extensions("logic_compare",Ot);var Et={prevParentConnection_:null,onchange:function(b){const L=this.getInputTargetBlock("THEN"),K=this.getInputTargetBlock("ELSE"),te=this.outputConnection.targetConnection;if((L||K)&&te)for(let pe=0;2>pe;pe++){const Xe=pe===1?L:K;Xe&&!Xe.workspace.connectionChecker.doTypeChecks(Xe.outputConnection,te)&&(c.setGroup$$module$build$src$core$events$utils(b.group),te===this.prevParentConnection_?(this.unplug(),te.getSourceBlock().bumpNeighbours()):(Xe.unplug(),Xe.bumpNeighbours()),c.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=te}};c.registerMixin$$module$build$src$core$extensions("logic_ternary",Et),c.defineBlocks$$module$build$src$core$common(st);var ft=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),mt={init:function(){this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("items",String(this.itemCount_)),b},domToMutation:function(b){if(b=b.getAttribute("items"),!b)throw new TypeError("element did not have items");this.itemCount_=parseInt(b,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(b){this.itemCount_=b.itemCount,this.updateShape_()},decompose:function(b){const L=b.newBlock("lists_create_with_container");L.initSvg();let K=L.getInput("STACK").connection;for(let te=0;te<this.itemCount_;te++){const pe=b.newBlock("lists_create_with_item");if(pe.initSvg(),!pe.previousConnection)throw Error("itemBlock has no previousConnection");K.connect(pe.previousConnection),K=pe.nextConnection}return L},compose:function(b){var L=b.getInputTargetBlock("STACK");for(b=[];L;)L.isInsertionMarker()||b.push(L.valueConnection_),L=L.getNextBlock();for(L=0;L<this.itemCount_;L++){const K=this.getInput("ADD"+L).connection.targetConnection;K&&b.indexOf(K)===-1&&K.disconnect()}for(this.itemCount_=b.length,this.updateShape_(),L=0;L<this.itemCount_;L++){let K;(K=b[L])==null||K.reconnect(this,"ADD"+L)}},saveConnections:function(b){b=b.getInputTargetBlock("STACK");let L=0;for(;b;){if(b.isInsertionMarker()){b=b.getNextBlock();continue}const K=this.getInput("ADD"+L);let te;b.valueConnection_=(te=K)==null?void 0:te.connection.targetConnection,b=b.getNextBlock(),L++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var b=0;b<this.itemCount_;b++)if(!this.getInput("ADD"+b)){const L=this.appendValueInput("ADD"+b).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT);b===0&&L.appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(b=this.itemCount_;this.getInput("ADD"+b);b++)this.removeInput("ADD"+b)}};ft.lists_create_with=mt;var dt={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};ft.lists_create_with_container=dt;var Tt={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};ft.lists_create_with_item=Tt;var Pe={init:function(){var b=[[c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),b=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),!b)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(b,"END"),this.setInputsInline(!0),this.setTooltip(()=>c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};ft.lists_indexOf=Pe;var ce={init:function(){var b=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),b=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),b.setValidator(function(L){L=L==="REMOVE",this.getSourceBlock().updateStatement_(L)}),this.appendValueInput("VALUE").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(b,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const L=this.getFieldValue("MODE"),K=this.getFieldValue("WHERE");let te="";switch(L+" "+K){case"GET FROM_START":case"GET FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(K==="FROM_START"||K==="FROM_END")&&(te+="  "+(K==="FROM_START"?c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),te})},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");b.setAttribute("statement",String(!this.outputConnection));const L=this.getInput("AT")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return b.setAttribute("at",String(L)),b},domToMutation:function(b){const L=b.getAttribute("statement")==="true";this.updateStatement_(L),b=b.getAttribute("at")!=="false",this.updateAt_(b)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(b){b.isStatement?this.updateStatement_(!0):typeof b=="string"&&this.domToMutation(c.textToDom$$module$build$src$core$utils$xml(b))},updateStatement_:function(b){b!==!this.outputConnection&&(this.unplug(!0,!0),b?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(b){this.removeInput("AT"),this.removeInput("ORDINAL",!0),b?(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const L=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});L.setValidator(function(K){const te=K==="FROM_START"||K==="FROM_END";if(te!==b){const pe=this.getSourceBlock();return pe.updateAt_(te),pe.setFieldValue(K,"WHERE"),null}}),this.getInput("AT").appendField(L,"WHERE"),c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};ft.lists_getIndex=ce;var Be={init:function(){var b=[[c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),b=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:b}),this.appendDummyInput().appendField(b,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const L=this.getFieldValue("MODE"),K=this.getFieldValue("WHERE");let te="";switch(L+" "+K){case"SET FROM_START":case"SET FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(K==="FROM_START"||K==="FROM_END")&&(te+="  "+c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),te})},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation"),L=this.getInput("AT")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return b.setAttribute("at",String(L)),b},domToMutation:function(b){b=b.getAttribute("at")!=="false",this.updateAt_(b)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(b){this.removeInput("AT"),this.removeInput("ORDINAL",!0),b?(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const L=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});L.setValidator(function(K){const te=K==="FROM_START"||K==="FROM_END";if(te!==b){const pe=this.getSourceBlock();return pe.updateAt_(te),pe.setFieldValue(K,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(L,"WHERE")}};ft.lists_setIndex=Be;var bo={init:function(){this.WHERE_OPTIONS_1=[[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");var L=this.getInput("AT1")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return b.setAttribute("at1",String(L)),L=this.getInput("AT2")instanceof c.ValueInput$$module$build$src$core$inputs$value_input,b.setAttribute("at2",String(L)),b},domToMutation:function(b){const L=b.getAttribute("at1")==="true";b=b.getAttribute("at2")==="true",this.updateAt_(1,L),this.updateAt_(2,b)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(b,L){this.removeInput("AT"+b),this.removeInput("ORDINAL"+b,!0),L?(this.appendValueInput("AT"+b).setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+b).appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+b);const K=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+b]});K.setValidator(function(te){const pe=te==="FROM_START"||te==="FROM_END";if(pe!==L){const Xe=this.getSourceBlock();return Xe.updateAt_(b,pe),Xe.setFieldValue(te,"WHERE"+b),null}}),this.getInput("AT"+b).appendField(K,"WHERE"+b),b===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};ft.lists_getSublist=bo,ft.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},ft.lists_split={init:function(){const b=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[c.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!b)throw Error("field_dropdown not found");b.setValidator(L=>{this.updateType_(L)}),this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(b,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(c.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const L=this.getFieldValue("MODE");if(L==="SPLIT")return c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(L==="JOIN")return c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+L)})},updateType_:function(b){if(this.getFieldValue("MODE")!==b){const L=this.getInput("INPUT").connection;L.setShadowDom(null);const K=L.targetBlock();K&&(L.disconnect(),K.isShadow()?K.dispose(!1):this.bumpNeighbours())}b==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const b=c.createElement$$module$build$src$core$utils$xml("mutation");return b.setAttribute("mode",this.getFieldValue("MODE")),b},domToMutation:function(b){this.updateType_(b.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},c.defineBlocks$$module$build$src$core$common(ft);var ht={blocks:ft},lo=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);c.defineBlocks$$module$build$src$core$common(lo);var at={blocks:lo},jt=Object.assign({},lo,ft,st,ge,ve,S,v,h),j={blocks:jt,colour:at,lists:ht,loops:Je,math:Ae,procedures:le,texts:ae,variables:M,variablesDynamic:y};return j.__namespace__=c,j})}(zm)),zm.exports}var hM=Wm.exports,ev;function pM(){return ev||(ev=1,function(r,s){(function(n,c){r.exports=c(dM())})(hM,function(n){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(Wm)),Wm.exports}var jm={exports:{}},Xm={exports:{}},fM=Xm.exports,tv;function gM(){return tv||(tv=1,function(r,s){(function(n,c){r.exports=c(qT())})(fM,function(n){var c=n.__namespace__,h=function(E,O){return[O.quote_(E.getFieldValue("COLOUR")),j.ATOMIC]},f=function(E,O){return[O.provideFunction_("colourRandom",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}() {
  var num = Math.floor(Math.random() * Math.pow(2, 24));
  return '#' + ('00000' + num.toString(16)).substr(-6);
}
`)+"()",j.FUNCTION_CALL]},g=function(E,O){const q=O.valueToCode(E,"RED",j.NONE)||0,se=O.valueToCode(E,"GREEN",j.NONE)||0;return E=O.valueToCode(E,"BLUE",j.NONE)||0,[O.provideFunction_("colourRgb",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {
  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;
  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;
  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+q+", "+se+", "+E+")",j.FUNCTION_CALL]},_=function(E,O){const q=O.valueToCode(E,"COLOUR1",j.NONE)||"'#000000'",se=O.valueToCode(E,"COLOUR2",j.NONE)||"'#000000'";return E=O.valueToCode(E,"RATIO",j.NONE)||.5,[O.provideFunction_("colourBlend",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {
  ratio = Math.max(Math.min(Number(ratio), 1), 0);
  var r1 = parseInt(c1.substring(1, 3), 16);
  var g1 = parseInt(c1.substring(3, 5), 16);
  var b1 = parseInt(c1.substring(5, 7), 16);
  var r2 = parseInt(c2.substring(1, 3), 16);
  var g2 = parseInt(c2.substring(3, 5), 16);
  var b2 = parseInt(c2.substring(5, 7), 16);
  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);
  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);
  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);
  r = ('0' + (r || 0).toString(16)).slice(-2);
  g = ('0' + (g || 0).toString(16)).slice(-2);
  b = ('0' + (b || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+q+", "+se+", "+E+")",j.FUNCTION_CALL]},y=function(E,O){return["[]",j.ATOMIC]},v=function(E,O){const q=Array(E.itemCount_);for(let se=0;se<E.itemCount_;se++)q[se]=O.valueToCode(E,"ADD"+se,j.NONE)||"null";return["["+q.join(", ")+"]",j.ATOMIC]},I=function(E,O){const q=O.provideFunction_("listsRepeat",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),se=O.valueToCode(E,"ITEM",j.NONE)||"null";return E=O.valueToCode(E,"NUM",j.NONE)||"0",[q+"("+se+", "+E+")",j.FUNCTION_CALL]},R=function(E,O){return[(O.valueToCode(E,"VALUE",j.MEMBER)||"[]")+".length",j.MEMBER]},N=function(E,O){return["!"+(O.valueToCode(E,"VALUE",j.MEMBER)||"[]")+".length",j.LOGICAL_NOT]},M=function(E,O){const q=E.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",se=O.valueToCode(E,"FIND",j.NONE)||"''";return O=(O.valueToCode(E,"VALUE",j.MEMBER)||"[]")+"."+q+"("+se+")",E.workspace.options.oneBasedIndex?[O+" + 1",j.ADDITION]:[O,j.FUNCTION_CALL]},x=function(E,O){const q=E.getFieldValue("MODE")||"GET",se=E.getFieldValue("WHERE")||"FROM_START";var ke=O.valueToCode(E,"VALUE",se==="RANDOM"?j.NONE:j.MEMBER)||"[]";switch(se){case"FIRST":if(q==="GET")return[ke+"[0]",j.MEMBER];if(q==="GET_REMOVE")return[ke+".shift()",j.MEMBER];if(q==="REMOVE")return ke+`.shift();
`;break;case"LAST":if(q==="GET")return[ke+".slice(-1)[0]",j.MEMBER];if(q==="GET_REMOVE")return[ke+".pop()",j.MEMBER];if(q==="REMOVE")return ke+`.pop();
`;break;case"FROM_START":if(E=O.getAdjusted(E,"AT"),q==="GET")return[ke+"["+E+"]",j.MEMBER];if(q==="GET_REMOVE")return[ke+".splice("+E+", 1)[0]",j.FUNCTION_CALL];if(q==="REMOVE")return ke+".splice("+E+`, 1);
`;break;case"FROM_END":if(E=O.getAdjusted(E,"AT",1,!0),q==="GET")return[ke+".slice("+E+")[0]",j.FUNCTION_CALL];if(q==="GET_REMOVE")return[ke+".splice("+E+", 1)[0]",j.FUNCTION_CALL];if(q==="REMOVE")return ke+".splice("+E+", 1);";break;case"RANDOM":if(ke=O.provideFunction_("listsGetRandomItem",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+ke+", "+(q!=="GET")+")",q==="GET"||q==="GET_REMOVE")return[ke,j.FUNCTION_CALL];if(q==="REMOVE")return ke+`;
`}throw Error("Unhandled combination (lists_getIndex).")},A=function(E,O){function q(){if(se.match(/^\w+$/))return"";const cr=O.nameDB_.getDistinctName("tmpList",c.NameType$$module$build$src$core$names.VARIABLE),Xr="var "+cr+" = "+se+`;
`;return se=cr,Xr}let se=O.valueToCode(E,"LIST",j.MEMBER)||"[]";const ke=E.getFieldValue("MODE")||"GET";var rt=E.getFieldValue("WHERE")||"FROM_START";const ut=O.valueToCode(E,"TO",j.ASSIGNMENT)||"null";switch(rt){case"FIRST":if(ke==="SET")return se+"[0] = "+ut+`;
`;if(ke==="INSERT")return se+".unshift("+ut+`);
`;break;case"LAST":if(ke==="SET")return q()+(se+"["+se+".length - 1] = "+ut+`;
`);if(ke==="INSERT")return se+".push("+ut+`);
`;break;case"FROM_START":if(E=O.getAdjusted(E,"AT"),ke==="SET")return se+"["+E+"] = "+ut+`;
`;if(ke==="INSERT")return se+".splice("+E+", 0, "+ut+`);
`;break;case"FROM_END":if(E=O.getAdjusted(E,"AT",1,!1,j.SUBTRACTION),rt=q(),ke==="SET")return rt+(se+"["+se+".length - "+E+"] = "+ut+`;
`);if(ke==="INSERT")return rt+(se+".splice("+se+".length - "+E+", 0, "+ut+`);
`);break;case"RANDOM":if(E=q(),rt=O.nameDB_.getDistinctName("tmpX",c.NameType$$module$build$src$core$names.VARIABLE),E+="var "+rt+" = Math.floor(Math.random() * "+se+`.length);
`,ke==="SET")return E+(se+"["+rt+"] = "+ut+`;
`);if(ke==="INSERT")return E+(se+".splice("+rt+", 0, "+ut+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},B=function(E,O){var q={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},se=O.valueToCode(E,"LIST",j.MEMBER)||"[]";const ke=E.getFieldValue("WHERE1"),rt=E.getFieldValue("WHERE2");if(ke==="FIRST"&&rt==="LAST")se+=".slice(0)";else if(se.match(/^\w+$/)||ke!=="FROM_END"&&rt==="FROM_START"){switch(ke){case"FROM_START":q=O.getAdjusted(E,"AT1");break;case"FROM_END":q=O.getAdjusted(E,"AT1",1,!1,j.SUBTRACTION),q=se+".length - "+q;break;case"FIRST":q="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(rt){case"FROM_START":O=O.getAdjusted(E,"AT2",1);break;case"FROM_END":O=O.getAdjusted(E,"AT2",0,!1,j.SUBTRACTION),O=se+".length - "+O;break;case"LAST":O=se+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}se=se+".slice("+q+", "+O+")"}else{const ut=O.getAdjusted(E,"AT1");E=O.getAdjusted(E,"AT2"),se=O.provideFunction_("subsequence"+q[ke]+q[rt],`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(sequence${ke==="FROM_END"||ke==="FROM_START"?", at1":""}${rt==="FROM_END"||rt==="FROM_START"?", at2":""}) {
  var start = ${K("sequence",ke,"at1")};
  var end = ${K("sequence",rt,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+se+(ke==="FROM_END"||ke==="FROM_START"?", "+ut:"")+(rt==="FROM_END"||rt==="FROM_START"?", "+E:"")+")"}return[se,j.FUNCTION_CALL]},W=function(E,O){const q=O.valueToCode(E,"LIST",j.FUNCTION_CALL)||"[]",se=E.getFieldValue("DIRECTION")==="1"?1:-1;return E=E.getFieldValue("TYPE"),O=O.provideFunction_("listsGetSortCompare",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[q+".slice().sort("+O+'("'+E+'", '+se+"))",j.FUNCTION_CALL]},X=function(E,O){let q=O.valueToCode(E,"INPUT",j.MEMBER);if(O=O.valueToCode(E,"DELIM",j.NONE)||"''",E=E.getFieldValue("MODE"),E==="SPLIT")q||(q="''"),E="split";else if(E==="JOIN")q||(q="[]"),E="join";else throw Error("Unknown mode: "+E);return[q+"."+E+"("+O+")",j.FUNCTION_CALL]},H=function(E,O){return[(O.valueToCode(E,"LIST",j.FUNCTION_CALL)||"[]")+".slice().reverse()",j.FUNCTION_CALL]},P=function(E,O){var q=0;let se="";O.STATEMENT_PREFIX&&(se+=O.injectId(O.STATEMENT_PREFIX,E));do{const ke=O.valueToCode(E,"IF"+q,j.NONE)||"false";let rt=O.statementToCode(E,"DO"+q);O.STATEMENT_SUFFIX&&(rt=O.prefixLines(O.injectId(O.STATEMENT_SUFFIX,E),O.INDENT)+rt),se+=(0<q?" else ":"")+"if ("+ke+`) {
`+rt+"}",q++}while(E.getInput("IF"+q));return(E.getInput("ELSE")||O.STATEMENT_SUFFIX)&&(q=O.statementToCode(E,"ELSE"),O.STATEMENT_SUFFIX&&(q=O.prefixLines(O.injectId(O.STATEMENT_SUFFIX,E),O.INDENT)+q),se+=` else {
`+q+"}"),se+`
`},F=function(E,O){const q={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[E.getFieldValue("OP")],se=q==="=="||q==="!="?j.EQUALITY:j.RELATIONAL,ke=O.valueToCode(E,"A",se)||"0";return E=O.valueToCode(E,"B",se)||"0",[ke+" "+q+" "+E,se]},J=function(E,O){const q=E.getFieldValue("OP")==="AND"?"&&":"||",se=q==="&&"?j.LOGICAL_AND:j.LOGICAL_OR;let ke=O.valueToCode(E,"A",se);return E=O.valueToCode(E,"B",se),ke||E?(O=q==="&&"?"true":"false",ke||(ke=O),E||(E=O)):E=ke="false",[ke+" "+q+" "+E,se]},Q=function(E,O){const q=j.LOGICAL_NOT;return["!"+(O.valueToCode(E,"BOOL",q)||"true"),q]},re=function(E,O){return[E.getFieldValue("BOOL")==="TRUE"?"true":"false",j.ATOMIC]},ae=function(E,O){return["null",j.ATOMIC]},S=function(E,O){const q=O.valueToCode(E,"IF",j.CONDITIONAL)||"false",se=O.valueToCode(E,"THEN",j.CONDITIONAL)||"null";return E=O.valueToCode(E,"ELSE",j.CONDITIONAL)||"null",[q+" ? "+se+" : "+E,j.CONDITIONAL]},oe=function(E,O){let q;q=E.getField("TIMES")?String(Number(E.getFieldValue("TIMES"))):O.valueToCode(E,"TIMES",j.ASSIGNMENT)||"0";let se=O.statementToCode(E,"DO");se=O.addLoopTrap(se,E),E="";const ke=O.nameDB_.getDistinctName("count",c.NameType$$module$build$src$core$names.VARIABLE);let rt=q;return q.match(/^\w+$/)||c.isNumber$$module$build$src$core$utils$string(q)||(rt=O.nameDB_.getDistinctName("repeat_end",c.NameType$$module$build$src$core$names.VARIABLE),E+="var "+rt+" = "+q+`;
`),E+("for (var "+ke+" = 0; "+ke+" < "+rt+"; "+ke+`++) {
`+se+`}
`)},$e=function(E,O){const q=E.getFieldValue("MODE")==="UNTIL";let se=O.valueToCode(E,"BOOL",q?j.LOGICAL_NOT:j.NONE)||"false",ke=O.statementToCode(E,"DO");return ke=O.addLoopTrap(ke,E),q&&(se="!"+se),"while ("+se+`) {
`+ke+`}
`},fe=function(E,O){var q=O.getVariableName(E.getFieldValue("VAR")),se=O.valueToCode(E,"FROM",j.ASSIGNMENT)||"0",ke=O.valueToCode(E,"TO",j.ASSIGNMENT)||"0";const rt=O.valueToCode(E,"BY",j.ASSIGNMENT)||"1";let ut=O.statementToCode(E,"DO");if(ut=O.addLoopTrap(ut,E),c.isNumber$$module$build$src$core$utils$string(se)&&c.isNumber$$module$build$src$core$utils$string(ke)&&c.isNumber$$module$build$src$core$utils$string(rt))O=Number(se)<=Number(ke),E="for ("+q+" = "+se+"; "+q+(O?" <= ":" >= ")+ke+"; "+q,q=Math.abs(Number(rt)),E=q===1?E+(O?"++":"--"):E+((O?" += ":" -= ")+q),E+=`) {
`+ut+`}
`;else{E="";let cr=se;se.match(/^\w+$/)||c.isNumber$$module$build$src$core$utils$string(se)||(cr=O.nameDB_.getDistinctName(q+"_start",c.NameType$$module$build$src$core$names.VARIABLE),E+="var "+cr+" = "+se+`;
`),se=ke,ke.match(/^\w+$/)||c.isNumber$$module$build$src$core$utils$string(ke)||(se=O.nameDB_.getDistinctName(q+"_end",c.NameType$$module$build$src$core$names.VARIABLE),E+="var "+se+" = "+ke+`;
`),ke=O.nameDB_.getDistinctName(q+"_inc",c.NameType$$module$build$src$core$names.VARIABLE),E+="var "+ke+" = ",E=c.isNumber$$module$build$src$core$utils$string(rt)?E+(Math.abs(Number(rt))+`;
`):E+("Math.abs("+rt+`);
`),E+="if ("+cr+" > "+se+`) {
`,E+=O.INDENT+ke+" = -"+ke+`;
`,E=E+`}
for (`+(q+" = "+cr+"; "+ke+" >= 0 ? "+q+" <= "+se+" : "+q+" >= "+se+"; "+q+" += "+ke+`) {
`+ut+`}
`)}return E},Ee=function(E,O){const q=O.getVariableName(E.getFieldValue("VAR"));var se=O.valueToCode(E,"LIST",j.ASSIGNMENT)||"[]";let ke=O.statementToCode(E,"DO");ke=O.addLoopTrap(ke,E),E="";let rt=se;return se.match(/^\w+$/)||(rt=O.nameDB_.getDistinctName(q+"_list",c.NameType$$module$build$src$core$names.VARIABLE),E+="var "+rt+" = "+se+`;
`),se=O.nameDB_.getDistinctName(q+"_index",c.NameType$$module$build$src$core$names.VARIABLE),ke=O.INDENT+q+" = "+rt+"["+se+`];
`+ke,E+("for (var "+se+" in "+rt+`) {
`+ke+`}
`)},Y=function(E,O){let q="";if(O.STATEMENT_PREFIX&&(q+=O.injectId(O.STATEMENT_PREFIX,E)),O.STATEMENT_SUFFIX&&(q+=O.injectId(O.STATEMENT_SUFFIX,E)),O.STATEMENT_PREFIX){const se=E.getSurroundLoop();se&&!se.suppressPrefixSuffix&&(q+=O.injectId(O.STATEMENT_PREFIX,se))}switch(E.getFieldValue("FLOW")){case"BREAK":return q+`break;
`;case"CONTINUE":return q+`continue;
`}throw Error("Unknown flow statement.")},le=function(E,O){return E=Number(E.getFieldValue("NUM")),[String(E),0<=E?j.ATOMIC:j.UNARY_NEGATION]},ve=function(E,O){var q={ADD:[" + ",j.ADDITION],MINUS:[" - ",j.SUBTRACTION],MULTIPLY:[" * ",j.MULTIPLICATION],DIVIDE:[" / ",j.DIVISION],POWER:[null,j.NONE]}[E.getFieldValue("OP")];const se=q[0];q=q[1];const ke=O.valueToCode(E,"A",q)||"0";return E=O.valueToCode(E,"B",q)||"0",se?[ke+se+E,q]:["Math.pow("+ke+", "+E+")",j.FUNCTION_CALL]},me=function(E,O){const q=E.getFieldValue("OP");let se;if(q==="NEG")return E=O.valueToCode(E,"NUM",j.UNARY_NEGATION)||"0",E[0]==="-"&&(E=" "+E),["-"+E,j.UNARY_NEGATION];switch(E=q==="SIN"||q==="COS"||q==="TAN"?O.valueToCode(E,"NUM",j.DIVISION)||"0":O.valueToCode(E,"NUM",j.NONE)||"0",q){case"ABS":se="Math.abs("+E+")";break;case"ROOT":se="Math.sqrt("+E+")";break;case"LN":se="Math.log("+E+")";break;case"EXP":se="Math.exp("+E+")";break;case"POW10":se="Math.pow(10,"+E+")";break;case"ROUND":se="Math.round("+E+")";break;case"ROUNDUP":se="Math.ceil("+E+")";break;case"ROUNDDOWN":se="Math.floor("+E+")";break;case"SIN":se="Math.sin("+E+" / 180 * Math.PI)";break;case"COS":se="Math.cos("+E+" / 180 * Math.PI)";break;case"TAN":se="Math.tan("+E+" / 180 * Math.PI)"}if(se)return[se,j.FUNCTION_CALL];switch(q){case"LOG10":se="Math.log("+E+") / Math.log(10)";break;case"ASIN":se="Math.asin("+E+") / Math.PI * 180";break;case"ACOS":se="Math.acos("+E+") / Math.PI * 180";break;case"ATAN":se="Math.atan("+E+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+q)}return[se,j.DIVISION]},de=function(E,O){return{PI:["Math.PI",j.MEMBER],E:["Math.E",j.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",j.DIVISION],SQRT2:["Math.SQRT2",j.MEMBER],SQRT1_2:["Math.SQRT1_2",j.MEMBER],INFINITY:["Infinity",j.ATOMIC]}[E.getFieldValue("CONSTANT")]},U=function(E,O){var q={EVEN:[" % 2 === 0",j.MODULUS,j.EQUALITY],ODD:[" % 2 === 1",j.MODULUS,j.EQUALITY],WHOLE:[" % 1 === 0",j.MODULUS,j.EQUALITY],POSITIVE:[" > 0",j.RELATIONAL,j.RELATIONAL],NEGATIVE:[" < 0",j.RELATIONAL,j.RELATIONAL],DIVISIBLE_BY:[null,j.MODULUS,j.EQUALITY],PRIME:[null,j.NONE,j.FUNCTION_CALL]};const se=E.getFieldValue("PROPERTY"),[ke,rt,ut]=q[se];return q=O.valueToCode(E,"NUMBER_TO_CHECK",rt)||"0",se==="PRIME"?E=O.provideFunction_("mathIsPrime",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+q+")":se==="DIVISIBLE_BY"?(E=O.valueToCode(E,"DIVISOR",j.MODULUS)||"0",E=q+" % "+E+" === 0"):E=q+ke,[E,ut]},ie=function(E,O){const q=O.valueToCode(E,"DELTA",j.ADDITION)||"0";return E=O.getVariableName(E.getFieldValue("VAR")),E+" = (typeof "+E+" === 'number' ? "+E+" : 0) + "+q+`;
`},be=function(E,O){var q=E.getFieldValue("OP");switch(q){case"SUM":E=O.valueToCode(E,"LIST",j.MEMBER)||"[]",E+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":E=O.valueToCode(E,"LIST",j.NONE)||"[]",E="Math.min.apply(null, "+E+")";break;case"MAX":E=O.valueToCode(E,"LIST",j.NONE)||"[]",E="Math.max.apply(null, "+E+")";break;case"AVERAGE":q=O.provideFunction_("mathMean",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),E=O.valueToCode(E,"LIST",j.NONE)||"[]",E=q+"("+E+")";break;case"MEDIAN":q=O.provideFunction_("mathMedian",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),E=O.valueToCode(E,"LIST",j.NONE)||"[]",E=q+"("+E+")";break;case"MODE":q=O.provideFunction_("mathModes",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
        modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),E=O.valueToCode(E,"LIST",j.NONE)||"[]",E=q+"("+E+")";break;case"STD_DEV":q=O.provideFunction_("mathStandardDeviation",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance = variance / n;
  return Math.sqrt(variance);
}
`),E=O.valueToCode(E,"LIST",j.NONE)||"[]",E=q+"("+E+")";break;case"RANDOM":q=O.provideFunction_("mathRandomList",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),E=O.valueToCode(E,"LIST",j.NONE)||"[]",E=q+"("+E+")";break;default:throw Error("Unknown operator: "+q)}return[E,j.FUNCTION_CALL]},Ae=function(E,O){const q=O.valueToCode(E,"DIVIDEND",j.MODULUS)||"0";return E=O.valueToCode(E,"DIVISOR",j.MODULUS)||"0",[q+" % "+E,j.MODULUS]},ge=function(E,O){const q=O.valueToCode(E,"VALUE",j.NONE)||"0",se=O.valueToCode(E,"LOW",j.NONE)||"0";return E=O.valueToCode(E,"HIGH",j.NONE)||"Infinity",["Math.min(Math.max("+q+", "+se+"), "+E+")",j.FUNCTION_CALL]},Ue=function(E,O){const q=O.valueToCode(E,"FROM",j.NONE)||"0";return E=O.valueToCode(E,"TO",j.NONE)||"0",[O.provideFunction_("mathRandomInt",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+q+", "+E+")",j.FUNCTION_CALL]},Ie=function(E,O){return["Math.random()",j.FUNCTION_CALL]},De=function(E,O){const q=O.valueToCode(E,"X",j.NONE)||"0";return["Math.atan2("+(O.valueToCode(E,"Y",j.NONE)||"0")+", "+q+") / Math.PI * 180",j.DIVISION]},Ne=function(E,O){const q=O.getProcedureName(E.getFieldValue("NAME"));var se="";O.STATEMENT_PREFIX&&(se+=O.injectId(O.STATEMENT_PREFIX,E)),O.STATEMENT_SUFFIX&&(se+=O.injectId(O.STATEMENT_SUFFIX,E)),se&&(se=O.prefixLines(se,O.INDENT));let ke="";O.INFINITE_LOOP_TRAP&&(ke=O.prefixLines(O.injectId(O.INFINITE_LOOP_TRAP,E),O.INDENT));const rt=O.statementToCode(E,"STACK");let ut=O.valueToCode(E,"RETURN",j.NONE)||"",cr="";rt&&ut&&(cr=se),ut&&(ut=O.INDENT+"return "+ut+`;
`);const Xr=[],rl=E.getVars();for(let Wn=0;Wn<rl.length;Wn++)Xr[Wn]=O.getVariableName(rl[Wn]);return se="function "+q+"("+Xr.join(", ")+`) {
`+se+ke+rt+cr+ut+"}",se=O.scrub_(E,se),O.definitions_["%"+q]=se,null},ot=function(E,O){const q=O.getProcedureName(E.getFieldValue("NAME")),se=[],ke=E.getVars();for(let rt=0;rt<ke.length;rt++)se[rt]=O.valueToCode(E,"ARG"+rt,j.NONE)||"null";return[q+"("+se.join(", ")+")",j.FUNCTION_CALL]},Je=function(E,O){return O.forBlock.procedures_callreturn(E,O)[0]+`;
`},st=function(E,O){let q="if ("+(O.valueToCode(E,"CONDITION",j.NONE)||"false")+`) {
`;return O.STATEMENT_SUFFIX&&(q+=O.prefixLines(O.injectId(O.STATEMENT_SUFFIX,E),O.INDENT)),E.hasReturnValue_?(E=O.valueToCode(E,"VALUE",j.NONE)||"null",q+=O.INDENT+"return "+E+`;
`):q+=O.INDENT+`return;
`,q+`}
`},Ce=function(E,O){return[O.quote_(E.getFieldValue("TEXT")),j.ATOMIC]},gt=function(E,O){return E=O.multiline_quote_(E.getFieldValue("TEXT")),O=E.indexOf("+")!==-1?j.ADDITION:j.ATOMIC,[E,O]},He=function(E,O){switch(E.itemCount_){case 0:return["''",j.ATOMIC];case 1:return E=O.valueToCode(E,"ADD0",j.NONE)||"''",jr(E);case 2:var q=O.valueToCode(E,"ADD0",j.NONE)||"''";return E=O.valueToCode(E,"ADD1",j.NONE)||"''",[jr(q)[0]+" + "+jr(E)[0],j.ADDITION];default:q=Array(E.itemCount_);for(let se=0;se<E.itemCount_;se++)q[se]=O.valueToCode(E,"ADD"+se,j.NONE)||"''";return["["+q.join(",")+"].join('')",j.FUNCTION_CALL]}},bt=function(E,O){const q=O.getVariableName(E.getFieldValue("VAR"));return E=O.valueToCode(E,"TEXT",j.NONE)||"''",q+" += "+jr(E)[0]+`;
`},Ot=function(E,O){return[(O.valueToCode(E,"VALUE",j.MEMBER)||"''")+".length",j.MEMBER]},Et=function(E,O){return["!"+(O.valueToCode(E,"VALUE",j.MEMBER)||"''")+".length",j.LOGICAL_NOT]},ft=function(E,O){const q=E.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",se=O.valueToCode(E,"FIND",j.NONE)||"''";return O=(O.valueToCode(E,"VALUE",j.MEMBER)||"''")+"."+q+"("+se+")",E.workspace.options.oneBasedIndex?[O+" + 1",j.ADDITION]:[O,j.FUNCTION_CALL]},mt=function(E,O){const q=E.getFieldValue("WHERE")||"FROM_START",se=O.valueToCode(E,"VALUE",q==="RANDOM"?j.NONE:j.MEMBER)||"''";switch(q){case"FIRST":return[se+".charAt(0)",j.FUNCTION_CALL];case"LAST":return[se+".slice(-1)",j.FUNCTION_CALL];case"FROM_START":return E=O.getAdjusted(E,"AT"),[se+".charAt("+E+")",j.FUNCTION_CALL];case"FROM_END":return E=O.getAdjusted(E,"AT",1,!0),[se+".slice("+E+").charAt(0)",j.FUNCTION_CALL];case"RANDOM":return[O.provideFunction_("textRandomLetter",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+se+")",j.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},dt=function(E,O){var q={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const se=E.getFieldValue("WHERE1"),ke=E.getFieldValue("WHERE2");var rt=se!=="FROM_END"&&se!=="LAST"&&ke!=="FROM_END"&&ke!=="LAST",ut=O.valueToCode(E,"STRING",rt?j.MEMBER:j.NONE)||"''";if(se==="FIRST"&&ke==="LAST")return[ut,j.NONE];if(ut.match(/^'?\w+'?$/)||rt){switch(se){case"FROM_START":q=O.getAdjusted(E,"AT1");break;case"FROM_END":q=O.getAdjusted(E,"AT1",1,!1,j.SUBTRACTION),q=ut+".length - "+q;break;case"FIRST":q="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(ke){case"FROM_START":O=O.getAdjusted(E,"AT2",1);break;case"FROM_END":O=O.getAdjusted(E,"AT2",0,!1,j.SUBTRACTION),O=ut+".length - "+O;break;case"LAST":O=ut+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}ut=ut+".slice("+q+", "+O+")"}else rt=O.getAdjusted(E,"AT1"),E=O.getAdjusted(E,"AT2"),ut=O.provideFunction_("subsequence"+q[se]+q[ke],`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(sequence${se==="FROM_END"||se==="FROM_START"?", at1":""}${ke==="FROM_END"||ke==="FROM_START"?", at2":""}) {
  var start = ${No("sequence",se,"at1")};
  var end = ${No("sequence",ke,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+ut+(se==="FROM_END"||se==="FROM_START"?", "+rt:"")+(ke==="FROM_END"||ke==="FROM_START"?", "+E:"")+")";return[ut,j.FUNCTION_CALL]},Tt=function(E,O){const q={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[E.getFieldValue("CASE")];return E=O.valueToCode(E,"TEXT",q?j.MEMBER:j.NONE)||"''",[q?E+q:O.provideFunction_("textToTitleCase",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+E+")",j.FUNCTION_CALL]},Pe=function(E,O){const q={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[E.getFieldValue("MODE")];return[(O.valueToCode(E,"TEXT",j.MEMBER)||"''")+q,j.FUNCTION_CALL]},ce=function(E,O){return"window.alert("+(O.valueToCode(E,"TEXT",j.NONE)||"''")+`);
`},Be=function(E,O){return O="window.prompt("+(E.getField("TEXT")?O.quote_(E.getFieldValue("TEXT")):O.valueToCode(E,"TEXT",j.NONE)||"''")+")",E.getFieldValue("TYPE")==="NUMBER"&&(O="Number("+O+")"),[O,j.FUNCTION_CALL]},bo=function(E,O){const q=O.valueToCode(E,"TEXT",j.NONE)||"''";return E=O.valueToCode(E,"SUB",j.NONE)||"''",[O.provideFunction_("textCount",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+q+", "+E+")",j.FUNCTION_CALL]},ht=function(E,O){const q=O.valueToCode(E,"TEXT",j.NONE)||"''",se=O.valueToCode(E,"FROM",j.NONE)||"''";return E=O.valueToCode(E,"TO",j.NONE)||"''",[O.provideFunction_("textReplace",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+q+", "+se+", "+E+")",j.FUNCTION_CALL]},lo=function(E,O){return[(O.valueToCode(E,"TEXT",j.MEMBER)||"''")+".split('').reverse().join('')",j.FUNCTION_CALL]},at=function(E,O){return[O.getVariableName(E.getFieldValue("VAR")),j.ATOMIC]},jt=function(E,O){const q=O.valueToCode(E,"VALUE",j.ASSIGNMENT)||"0";return O.getVariableName(E.getFieldValue("VAR"))+" = "+q+`;
`},j;(function(E){E[E.ATOMIC=0]="ATOMIC",E[E.NEW=1.1]="NEW",E[E.MEMBER=1.2]="MEMBER",E[E.FUNCTION_CALL=2]="FUNCTION_CALL",E[E.INCREMENT=3]="INCREMENT",E[E.DECREMENT=3]="DECREMENT",E[E.BITWISE_NOT=4.1]="BITWISE_NOT",E[E.UNARY_PLUS=4.2]="UNARY_PLUS",E[E.UNARY_NEGATION=4.3]="UNARY_NEGATION",E[E.LOGICAL_NOT=4.4]="LOGICAL_NOT",E[E.TYPEOF=4.5]="TYPEOF",E[E.VOID=4.6]="VOID",E[E.DELETE=4.7]="DELETE",E[E.AWAIT=4.8]="AWAIT",E[E.EXPONENTIATION=5]="EXPONENTIATION",E[E.MULTIPLICATION=5.1]="MULTIPLICATION",E[E.DIVISION=5.2]="DIVISION",E[E.MODULUS=5.3]="MODULUS",E[E.SUBTRACTION=6.1]="SUBTRACTION",E[E.ADDITION=6.2]="ADDITION",E[E.BITWISE_SHIFT=7]="BITWISE_SHIFT",E[E.RELATIONAL=8]="RELATIONAL",E[E.IN=8]="IN",E[E.INSTANCEOF=8]="INSTANCEOF",E[E.EQUALITY=9]="EQUALITY",E[E.BITWISE_AND=10]="BITWISE_AND",E[E.BITWISE_XOR=11]="BITWISE_XOR",E[E.BITWISE_OR=12]="BITWISE_OR",E[E.LOGICAL_AND=13]="LOGICAL_AND",E[E.LOGICAL_OR=14]="LOGICAL_OR",E[E.CONDITIONAL=15]="CONDITIONAL",E[E.ASSIGNMENT=16]="ASSIGNMENT",E[E.YIELD=17]="YIELD",E[E.COMMA=18]="COMMA",E[E.NONE=99]="NONE"})(j||(j={}));var b=class extends c.CodeGenerator$$module$build$src$core$generator{constructor(E="JavaScript"){super(E),this.ORDER_OVERRIDES=[[j.FUNCTION_CALL,j.MEMBER],[j.FUNCTION_CALL,j.FUNCTION_CALL],[j.MEMBER,j.MEMBER],[j.MEMBER,j.FUNCTION_CALL],[j.LOGICAL_NOT,j.LOGICAL_NOT],[j.MULTIPLICATION,j.MULTIPLICATION],[j.ADDITION,j.ADDITION],[j.LOGICAL_AND,j.LOGICAL_AND],[j.LOGICAL_OR,j.LOGICAL_OR]],this.isInitialized=!1;for(const O in j)E=j[O],typeof E!="string"&&(this["ORDER_"+O]=E);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(E){super.init(E),this.nameDB_?this.nameDB_.reset():this.nameDB_=new c.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(E.getVariableMap()),this.nameDB_.populateVariables(E),this.nameDB_.populateProcedures(E);const O=[];var q=c.allDeveloperVariables$$module$build$src$core$variables(E);for(let se=0;se<q.length;se++)O.push(this.nameDB_.getName(q[se],c.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(E=c.allUsedVarModels$$module$build$src$core$variables(E),q=0;q<E.length;q++)O.push(this.nameDB_.getName(E[q].getId(),c.NameType$$module$build$src$core$names.VARIABLE));O.length&&(this.definitions_.variables="var "+O.join(", ")+";"),this.isInitialized=!0}finish(E){const O=Object.values(this.definitions_);return super.finish(E),this.isInitialized=!1,this.nameDB_.reset(),O.join(`

`)+`


`+E}scrubNakedValue(E){return E+`;
`}quote_(E){return E=E.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+E+"'"}multiline_quote_(E){return E.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(E,O,q=!1){let se="";if(!E.outputConnection||!E.outputConnection.targetConnection){var ke=E.getCommentText();ke&&(ke=c.wrap$$module$build$src$core$utils$string(ke,this.COMMENT_WRAP-3),se+=this.prefixLines(ke+`
`,"// "));for(let rt=0;rt<E.inputList.length;rt++)E.inputList[rt].type===c.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(ke=E.inputList[rt].connection.targetBlock())&&(ke=this.allNestedComments(ke))&&(se+=this.prefixLines(ke,"// "))}return E=E.nextConnection&&E.nextConnection.targetBlock(),q=q?"":this.blockToCode(E),se+O+q}getAdjusted(E,O,q=0,se=!1,ke=j.NONE){E.workspace.options.oneBasedIndex&&q--;const rt=E.workspace.options.oneBasedIndex?"1":"0";let ut=ke;return 0<q?ut=j.ADDITION:0>q?ut=j.SUBTRACTION:se&&(ut=j.UNARY_NEGATION),E=this.valueToCode(E,O,ut)||rt,q===0&&!se?E:c.isNumber$$module$build$src$core$utils$string(E)?(E=String(Number(E)+q),se&&(E=String(-Number(E))),E):(0<q?E=`${E} + ${q}`:0>q&&(E=`${E} - ${-q}`),se&&(E=q?`-(${E})`:`-${E}`),Math.floor(ke)>=Math.floor(ut)&&(E=`(${E})`),E)}},L={};L.colour_blend=_,L.colour_picker=h,L.colour_random=f,L.colour_rgb=g;var K=function(E,O,q){return O==="FIRST"?"0":O==="FROM_END"?E+".length - 1 - "+q:O==="LAST"?E+".length - 1":q},te={};te.lists_create_empty=y,te.lists_create_with=v,te.lists_getIndex=x,te.lists_getSublist=B,te.lists_indexOf=M,te.lists_isEmpty=N,te.lists_length=R,te.lists_repeat=I,te.lists_reverse=H,te.lists_setIndex=A,te.lists_sort=W,te.lists_split=X;var pe={};pe.controls_if=P,pe.controls_ifelse=P,pe.logic_boolean=re,pe.logic_compare=F,pe.logic_negate=Q,pe.logic_null=ae,pe.logic_operation=J,pe.logic_ternary=S;var Xe={};Xe.controls_flow_statements=Y,Xe.controls_for=fe,Xe.controls_forEach=Ee,Xe.controls_repeat=oe,Xe.controls_repeat_ext=oe,Xe.controls_whileUntil=$e;var _t={};_t.math_arithmetic=ve,_t.math_atan2=De,_t.math_change=ie,_t.math_constant=de,_t.math_constrain=ge,_t.math_modulo=Ae,_t.math_number=le,_t.math_number_property=U,_t.math_on_list=be,_t.math_random_float=Ie,_t.math_random_int=Ue,_t.math_round=me,_t.math_single=me,_t.math_trig=me;var ao={};ao.procedures_callnoreturn=Je,ao.procedures_callreturn=ot,ao.procedures_defnoreturn=Ne,ao.procedures_defreturn=Ne,ao.procedures_ifreturn=st;var un=/^\s*'([^']|\\')*'\s*$/,jr=function(E){return un.test(E)?[E,j.ATOMIC]:["String("+E+")",j.FUNCTION_CALL]},No=function(E,O,q){return O==="FIRST"?"0":O==="FROM_END"?E+".length - 1 - "+q:O==="LAST"?E+".length - 1":q},Nt={};Nt.text=Ce,Nt.text_append=bt,Nt.text_changeCase=Tt,Nt.text_charAt=mt,Nt.text_count=bo,Nt.text_getSubstring=dt,Nt.text_indexOf=ft,Nt.text_isEmpty=Et,Nt.text_join=He,Nt.text_length=Ot,Nt.text_multiline=gt,Nt.text_print=ce,Nt.text_prompt=Be,Nt.text_prompt_ext=Be,Nt.text_replace=ht,Nt.text_reverse=lo,Nt.text_trim=Pe;var Hn={};Hn.variables_get=at,Hn.variables_set=jt;var Gn={};Gn.variables_get_dynamic=at,Gn.variables_set_dynamic=jt;var Vn=new b,Ti=Object.assign({},L,te,pe,Xe,_t,ao,Nt,Hn,Gn);for(const E in Ti)Vn.forBlock[E]=Ti[E];var ct={};return ct.JavascriptGenerator=b,ct.Order=j,ct.javascriptGenerator=Vn,ct.__namespace__=c,ct})}(Xm)),Xm.exports}var mM=jm.exports,ov;function $M(){return ov||(ov=1,function(r,s){(function(n,c){r.exports=c(QT(),gM())})(mM,function(n,c){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return c})}(jm)),jm.exports}var _M=Fm.exports,rv;function TM(){return rv||(rv=1,function(r,s){(function(n,c){r.exports=c(QT(),cM(),pM(),$M())})(_M,function(n,c,h,f){return n.setLocale(c),n})}(Fm)),Fm.exports}var bM=Bm.exports,nv;function EM(){return nv||(nv=1,function(r,s){(function(n,c){r.exports=c(TM())})(bM,function(n){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(Bm)),Bm.exports}var $c=EM(),Uf=QT();const yM=Uf.common.createBlockDefinitionsFromJsonArray([{type:"string",message0:"%1",args0:[{type:"field_input",name:"INPUT"}],previousStatement:["Replacement","Regular"],nextStatement:["Replacement","Regular"],colour:60,tooltip:"A literal piece of text to look for"},{type:"setVar",message0:"Assign to %1",args0:[{type:"field_variable",name:"VAR",defaultType:"Vars",variableTypes:["Vars"]}],extensions:["one_var_at_a_time","remove_plus"],nextStatement:["Replacement","Regular"],tooltip:"Set a pattern to a variable so you can reference it later"},{type:"getVar",message0:"%1",args0:[{type:"field_variable",name:"VAR",defaultType:"Vars",variableTypes:["Vars"]}],previousStatement:["Replacement","Regular"],nextStatement:["Replacement","Regular"],tooltip:"Reference a pattern you've previously set"},{type:"compiler",extensions:["remove_plus"],message0:"Set Pattern",nextStatement:["Regular","Beginning"],tooltip:"Sets the main pattern that's used in the rest of the program"},{type:"replacementCompiler",extensions:["remove_plus"],message0:"Set Replacement Pattern",nextStatement:["Replacement"],tooltip:"Sets the main replacement pattern that's used in the rest of the program"},{type:"stringStart",message0:"Start of string",previousStatement:"Beginning",nextStatement:"Regular",colour:160,tooltip:"Represets the start of a string. This only makes sense to be at the very beginning of a pattern"},{type:"stringEnd",message0:"End of string",previousStatement:"Regular",colour:160,tooltip:"Represents the end of a string. This only makes sense to be at the very end of a pattern"},{type:"lineStart",message0:"Start of a line",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:""},{type:"lineEnd",message0:"End of a line",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:""},{type:"wordBoundary",message0:"Word boundary",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:"Matches the boundary of a word, i.e. the empty space between a word character and not a word character, or the end of a string"},{type:"notWordBoundary",message0:"Not word boundary",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:"The opposite of wordBoundary"},{type:"tab",message0:"Tab",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"space",message0:"Space",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"spaceOrTab",message0:"Space or Tab",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"newline",message0:"Newline",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"carriageReturn",message0:"Carriage Return",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"quote",message0:"Quote",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Matches ', \", and `"},{type:"verticalTab",message0:"Vertical Tab",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"formFeed",message0:"Form Feed",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"comma",message0:"Comma",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"period",message0:"Period",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"underscore",message0:"Underscore",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"notWhitespace",message0:"Not Whitespace",previousStatement:"Regular",nextStatement:"Regular",colour:309,tooltip:""},{type:"notDigit",message0:"Not Digit",previousStatement:"Regular",nextStatement:"Regular",colour:309,tooltip:""},{type:"notWord",message0:"Not Word",previousStatement:"Regular",nextStatement:"Regular",colour:309,tooltip:""},{type:"whitespace",message0:"Whitespace",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"whitechunk",message0:"Whitechunk",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:'A "chunk" of whitespace. Just any amount of whitespace together'},{type:"digit",message0:"Digit",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"letter",message0:"Letter",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches just a letter -- not numbers or _ like wordChar"},{type:"number",message0:"Number",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches multiple digits next to each other. Does not match negatives or decimals"},{type:"word",message0:"Word",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"wordChar",message0:"Word Character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:'Matches just a single "word character", defined as any letter, number, or _'},{type:"anything",message0:"Any Character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches any single character, except a newline. To also match a newline, use literallyAnything"},{type:"chunk",message0:"Chunk",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:'A "chunk": Any sequence of characters up until the next newline'},{type:"uppercase",message0:"Uppercase character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"lowercase",message0:"Lowercase character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"hexDigit",message0:"Hexadecimal Digit",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"octDigit",message0:"Octal Digit",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"punctuation",message0:"Punctuation",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"controller",message0:"Controller",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches a metadata ASCII characters"},{type:"printable",message0:"Printable",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches printable ASCII characters"},{type:"printableAndSpace",message0:"Printable and Space",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"alphaNum",message0:"Alpha Numeric",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches any letter or number"},{type:"unicode",message0:"Unicode Character %1",args0:[{type:"field_input",name:"NAME"}],previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches a unicode character by name"},{type:"anyBetween",message0:"Character between %1 - %2",args0:[{type:"field_input",name:"A"},{type:"field_input",name:"B"}],previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Match any char between 2 chars, using the ASCII table for reference"},{type:"matchMax",message0:`Match as many as possible of
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match as many of input in the string as you can"},{type:"amt",message0:`Match %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match a given amount of `input` in the string"},{type:"moreThan",message0:`More than %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match more than a given number of sequences of a pattern in the string"},{type:"matchRange",message0:`Match between %1 and %2 of 
%3 greedy: %4
possessive: %5`,args0:[{type:"field_number",name:"MIN",value:1,min:0,precision:1},{type:"field_number",name:"MAX",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match between min and max sequences of input in the string. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"atLeast",message0:`Match at least %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:1,min:0,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match at least min sequences of input in the string"},{type:"atMost",message0:`Match at most %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match at most max instances of input in the string"},{type:"atLeastOne",message0:`Match at least one of 
%1 greedy: %2
possessive: %3`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match at least one of input in the string. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"atLeastNone",message0:`Match 0 or more of 
%1 greedy: %2
possessive: %3`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match 0 or more sequences of input. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"optional",message0:`Optional 
%1 greedy: %2
possessive: %3`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:230,tooltip:"Match the pattern, if possible. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"either",message0:`Match either 
%1 or 
%2`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"input_statement",check:"Regular",name:"OR_INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:230,tooltip:""},{type:"oneOf",message0:"One of TODO",previousStatement:"Regular",nextStatement:"Regular",saveExtraState:function(){return{"":this.itemCount_}},loadExtraState:function(r){this.itemCount_=r.itemCount,this.updateShape_()},colour:230,tooltip:"Match any of the given inputs. Note that inputs can be multiple parameters, or a single string. Can also accept parameters chars and split. If char is set to True, then inputs must only be a single string, it interprets inputs as characters, and splits it up to find any of the chars in the string. If split is set to true, it forces the ?(...) regex syntax instead of the [...] syntax. It should act the same way, but your output regex will look different. By default, it just optimizes it for you."},{type:"anyCharExcept",message0:"Any Character Except %1",args0:[{type:"field_input",name:"CHARS"}],previousStatement:"Regular",nextStatement:"Regular",colour:230,tooltip:"This matches any char that is NOT in inputs. inputs can be multiple parameters, or a single string of chars to split."},{type:"ifFollowedBy",message0:`If Followed by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",colour:210,tooltip:"Matches the pattern if it has a given pattern coming after it"},{type:"ifNotFollowedBy",message0:`If Not Followed by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",colour:210,tooltip:"Matches the pattern if it does NOT have a given pattern coming after it. This only makes sense to be at the very beginning of a pattern"},{type:"ifPrecededBy",message0:`If Preceded by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Beginning",nextStatement:"Regular",colour:210,tooltip:"Matches the pattern if it has input coming before it."},{type:"ifNotPrecededBy",message0:`If Not Preceded by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Beginning",nextStatement:"Regular",colour:210,tooltip:"Matches the pattern if it does NOT have input coming before it. This only makes sense to be at the very beginning of a pattern"},{type:"group",message0:`Group %1 
%2`,args0:[{type:"field_variable",name:"GROUP",variableTypes:["Group"],defaultType:"Group"},{type:"input_statement",check:"Regular",name:"INPUT"}],extensions:["one_var_at_a_time"],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Causes input to be captured as a named group. Only useful when replacing regexs"},{type:"unnamedGroup",message0:`Unnamed Group
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Causes input to be captured as an unnamed group. Only useful when replacing regexs"},{type:"earlierGroup",message0:"Match what group %1 matched previously",args0:[{type:"field_variable",name:"GROUP",variableTypes:["Group"],defaultType:"Group"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Matches whatever the group referenced by num_or_name matched earlier. Must be after a group which would match num_or_name"},{type:"ifExists",message0:`If group %1 was matched, match 
%2 Otherwise match 
%3`,args0:[{type:"field_variable",name:"GROUP",variableTypes:["Group"],defaultType:"Group"},{type:"input_statement",check:"Regular",name:"DOES"},{type:"input_statement",check:"Regular",name:"DOESNT"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Matches does if the group num_or_name exists, otherwise it matches doesnt"},{type:"passiveGroup",message0:`Passive Group 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"As all regexs in EZRegex capture passively, this is entirely useless. But if you really want to, here it is"},{type:"rgroup",message0:"Whatever was matched by group %1",args0:[{type:"field_input",name:"RGROUP"}],previousStatement:"Replacement",nextStatement:"Replacement",colour:0,tooltip:"This block gets replaced by whatever was matched by the given group"},{type:"replaceEntire",message0:"Entire Match",previousStatement:"Replacement",nextStatement:"Replacement",colour:0,tooltip:"This block gets replaced by the entire match"},{type:"literallyAnything",message0:"Literally Any Character",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Any character, include newline"},{type:"signed",message0:"Signed number",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"A signed number, including 123, -123, and +123"},{type:"unsigned",message0:"Unsigned number",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Same as number. Will not match +123"},{type:"plain_float",message0:"Plain float",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Will match 123.45 and 123."},{type:"full_float",message0:"Full float",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Will match plain_float as well as things like 1.23e-10 and 1.23e+10"},{type:"int_or_float",message0:"Int or float",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"ow",message0:"Optional Whitechunk",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"email",message0:"Email",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Matches an email"},{type:"version",message0:"Version",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"The official regex for matching version numbers from https://semver.org/. It includes 5 named groups that can be matched/replaced: major, minor, patch, prerelease, and buildmetadata",helpUrl:"https://semver.org/"},{type:"version_numbered",message0:"Version (with numbered groups)",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Same as version, but it uses numbered groups for each version number instead of named groups",helpUrl:"https://semver.org/"},{type:"isExactly",message0:`If Exactly 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],colour:210,previousStatement:"Beginning",tooltip:"This matches the string if and only if the entire string is exactly equal to input. This only makes sense to be at the very beginning & ending of a pattern"},{type:"raw",message0:"Raw Regex %1",args0:[{type:"field_input",name:"REGEX"}],previousStatement:"Regular",nextStatement:"Regular",colour:60,tooltip:"If you already have some regular regex written, and you want to incorperate it, this will allow you to include it without sanatizing all the backslashes and such, which all the other EZRegexs do automatically. Note that this only works with Python dialect regexs."},{type:"ASCII",message0:"ASCII",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"DOTALL",message0:"DOTALL",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"IGNORECASE",message0:"IGNORECASE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"LOCALE",message0:"LOCALE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"MULTILINE",message0:"MULTILINE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"UNICODE",message0:"UNICODE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"}]),BS="mainWorkspace",F_=function(r){var n;const s=Uf.serialization.workspaces.save(r);(n=window.localStorage)==null||n.setItem(BS,JSON.stringify(s))},U_=function(r){var n;const s=(n=window.localStorage)==null?void 0:n.getItem(BS);s&&(Uf.Events.disable(),Uf.serialization.workspaces.load(JSON.parse(s),r,!1),Uf.Events.enable())},Hf=new $c.Generator("EZRegex"),vM={ATOMIC:0};Hf.scrub_=function(r,s,n){const c=r.nextConnection&&r.nextConnection.targetBlock();return c&&!n&&!r.removePlus?s+" + "+Hf.blockToCode(c):r.removePlus?s+Hf.blockToCode(c):s};const tr=(r,s,n="INPUT",c="''")=>s.statementToCode(r,n,vM.ATOMIC).trim()||c,Ah=(r,s="VAR")=>r.workspace.getVariableMap().getVariableById(r.getFieldValue(s)).name,SM={string:(r,s)=>"'"+r.getFieldValue("INPUT").replace("\\","\\\\").replace("'","\\'")+"'",setVar:(r,s)=>`${Ah(r)} = `,getVar:(r,s)=>`${Ah(r)}`,compiler:(r,s)=>"pattern = ",replacementCompiler:(r,s)=>"replacement = ",stringStart:(r,s)=>"stringStart",stringEnd:(r,s)=>"stringEnd",lineStart:(r,s)=>"lineStart",lineEnd:(r,s)=>"lineEnd",wordBoundary:(r,s)=>"wordBoundary",notWordBoundary:(r,s)=>"notWordBoundary",tab:(r,s)=>"tab",space:(r,s)=>"space",spaceOrTab:(r,s)=>"space_or_tab",newline:(r,s)=>"newline",carriageReturn:(r,s)=>"carriage_return",quote:(r,s)=>"quote",verticalTab:(r,s)=>"vertical_tab",formFeed:(r,s)=>"form_feed",comma:(r,s)=>"comma",period:(r,s)=>"period",underscore:(r,s)=>"underscore",notWhitespace:(r,s)=>"not_whitespace",notDigit:(r,s)=>"not_digit",notWord:(r,s)=>"not_word",whitespace:(r,s)=>"whitespace",whitechunk:(r,s)=>"whitechunk",digit:(r,s)=>"digit",letter:(r,s)=>"letter",number:(r,s)=>"number",word:(r,s)=>"word",wordChar:(r,s)=>"word_char",anything:(r,s)=>"anything",chunk:(r,s)=>"chunk",uppercase:(r,s)=>"uppercase",lowercase:(r,s)=>"lowercase",hexDigit:(r,s)=>"hex_digit",octDigit:(r,s)=>"oct_digit",punctuation:(r,s)=>"punctuation",controller:(r,s)=>"controller",printable:(r,s)=>"printable",printableAndSpace:(r,s)=>"printable_and_space",alphaNum:(r,s)=>"alpha_num",unicode:(r,s)=>`unicode('${r.getFieldValue("NAME")}')`,anyBetween:(r,s)=>`any_between('${r.getFieldValue("A")}', '${r.getFieldValue("B")}')`,matchMax:(r,s)=>`match_max(${tr(r,s)})`,amt:(r,s)=>`amt(${r.getFieldValue("NUM")}, ${tr(r,s)})`,moreThan:(r,s)=>`more_than(${r.getFieldValue("NUM")}, ${tr(r,s)})`,matchRange:(r,s)=>`match_range(${r.getFieldValue("MIN")}, ${r.getFieldValue("MAX")}, ${tr(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,atLeast:(r,s)=>`at_least(${r.getFieldValue("NUM")}, ${tr(r,s)})`,atMost:(r,s)=>`at_most(${r.getFieldValue("NUM")}, ${tr(r,s)})`,atLeastOne:(r,s)=>`at_least_one(${tr(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,atLeastNone:(r,s)=>`at_least_none(${tr(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,optional:(r,s)=>`optional(${tr(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,either:(r,s)=>`either(${tr(r,s)}, ${tr(r,s,"OR_INPUT")})`,oneOf:(r,s)=>"one_of(TODO)",anyCharExcept:(r,s)=>`any_char_except(*'${r.getFieldValue("CHARS")}')`,ifFollowedBy:(r,s)=>`if_followed_by(${tr(r,s)})`,ifNotFollowedBy:(r,s)=>`if_not_followed_by(${tr(r,s)})`,ifPrecededBy:(r,s)=>`if_preceded_by(${tr(r,s)})`,ifNotPrecededBy:(r,s)=>`if_not_preceded_by(${tr(r,s)})`,group:(r,s)=>`group(${tr(r,s)}${Ah(r,"GROUP")===""?"":", name='"+Ah(r,"GROUP")+"'"})`,unnamedGroup:(r,s)=>`group(${tr(r,s)})`,earlierGroup:(r,s)=>`earlier_group('${Ah(r,"GROUP")}')`,ifExists:(r,s)=>`if_exists('${Ah(r,"GROUP")}', ${tr(r,s,"DOES")}, ${tr(r,s,"DOESNT")})`,passiveGroup:(r,s)=>"'Paul Blart, Mall Cop'",rgroup:(r,s)=>`rgroup('${r.getFieldValue("RGROUP")}')`,replaceEntire:(r,s)=>"replace_entire",literallyAnything:(r,s)=>"literallyAnything",signed:(r,s)=>"signed",unsigned:(r,s)=>"unsigned",plain_float:(r,s)=>"plain_float",full_float:(r,s)=>"full_float",int_or_float:(r,s)=>"int_or_float",ow:(r,s)=>"ow",email:(r,s)=>"email",version:(r,s)=>"version",version_numbered:(r,s)=>"version_numbered",isExactly:(r,s)=>`is_exactly(${tr(r,s)})`,raw:(r,s)=>`raw('${r.getFieldValue("REGEX")}')`,ASCII:(r,s)=>"ASCII",DOTALL:(r,s)=>"DOTALL",IGNORECASE:(r,s)=>"IGNORECASE",LOCALE:(r,s)=>"LOCALE",MULTILINE:(r,s)=>"MULTILINE",UNICODE:(r,s)=>"UNICODE"},IM={kind:"categoryToolbox",contents:[{name:"Common",kind:"category",contents:[{kind:"block",type:"string"},{kind:"block",type:"group"},{kind:"block",type:"optional"},{kind:"block",type:"matchMax"},{kind:"block",type:"whitechunk"},{kind:"block",type:"number"},{kind:"block",type:"word"},{kind:"block",type:"anything"},{kind:"block",type:"chunk"},{kind:"block",type:"uppercase"},{kind:"block",type:"lowercase"},{kind:"block",type:"raw"}]},{name:"Positionals",kind:"category",categorystyle:"text_category",contents:[{kind:"block",type:"stringStart"},{kind:"block",type:"stringEnd"},{kind:"block",type:"lineStart"},{kind:"block",type:"lineEnd"},{kind:"block",type:"wordBoundary"},{kind:"block",type:"notWordBoundary"}]},{name:"Literals",kind:"category",categorystyle:"variable_category",contents:[{kind:"block",type:"string"},{kind:"block",type:"tab"},{kind:"block",type:"space"},{kind:"block",type:"spaceOrTab"},{kind:"block",type:"newline"},{kind:"block",type:"carriageReturn"},{kind:"block",type:"quote"},{kind:"block",type:"verticalTab"},{kind:"block",type:"formFeed"},{kind:"block",type:"comma"},{kind:"block",type:"period"},{kind:"block",type:"underscore"},{kind:"block",type:"literallyAnything"},{kind:"block",type:"signed"},{kind:"block",type:"unsigned"},{kind:"block",type:"plain_float"},{kind:"block",type:"full_float"},{kind:"block",type:"int_or_float"},{kind:"block",type:"ow"},{kind:"block",type:"email"},{kind:"block",type:"version"},{kind:"block",type:"version_numbered"}]},{name:"Not literals",kind:"category",categorystyle:"variable_dynamic_category",contents:[{kind:"block",type:"notWhitespace"},{kind:"block",type:"notDigit"},{kind:"block",type:"notWord"}]},{name:"Catagories",kind:"category",categorystyle:"list_category",contents:[{kind:"block",type:"whitespace"},{kind:"block",type:"whitechunk"},{kind:"block",type:"digit"},{kind:"block",type:"letter"},{kind:"block",type:"number"},{kind:"block",type:"word"},{kind:"block",type:"wordChar"},{kind:"block",type:"anything"},{kind:"block",type:"chunk"},{kind:"block",type:"uppercase"},{kind:"block",type:"lowercase"},{kind:"block",type:"hexDigit"},{kind:"block",type:"octDigit"},{kind:"block",type:"punctuation"},{kind:"block",type:"controller"},{kind:"block",type:"printable"},{kind:"block",type:"printableAndSpace"},{kind:"block",type:"alphaNum"},{kind:"block",type:"anyBetween"}]},{name:"Amounts",kind:"category",categorystyle:"loop_category",contents:[{kind:"block",type:"matchMax"},{kind:"block",type:"amt"},{kind:"block",type:"moreThan"},{kind:"block",type:"matchRange"},{kind:"block",type:"atLeast"},{kind:"block",type:"atMost"},{kind:"block",type:"atLeastOne"},{kind:"block",type:"atLeastNone"}]},{name:"Choices",kind:"category",categorystyle:"math_category",contents:[{kind:"block",type:"optional"},{kind:"block",type:"either"},{kind:"block",type:"oneOf"},{kind:"block",type:"anyCharExcept"}]},{name:"Conditionals",kind:"category",categorystyle:"logic_category",contents:[{kind:"block",type:"ifFollowedBy"},{kind:"block",type:"ifNotFollowedBy"},{kind:"block",type:"ifPrecededBy"},{kind:"block",type:"ifNotPrecededBy"},{kind:"block",type:"isExactly"}]},{name:"Grouping",kind:"category",categorystyle:"colour_category",contents:[{type:"group",kind:"block"},{type:"unnamedGroup",kind:"block"},{type:"earlierGroup",kind:"block"},{type:"ifExists",kind:"block"},{type:"passiveGroup",kind:"block"}]},{kind:"sep"},{name:"Flags",kind:"category",categorystyle:"procedure_category",contents:[{kind:"block",type:"ASCII"},{kind:"block",type:"DOTALL"},{kind:"block",type:"IGNORECASE"},{kind:"block",type:"LOCALE"},{kind:"block",type:"MULTILINE"},{kind:"block",type:"UNICODE"}]},{kind:"sep"},{name:"Replacement",kind:"category",categorystyle:"replacement_category",contents:[{kind:"block",type:"rgroup"},{kind:"block",type:"replaceEntire"}]},{kind:"sep"},{name:"Patterns",kind:"category",custom:"PATTERNS"}]},CM={base:$c.Themes.Classic,categoryStyles:{replacement_category:{colour:"#a55b5b"}},componentStyles:{workspaceBackgroundColour:"#262730"},startHats:!0};$c.FieldTextInput.prototype.spellcheck_=!1;const kM=r=>{const s=r.match(/^pattern = (.*)\n/m);return s&&(r=r.replace(s[0],""),r+=`
pattern = `+s[1]),r};var RM=function(r){var s=[{kind:"block",type:"setVar"}];for(const n of r.getVariablesOfType("Vars"))console.log(n.id_),s.push({kind:"block",type:"getVar",fields:{VAR:{id:n.id_}}});return s};$c.common.defineBlocks(yM);Hf.forBlock=SM;$c.Extensions.register("one_var_at_a_time",function(){(this.getField("GROUP")||this.getField("VAR")).setValidator(s=>{for(const n of this.workspace.getBlocksByType(this.type))if(n!==this&&(n.getFieldValue("GROUP")||n.getFieldValue("VAR"))==s)return null;return s})});$c.Extensions.register("remove_plus",function(){this.removePlus=!0});function wM(){const{mode:r,setToUpdate:s,setCodes:n}=w.useContext(zr),c=w.useRef(),[h,f]=w.useState(null);if(w.useEffect(()=>{const g=$c.inject(c.current,{toolbox:IM,theme:CM,renderer:"thrasos",oneBasedIndex:!1,sounds:!1});g.registerToolboxCategoryCallback("PATTERNS",RM),g.createVariable("pattern",null),g.createVariable("replacement",null);const _=()=>{const v=kM(Hf.workspaceToCode(g));n(v),s(!0)};U_(g),_();const y=v=>{v.isUiEvent||v.type==$c.Events.FINISHED_LOADING||g.isDragging()?v.isUiEvent||F_(g):_()};return g.addChangeListener(y),f(g),()=>{g.removeChangeListener(y),g.dispose()}},[]),(h==null?void 0:h.getBlocksByType("compiler"))<1){const g=h.newBlock("compiler");g.setDeletable(!1),g.contextMenu=!1,h.centerOnBlock(g.id),F_(h),U_(h)}if(r==="replace"&&(h==null?void 0:h.getBlocksByType("replacementCompiler"))<1){console.log("Creating replacementCompiler block");const g=h.newBlock("replacementCompiler");g.setDeletable(!1),g.contextMenu=!1,g.moveBy(150,0),F_(h),U_(h)}return r!=="replace"&&(h==null||h.getBlocksByType("replacementCompiler").forEach(g=>{g.dispose()})),D.jsx("div",{id:"blocklyArea",style:{position:"relative"},children:D.jsx("div",{ref:c,id:"blocklyDiv"})})}function OM(){const{data:r}=w.useContext(zr);return D.jsxs(Er,{sx:{mt:3},children:[D.jsx(rr,{variant:"h5",gutterBottom:!0,children:"Replaced String:"}),D.jsx(Wu,{variant:"outlined",sx:{p:2,bgcolor:"background.paper"},children:D.jsx("pre",{style:{margin:0},children:r==null?void 0:r.replaced})})]})}function AM(){const{inputType:r,setInputType:s}=w.useContext(zr),n=c=>s(c.target.value);return D.jsx(Er,{sx:{minWidth:200,mt:1},children:D.jsxs(ag,{fullWidth:!0,size:"small",title:"Choose how to input your pattern",children:[D.jsx(lg,{id:"input-type-label",children:"Input Method"}),D.jsxs(Zh,{labelId:"input-type-label",id:"input-type-selector",value:r,label:"Input Method",onChange:n,size:"small",variant:"standard",children:[D.jsx(nn,{value:"blocks",children:"Blocks"}),D.jsx(nn,{value:"manual",children:"Manual"})]})]})})}function xM(){const{setMode:r,setToUpdate:s}=w.useContext(zr);return D.jsx(Er,{sx:{minWidth:200,ml:2},children:D.jsxs(ag,{fullWidth:!0,size:"small",children:[D.jsx(lg,{id:"mode-selector-label",children:"Mode"}),D.jsxs(Zh,{labelId:"mode-selector-label",id:"mode-selector",defaultValue:"search",label:"Mode",onChange:n=>{r(n.target.value),s(!0)},size:"small",variant:"standard",children:[D.jsx(nn,{value:"search",children:"Search"}),D.jsx(nn,{value:"replace",children:"Replace"}),D.jsx(nn,{value:"split",children:"Split"})]})]})})}function LM(){const{setDialect:r,setToUpdate:s}=w.useContext(zr);return D.jsx(Er,{sx:{minWidth:200,ml:2},children:D.jsxs(ag,{fullWidth:!0,size:"small",children:[D.jsx(lg,{id:"dialect-selector-label",children:"Regex Dialect"}),D.jsxs(Zh,{labelId:"dialect-selector-label",id:"dialect-selector",defaultValue:"python",label:"Regex Dialect",onChange:n=>{r(n.target.value),s(!0)},size:"small",variant:"standard",children:[D.jsx(nn,{value:"python",children:"Python"}),D.jsx(nn,{value:"javascript",children:"JavaScript (experimental)"}),D.jsx(nn,{value:"R",children:"R (Limited)"}),D.jsx(nn,{value:"perl",children:"Perl (Limited)"})]})]})})}function NM(){return D.jsx(D.Fragment,{children:D.jsxs(Er,{id:"title",sx:{flexShrink:1,display:"flex",alignItems:"center"},children:[D.jsx(LS,{href:"https://github.com/smartycope/ezregex",underline:"hover",target:"_blank",rel:"noopener noreferrer",sx:{scale:"80%"},children:D.jsx("img",{src:"./logo192.png",id:"logo",alt:"EZRegex Logo",height:50})}),D.jsx(rr,{variant:"h1",component:"h1",sx:{ml:-1,background:"linear-gradient(to right, #051A32, #59E6CD)",WebkitBackgroundClip:"text",backgroundClip:"text",fontWeight:"bold",color:"transparent",fontSize:`${50/3}px`,position:"relative",fontFamily:"varela round"},children:"REGEX"})]})})}function MM(){return D.jsx(Er,{sx:{flexGrow:1},children:D.jsx(hN,{position:"static",sx:{backgroundColor:"#59E6CD",borderRadius:"10px",marginBottom:"10px"},children:D.jsxs(qN,{children:[D.jsx(Er,{sx:{edge:"start"},children:D.jsx(NM,{})}),D.jsxs(Er,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:2},children:[D.jsx(AM,{}),D.jsx(xM,{}),D.jsx(LM,{})]})]})})})}function DM(){const{data:r}=w.useContext(zr);return D.jsx(D.Fragment,{children:D.jsxs(Er,{sx:{mt:3},children:[D.jsx(rr,{variant:"h5",children:"Split String:"}),D.jsx(cg,{children:r.split.map((s,n)=>D.jsx(JT,{sx:{pt:0,pb:0,outline:"1px solid",borderRadius:"5px"},children:D.jsx(VN,{primary:s||D.jsx("em",{style:{color:"text.disabled"},children:"Empty"})})},n))})]})})}function PM(){const{mode:r,inputType:s}=w.useContext(zr);return D.jsxs(Wu,{elevation:3,sx:{p:3,mb:4,width:"100%",height:"100%",boxSizing:"border-box"},children:[s==="blocks"&&D.jsx(wM,{}),s==="manual"&&D.jsx(rM,{}),r==="replace"&&s==="manual"&&D.jsx(qO,{}),D.jsx(oN,{})]})}function BM(){const{data:r,error:s,showMatches:n,mode:c}=w.useContext(zr);return D.jsxs(Wu,{elevation:3,sx:{p:3,height:"100%",width:"100%",boxSizing:"border-box"},children:[s&&D.jsx(rr,{color:"error",variant:"body1",children:s}),!s&&!n&&D.jsx(rr,{variant:"body1",color:"text.secondary",fontStyle:"italic",children:"No pattern specified"}),!s&&n&&D.jsxs(Er,{children:[D.jsx(rN,{}),D.jsx(eM,{}),D.jsx(oM,{}),c==="replace"&&(r==null?void 0:r.replaced)&&D.jsx(OM,{}),c==="split"&&(r==null?void 0:r.split)&&D.jsx(DM,{})]})]})}function FM(){const[r,s]=w.useState(""),[n,c]=w.useState(""),[h,f]=w.useState(null),[g,_]=w.useState(""),[y,v]=w.useState(null),[I,R]=w.useState("search"),[N,M]=w.useState("python"),[x,A]=w.useState("blocks"),[B,W]=w.useState(!0),[X,H]=w.useState(!1);w.useEffect(()=>{const Q=window.matchMedia("(max-width: 1000px)"),re=()=>H(Q.matches);return re(),Q.addEventListener("change",re),()=>Q.removeEventListener("change",re)},[]);const P=h!==null&&r.length;function F(Q){M(Q),x_("set_dialect",Q)}w.useEffect(()=>{const Q=document.querySelector("#py2js"),re=ae=>{switch(ae.detail[0]){case"response":f(JSON.parse(ae.detail[1])),v(null);break;case"error":v(ae.detail[1]);break;case"loaded":W(!0);break;default:console.error(`Recieved unknown signal from py2js: ${ae.detail[0]}`),v("Internal Error")}};return Q.addEventListener("custom",re),()=>Q.removeEventListener("custom",re)},[]);function J(Q){const re=Q.match(/^replacement =(.+)\n?/m);re===null?(s(Q),c("")):(s((Q.slice(0,re.index)+Q.slice(re.index+re[0].length,Q.length)).trim()),c("pattern = "+re[1]))}return B&&(I==="replace"?x_("update",JSON.stringify([r,n,g])):x_("update",JSON.stringify([r,null,g])),W(!1)),D.jsx(zr.Provider,{value:{code:r,replaceCode:n,data:h,text:g,error:y,mode:I,dialect:N,inputType:x,needsUpdate:B,isSmallScreen:X,showMatches:P,setDialect:F,setCode:s,setCodes:J,setReplaceCode:c,setData:f,setText:_,setError:v,setMode:R,setDialectState:M,setInputType:A,setToUpdate:W,setIsSmallScreen:H},children:D.jsxs(Er,{children:[D.jsx(MM,{}),D.jsxs(LT,{container:!0,spacing:3,children:[D.jsx(Er,{sx:{width:X?"100%":"60%"},children:D.jsx(PM,{})}),D.jsx(Er,{sx:{width:X?"100%":"37%"},children:D.jsx(BM,{})})]}),D.jsxs("footer",{children:[D.jsx("br",{}),D.jsxs(rr,{variant:"caption",color:"secondary",children:["EZRegex is an open source project."," ",D.jsx(LS,{color:"inherit",href:"https://github.com/smartycope/ezregex-blockly",children:"Source code"})]}),D.jsx("br",{}),D.jsx(rr,{variant:"caption",color:"secondary",id:"version-caption",children:"Loading..."})]})]})})}function UM(){return D.jsxs(vw,{theme:zw,children:[D.jsx(Ow,{}),D.jsx(Aw,{maxWidth:"xl",sx:{py:4},children:D.jsx(FM,{})})]})}const HM=BI.createRoot(document.getElementById("root"));HM.render(D.jsx(ar.StrictMode,{children:D.jsx(UM,{})}));
