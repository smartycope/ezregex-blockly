var SI=Object.defineProperty;var II=(r,s,n)=>s in r?SI(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var $f=(r,s,n)=>II(r,typeof s!="symbol"?s+"":s,n);function CI(r,s){for(var n=0;n<s.length;n++){const c=s[n];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in r)){const f=Object.getOwnPropertyDescriptor(c,h);f&&Object.defineProperty(r,h,f.get?f:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function n(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(h){if(h.ep)return;h.ep=!0;const f=n(h);fetch(h.href,f)}})();var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $_={exports:{}},_f={},__={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function kI(){if(hb)return Rt;hb=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=R&&U[R]||U["@@iterator"],typeof U=="function"?U:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,A={};function P(U,ie,Ee){this.props=U,this.context=ie,this.refs=A,this.updater=Ee||M}P.prototype.isReactComponent={},P.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function W(){}W.prototype=P.prototype;function X(U,ie,Ee){this.props=U,this.context=ie,this.refs=A,this.updater=Ee||M}var H=X.prototype=new W;H.constructor=X,L(H,P.prototype),H.isPureReactComponent=!0;var D=Array.isArray,F=Object.prototype.hasOwnProperty,J={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ne(U,ie,Ee){var Ae,fe={},Ue=null,Le=null;if(ie!=null)for(Ae in ie.ref!==void 0&&(Le=ie.ref),ie.key!==void 0&&(Ue=""+ie.key),ie)F.call(ie,Ae)&&!Q.hasOwnProperty(Ae)&&(fe[Ae]=ie[Ae]);var Fe=arguments.length-2;if(Fe===1)fe.children=Ee;else if(1<Fe){for(var Be=Array(Fe),tt=0;tt<Fe;tt++)Be[tt]=arguments[tt+2];fe.children=Be}if(U&&U.defaultProps)for(Ae in Fe=U.defaultProps,Fe)fe[Ae]===void 0&&(fe[Ae]=Fe[Ae]);return{$$typeof:r,type:U,key:Ue,ref:Le,props:fe,_owner:J.current}}function ae(U,ie){return{$$typeof:r,type:U.type,key:ie,ref:U.ref,props:U.props,_owner:U._owner}}function S(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function oe(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ee){return ie[Ee]})}var ge=/\/+/g;function me(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?oe(""+U.key):ie.toString(36)}function ye(U,ie,Ee,Ae,fe){var Ue=typeof U;(Ue==="undefined"||Ue==="boolean")&&(U=null);var Le=!1;if(U===null)Le=!0;else switch(Ue){case"string":case"number":Le=!0;break;case"object":switch(U.$$typeof){case r:case s:Le=!0}}if(Le)return Le=U,fe=fe(Le),U=Ae===""?"."+me(Le,0):Ae,D(fe)?(Ee="",U!=null&&(Ee=U.replace(ge,"$&/")+"/"),ye(fe,ie,Ee,"",function(tt){return tt})):fe!=null&&(S(fe)&&(fe=ae(fe,Ee+(!fe.key||Le&&Le.key===fe.key?"":(""+fe.key).replace(ge,"$&/")+"/")+U)),ie.push(fe)),1;if(Le=0,Ae=Ae===""?".":Ae+":",D(U))for(var Fe=0;Fe<U.length;Fe++){Ue=U[Fe];var Be=Ae+me(Ue,Fe);Le+=ye(Ue,ie,Ee,Be,fe)}else if(Be=N(U),typeof Be=="function")for(U=Be.call(U),Fe=0;!(Ue=U.next()).done;)Ue=Ue.value,Be=Ae+me(Ue,Fe++),Le+=ye(Ue,ie,Ee,Be,fe);else if(Ue==="object")throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Le}function Y(U,ie,Ee){if(U==null)return U;var Ae=[],fe=0;return ye(U,Ae,"","",function(Ue){return ie.call(Ee,Ue,fe++)}),Ae}function ue(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(Ee){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ee)},function(Ee){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ee)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ve={current:null},$e={transition:null},he={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:$e,ReactCurrentOwner:J};return Rt.Children={map:Y,forEach:function(U,ie,Ee){Y(U,function(){ie.apply(this,arguments)},Ee)},count:function(U){var ie=0;return Y(U,function(){ie++}),ie},toArray:function(U){return Y(U,function(ie){return ie})||[]},only:function(U){if(!S(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Rt.Component=P,Rt.Fragment=n,Rt.Profiler=h,Rt.PureComponent=X,Rt.StrictMode=c,Rt.Suspense=y,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Rt.cloneElement=function(U,ie,Ee){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=L({},U.props),fe=U.key,Ue=U.ref,Le=U._owner;if(ie!=null){if(ie.ref!==void 0&&(Ue=ie.ref,Le=J.current),ie.key!==void 0&&(fe=""+ie.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(Be in ie)F.call(ie,Be)&&!Q.hasOwnProperty(Be)&&(Ae[Be]=ie[Be]===void 0&&Fe!==void 0?Fe[Be]:ie[Be])}var Be=arguments.length-2;if(Be===1)Ae.children=Ee;else if(1<Be){Fe=Array(Be);for(var tt=0;tt<Be;tt++)Fe[tt]=arguments[tt+2];Ae.children=Fe}return{$$typeof:r,type:U.type,key:fe,ref:Ue,props:Ae,_owner:Le}},Rt.createContext=function(U){return U={$$typeof:g,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:f,_context:U},U.Consumer=U},Rt.createElement=ne,Rt.createFactory=function(U){var ie=ne.bind(null,U);return ie.type=U,ie},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(U){return{$$typeof:_,render:U}},Rt.isValidElement=S,Rt.lazy=function(U){return{$$typeof:I,_payload:{_status:-1,_result:U},_init:ue}},Rt.memo=function(U,ie){return{$$typeof:v,type:U,compare:ie===void 0?null:ie}},Rt.startTransition=function(U){var ie=$e.transition;$e.transition={};try{U()}finally{$e.transition=ie}},Rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.useCallback=function(U,ie){return ve.current.useCallback(U,ie)},Rt.useContext=function(U){return ve.current.useContext(U)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(U){return ve.current.useDeferredValue(U)},Rt.useEffect=function(U,ie){return ve.current.useEffect(U,ie)},Rt.useId=function(){return ve.current.useId()},Rt.useImperativeHandle=function(U,ie,Ee){return ve.current.useImperativeHandle(U,ie,Ee)},Rt.useInsertionEffect=function(U,ie){return ve.current.useInsertionEffect(U,ie)},Rt.useLayoutEffect=function(U,ie){return ve.current.useLayoutEffect(U,ie)},Rt.useMemo=function(U,ie){return ve.current.useMemo(U,ie)},Rt.useReducer=function(U,ie,Ee){return ve.current.useReducer(U,ie,Ee)},Rt.useRef=function(U){return ve.current.useRef(U)},Rt.useState=function(U){return ve.current.useState(U)},Rt.useSyncExternalStore=function(U,ie,Ee){return ve.current.useSyncExternalStore(U,ie,Ee)},Rt.useTransition=function(){return ve.current.useTransition()},Rt.version="18.2.0",Rt}var pb;function lT(){return pb||(pb=1,__.exports=kI()),__.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function RI(){if(fb)return _f;fb=1;var r=lT(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function g(_,y,v){var I,R={},N=null,M=null;v!==void 0&&(N=""+v),y.key!==void 0&&(N=""+y.key),y.ref!==void 0&&(M=y.ref);for(I in y)c.call(y,I)&&!f.hasOwnProperty(I)&&(R[I]=y[I]);if(_&&_.defaultProps)for(I in y=_.defaultProps,y)R[I]===void 0&&(R[I]=y[I]);return{$$typeof:s,type:_,key:N,ref:M,props:R,_owner:h.current}}return _f.Fragment=n,_f.jsx=g,_f.jsxs=g,_f}var gb;function wI(){return gb||(gb=1,$_.exports=RI()),$_.exports}var B=wI(),w=lT();const sr=sT(w),F_=CI({__proto__:null,default:sr},[w]);var mm={},T_={exports:{}},on={},E_={exports:{}},b_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function OI(){return mb||(mb=1,function(r){function s($e,he){var U=$e.length;$e.push(he);e:for(;0<U;){var ie=U-1>>>1,Ee=$e[ie];if(0<h(Ee,he))$e[ie]=he,$e[U]=Ee,U=ie;else break e}}function n($e){return $e.length===0?null:$e[0]}function c($e){if($e.length===0)return null;var he=$e[0],U=$e.pop();if(U!==he){$e[0]=U;e:for(var ie=0,Ee=$e.length,Ae=Ee>>>1;ie<Ae;){var fe=2*(ie+1)-1,Ue=$e[fe],Le=fe+1,Fe=$e[Le];if(0>h(Ue,U))Le<Ee&&0>h(Fe,Ue)?($e[ie]=Fe,$e[Le]=U,ie=Le):($e[ie]=Ue,$e[fe]=U,ie=fe);else if(Le<Ee&&0>h(Fe,U))$e[ie]=Fe,$e[Le]=U,ie=Le;else break e}}return he}function h($e,he){var U=$e.sortIndex-he.sortIndex;return U!==0?U:$e.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var g=Date,_=g.now();r.unstable_now=function(){return g.now()-_}}var y=[],v=[],I=1,R=null,N=3,M=!1,L=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H($e){for(var he=n(v);he!==null;){if(he.callback===null)c(v);else if(he.startTime<=$e)c(v),he.sortIndex=he.expirationTime,s(y,he);else break;he=n(v)}}function D($e){if(A=!1,H($e),!L)if(n(y)!==null)L=!0,ue(F);else{var he=n(v);he!==null&&ve(D,he.startTime-$e)}}function F($e,he){L=!1,A&&(A=!1,W(ne),ne=-1),M=!0;var U=N;try{for(H(he),R=n(y);R!==null&&(!(R.expirationTime>he)||$e&&!oe());){var ie=R.callback;if(typeof ie=="function"){R.callback=null,N=R.priorityLevel;var Ee=ie(R.expirationTime<=he);he=r.unstable_now(),typeof Ee=="function"?R.callback=Ee:R===n(y)&&c(y),H(he)}else c(y);R=n(y)}if(R!==null)var Ae=!0;else{var fe=n(v);fe!==null&&ve(D,fe.startTime-he),Ae=!1}return Ae}finally{R=null,N=U,M=!1}}var J=!1,Q=null,ne=-1,ae=5,S=-1;function oe(){return!(r.unstable_now()-S<ae)}function ge(){if(Q!==null){var $e=r.unstable_now();S=$e;var he=!0;try{he=Q(!0,$e)}finally{he?me():(J=!1,Q=null)}}else J=!1}var me;if(typeof X=="function")me=function(){X(ge)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Y=ye.port2;ye.port1.onmessage=ge,me=function(){Y.postMessage(null)}}else me=function(){P(ge,0)};function ue($e){Q=$e,J||(J=!0,me())}function ve($e,he){ne=P(function(){$e(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($e){$e.callback=null},r.unstable_continueExecution=function(){L||M||(L=!0,ue(F))},r.unstable_forceFrameRate=function($e){0>$e||125<$e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<$e?Math.floor(1e3/$e):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return n(y)},r.unstable_next=function($e){switch(N){case 1:case 2:case 3:var he=3;break;default:he=N}var U=N;N=he;try{return $e()}finally{N=U}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($e,he){switch($e){case 1:case 2:case 3:case 4:case 5:break;default:$e=3}var U=N;N=$e;try{return he()}finally{N=U}},r.unstable_scheduleCallback=function($e,he,U){var ie=r.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ie+U:ie):U=ie,$e){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=U+Ee,$e={id:I++,callback:he,priorityLevel:$e,startTime:U,expirationTime:Ee,sortIndex:-1},U>ie?($e.sortIndex=U,s(v,$e),n(y)===null&&$e===n(v)&&(A?(W(ne),ne=-1):A=!0,ve(D,U-ie))):($e.sortIndex=Ee,s(y,$e),L||M||(L=!0,ue(F))),$e},r.unstable_shouldYield=oe,r.unstable_wrapCallback=function($e){var he=N;return function(){var U=N;N=he;try{return $e.apply(this,arguments)}finally{N=U}}}}(b_)),b_}var $b;function AI(){return $b||($b=1,E_.exports=OI()),E_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function xI(){if(_b)return on;_b=1;var r=lT(),s=AI();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function f(i,l){g(i,l),g(i+"Capture",l)}function g(i,l){for(h[i]=l,i=0;i<l.length;i++)c.add(l[i])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},R={};function N(i){return y.call(R,i)?!0:y.call(I,i)?!1:v.test(i)?R[i]=!0:(I[i]=!0,!1)}function M(i,l,u,p){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function L(i,l,u,p){if(l===null||typeof l>"u"||M(i,l,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function A(i,l,u,p,$,T,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=$,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=T,this.removeEmptyString=k}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];P[l]=new A(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function X(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(W,X);P[l]=new A(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(W,X);P[l]=new A(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(W,X);P[l]=new A(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,l,u,p){var $=P.hasOwnProperty(l)?P[l]:null;($!==null?$.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(L(l,u,$,p)&&(u=null),p||$===null?N(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):$.mustUseProperty?i[$.propertyName]=u===null?$.type===3?!1:"":u:(l=$.attributeName,p=$.attributeNamespace,u===null?i.removeAttribute(l):($=$.type,u=$===3||$===4&&u===!0?"":""+u,p?i.setAttributeNS(p,l,u):i.setAttribute(l,u))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),J=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),oe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),$e=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=$e&&i[$e]||i["@@iterator"],typeof i=="function"?i:null)}var U=Object.assign,ie;function Ee(i){if(ie===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||""}return`
`+ie+i}var Ae=!1;function fe(i,l){if(!i||Ae)return"";Ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Te){var p=Te}Reflect.construct(i,[],l)}else{try{l.call()}catch(Te){p=Te}i.call(l.prototype)}else{try{throw Error()}catch(Te){p=Te}i()}}catch(Te){if(Te&&p&&typeof Te.stack=="string"){for(var $=Te.stack.split(`
`),T=p.stack.split(`
`),k=$.length-1,z=T.length-1;1<=k&&0<=z&&$[k]!==T[z];)z--;for(;1<=k&&0<=z;k--,z--)if($[k]!==T[z]){if(k!==1||z!==1)do if(k--,z--,0>z||$[k]!==T[z]){var Z=`
`+$[k].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=k&&0<=z);break}}}finally{Ae=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Ee(i):""}function Ue(i){switch(i.tag){case 5:return Ee(i.type);case 16:return Ee("Lazy");case 13:return Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case J:return"Portal";case ae:return"Profiler";case ne:return"StrictMode";case me:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case oe:return(i.displayName||"Context")+".Consumer";case S:return(i._context.displayName||"Context")+".Provider";case ge:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return l=i.displayName||null,l!==null?l:Le(i.type)||"Memo";case ue:l=i._payload,i=i._init;try{return Le(i(l))}catch{}}return null}function Fe(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(l);case 8:return l===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tt(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ke(i){var l=tt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),p=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var $=u.get,T=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return $.call(this)},set:function(k){p=""+k,T.call(this,k)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function it(i){i._valueTracker||(i._valueTracker=Ke(i))}function Ie(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return i&&(p=tt(i)?i.checked?"true":"false":i.value),i=p,i!==u?(l.setValue(i),!0):!1}function ft(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function He(i,l){var u=l.checked;return U({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Tt(i,l){var u=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;u=Be(l.value!=null?l.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ct(i,l){l=l.checked,l!=null&&H(i,"checked",l,!1)}function bt(i,l){Ct(i,l);var u=Be(l.value),p=l.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?gt(i,l.type,u):l.hasOwnProperty("defaultValue")&&gt(i,l.type,Be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ht(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function gt(i,l,u){(l!=="number"||ft(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var ct=Array.isArray;function _t(i,l,u,p){if(i=i.options,l){l={};for(var $=0;$<u.length;$++)l["$"+u[$]]=!0;for(u=0;u<i.length;u++)$=l.hasOwnProperty("$"+i[u].value),i[u].selected!==$&&(i[u].selected=$),$&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Be(u),l=null,$=0;$<i.length;$++){if(i[$].value===u){i[$].selected=!0,p&&(i[$].defaultSelected=!0);return}l!==null||i[$].disabled||(l=i[$])}l!==null&&(l.selected=!0)}}function Me(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function le(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(n(92));if(ct(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:Be(u)}}function De(i,l){var u=Be(l.value),p=Be(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function _o(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ut(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?ut(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var st,zt=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,p,$){MSApp.execUnsafeLocalFunction(function(){return i(l,u,p,$)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=st.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function j(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var E={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["Webkit","ms","Moz","O"];Object.keys(E).forEach(function(i){x.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),E[l]=E[i]})});function K(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||E.hasOwnProperty(i)&&E[i]?(""+l).trim():l+"px"}function te(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var p=u.indexOf("--")===0,$=K(u,l[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,$):i[u]=$}}var pe=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xe(i,l){if(l){if(pe[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function $t(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function an(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zr=null,xo=null,Lt=null;function Fn(i){if(i=Pa(i)){if(typeof zr!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Jc(l),zr(i.stateNode,i.type,l))}}function Un(i){xo?Lt?Lt.push(i):Lt=[i]:xo=i}function Hn(){if(xo){var i=xo,l=Lt;if(Lt=xo=null,Fn(i),l)for(i=0;i<l.length;i++)Fn(l[i])}}function $i(i,l){return i(l)}function lt(){}var b=!1;function O(i,l,u){if(b)return i(l,u);b=!0;try{return $i(i,l,u)}finally{b=!1,(xo!==null||Lt!==null)&&(lt(),Hn())}}function q(i,l){var u=i.stateNode;if(u===null)return null;var p=Jc(u);if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var se=!1;if(_)try{var Ce={};Object.defineProperty(Ce,"passive",{get:function(){se=!0}}),window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch{se=!1}function ot(i,l,u,p,$,T,k,z,Z){var Te=Array.prototype.slice.call(arguments,3);try{l.apply(u,Te)}catch(we){this.onError(we)}}var at=!1,lr=null,jr=!1,ol=null,Gn={onError:function(i){at=!0,lr=i}};function Wu(i,l,u,p,$,T,k,z,Z){at=!1,lr=null,ot.apply(Gn,arguments)}function ug(i,l,u,p,$,T,k,z,Z){if(Wu.apply(this,arguments),at){if(at){var Te=lr;at=!1,lr=null}else throw Error(n(198));jr||(jr=!0,ol=Te)}}function Vn(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function Qh(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function _c(i){if(Vn(i)!==i)throw Error(n(188))}function Zh(i){var l=i.alternate;if(!l){if(l=Vn(i),l===null)throw Error(n(188));return l!==i?null:i}for(var u=i,p=l;;){var $=u.return;if($===null)break;var T=$.alternate;if(T===null){if(p=$.return,p!==null){u=p;continue}break}if($.child===T.child){for(T=$.child;T;){if(T===u)return _c($),i;if(T===p)return _c($),l;T=T.sibling}throw Error(n(188))}if(u.return!==p.return)u=$,p=T;else{for(var k=!1,z=$.child;z;){if(z===u){k=!0,u=$,p=T;break}if(z===p){k=!0,p=$,u=T;break}z=z.sibling}if(!k){for(z=T.child;z;){if(z===u){k=!0,u=T,p=$;break}if(z===p){k=!0,p=T,u=$;break}z=z.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:l}function zu(i){return i=Zh(i),i!==null?Tc(i):null}function Tc(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Tc(i);if(l!==null)return l;i=i.sibling}return null}var Ec=s.unstable_scheduleCallback,bc=s.unstable_cancelCallback,yc=s.unstable_shouldYield,dg=s.unstable_requestPaint,To=s.unstable_now,hg=s.unstable_getCurrentPriorityLevel,ju=s.unstable_ImmediatePriority,vc=s.unstable_UserBlockingPriority,Sc=s.unstable_NormalPriority,ep=s.unstable_LowPriority,rl=s.unstable_IdlePriority,Ic=null,Or=null;function tp(i){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Ic,i,void 0,(i.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:ua,pg=Math.log,Xu=Math.LN2;function ua(i){return i>>>=0,i===0?32:31-(pg(i)/Xu|0)|0}var nl=64,Cc=4194304;function il(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function da(i,l){var u=i.pendingLanes;if(u===0)return 0;var p=0,$=i.suspendedLanes,T=i.pingedLanes,k=u&268435455;if(k!==0){var z=k&~$;z!==0?p=il(z):(T&=k,T!==0&&(p=il(T)))}else k=u&~$,k!==0?p=il(k):T!==0&&(p=il(T));if(p===0)return 0;if(l!==0&&l!==p&&(l&$)===0&&($=p&-p,T=l&-l,$>=T||$===16&&(T&4194240)!==0))return l;if((p&4)!==0&&(p|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=p;0<l;)u=31-Ar(l),$=1<<u,p|=i[u],l&=~$;return p}function fg(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gg(i,l){for(var u=i.suspendedLanes,p=i.pingedLanes,$=i.expirationTimes,T=i.pendingLanes;0<T;){var k=31-Ar(T),z=1<<k,Z=$[k];Z===-1?((z&u)===0||(z&p)!==0)&&($[k]=fg(z,l)):Z<=l&&(i.expiredLanes|=z),T&=~z}}function _i(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function op(){var i=nl;return nl<<=1,(nl&4194240)===0&&(nl=64),i}function ha(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function ls(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Ar(l),i[l]=u}function mg(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var $=31-Ar(u),T=1<<$;l[$]=0,p[$]=-1,i[$]=-1,u&=~T}}function kc(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var p=31-Ar(u),$=1<<p;$&l|i[p]&l&&(i[p]|=l),u&=~$}}var kt=0;function Xr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var rp,Rc,wc,Yu,np,Oc=!1,Ac=[],Wn=null,Yr=null,Ti=null,pa=new Map,Kr=new Map,zn=[],jn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ip(i,l){switch(i){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":pa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(l.pointerId)}}function fa(i,l,u,p,$,T){return i===null||i.nativeEvent!==T?(i={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:T,targetContainers:[$]},l!==null&&(l=Pa(l),l!==null&&Rc(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,$!==null&&l.indexOf($)===-1&&l.push($),i)}function $g(i,l,u,p,$){switch(l){case"focusin":return Wn=fa(Wn,i,l,u,p,$),!0;case"dragenter":return Yr=fa(Yr,i,l,u,p,$),!0;case"mouseover":return Ti=fa(Ti,i,l,u,p,$),!0;case"pointerover":var T=$.pointerId;return pa.set(T,fa(pa.get(T)||null,i,l,u,p,$)),!0;case"gotpointercapture":return T=$.pointerId,Kr.set(T,fa(Kr.get(T)||null,i,l,u,p,$)),!0}return!1}function Ei(i){var l=ps(i.target);if(l!==null){var u=Vn(l);if(u!==null){if(l=u.tag,l===13){if(l=Qh(u),l!==null){i.blockedOn=l,np(i.priority,function(){wc(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ga(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Ku(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);so=p,u.target.dispatchEvent(p),so=null}else return l=Pa(u),l!==null&&Rc(l),i.blockedOn=u,!1;l.shift()}return!0}function sp(i,l,u){ga(i)&&u.delete(l)}function _g(){Oc=!1,Wn!==null&&ga(Wn)&&(Wn=null),Yr!==null&&ga(Yr)&&(Yr=null),Ti!==null&&ga(Ti)&&(Ti=null),pa.forEach(sp),Kr.forEach(sp)}function ma(i,l){i.blockedOn===l&&(i.blockedOn=null,Oc||(Oc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_g)))}function $a(i){function l($){return ma($,i)}if(0<Ac.length){ma(Ac[0],i);for(var u=1;u<Ac.length;u++){var p=Ac[u];p.blockedOn===i&&(p.blockedOn=null)}}for(Wn!==null&&ma(Wn,i),Yr!==null&&ma(Yr,i),Ti!==null&&ma(Ti,i),pa.forEach(l),Kr.forEach(l),u=0;u<zn.length;u++)p=zn[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<zn.length&&(u=zn[0],u.blockedOn===null);)Ei(u),u.blockedOn===null&&zn.shift()}var sl=D.ReactCurrentBatchConfig,_a=!0;function Tg(i,l,u,p){var $=kt,T=sl.transition;sl.transition=null;try{kt=1,Ta(i,l,u,p)}finally{kt=$,sl.transition=T}}function Eg(i,l,u,p){var $=kt,T=sl.transition;sl.transition=null;try{kt=4,Ta(i,l,u,p)}finally{kt=$,sl.transition=T}}function Ta(i,l,u,p){if(_a){var $=Ku(i,l,u,p);if($===null)jc(i,l,p,xc,u),ip(i,p);else if($g($,i,l,u,p))p.stopPropagation();else if(ip(i,p),l&4&&-1<jn.indexOf(i)){for(;$!==null;){var T=Pa($);if(T!==null&&rp(T),T=Ku(i,l,u,p),T===null&&jc(i,l,p,xc,u),T===$)break;$=T}$!==null&&p.stopPropagation()}else jc(i,l,p,null,u)}}var xc=null;function Ku(i,l,u,p){if(xc=null,i=an(p),i=ps(i),i!==null)if(l=Vn(i),l===null)i=null;else if(u=l.tag,u===13){if(i=Qh(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return xc=i,null}function Ju(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hg()){case ju:return 1;case vc:return 4;case Sc:case ep:return 16;case rl:return 536870912;default:return 16}default:return 16}}var cn=null,Ea=null,Lc=null;function un(){if(Lc)return Lc;var i,l=Ea,u=l.length,p,$="value"in cn?cn.value:cn.textContent,T=$.length;for(i=0;i<u&&l[i]===$[i];i++);var k=u-i;for(p=1;p<=k&&l[u-p]===$[T-p];p++);return Lc=$.slice(i,1<p?1-p:void 0)}function Nc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Mc(){return!0}function lp(){return!1}function br(i){function l(u,p,$,T,k){this._reactName=u,this._targetInst=$,this.type=p,this.nativeEvent=T,this.target=k,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(T):T[z]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Mc:lp,this.isPropagationStopped=lp,this}return U(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),l}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=br(ll),ba=U({},ll,{view:0,detail:0}),ap=br(ba),Xn,as,al,Dc=U({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==al&&(al&&i.type==="mousemove"?(Xn=i.screenX-al.screenX,as=i.screenY-al.screenY):as=Xn=0,al=i),Xn)},movementY:function(i){return"movementY"in i?i.movementY:as}}),cp=br(Dc),bg=U({},Dc,{dataTransfer:0}),yg=br(bg),vg=U({},ba,{relatedTarget:0}),Qu=br(vg),Sg=U({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=br(Sg),up=U({},ll,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cg=br(up),kg=U({},ll,{data:0}),dp=br(kg),Rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ya(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Og[i])?!!l[i]:!1}function Pc(){return ya}var Ag=U({},ba,{key:function(i){if(i.key){var l=Rg[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Nc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wg[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(i){return i.type==="keypress"?Nc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xg=br(Ag),dn=U({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=br(dn),cl=U({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),Lg=br(cl),hp=U({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=br(hp),Jr=U({},Dc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pp=br(Jr),ed=[9,13,27,32],Bc=_&&"CompositionEvent"in window,ul=null;_&&"documentMode"in document&&(ul=document.documentMode);var Ng=_&&"TextEvent"in window&&!ul,fp=_&&(!Bc||ul&&8<ul&&11>=ul),gp=" ",td=!1;function mp(i,l){switch(i){case"keyup":return ed.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function od(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yn=!1;function Mg(i,l){switch(i){case"compositionend":return od(l);case"keypress":return l.which!==32?null:(td=!0,gp);case"textInput":return i=l.data,i===gp&&td?null:i;default:return null}}function Dg(i,l){if(Yn)return i==="compositionend"||!Bc&&mp(i,l)?(i=un(),Lc=Ea=cn=null,Yn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return fp&&l.locale!=="ko"?null:l.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Pg[i.type]:l==="textarea"}function va(i,l,u,p){Un(p),l=xa(l,"onChange"),0<l.length&&(u=new qu("onChange","change",null,u,p),i.push({event:u,listeners:l}))}var dl=null,hl=null;function _p(i){_d(i,0)}function Fc(i){var l=$l(i);if(Ie(l))return i}function Sa(i,l){if(i==="change")return l}var rd=!1;if(_){var cs;if(_){var Uc="oninput"in document;if(!Uc){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Uc=typeof nd.oninput=="function"}cs=Uc}else cs=!1;rd=cs&&(!document.documentMode||9<document.documentMode)}function id(){dl&&(dl.detachEvent("onpropertychange",pl),hl=dl=null)}function pl(i){if(i.propertyName==="value"&&Fc(hl)){var l=[];va(l,hl,i,an(i)),O(_p,l)}}function sd(i,l,u){i==="focusin"?(id(),dl=l,hl=u,dl.attachEvent("onpropertychange",pl)):i==="focusout"&&id()}function ld(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fc(hl)}function Bg(i,l){if(i==="click")return Fc(l)}function Hc(i,l){if(i==="input"||i==="change")return Fc(l)}function Tp(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var xr=typeof Object.is=="function"?Object.is:Tp;function fl(i,l){if(xr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var $=u[p];if(!y.call(l,$)||!xr(i[$],l[$]))return!1}return!0}function ad(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cd(i,l){var u=ad(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=l&&p>=l)return{node:u,offset:l-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ad(u)}}function ud(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?ud(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Ep(){for(var i=window,l=ft();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=ft(i.document)}return l}function gl(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function bp(i){var l=Ep(),u=i.focusedElem,p=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&ud(u.ownerDocument.documentElement,u)){if(p!==null&&gl(u)){if(l=p.start,i=p.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var $=u.textContent.length,T=Math.min(p.start,$);p=p.end===void 0?T:Math.min(p.end,$),!i.extend&&T>p&&($=p,p=T,T=$),$=cd(u,T);var k=cd(u,p);$&&k&&(i.rangeCount!==1||i.anchorNode!==$.node||i.anchorOffset!==$.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart($.node,$.offset),i.removeAllRanges(),T>p?(i.addRange(l),i.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ia=_&&"documentMode"in document&&11>=document.documentMode,bi=null,Lr=null,ml=null,Gc=!1;function dd(i,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gc||bi==null||bi!==ft(p)||(p=bi,"selectionStart"in p&&gl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ml&&fl(ml,p)||(ml=p,p=xa(Lr,"onSelect"),0<p.length&&(l=new qu("onSelect","select",null,l,u),i.push({event:l,listeners:p}),l.target=bi)))}function Ca(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var yi={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},Vc={},hd={};_&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function vi(i){if(Vc[i])return Vc[i];if(!yi[i])return i;var l=yi[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in hd)return Vc[i]=l[u];return i}var yp=vi("animationend"),ka=vi("animationiteration"),pd=vi("animationstart"),fd=vi("transitionend"),vp=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(i,l){vp.set(i,l),f(l,[i])}for(var gd=0;gd<Wc.length;gd++){var md=Wc[gd],Fg=md.toLowerCase(),Ug=md[0].toUpperCase()+md.slice(1);Kn(Fg,"on"+Ug)}Kn(yp,"onAnimationEnd"),Kn(ka,"onAnimationIteration"),Kn(pd,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(fd,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function $d(i,l,u){var p=i.type||"unknown-event";i.currentTarget=u,ug(p,l,void 0,i),i.currentTarget=null}function _d(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],$=p.event;p=p.listeners;e:{var T=void 0;if(l)for(var k=p.length-1;0<=k;k--){var z=p[k],Z=z.instance,Te=z.currentTarget;if(z=z.listener,Z!==T&&$.isPropagationStopped())break e;$d($,z,Te),T=Z}else for(k=0;k<p.length;k++){if(z=p[k],Z=z.instance,Te=z.currentTarget,z=z.listener,Z!==T&&$.isPropagationStopped())break e;$d($,z,Te),T=Z}}}if(jr)throw i=ol,jr=!1,ol=null,i}function Vt(i,l){var u=l[qn];u===void 0&&(u=l[qn]=new Set);var p=i+"__bubble";u.has(p)||(Td(l,i,2,!1),u.add(p))}function Oa(i,l,u){var p=0;l&&(p|=4),Td(u,i,p,l)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Aa(i){if(!i[zc]){i[zc]=!0,c.forEach(function(u){u!=="selectionchange"&&(wa.has(u)||Oa(u,!1,i),Oa(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[zc]||(l[zc]=!0,Oa("selectionchange",!1,l))}}function Td(i,l,u,p){switch(Ju(l)){case 1:var $=Tg;break;case 4:$=Eg;break;default:$=Ta}u=$.bind(null,l,u,i),$=void 0,!se||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||($=!0),p?$!==void 0?i.addEventListener(l,u,{capture:!0,passive:$}):i.addEventListener(l,u,!0):$!==void 0?i.addEventListener(l,u,{passive:$}):i.addEventListener(l,u,!1)}function jc(i,l,u,p,$){var T=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var z=p.stateNode.containerInfo;if(z===$||z.nodeType===8&&z.parentNode===$)break;if(k===4)for(k=p.return;k!==null;){var Z=k.tag;if((Z===3||Z===4)&&(Z=k.stateNode.containerInfo,Z===$||Z.nodeType===8&&Z.parentNode===$))return;k=k.return}for(;z!==null;){if(k=ps(z),k===null)return;if(Z=k.tag,Z===5||Z===6){p=T=k;continue e}z=z.parentNode}}p=p.return}O(function(){var Te=T,we=an(u),xe=[];e:{var Oe=vp.get(i);if(Oe!==void 0){var ze=qu,Je=i;switch(i){case"keypress":if(Nc(u)===0)break e;case"keydown":case"keyup":ze=xg;break;case"focusin":Je="focus",ze=Qu;break;case"focusout":Je="blur",ze=Qu;break;case"beforeblur":case"afterblur":ze=Qu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Lg;break;case yp:case ka:case pd:ze=Ig;break;case fd:ze=Zu;break;case"scroll":ze=ap;break;case"wheel":ze=pp;break;case"copy":case"cut":case"paste":ze=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=eo}var qe=(l&4)!==0,ao=!qe&&i==="scroll",ce=qe?Oe!==null?Oe+"Capture":null:Oe;qe=[];for(var re=Te,de;re!==null;){de=re;var Pe=de.stateNode;if(de.tag===5&&Pe!==null&&(de=Pe,ce!==null&&(Pe=q(re,ce),Pe!=null&&qe.push(Nr(re,Pe,de)))),ao)break;re=re.return}0<qe.length&&(Oe=new ze(Oe,Je,null,u,we),xe.push({event:Oe,listeners:qe}))}}if((l&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",ze=i==="mouseout"||i==="pointerout",Oe&&u!==so&&(Je=u.relatedTarget||u.fromElement)&&(ps(Je)||Je[yr]))break e;if((ze||Oe)&&(Oe=we.window===we?we:(Oe=we.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,ze?(Je=u.relatedTarget||u.toElement,ze=Te,Je=Je?ps(Je):null,Je!==null&&(ao=Vn(Je),Je!==ao||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(ze=null,Je=Te),ze!==Je)){if(qe=cp,Pe="onMouseLeave",ce="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(qe=eo,Pe="onPointerLeave",ce="onPointerEnter",re="pointer"),ao=ze==null?Oe:$l(ze),de=Je==null?Oe:$l(Je),Oe=new qe(Pe,re+"leave",ze,u,we),Oe.target=ao,Oe.relatedTarget=de,Pe=null,ps(we)===Te&&(qe=new qe(ce,re+"enter",Je,u,we),qe.target=de,qe.relatedTarget=ao,Pe=qe),ao=Pe,ze&&Je)t:{for(qe=ze,ce=Je,re=0,de=qe;de;de=us(de))re++;for(de=0,Pe=ce;Pe;Pe=us(Pe))de++;for(;0<re-de;)qe=us(qe),re--;for(;0<de-re;)ce=us(ce),de--;for(;re--;){if(qe===ce||ce!==null&&qe===ce.alternate)break t;qe=us(qe),ce=us(ce)}qe=null}else qe=null;ze!==null&&Sp(xe,Oe,ze,qe,!1),Je!==null&&ao!==null&&Sp(xe,ao,Je,qe,!0)}}e:{if(Oe=Te?$l(Te):window,ze=Oe.nodeName&&Oe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Oe.type==="file")var rt=Sa;else if($p(Oe))if(rd)rt=Hc;else{rt=ld;var et=sd}else(ze=Oe.nodeName)&&ze.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(rt=Bg);if(rt&&(rt=rt(i,Te))){va(xe,rt,u,we);break e}et&&et(i,Oe,Te),i==="focusout"&&(et=Oe._wrapperState)&&et.controlled&&Oe.type==="number"&&gt(Oe,"number",Oe.value)}switch(et=Te?$l(Te):window,i){case"focusin":($p(et)||et.contentEditable==="true")&&(bi=et,Lr=Te,ml=null);break;case"focusout":ml=Lr=bi=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,dd(xe,u,we);break;case"selectionchange":if(Ia)break;case"keydown":case"keyup":dd(xe,u,we)}var nt;if(Bc)e:{switch(i){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Yn?mp(i,u)&&(mt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(fp&&u.locale!=="ko"&&(Yn||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Yn&&(nt=un()):(cn=we,Ea="value"in cn?cn.value:cn.textContent,Yn=!0)),et=xa(Te,mt),0<et.length&&(mt=new dp(mt,i,null,u,we),xe.push({event:mt,listeners:et}),nt?mt.data=nt:(nt=od(u),nt!==null&&(mt.data=nt)))),(nt=Ng?Mg(i,u):Dg(i,u))&&(Te=xa(Te,"onBeforeInput"),0<Te.length&&(we=new dp("onBeforeInput","beforeinput",null,u,we),xe.push({event:we,listeners:Te}),we.data=nt))}_d(xe,l)})}function Nr(i,l,u){return{instance:i,listener:l,currentTarget:u}}function xa(i,l){for(var u=l+"Capture",p=[];i!==null;){var $=i,T=$.stateNode;$.tag===5&&T!==null&&($=T,T=q(i,u),T!=null&&p.unshift(Nr(i,T,$)),T=q(i,l),T!=null&&p.push(Nr(i,T,$))),i=i.return}return p}function us(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Sp(i,l,u,p,$){for(var T=l._reactName,k=[];u!==null&&u!==p;){var z=u,Z=z.alternate,Te=z.stateNode;if(Z!==null&&Z===p)break;z.tag===5&&Te!==null&&(z=Te,$?(Z=q(u,T),Z!=null&&k.unshift(Nr(u,Z,z))):$||(Z=q(u,T),Z!=null&&k.push(Nr(u,Z,z)))),u=u.return}k.length!==0&&i.push({event:l,listeners:k})}var Hg=/\r\n?/g,Gg=/\u0000|\uFFFD/g;function Ip(i){return(typeof i=="string"?i:""+i).replace(Hg,`
`).replace(Gg,"")}function qr(i,l,u){if(l=Ip(l),Ip(i)!==l&&u)throw Error(n(425))}function hn(){}var La=null,Xc=null;function Na(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Yc=typeof setTimeout=="function"?setTimeout:void 0,ds=typeof clearTimeout=="function"?clearTimeout:void 0,Ma=typeof Promise=="function"?Promise:void 0,Ed=typeof queueMicrotask=="function"?queueMicrotask:typeof Ma<"u"?function(i){return Ma.resolve(null).then(i).catch(bd)}:Yc;function bd(i){setTimeout(function(){throw i})}function Si(i,l){var u=l,p=0;do{var $=u.nextSibling;if(i.removeChild(u),$&&$.nodeType===8)if(u=$.data,u==="/$"){if(p===0){i.removeChild($),$a(l);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=$}while(u);$a(l)}function Jn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Kc(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Ft="__reactFiber$"+hs,Da="__reactProps$"+hs,yr="__reactContainer$"+hs,qn="__reactEvents$"+hs,yd="__reactListeners$"+hs,Mr="__reactHandles$"+hs;function ps(i){var l=i[Ft];if(l)return l;for(var u=i.parentNode;u;){if(l=u[yr]||u[Ft]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Kc(i);i!==null;){if(u=i[Ft])return u;i=Kc(i)}return l}i=u,u=i.parentNode}return null}function Pa(i){return i=i[Ft]||i[yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function $l(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Jc(i){return i[Da]||null}var qc=[],_l=-1;function Qn(i){return{current:i}}function Jt(i){0>_l||(i.current=qc[_l],qc[_l]=null,_l--)}function to(i,l){_l++,qc[_l]=i.current,i.current=l}var Ii={},or=Qn(Ii),ar=Qn(!1),Zn=Ii;function fs(i,l){var u=i.type.contextTypes;if(!u)return Ii;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var $={},T;for(T in u)$[T]=l[T];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=$),$}function rr(i){return i=i.childContextTypes,i!=null}function Qc(){Jt(ar),Jt(or)}function Cp(i,l,u){if(or.current!==Ii)throw Error(n(168));to(or,l),to(ar,u)}function kp(i,l,u){var p=i.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var $ in p)if(!($ in l))throw Error(n(108,Fe(i)||"Unknown",$));return U({},u,p)}function Zc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ii,Zn=or.current,to(or,i),to(ar,ar.current),!0}function Ze(i,l,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=kp(i,l,Zn),p.__reactInternalMemoizedMergedChildContext=i,Jt(ar),Jt(or),to(or,i)):Jt(ar),to(ar,u)}var So=null,Io=!1,qt=!1;function pn(i){So===null?So=[i]:So.push(i)}function Ba(i){Io=!0,pn(i)}function Ve(){if(!qt&&So!==null){qt=!0;var i=0,l=kt;try{var u=So;for(kt=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}So=null,Io=!1}catch($){throw So!==null&&(So=So.slice(i+1)),Ec(ju,Ve),$}finally{kt=l,qt=!1}}return null}var oo=[],gs=0,eu=null,Tl=0,vr=[],Dr=0,Ci=null,Qr=1,fn="";function ki(i,l){oo[gs++]=Tl,oo[gs++]=eu,eu=i,Tl=l}function Rp(i,l,u){vr[Dr++]=Qr,vr[Dr++]=fn,vr[Dr++]=Ci,Ci=i;var p=Qr;i=fn;var $=32-Ar(p)-1;p&=~(1<<$),u+=1;var T=32-Ar(l)+$;if(30<T){var k=$-$%5;T=(p&(1<<k)-1).toString(32),p>>=k,$-=k,Qr=1<<32-Ar(l)+$|u<<$|p,fn=T+i}else Qr=1<<T|u<<$|p,fn=i}function tu(i){i.return!==null&&(ki(i,1),Rp(i,1,0))}function vd(i){for(;i===eu;)eu=oo[--gs],oo[gs]=null,Tl=oo[--gs],oo[gs]=null;for(;i===Ci;)Ci=vr[--Dr],vr[Dr]=null,fn=vr[--Dr],vr[Dr]=null,Qr=vr[--Dr],vr[Dr]=null}var cr=null,Sr=null,po=!1,fr=null;function wp(i,l){var u=hr(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function Op(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,cr=i,Sr=Jn(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,cr=i,Sr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=Ci!==null?{id:Qr,overflow:fn}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=hr(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,cr=i,Sr=null,!0):!1;default:return!1}}function Sd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ms(i){if(po){var l=Sr;if(l){var u=l;if(!Op(i,l)){if(Sd(i))throw Error(n(418));l=Jn(u.nextSibling);var p=cr;l&&Op(i,l)?wp(p,u):(i.flags=i.flags&-4097|2,po=!1,cr=i)}}else{if(Sd(i))throw Error(n(418));i.flags=i.flags&-4097|2,po=!1,cr=i}}}function Ap(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;cr=i}function Fa(i){if(i!==cr)return!1;if(!po)return Ap(i),po=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Na(i.type,i.memoizedProps)),l&&(l=Sr)){if(Sd(i))throw Id(),Error(n(418));for(;l;)wp(i,l),l=Jn(l.nextSibling)}if(Ap(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){Sr=Jn(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}Sr=null}}else Sr=cr?Jn(i.stateNode.nextSibling):null;return!0}function Id(){for(var i=Sr;i;)i=Jn(i.nextSibling)}function $s(){Sr=cr=null,po=!1}function ou(i){fr===null?fr=[i]:fr.push(i)}var Cd=D.ReactCurrentBatchConfig;function Pr(i,l){if(i&&i.defaultProps){l=U({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}var _s=Qn(null),Ua=null,Ts=null,ru=null;function nu(){ru=Ts=Ua=null}function iu(i){var l=_s.current;Jt(_s),i._currentValue=l}function su(i,l,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===u)break;i=i.return}}function Es(i,l){Ua=i,ru=Ts=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(ir=!0),i.firstContext=null)}function Ir(i){var l=i._currentValue;if(ru!==i)if(i={context:i,memoizedValue:l,next:null},Ts===null){if(Ua===null)throw Error(n(308));Ts=i,Ua.dependencies={lanes:0,firstContext:i}}else Ts=Ts.next=i;return l}var Ri=null;function lu(i){Ri===null?Ri=[i]:Ri.push(i)}function kd(i,l,u,p){var $=l.interleaved;return $===null?(u.next=u,lu(l)):(u.next=$.next,$.next=u),l.interleaved=u,gn(i,p)}function gn(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var wi=!1;function Rd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function El(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Oi(i,l,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Nt&2)!==0){var $=p.pending;return $===null?l.next=l:(l.next=$.next,$.next=l),p.pending=l,gn(i,u)}return $=p.interleaved,$===null?(l.next=l,lu(p)):(l.next=$.next,$.next=l),p.interleaved=l,gn(i,u)}function bl(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,kc(i,u)}}function wd(i,l){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var $=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};T===null?$=T=k:T=T.next=k,u=u.next}while(u!==null);T===null?$=T=l:T=T.next=l}else $=T=l;u={baseState:p.baseState,firstBaseUpdate:$,lastBaseUpdate:T,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function Ha(i,l,u,p){var $=i.updateQueue;wi=!1;var T=$.firstBaseUpdate,k=$.lastBaseUpdate,z=$.shared.pending;if(z!==null){$.shared.pending=null;var Z=z,Te=Z.next;Z.next=null,k===null?T=Te:k.next=Te,k=Z;var we=i.alternate;we!==null&&(we=we.updateQueue,z=we.lastBaseUpdate,z!==k&&(z===null?we.firstBaseUpdate=Te:z.next=Te,we.lastBaseUpdate=Z))}if(T!==null){var xe=$.baseState;k=0,we=Te=Z=null,z=T;do{var Oe=z.lane,ze=z.eventTime;if((p&Oe)===Oe){we!==null&&(we=we.next={eventTime:ze,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Je=i,qe=z;switch(Oe=l,ze=u,qe.tag){case 1:if(Je=qe.payload,typeof Je=="function"){xe=Je.call(ze,xe,Oe);break e}xe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=qe.payload,Oe=typeof Je=="function"?Je.call(ze,xe,Oe):Je,Oe==null)break e;xe=U({},xe,Oe);break e;case 2:wi=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,Oe=$.effects,Oe===null?$.effects=[z]:Oe.push(z))}else ze={eventTime:ze,lane:Oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},we===null?(Te=we=ze,Z=xe):we=we.next=ze,k|=Oe;if(z=z.next,z===null){if(z=$.shared.pending,z===null)break;Oe=z,z=Oe.next,Oe.next=null,$.lastBaseUpdate=Oe,$.shared.pending=null}}while(!0);if(we===null&&(Z=xe),$.baseState=Z,$.firstBaseUpdate=Te,$.lastBaseUpdate=we,l=$.shared.interleaved,l!==null){$=l;do k|=$.lane,$=$.next;while($!==l)}else T===null&&($.shared.lanes=0);Wi|=k,i.lanes=k,i.memoizedState=xe}}function Od(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var p=i[l],$=p.callback;if($!==null){if(p.callback=null,p=u,typeof $!="function")throw Error(n(191,$));$.call(p)}}}var Ad=new r.Component().refs;function au(i,l,u,p){l=i.memoizedState,u=u(p,l),u=u==null?l:U({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ga={isMounted:function(i){return(i=i._reactInternals)?Vn(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var p=dr(),$=Cn(i),T=mn(p,$);T.payload=l,u!=null&&(T.callback=u),l=Oi(i,T,$),l!==null&&(bo(l,i,$,p),bl(l,i,$))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var p=dr(),$=Cn(i),T=mn(p,$);T.tag=1,T.payload=l,u!=null&&(T.callback=u),l=Oi(i,T,$),l!==null&&(bo(l,i,$,p),bl(l,i,$))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=dr(),p=Cn(i),$=mn(u,p);$.tag=2,l!=null&&($.callback=l),l=Oi(i,$,p),l!==null&&(bo(l,i,p,u),bl(l,i,p))}};function xd(i,l,u,p,$,T,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,T,k):l.prototype&&l.prototype.isPureReactComponent?!fl(u,p)||!fl($,T):!0}function Ld(i,l,u){var p=!1,$=Ii,T=l.contextType;return typeof T=="object"&&T!==null?T=Ir(T):($=rr(l)?Zn:or.current,p=l.contextTypes,T=(p=p!=null)?fs(i,$):Ii),l=new l(u,T),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ga,i.stateNode=l,l._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=$,i.__reactInternalMemoizedMaskedChildContext=T),l}function cu(i,l,u,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==i&&Ga.enqueueReplaceState(l,l.state,null)}function yl(i,l,u,p){var $=i.stateNode;$.props=u,$.state=i.memoizedState,$.refs=Ad,Rd(i);var T=l.contextType;typeof T=="object"&&T!==null?$.context=Ir(T):(T=rr(l)?Zn:or.current,$.context=fs(i,T)),$.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(au(i,l,T,u),$.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(l=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),l!==$.state&&Ga.enqueueReplaceState($,$.state,null),Ha(i,u,$,p),$.state=i.memoizedState),typeof $.componentDidMount=="function"&&(i.flags|=4194308)}function vl(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var $=p,T=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(k){var z=$.refs;z===Ad&&(z=$.refs={}),k===null?delete z[T]:z[T]=k},l._stringRef=T,l)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function uu(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Nd(i){var l=i._init;return l(i._payload)}function Md(i){function l(ce,re){if(i){var de=ce.deletions;de===null?(ce.deletions=[re],ce.flags|=16):de.push(re)}}function u(ce,re){if(!i)return null;for(;re!==null;)l(ce,re),re=re.sibling;return null}function p(ce,re){for(ce=new Map;re!==null;)re.key!==null?ce.set(re.key,re):ce.set(re.index,re),re=re.sibling;return ce}function $(ce,re){return ce=Fr(ce,re),ce.index=0,ce.sibling=null,ce}function T(ce,re,de){return ce.index=de,i?(de=ce.alternate,de!==null?(de=de.index,de<re?(ce.flags|=2,re):de):(ce.flags|=2,re)):(ce.flags|=1048576,re)}function k(ce){return i&&ce.alternate===null&&(ce.flags|=2),ce}function z(ce,re,de,Pe){return re===null||re.tag!==6?(re=Ms(de,ce.mode,Pe),re.return=ce,re):(re=$(re,de),re.return=ce,re)}function Z(ce,re,de,Pe){var rt=de.type;return rt===Q?we(ce,re,de.props.children,Pe,de.key):re!==null&&(re.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ue&&Nd(rt)===re.type)?(Pe=$(re,de.props),Pe.ref=vl(ce,re,de),Pe.return=ce,Pe):(Pe=Xl(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=vl(ce,re,de),Pe.return=ce,Pe)}function Te(ce,re,de,Pe){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=en(de,ce.mode,Pe),re.return=ce,re):(re=$(re,de.children||[]),re.return=ce,re)}function we(ce,re,de,Pe,rt){return re===null||re.tag!==7?(re=Yi(de,ce.mode,Pe,rt),re.return=ce,re):(re=$(re,de),re.return=ce,re)}function xe(ce,re,de){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Ms(""+re,ce.mode,de),re.return=ce,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case F:return de=Xl(re.type,re.key,re.props,null,ce.mode,de),de.ref=vl(ce,null,re),de.return=ce,de;case J:return re=en(re,ce.mode,de),re.return=ce,re;case ue:var Pe=re._init;return xe(ce,Pe(re._payload),de)}if(ct(re)||he(re))return re=Yi(re,ce.mode,de,null),re.return=ce,re;uu(ce,re)}return null}function Oe(ce,re,de,Pe){var rt=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return rt!==null?null:z(ce,re,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case F:return de.key===rt?Z(ce,re,de,Pe):null;case J:return de.key===rt?Te(ce,re,de,Pe):null;case ue:return rt=de._init,Oe(ce,re,rt(de._payload),Pe)}if(ct(de)||he(de))return rt!==null?null:we(ce,re,de,Pe,null);uu(ce,de)}return null}function ze(ce,re,de,Pe,rt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ce=ce.get(de)||null,z(re,ce,""+Pe,rt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case F:return ce=ce.get(Pe.key===null?de:Pe.key)||null,Z(re,ce,Pe,rt);case J:return ce=ce.get(Pe.key===null?de:Pe.key)||null,Te(re,ce,Pe,rt);case ue:var et=Pe._init;return ze(ce,re,de,et(Pe._payload),rt)}if(ct(Pe)||he(Pe))return ce=ce.get(de)||null,we(re,ce,Pe,rt,null);uu(re,Pe)}return null}function Je(ce,re,de,Pe){for(var rt=null,et=null,nt=re,mt=re=0,Mo=null;nt!==null&&mt<de.length;mt++){nt.index>mt?(Mo=nt,nt=null):Mo=nt.sibling;var Pt=Oe(ce,nt,de[mt],Pe);if(Pt===null){nt===null&&(nt=Mo);break}i&&nt&&Pt.alternate===null&&l(ce,nt),re=T(Pt,re,mt),et===null?rt=Pt:et.sibling=Pt,et=Pt,nt=Mo}if(mt===de.length)return u(ce,nt),po&&ki(ce,mt),rt;if(nt===null){for(;mt<de.length;mt++)nt=xe(ce,de[mt],Pe),nt!==null&&(re=T(nt,re,mt),et===null?rt=nt:et.sibling=nt,et=nt);return po&&ki(ce,mt),rt}for(nt=p(ce,nt);mt<de.length;mt++)Mo=ze(nt,ce,mt,de[mt],Pe),Mo!==null&&(i&&Mo.alternate!==null&&nt.delete(Mo.key===null?mt:Mo.key),re=T(Mo,re,mt),et===null?rt=Mo:et.sibling=Mo,et=Mo);return i&&nt.forEach(function(Zi){return l(ce,Zi)}),po&&ki(ce,mt),rt}function qe(ce,re,de,Pe){var rt=he(de);if(typeof rt!="function")throw Error(n(150));if(de=rt.call(de),de==null)throw Error(n(151));for(var et=rt=null,nt=re,mt=re=0,Mo=null,Pt=de.next();nt!==null&&!Pt.done;mt++,Pt=de.next()){nt.index>mt?(Mo=nt,nt=null):Mo=nt.sibling;var Zi=Oe(ce,nt,Pt.value,Pe);if(Zi===null){nt===null&&(nt=Mo);break}i&&nt&&Zi.alternate===null&&l(ce,nt),re=T(Zi,re,mt),et===null?rt=Zi:et.sibling=Zi,et=Zi,nt=Mo}if(Pt.done)return u(ce,nt),po&&ki(ce,mt),rt;if(nt===null){for(;!Pt.done;mt++,Pt=de.next())Pt=xe(ce,Pt.value,Pe),Pt!==null&&(re=T(Pt,re,mt),et===null?rt=Pt:et.sibling=Pt,et=Pt);return po&&ki(ce,mt),rt}for(nt=p(ce,nt);!Pt.done;mt++,Pt=de.next())Pt=ze(nt,ce,mt,Pt.value,Pe),Pt!==null&&(i&&Pt.alternate!==null&&nt.delete(Pt.key===null?mt:Pt.key),re=T(Pt,re,mt),et===null?rt=Pt:et.sibling=Pt,et=Pt);return i&&nt.forEach(function(dh){return l(ce,dh)}),po&&ki(ce,mt),rt}function ao(ce,re,de,Pe){if(typeof de=="object"&&de!==null&&de.type===Q&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case F:e:{for(var rt=de.key,et=re;et!==null;){if(et.key===rt){if(rt=de.type,rt===Q){if(et.tag===7){u(ce,et.sibling),re=$(et,de.props.children),re.return=ce,ce=re;break e}}else if(et.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ue&&Nd(rt)===et.type){u(ce,et.sibling),re=$(et,de.props),re.ref=vl(ce,et,de),re.return=ce,ce=re;break e}u(ce,et);break}else l(ce,et);et=et.sibling}de.type===Q?(re=Yi(de.props.children,ce.mode,Pe,de.key),re.return=ce,ce=re):(Pe=Xl(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=vl(ce,re,de),Pe.return=ce,ce=Pe)}return k(ce);case J:e:{for(et=de.key;re!==null;){if(re.key===et)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){u(ce,re.sibling),re=$(re,de.children||[]),re.return=ce,ce=re;break e}else{u(ce,re);break}else l(ce,re);re=re.sibling}re=en(de,ce.mode,Pe),re.return=ce,ce=re}return k(ce);case ue:return et=de._init,ao(ce,re,et(de._payload),Pe)}if(ct(de))return Je(ce,re,de,Pe);if(he(de))return qe(ce,re,de,Pe);uu(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,re!==null&&re.tag===6?(u(ce,re.sibling),re=$(re,de),re.return=ce,ce=re):(u(ce,re),re=Ms(de,ce.mode,Pe),re.return=ce,ce=re),k(ce)):u(ce,re)}return ao}var bs=Md(!0),Dd=Md(!1),Sl={},Zr=Qn(Sl),Il=Qn(Sl),Va=Qn(Sl);function Ai(i){if(i===Sl)throw Error(n(174));return i}function Pd(i,l){switch(to(Va,l),to(Il,i),to(Zr,Sl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:io(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=io(l,i)}Jt(Zr),to(Zr,l)}function Cl(){Jt(Zr),Jt(Il),Jt(Va)}function xp(i){Ai(Va.current);var l=Ai(Zr.current),u=io(l,i.type);l!==u&&(to(Il,i),to(Zr,u))}function Bd(i){Il.current===i&&(Jt(Zr),Jt(Il))}var Eo=Qn(0);function du(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fd=[];function Ud(){for(var i=0;i<Fd.length;i++)Fd[i]._workInProgressVersionPrimary=null;Fd.length=0}var hu=D.ReactCurrentDispatcher,Hd=D.ReactCurrentBatchConfig,ys=0,Ge=null,lo=null,Yo=null,kl=!1,Cr=!1,ke=0,xi=0;function jt(){throw Error(n(321))}function Rl(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!xr(i[u],l[u]))return!1;return!0}function Gd(i,l,u,p,$,T){if(ys=T,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,hu.current=i===null||i.memoizedState===null?oi:Np,i=u(p,$),Cr){T=0;do{if(Cr=!1,ke=0,25<=T)throw Error(n(301));T+=1,Yo=lo=null,l.updateQueue=null,hu.current=Mp,i=u(p,$)}while(Cr)}if(hu.current=Pi,l=lo!==null&&lo.next!==null,ys=0,Yo=lo=Ge=null,kl=!1,l)throw Error(n(300));return i}function Vd(){var i=ke!==0;return ke=0,i}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yo===null?Ge.memoizedState=Yo=i:Yo=Yo.next=i,Yo}function nr(){if(lo===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=lo.next;var l=Yo===null?Ge.memoizedState:Yo.next;if(l!==null)Yo=l,lo=i;else{if(i===null)throw Error(n(310));lo=i,i={memoizedState:lo.memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},Yo===null?Ge.memoizedState=Yo=i:Yo=Yo.next=i}return Yo}function Wa(i,l){return typeof l=="function"?l(i):l}function Fo(i){var l=nr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=lo,$=p.baseQueue,T=u.pending;if(T!==null){if($!==null){var k=$.next;$.next=T.next,T.next=k}p.baseQueue=$=T,u.pending=null}if($!==null){T=$.next,p=p.baseState;var z=k=null,Z=null,Te=T;do{var we=Te.lane;if((ys&we)===we)Z!==null&&(Z=Z.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),p=Te.hasEagerState?Te.eagerState:i(p,Te.action);else{var xe={lane:we,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};Z===null?(z=Z=xe,k=p):Z=Z.next=xe,Ge.lanes|=we,Wi|=we}Te=Te.next}while(Te!==null&&Te!==T);Z===null?k=p:Z.next=z,xr(p,l.memoizedState)||(ir=!0),l.memoizedState=p,l.baseState=k,l.baseQueue=Z,u.lastRenderedState=p}if(i=u.interleaved,i!==null){$=i;do T=$.lane,Ge.lanes|=T,Wi|=T,$=$.next;while($!==i)}else $===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function Wd(i){var l=nr(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,$=u.pending,T=l.memoizedState;if($!==null){u.pending=null;var k=$=$.next;do T=i(T,k.action),k=k.next;while(k!==$);xr(T,l.memoizedState)||(ir=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),u.lastRenderedState=T}return[T,p]}function Lp(){}function Vg(i,l){var u=Ge,p=nr(),$=l(),T=!xr(p.memoizedState,$);if(T&&(p.memoizedState=$,ir=!0),p=p.queue,Tn(wl.bind(null,u,p,i),[i]),p.getSnapshot!==l||T||Yo!==null&&Yo.memoizedState.tag&1){if(u.flags|=2048,_n(9,jd.bind(null,u,p,$,l),void 0,null),Go===null)throw Error(n(349));(ys&30)!==0||zd(u,l,$)}return $}function zd(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ge.updateQueue,l===null?(l={lastEffect:null,stores:null},Ge.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function jd(i,l,u,p){l.value=u,l.getSnapshot=p,pu(l)&&Li(i)}function wl(i,l,u){return u(function(){pu(l)&&Li(i)})}function pu(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!xr(i,u)}catch{return!0}}function Li(i){var l=gn(i,1);l!==null&&bo(l,i,1,-1)}function Ni(i){var l=$n();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:i},l.queue=i,i=i.dispatch=Xd.bind(null,Ge,i),[l.memoizedState,i]}function _n(i,l,u,p){return i={tag:i,create:l,destroy:u,deps:p,next:null},l=Ge.updateQueue,l===null?(l={lastEffect:null,stores:null},Ge.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,l.lastEffect=i)),i}function Ol(){return nr().memoizedState}function Al(i,l,u,p){var $=$n();Ge.flags|=i,$.memoizedState=_n(1|l,u,void 0,p===void 0?null:p)}function ei(i,l,u,p){var $=nr();p=p===void 0?null:p;var T=void 0;if(lo!==null){var k=lo.memoizedState;if(T=k.destroy,p!==null&&Rl(p,k.deps)){$.memoizedState=_n(l,u,T,p);return}}Ge.flags|=i,$.memoizedState=_n(1|l,u,T,p)}function ti(i,l){return Al(8390656,8,i,l)}function Tn(i,l){return ei(2048,8,i,l)}function xl(i,l){return ei(4,2,i,l)}function En(i,l){return ei(4,4,i,l)}function Ll(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Nl(i,l,u){return u=u!=null?u.concat([i]):null,ei(4,4,Ll.bind(null,l,i),u)}function vs(){}function Mi(i,l){var u=nr();l=l===void 0?null:l;var p=u.memoizedState;return p!==null&&l!==null&&Rl(l,p[1])?p[0]:(u.memoizedState=[i,l],i)}function Di(i,l){var u=nr();l=l===void 0?null:l;var p=u.memoizedState;return p!==null&&l!==null&&Rl(l,p[1])?p[0]:(i=i(),u.memoizedState=[i,l],i)}function Ss(i,l,u){return(ys&21)===0?(i.baseState&&(i.baseState=!1,ir=!0),i.memoizedState=u):(xr(u,l)||(u=op(),Ge.lanes|=u,Wi|=u,i.baseState=!0),l)}function za(i,l){var u=kt;kt=u!==0&&4>u?u:4,i(!0);var p=Hd.transition;Hd.transition={};try{i(!1),l()}finally{kt=u,Hd.transition=p}}function bn(){return nr().memoizedState}function Ml(i,l,u){var p=Cn(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Is(i))fu(l,u);else if(u=kd(i,l,u,p),u!==null){var $=dr();bo(u,i,p,$),ur(u,l,p)}}function Xd(i,l,u){var p=Cn(i),$={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Is(i))fu(l,$);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var k=l.lastRenderedState,z=T(k,u);if($.hasEagerState=!0,$.eagerState=z,xr(z,k)){var Z=l.interleaved;Z===null?($.next=$,lu(l)):($.next=Z.next,Z.next=$),l.interleaved=$;return}}catch{}finally{}u=kd(i,l,$,p),u!==null&&($=dr(),bo(u,i,p,$),ur(u,l,p))}}function Is(i){var l=i.alternate;return i===Ge||l!==null&&l===Ge}function fu(i,l){Cr=kl=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function ur(i,l,u){if((u&4194240)!==0){var p=l.lanes;p&=i.pendingLanes,u|=p,l.lanes=u,kc(i,u)}}var Pi={readContext:Ir,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},oi={readContext:Ir,useCallback:function(i,l){return $n().memoizedState=[i,l===void 0?null:l],i},useContext:Ir,useEffect:ti,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,Al(4194308,4,Ll.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Al(4194308,4,i,l)},useInsertionEffect:function(i,l){return Al(4,2,i,l)},useMemo:function(i,l){var u=$n();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var p=$n();return l=u!==void 0?u(l):l,p.memoizedState=p.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},p.queue=i,i=i.dispatch=Ml.bind(null,Ge,i),[p.memoizedState,i]},useRef:function(i){var l=$n();return i={current:i},l.memoizedState=i},useState:Ni,useDebugValue:vs,useDeferredValue:function(i){return $n().memoizedState=i},useTransition:function(){var i=Ni(!1),l=i[0];return i=za.bind(null,i[1]),$n().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var p=Ge,$=$n();if(po){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),Go===null)throw Error(n(349));(ys&30)!==0||zd(p,l,u)}$.memoizedState=u;var T={value:u,getSnapshot:l};return $.queue=T,ti(wl.bind(null,p,T,i),[i]),p.flags|=2048,_n(9,jd.bind(null,p,T,u,l),void 0,null),u},useId:function(){var i=$n(),l=Go.identifierPrefix;if(po){var u=fn,p=Qr;u=(p&~(1<<32-Ar(p)-1)).toString(32)+u,l=":"+l+"R"+u,u=ke++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=xi++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},Np={readContext:Ir,useCallback:Mi,useContext:Ir,useEffect:Tn,useImperativeHandle:Nl,useInsertionEffect:xl,useLayoutEffect:En,useMemo:Di,useReducer:Fo,useRef:Ol,useState:function(){return Fo(Wa)},useDebugValue:vs,useDeferredValue:function(i){var l=nr();return Ss(l,lo.memoizedState,i)},useTransition:function(){var i=Fo(Wa)[0],l=nr().memoizedState;return[i,l]},useMutableSource:Lp,useSyncExternalStore:Vg,useId:bn,unstable_isNewReconciler:!1},Mp={readContext:Ir,useCallback:Mi,useContext:Ir,useEffect:Tn,useImperativeHandle:Nl,useInsertionEffect:xl,useLayoutEffect:En,useMemo:Di,useReducer:Wd,useRef:Ol,useState:function(){return Wd(Wa)},useDebugValue:vs,useDeferredValue:function(i){var l=nr();return lo===null?l.memoizedState=i:Ss(l,lo.memoizedState,i)},useTransition:function(){var i=Wd(Wa)[0],l=nr().memoizedState;return[i,l]},useMutableSource:Lp,useSyncExternalStore:Vg,useId:bn,unstable_isNewReconciler:!1};function ja(i,l){try{var u="",p=l;do u+=Ue(p),p=p.return;while(p);var $=u}catch(T){$=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:l,stack:$,digest:null}}function Yd(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function Xa(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var Dl=typeof WeakMap=="function"?WeakMap:Map;function gu(i,l,u){u=mn(-1,u),u.tag=3,u.payload={element:null};var p=l.value;return u.callback=function(){ec||(ec=!0,tc=p),Xa(i,l)},u}function Cs(i,l,u){u=mn(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var $=l.value;u.payload=function(){return p($)},u.callback=function(){Xa(i,l)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(u.callback=function(){Xa(i,l),typeof p!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),u}function Kd(i,l,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Dl;var $=new Set;p.set(l,$)}else $=p.get(l),$===void 0&&($=new Set,p.set(l,$));$.has(u)||($.add(u),i=qp.bind(null,i,l,u),l.then(i,i))}function Dp(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Pp(i,l,u,p,$){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=mn(-1,1),l.tag=2,Oi(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=$,i)}var Wg=D.ReactCurrentOwner,ir=!1;function Ko(i,l,u,p){l.child=i===null?Dd(l,null,u,p):bs(l,i.child,u,p)}function Jd(i,l,u,p,$){u=u.render;var T=l.ref;return Es(l,$),p=Gd(i,l,u,p,T,$),u=Vd(),i!==null&&!ir?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~$,vn(i,l,$)):(po&&u&&tu(l),l.flags|=1,Ko(i,l,p,$),l.child)}function Bp(i,l,u,p,$){if(i===null){var T=u.type;return typeof T=="function"&&!Su(T)&&T.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=T,Fp(i,l,T,p,$)):(i=Xl(u.type,null,p,l,l.mode,$),i.ref=l.ref,i.return=l,l.child=i)}if(T=i.child,(i.lanes&$)===0){var k=T.memoizedProps;if(u=u.compare,u=u!==null?u:fl,u(k,p)&&i.ref===l.ref)return vn(i,l,$)}return l.flags|=1,i=Fr(T,p),i.ref=l.ref,i.return=l,l.child=i}function Fp(i,l,u,p,$){if(i!==null){var T=i.memoizedProps;if(fl(T,p)&&i.ref===l.ref)if(ir=!1,l.pendingProps=p=T,(i.lanes&$)!==0)(i.flags&131072)!==0&&(ir=!0);else return l.lanes=i.lanes,vn(i,l,$)}return qd(i,l,u,p,$)}function Up(i,l,u){var p=l.pendingProps,$=p.children,T=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},to(ws,Vo),Vo|=u;else{if((u&1073741824)===0)return i=T!==null?T.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,to(ws,Vo),Vo|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=T!==null?T.baseLanes:u,to(ws,Vo),Vo|=p}else T!==null?(p=T.baseLanes|u,l.memoizedState=null):p=u,to(ws,Vo),Vo|=p;return Ko(i,l,$,u),l.child}function zg(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function qd(i,l,u,p,$){var T=rr(u)?Zn:or.current;return T=fs(l,T),Es(l,$),u=Gd(i,l,u,p,T,$),p=Vd(),i!==null&&!ir?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~$,vn(i,l,$)):(po&&p&&tu(l),l.flags|=1,Ko(i,l,u,$),l.child)}function Qd(i,l,u,p,$){if(rr(u)){var T=!0;Zc(l)}else T=!1;if(Es(l,$),l.stateNode===null)Ka(i,l),Ld(l,u,p),yl(l,u,p,$),p=!0;else if(i===null){var k=l.stateNode,z=l.memoizedProps;k.props=z;var Z=k.context,Te=u.contextType;typeof Te=="object"&&Te!==null?Te=Ir(Te):(Te=rr(u)?Zn:or.current,Te=fs(l,Te));var we=u.getDerivedStateFromProps,xe=typeof we=="function"||typeof k.getSnapshotBeforeUpdate=="function";xe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==p||Z!==Te)&&cu(l,k,p,Te),wi=!1;var Oe=l.memoizedState;k.state=Oe,Ha(l,p,k,$),Z=l.memoizedState,z!==p||Oe!==Z||ar.current||wi?(typeof we=="function"&&(au(l,u,we,p),Z=l.memoizedState),(z=wi||xd(l,u,z,p,Oe,Z,Te))?(xe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Z),k.props=p,k.state=Z,k.context=Te,p=z):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{k=l.stateNode,El(i,l),z=l.memoizedProps,Te=l.type===l.elementType?z:Pr(l.type,z),k.props=Te,xe=l.pendingProps,Oe=k.context,Z=u.contextType,typeof Z=="object"&&Z!==null?Z=Ir(Z):(Z=rr(u)?Zn:or.current,Z=fs(l,Z));var ze=u.getDerivedStateFromProps;(we=typeof ze=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z!==xe||Oe!==Z)&&cu(l,k,p,Z),wi=!1,Oe=l.memoizedState,k.state=Oe,Ha(l,p,k,$);var Je=l.memoizedState;z!==xe||Oe!==Je||ar.current||wi?(typeof ze=="function"&&(au(l,u,ze,p),Je=l.memoizedState),(Te=wi||xd(l,u,Te,p,Oe,Je,Z)||!1)?(we||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Je,Z),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Je,Z)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||z===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Je),k.props=p,k.state=Je,k.context=Z,p=Te):(typeof k.componentDidUpdate!="function"||z===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=1024),p=!1)}return Ya(i,l,u,p,T,$)}function Ya(i,l,u,p,$,T){zg(i,l);var k=(l.flags&128)!==0;if(!p&&!k)return $&&Ze(l,u,!1),vn(i,l,T);p=l.stateNode,Wg.current=l;var z=k&&typeof u.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,i!==null&&k?(l.child=bs(l,i.child,null,T),l.child=bs(l,null,z,T)):Ko(i,l,z,T),l.memoizedState=p.state,$&&Ze(l,u,!0),l.child}function Pl(i){var l=i.stateNode;l.pendingContext?Cp(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Cp(i,l.context,!1),Pd(i,l.containerInfo)}function Hp(i,l,u,p,$){return $s(),ou($),l.flags|=256,Ko(i,l,u,p),l.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function $u(i){return{baseLanes:i,cachePool:null,transitions:null}}function jg(i,l,u){var p=l.pendingProps,$=Eo.current,T=!1,k=(l.flags&128)!==0,z;if((z=k)||(z=i!==null&&i.memoizedState===null?!1:($&2)!==0),z?(T=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&($|=1),to(Eo,$&1),i===null)return ms(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(k=p.children,i=p.fallback,T?(p=l.mode,T=l.child,k={mode:"hidden",children:k},(p&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=k):T=Ki(k,p,0,null),i=Yi(i,p,u,null),T.return=l,i.return=l,T.sibling=i,l.child=T,l.child.memoizedState=$u(u),l.memoizedState=mu,i):Zd(l,k));if($=i.memoizedState,$!==null&&(z=$.dehydrated,z!==null))return Bi(i,l,k,p,z,$,u);if(T){T=p.fallback,k=l.mode,$=i.child,z=$.sibling;var Z={mode:"hidden",children:p.children};return(k&1)===0&&l.child!==$?(p=l.child,p.childLanes=0,p.pendingProps=Z,l.deletions=null):(p=Fr($,Z),p.subtreeFlags=$.subtreeFlags&14680064),z!==null?T=Fr(z,T):(T=Yi(T,k,u,null),T.flags|=2),T.return=l,p.return=l,p.sibling=T,l.child=p,p=T,T=l.child,k=i.child.memoizedState,k=k===null?$u(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},T.memoizedState=k,T.childLanes=i.childLanes&~u,l.memoizedState=mu,p}return T=i.child,i=T.sibling,p=Fr(T,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=u),p.return=l,p.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=p,l.memoizedState=null,p}function Zd(i,l){return l=Ki({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function _u(i,l,u,p){return p!==null&&ou(p),bs(l,i.child,null,u),i=Zd(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Bi(i,l,u,p,$,T,k){if(u)return l.flags&256?(l.flags&=-257,p=Yd(Error(n(422))),_u(i,l,k,p)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(T=p.fallback,$=l.mode,p=Ki({mode:"visible",children:p.children},$,0,null),T=Yi(T,$,k,null),T.flags|=2,p.return=l,T.return=l,p.sibling=T,l.child=p,(l.mode&1)!==0&&bs(l,i.child,null,k),l.child.memoizedState=$u(k),l.memoizedState=mu,T);if((l.mode&1)===0)return _u(i,l,k,null);if($.data==="$!"){if(p=$.nextSibling&&$.nextSibling.dataset,p)var z=p.dgst;return p=z,T=Error(n(419)),p=Yd(T,p,void 0),_u(i,l,k,p)}if(z=(k&i.childLanes)!==0,ir||z){if(p=Go,p!==null){switch(k&-k){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=($&(p.suspendedLanes|k))!==0?0:$,$!==0&&$!==T.retryLane&&(T.retryLane=$,gn(i,$),bo(p,i,$,-1))}return zl(),p=Yd(Error(n(421))),_u(i,l,k,p)}return $.data==="$?"?(l.flags|=128,l.child=i.child,l=jl.bind(null,i),$._reactRetry=l,null):(i=T.treeContext,Sr=Jn($.nextSibling),cr=l,po=!0,fr=null,i!==null&&(vr[Dr++]=Qr,vr[Dr++]=fn,vr[Dr++]=Ci,Qr=i.id,fn=i.overflow,Ci=l),l=Zd(l,p.children),l.flags|=4096,l)}function Gp(i,l,u){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),su(i.return,l,u)}function yn(i,l,u,p,$){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:$}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=u,T.tailMode=$)}function Ro(i,l,u){var p=l.pendingProps,$=p.revealOrder,T=p.tail;if(Ko(i,l,p.children,u),p=Eo.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gp(i,u,l);else if(i.tag===19)Gp(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(to(Eo,p),(l.mode&1)===0)l.memoizedState=null;else switch($){case"forwards":for(u=l.child,$=null;u!==null;)i=u.alternate,i!==null&&du(i)===null&&($=u),u=u.sibling;u=$,u===null?($=l.child,l.child=null):($=u.sibling,u.sibling=null),yn(l,!1,$,u,T);break;case"backwards":for(u=null,$=l.child,l.child=null;$!==null;){if(i=$.alternate,i!==null&&du(i)===null){l.child=$;break}i=$.sibling,$.sibling=u,u=$,$=i}yn(l,!0,u,null,T);break;case"together":yn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ka(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function vn(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Wi|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,u=Fr(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Fr(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function Vp(i,l,u){switch(l.tag){case 3:Pl(l),$s();break;case 5:xp(l);break;case 1:rr(l.type)&&Zc(l);break;case 4:Pd(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,$=l.memoizedProps.value;to(_s,p._currentValue),p._currentValue=$;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(to(Eo,Eo.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?jg(i,l,u):(to(Eo,Eo.current&1),i=vn(i,l,u),i!==null?i.sibling:null);to(Eo,Eo.current&1);break;case 19:if(p=(u&l.childLanes)!==0,(i.flags&128)!==0){if(p)return Ro(i,l,u);l.flags|=128}if($=l.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),to(Eo,Eo.current),p)break;return null;case 22:case 23:return l.lanes=0,Up(i,l,u)}return vn(i,l,u)}var Ne,eh,Wp,Ja;Ne=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},eh=function(){},Wp=function(i,l,u,p){var $=i.memoizedProps;if($!==p){i=l.stateNode,Ai(Zr.current);var T=null;switch(u){case"input":$=He(i,$),p=He(i,p),T=[];break;case"select":$=U({},$,{value:void 0}),p=U({},p,{value:void 0}),T=[];break;case"textarea":$=Me(i,$),p=Me(i,p),T=[];break;default:typeof $.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=hn)}Xe(u,p);var k;u=null;for(Te in $)if(!p.hasOwnProperty(Te)&&$.hasOwnProperty(Te)&&$[Te]!=null)if(Te==="style"){var z=$[Te];for(k in z)z.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(h.hasOwnProperty(Te)?T||(T=[]):(T=T||[]).push(Te,null));for(Te in p){var Z=p[Te];if(z=$!=null?$[Te]:void 0,p.hasOwnProperty(Te)&&Z!==z&&(Z!=null||z!=null))if(Te==="style")if(z){for(k in z)!z.hasOwnProperty(k)||Z&&Z.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in Z)Z.hasOwnProperty(k)&&z[k]!==Z[k]&&(u||(u={}),u[k]=Z[k])}else u||(T||(T=[]),T.push(Te,u)),u=Z;else Te==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,z=z?z.__html:void 0,Z!=null&&z!==Z&&(T=T||[]).push(Te,Z)):Te==="children"?typeof Z!="string"&&typeof Z!="number"||(T=T||[]).push(Te,""+Z):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(h.hasOwnProperty(Te)?(Z!=null&&Te==="onScroll"&&Vt("scroll",i),T||z===Z||(T=[])):(T=T||[]).push(Te,Z))}u&&(T=T||[]).push("style",u);var Te=T;(l.updateQueue=Te)&&(l.flags|=4)}},Ja=function(i,l,u,p){u!==p&&(l.flags|=4)};function kr(i,l){if(!po)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Qt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(l)for(var $=i.child;$!==null;)u|=$.lanes|$.childLanes,p|=$.subtreeFlags&14680064,p|=$.flags&14680064,$.return=i,$=$.sibling;else for($=i.child;$!==null;)u|=$.lanes|$.childLanes,p|=$.subtreeFlags,p|=$.flags,$.return=i,$=$.sibling;return i.subtreeFlags|=p,i.childLanes=u,l}function Fi(i,l,u){var p=l.pendingProps;switch(vd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(l),null;case 1:return rr(l.type)&&Qc(),Qt(l),null;case 3:return p=l.stateNode,Cl(),Jt(ar),Jt(or),Ud(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Fa(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,fr!==null&&(oh(fr),fr=null))),eh(i,l),Qt(l),null;case 5:Bd(l);var $=Ai(Va.current);if(u=l.type,i!==null&&l.stateNode!=null)Wp(i,l,u,p,$),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Qt(l),null}if(i=Ai(Zr.current),Fa(l)){p=l.stateNode,u=l.type;var T=l.memoizedProps;switch(p[Ft]=l,p[Da]=T,i=(l.mode&1)!==0,u){case"dialog":Vt("cancel",p),Vt("close",p);break;case"iframe":case"object":case"embed":Vt("load",p);break;case"video":case"audio":for($=0;$<Ra.length;$++)Vt(Ra[$],p);break;case"source":Vt("error",p);break;case"img":case"image":case"link":Vt("error",p),Vt("load",p);break;case"details":Vt("toggle",p);break;case"input":Tt(p,T),Vt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!T.multiple},Vt("invalid",p);break;case"textarea":le(p,T),Vt("invalid",p)}Xe(u,T),$=null;for(var k in T)if(T.hasOwnProperty(k)){var z=T[k];k==="children"?typeof z=="string"?p.textContent!==z&&(T.suppressHydrationWarning!==!0&&qr(p.textContent,z,i),$=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(T.suppressHydrationWarning!==!0&&qr(p.textContent,z,i),$=["children",""+z]):h.hasOwnProperty(k)&&z!=null&&k==="onScroll"&&Vt("scroll",p)}switch(u){case"input":it(p),ht(p,T,!0);break;case"textarea":it(p),_o(p);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(p.onclick=hn)}p=$,l.updateQueue=p,p!==null&&(l.flags|=4)}else{k=$.nodeType===9?$:$.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ut(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=k.createElement(u,{is:p.is}):(i=k.createElement(u),u==="select"&&(k=i,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):i=k.createElementNS(i,u),i[Ft]=l,i[Da]=p,Ne(i,l,!1,!1),l.stateNode=i;e:{switch(k=$t(u,p),u){case"dialog":Vt("cancel",i),Vt("close",i),$=p;break;case"iframe":case"object":case"embed":Vt("load",i),$=p;break;case"video":case"audio":for($=0;$<Ra.length;$++)Vt(Ra[$],i);$=p;break;case"source":Vt("error",i),$=p;break;case"img":case"image":case"link":Vt("error",i),Vt("load",i),$=p;break;case"details":Vt("toggle",i),$=p;break;case"input":Tt(i,p),$=He(i,p),Vt("invalid",i);break;case"option":$=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},$=U({},p,{value:void 0}),Vt("invalid",i);break;case"textarea":le(i,p),$=Me(i,p),Vt("invalid",i);break;default:$=p}Xe(u,$),z=$;for(T in z)if(z.hasOwnProperty(T)){var Z=z[T];T==="style"?te(i,Z):T==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&zt(i,Z)):T==="children"?typeof Z=="string"?(u!=="textarea"||Z!=="")&&j(i,Z):typeof Z=="number"&&j(i,""+Z):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(h.hasOwnProperty(T)?Z!=null&&T==="onScroll"&&Vt("scroll",i):Z!=null&&H(i,T,Z,k))}switch(u){case"input":it(i),ht(i,p,!1);break;case"textarea":it(i),_o(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Be(p.value));break;case"select":i.multiple=!!p.multiple,T=p.value,T!=null?_t(i,!!p.multiple,T,!1):p.defaultValue!=null&&_t(i,!!p.multiple,p.defaultValue,!0);break;default:typeof $.onClick=="function"&&(i.onclick=hn)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Qt(l),null;case 6:if(i&&l.stateNode!=null)Ja(i,l,i.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(u=Ai(Va.current),Ai(Zr.current),Fa(l)){if(p=l.stateNode,u=l.memoizedProps,p[Ft]=l,(T=p.nodeValue!==u)&&(i=cr,i!==null))switch(i.tag){case 3:qr(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&qr(p.nodeValue,u,(i.mode&1)!==0)}T&&(l.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Ft]=l,l.stateNode=p}return Qt(l),null;case 13:if(Jt(Eo),p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(po&&Sr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Id(),$s(),l.flags|=98560,T=!1;else if(T=Fa(l),p!==null&&p.dehydrated!==null){if(i===null){if(!T)throw Error(n(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ft]=l}else $s(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Qt(l),T=!1}else fr!==null&&(oh(fr),fr=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Eo.current&1)!==0?Lo===0&&(Lo=3):zl())),l.updateQueue!==null&&(l.flags|=4),Qt(l),null);case 4:return Cl(),eh(i,l),i===null&&Aa(l.stateNode.containerInfo),Qt(l),null;case 10:return iu(l.type._context),Qt(l),null;case 17:return rr(l.type)&&Qc(),Qt(l),null;case 19:if(Jt(Eo),T=l.memoizedState,T===null)return Qt(l),null;if(p=(l.flags&128)!==0,k=T.rendering,k===null)if(p)kr(T,!1);else{if(Lo!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(k=du(i),k!==null){for(l.flags|=128,kr(T,!1),p=k.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=u,u=l.child;u!==null;)T=u,i=p,T.flags&=14680066,k=T.alternate,k===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=k.childLanes,T.lanes=k.lanes,T.child=k.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=k.memoizedProps,T.memoizedState=k.memoizedState,T.updateQueue=k.updateQueue,T.type=k.type,i=k.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return to(Eo,Eo.current&1|2),l.child}i=i.sibling}T.tail!==null&&To()>$r&&(l.flags|=128,p=!0,kr(T,!1),l.lanes=4194304)}else{if(!p)if(i=du(k),i!==null){if(l.flags|=128,p=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),kr(T,!0),T.tail===null&&T.tailMode==="hidden"&&!k.alternate&&!po)return Qt(l),null}else 2*To()-T.renderingStartTime>$r&&u!==1073741824&&(l.flags|=128,p=!0,kr(T,!1),l.lanes=4194304);T.isBackwards?(k.sibling=l.child,l.child=k):(u=T.last,u!==null?u.sibling=k:l.child=k,T.last=k)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=To(),l.sibling=null,u=Eo.current,to(Eo,p?u&1|2:u&1),l):(Qt(l),null);case 22:case 23:return nh(),p=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(Vo&1073741824)!==0&&(Qt(l),l.subtreeFlags&6&&(l.flags|=8192)):Qt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Sn(i,l){switch(vd(l),l.tag){case 1:return rr(l.type)&&Qc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Cl(),Jt(ar),Jt(or),Ud(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Bd(l),null;case 13:if(Jt(Eo),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));$s()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Jt(Eo),null;case 4:return Cl(),null;case 10:return iu(l.type._context),null;case 22:case 23:return nh(),null;case 24:return null;default:return null}}var qa=!1,Uo=!1,Ho=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mt(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){yo(i,l,p)}else u.current=null}function Xt(i,l,u){try{u()}catch(p){yo(i,l,p)}}var zp=!1;function ks(i,l){if(La=_a,i=Ep(),gl(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var $=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var k=0,z=-1,Z=-1,Te=0,we=0,xe=i,Oe=null;t:for(;;){for(var ze;xe!==u||$!==0&&xe.nodeType!==3||(z=k+$),xe!==T||p!==0&&xe.nodeType!==3||(Z=k+p),xe.nodeType===3&&(k+=xe.nodeValue.length),(ze=xe.firstChild)!==null;)Oe=xe,xe=ze;for(;;){if(xe===i)break t;if(Oe===u&&++Te===$&&(z=k),Oe===T&&++we===p&&(Z=k),(ze=xe.nextSibling)!==null)break;xe=Oe,Oe=xe.parentNode}xe=ze}u=z===-1||Z===-1?null:{start:z,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xc={focusedElem:i,selectionRange:u},_a=!1,V=l;V!==null;)if(l=V,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,V=i;else for(;V!==null;){l=V;try{var Je=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var qe=Je.memoizedProps,ao=Je.memoizedState,ce=l.stateNode,re=ce.getSnapshotBeforeUpdate(l.elementType===l.type?qe:Pr(l.type,qe),ao);ce.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var de=l.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){yo(l,l.return,Pe)}if(i=l.sibling,i!==null){i.return=l.return,V=i;break}V=l.return}return Je=zp,zp=!1,Je}function Qa(i,l,u){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var $=p=p.next;do{if(($.tag&i)===i){var T=$.destroy;$.destroy=void 0,T!==void 0&&Xt(l,u,T)}$=$.next}while($!==p)}}function Tu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==l)}}function jp(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function Rs(i){var l=i.alternate;l!==null&&(i.alternate=null,Rs(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Ft],delete l[Da],delete l[qn],delete l[yd],delete l[Mr])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function vo(i){return i.tag===5||i.tag===3||i.tag===4}function Eu(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vo(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bu(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=hn));else if(p!==4&&(i=i.child,i!==null))for(bu(i,l,u),i=i.sibling;i!==null;)bu(i,l,u),i=i.sibling}function Za(i,l,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Za(i,l,u),i=i.sibling;i!==null;)Za(i,l,u),i=i.sibling}var wo=null,gr=!1;function Ui(i,l,u){for(u=u.child;u!==null;)Xg(i,l,u),u=u.sibling}function Xg(i,l,u){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Ic,u)}catch{}switch(u.tag){case 5:Uo||Mt(u,l);case 6:var p=wo,$=gr;wo=null,Ui(i,l,u),wo=p,gr=$,wo!==null&&(gr?(i=wo,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):wo.removeChild(u.stateNode));break;case 18:wo!==null&&(gr?(i=wo,u=u.stateNode,i.nodeType===8?Si(i.parentNode,u):i.nodeType===1&&Si(i,u),$a(i)):Si(wo,u.stateNode));break;case 4:p=wo,$=gr,wo=u.stateNode.containerInfo,gr=!0,Ui(i,l,u),wo=p,gr=$;break;case 0:case 11:case 14:case 15:if(!Uo&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){$=p=p.next;do{var T=$,k=T.destroy;T=T.tag,k!==void 0&&((T&2)!==0||(T&4)!==0)&&Xt(u,l,k),$=$.next}while($!==p)}Ui(i,l,u);break;case 1:if(!Uo&&(Mt(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(z){yo(u,l,z)}Ui(i,l,u);break;case 21:Ui(i,l,u);break;case 22:u.mode&1?(Uo=(p=Uo)||u.memoizedState!==null,Ui(i,l,u),Uo=p):Ui(i,l,u);break;default:Ui(i,l,u)}}function Bl(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Ho),l.forEach(function(p){var $=I$.bind(null,i,p);u.has(p)||(u.add(p),p.then($,$))})}}function Br(i,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var $=u[p];try{var T=i,k=l,z=k;e:for(;z!==null;){switch(z.tag){case 5:wo=z.stateNode,gr=!1;break e;case 3:wo=z.stateNode.containerInfo,gr=!0;break e;case 4:wo=z.stateNode.containerInfo,gr=!0;break e}z=z.return}if(wo===null)throw Error(n(160));Xg(T,k,$),wo=null,gr=!1;var Z=$.alternate;Z!==null&&(Z.return=null),$.return=null}catch(Te){yo($,l,Te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Xp(l,i),l=l.sibling}function Xp(i,l){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Br(l,i),dt(i),p&4){try{Qa(3,i,i.return),Tu(3,i)}catch(qe){yo(i,i.return,qe)}try{Qa(5,i,i.return)}catch(qe){yo(i,i.return,qe)}}break;case 1:Br(l,i),dt(i),p&512&&u!==null&&Mt(u,u.return);break;case 5:if(Br(l,i),dt(i),p&512&&u!==null&&Mt(u,u.return),i.flags&32){var $=i.stateNode;try{j($,"")}catch(qe){yo(i,i.return,qe)}}if(p&4&&($=i.stateNode,$!=null)){var T=i.memoizedProps,k=u!==null?u.memoizedProps:T,z=i.type,Z=i.updateQueue;if(i.updateQueue=null,Z!==null)try{z==="input"&&T.type==="radio"&&T.name!=null&&Ct($,T),$t(z,k);var Te=$t(z,T);for(k=0;k<Z.length;k+=2){var we=Z[k],xe=Z[k+1];we==="style"?te($,xe):we==="dangerouslySetInnerHTML"?zt($,xe):we==="children"?j($,xe):H($,we,xe,Te)}switch(z){case"input":bt($,T);break;case"textarea":De($,T);break;case"select":var Oe=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!T.multiple;var ze=T.value;ze!=null?_t($,!!T.multiple,ze,!1):Oe!==!!T.multiple&&(T.defaultValue!=null?_t($,!!T.multiple,T.defaultValue,!0):_t($,!!T.multiple,T.multiple?[]:"",!1))}$[Da]=T}catch(qe){yo(i,i.return,qe)}}break;case 6:if(Br(l,i),dt(i),p&4){if(i.stateNode===null)throw Error(n(162));$=i.stateNode,T=i.memoizedProps;try{$.nodeValue=T}catch(qe){yo(i,i.return,qe)}}break;case 3:if(Br(l,i),dt(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{$a(l.containerInfo)}catch(qe){yo(i,i.return,qe)}break;case 4:Br(l,i),dt(i);break;case 13:Br(l,i),dt(i),$=i.child,$.flags&8192&&(T=$.memoizedState!==null,$.stateNode.isHidden=T,!T||$.alternate!==null&&$.alternate.memoizedState!==null||(Wo=To())),p&4&&Bl(i);break;case 22:if(we=u!==null&&u.memoizedState!==null,i.mode&1?(Uo=(Te=Uo)||we,Br(l,i),Uo=Te):Br(l,i),dt(i),p&8192){if(Te=i.memoizedState!==null,(i.stateNode.isHidden=Te)&&!we&&(i.mode&1)!==0)for(V=i,we=i.child;we!==null;){for(xe=V=we;V!==null;){switch(Oe=V,ze=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:Qa(4,Oe,Oe.return);break;case 1:Mt(Oe,Oe.return);var Je=Oe.stateNode;if(typeof Je.componentWillUnmount=="function"){p=Oe,u=Oe.return;try{l=p,Je.props=l.memoizedProps,Je.state=l.memoizedState,Je.componentWillUnmount()}catch(qe){yo(p,u,qe)}}break;case 5:Mt(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){Fl(xe);continue}}ze!==null?(ze.return=Oe,V=ze):Fl(xe)}we=we.sibling}e:for(we=null,xe=i;;){if(xe.tag===5){if(we===null){we=xe;try{$=xe.stateNode,Te?(T=$.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(z=xe.stateNode,Z=xe.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,z.style.display=K("display",k))}catch(qe){yo(i,i.return,qe)}}}else if(xe.tag===6){if(we===null)try{xe.stateNode.nodeValue=Te?"":xe.memoizedProps}catch(qe){yo(i,i.return,qe)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===i)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===i)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===i)break e;we===xe&&(we=null),xe=xe.return}we===xe&&(we=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Br(l,i),dt(i),p&4&&Bl(i);break;case 21:break;default:Br(l,i),dt(i)}}function dt(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(vo(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var $=p.stateNode;p.flags&32&&(j($,""),p.flags&=-33);var T=Eu(i);Za(i,T,$);break;case 3:case 4:var k=p.stateNode.containerInfo,z=Eu(i);bu(i,z,k);break;default:throw Error(n(161))}}catch(Z){yo(i,i.return,Z)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Yg(i,l,u){V=i,Hi(i)}function Hi(i,l,u){for(var p=(i.mode&1)!==0;V!==null;){var $=V,T=$.child;if($.tag===22&&p){var k=$.memoizedState!==null||qa;if(!k){var z=$.alternate,Z=z!==null&&z.memoizedState!==null||Uo;z=qa;var Te=Uo;if(qa=k,(Uo=Z)&&!Te)for(V=$;V!==null;)k=V,Z=k.child,k.tag===22&&k.memoizedState!==null?Gi($):Z!==null?(Z.return=k,V=Z):Gi($);for(;T!==null;)V=T,Hi(T),T=T.sibling;V=$,qa=z,Uo=Te}ri(i)}else($.subtreeFlags&8772)!==0&&T!==null?(T.return=$,V=T):ri(i)}}function ri(i){for(;V!==null;){var l=V;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Uo||Tu(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Uo)if(u===null)p.componentDidMount();else{var $=l.elementType===l.type?u.memoizedProps:Pr(l.type,u.memoizedProps);p.componentDidUpdate($,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&Od(l,T,p);break;case 3:var k=l.updateQueue;if(k!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}Od(l,k,u)}break;case 5:var z=l.stateNode;if(u===null&&l.flags&4){u=z;var Z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&u.focus();break;case"img":Z.src&&(u.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Te=l.alternate;if(Te!==null){var we=Te.memoizedState;if(we!==null){var xe=we.dehydrated;xe!==null&&$a(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Uo||l.flags&512&&jp(l)}catch(Oe){yo(l,l.return,Oe)}}if(l===i){V=null;break}if(u=l.sibling,u!==null){u.return=l.return,V=u;break}V=l.return}}function Fl(i){for(;V!==null;){var l=V;if(l===i){V=null;break}var u=l.sibling;if(u!==null){u.return=l.return,V=u;break}V=l.return}}function Gi(i){for(;V!==null;){var l=V;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Tu(4,l)}catch(Z){yo(l,u,Z)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var $=l.return;try{p.componentDidMount()}catch(Z){yo(l,$,Z)}}var T=l.return;try{jp(l)}catch(Z){yo(l,T,Z)}break;case 5:var k=l.return;try{jp(l)}catch(Z){yo(l,k,Z)}}}catch(Z){yo(l,l.return,Z)}if(l===i){V=null;break}var z=l.sibling;if(z!==null){z.return=l.return,V=z;break}V=l.return}}var Ul=Math.ceil,Jo=D.ReactCurrentDispatcher,th=D.ReactCurrentOwner,fo=D.ReactCurrentBatchConfig,Nt=0,Go=null,Oo=null,qo=0,Vo=0,ws=Qn(0),Lo=0,Vi=null,Wi=0,Os=0,yu=0,Hl=null,mr=null,Wo=0,$r=1/0,In=null,ec=!1,tc=null,ro=null,Gl=!1,As=null,No=0,xs=0,vu=null,zi=-1,oc=0;function dr(){return(Nt&6)!==0?To():zi!==-1?zi:zi=To()}function Cn(i){return(i.mode&1)===0?1:(Nt&2)!==0&&qo!==0?qo&-qo:Cd.transition!==null?(oc===0&&(oc=op()),oc):(i=kt,i!==0||(i=window.event,i=i===void 0?16:Ju(i.type)),i)}function bo(i,l,u,p){if(50<xs)throw xs=0,vu=null,Error(n(185));ls(i,u,p),((Nt&2)===0||i!==Go)&&(i===Go&&((Nt&2)===0&&(Os|=u),Lo===4&&ji(i,qo)),zo(i,p),u===1&&Nt===0&&(l.mode&1)===0&&($r=To()+500,Io&&Ve()))}function zo(i,l){var u=i.callbackNode;gg(i,l);var p=da(i,i===Go?qo:0);if(p===0)u!==null&&bc(u),i.callbackNode=null,i.callbackPriority=0;else if(l=p&-p,i.callbackPriority!==l){if(u!=null&&bc(u),l===1)i.tag===0?Ba(Ls.bind(null,i)):pn(Ls.bind(null,i)),Ed(function(){(Nt&6)===0&&Ve()}),u=null;else{switch(Xr(p)){case 1:u=ju;break;case 4:u=vc;break;case 16:u=Sc;break;case 536870912:u=rl;break;default:u=Sc}u=_r(u,Yp.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function Yp(i,l){if(zi=-1,oc=0,(Nt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(kn()&&i.callbackNode!==u)return null;var p=da(i,i===Go?qo:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||l)l=ni(i,p);else{l=p;var $=Nt;Nt|=2;var T=Kp();(Go!==i||qo!==l)&&(In=null,$r=To()+500,Wl(i,l));do try{S$();break}catch(z){ih(i,z)}while(!0);nu(),Jo.current=T,Nt=$,Oo!==null?l=0:(Go=null,qo=0,l=Lo)}if(l!==0){if(l===2&&($=_i(i),$!==0&&(p=$,l=Vl(i,$))),l===1)throw u=Vi,Wl(i,0),ji(i,p),zo(i,To()),u;if(l===6)ji(i,p);else{if($=i.current.alternate,(p&30)===0&&!Kg($)&&(l=ni(i,p),l===2&&(T=_i(i),T!==0&&(p=T,l=Vl(i,T))),l===1))throw u=Vi,Wl(i,0),ji(i,p),zo(i,To()),u;switch(i.finishedWork=$,i.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Xi(i,mr,In);break;case 3:if(ji(i,p),(p&130023424)===p&&(l=Wo+500-To(),10<l)){if(da(i,0)!==0)break;if($=i.suspendedLanes,($&p)!==p){dr(),i.pingedLanes|=i.suspendedLanes&$;break}i.timeoutHandle=Yc(Xi.bind(null,i,mr,In),l);break}Xi(i,mr,In);break;case 4:if(ji(i,p),(p&4194240)===p)break;for(l=i.eventTimes,$=-1;0<p;){var k=31-Ar(p);T=1<<k,k=l[k],k>$&&($=k),p&=~T}if(p=$,p=To()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ul(p/1960))-p,10<p){i.timeoutHandle=Yc(Xi.bind(null,i,mr,In),p);break}Xi(i,mr,In);break;case 5:Xi(i,mr,In);break;default:throw Error(n(329))}}}return zo(i,To()),i.callbackNode===u?Yp.bind(null,i):null}function Vl(i,l){var u=Hl;return i.current.memoizedState.isDehydrated&&(Wl(i,l).flags|=256),i=ni(i,l),i!==2&&(l=mr,mr=u,l!==null&&oh(l)),i}function oh(i){mr===null?mr=i:mr.push.apply(mr,i)}function Kg(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var $=u[p],T=$.getSnapshot;$=$.value;try{if(!xr(T(),$))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ji(i,l){for(l&=~yu,l&=~Os,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-Ar(l),p=1<<u;i[u]=-1,l&=~p}}function Ls(i){if((Nt&6)!==0)throw Error(n(327));kn();var l=da(i,0);if((l&1)===0)return zo(i,To()),null;var u=ni(i,l);if(i.tag!==0&&u===2){var p=_i(i);p!==0&&(l=p,u=Vl(i,p))}if(u===1)throw u=Vi,Wl(i,0),ji(i,l),zo(i,To()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Xi(i,mr,In),zo(i,To()),null}function rh(i,l){var u=Nt;Nt|=1;try{return i(l)}finally{Nt=u,Nt===0&&($r=To()+500,Io&&Ve())}}function Ns(i){As!==null&&As.tag===0&&(Nt&6)===0&&kn();var l=Nt;Nt|=1;var u=fo.transition,p=kt;try{if(fo.transition=null,kt=1,i)return i()}finally{kt=p,fo.transition=u,Nt=l,(Nt&6)===0&&Ve()}}function nh(){Vo=ws.current,Jt(ws)}function Wl(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,ds(u)),Oo!==null)for(u=Oo.return;u!==null;){var p=u;switch(vd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Qc();break;case 3:Cl(),Jt(ar),Jt(or),Ud();break;case 5:Bd(p);break;case 4:Cl();break;case 13:Jt(Eo);break;case 19:Jt(Eo);break;case 10:iu(p.type._context);break;case 22:case 23:nh()}u=u.return}if(Go=i,Oo=i=Fr(i.current,null),qo=Vo=l,Lo=0,Vi=null,yu=Os=Wi=0,mr=Hl=null,Ri!==null){for(l=0;l<Ri.length;l++)if(u=Ri[l],p=u.interleaved,p!==null){u.interleaved=null;var $=p.next,T=u.pending;if(T!==null){var k=T.next;T.next=$,p.next=k}u.pending=p}Ri=null}return i}function ih(i,l){do{var u=Oo;try{if(nu(),hu.current=Pi,kl){for(var p=Ge.memoizedState;p!==null;){var $=p.queue;$!==null&&($.pending=null),p=p.next}kl=!1}if(ys=0,Yo=lo=Ge=null,Cr=!1,ke=0,th.current=null,u===null||u.return===null){Lo=1,Vi=l,Oo=null;break}e:{var T=i,k=u.return,z=u,Z=l;if(l=qo,z.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Te=Z,we=z,xe=we.tag;if((we.mode&1)===0&&(xe===0||xe===11||xe===15)){var Oe=we.alternate;Oe?(we.updateQueue=Oe.updateQueue,we.memoizedState=Oe.memoizedState,we.lanes=Oe.lanes):(we.updateQueue=null,we.memoizedState=null)}var ze=Dp(k);if(ze!==null){ze.flags&=-257,Pp(ze,k,z,T,l),ze.mode&1&&Kd(T,Te,l),l=ze,Z=Te;var Je=l.updateQueue;if(Je===null){var qe=new Set;qe.add(Z),l.updateQueue=qe}else Je.add(Z);break e}else{if((l&1)===0){Kd(T,Te,l),zl();break e}Z=Error(n(426))}}else if(po&&z.mode&1){var ao=Dp(k);if(ao!==null){(ao.flags&65536)===0&&(ao.flags|=256),Pp(ao,k,z,T,l),ou(ja(Z,z));break e}}T=Z=ja(Z,z),Lo!==4&&(Lo=2),Hl===null?Hl=[T]:Hl.push(T),T=k;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var ce=gu(T,Z,l);wd(T,ce);break e;case 1:z=Z;var re=T.type,de=T.stateNode;if((T.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(ro===null||!ro.has(de)))){T.flags|=65536,l&=-l,T.lanes|=l;var Pe=Cs(T,z,l);wd(T,Pe);break e}}T=T.return}while(T!==null)}lh(u)}catch(rt){l=rt,Oo===u&&u!==null&&(Oo=u=u.return);continue}break}while(!0)}function Kp(){var i=Jo.current;return Jo.current=Pi,i===null?Pi:i}function zl(){(Lo===0||Lo===3||Lo===2)&&(Lo=4),Go===null||(Wi&268435455)===0&&(Os&268435455)===0||ji(Go,qo)}function ni(i,l){var u=Nt;Nt|=2;var p=Kp();(Go!==i||qo!==l)&&(In=null,Wl(i,l));do try{Jp();break}catch($){ih(i,$)}while(!0);if(nu(),Nt=u,Jo.current=p,Oo!==null)throw Error(n(261));return Go=null,qo=0,Lo}function Jp(){for(;Oo!==null;)sh(Oo)}function S$(){for(;Oo!==null&&!yc();)sh(Oo)}function sh(i){var l=Jg(i.alternate,i,Vo);i.memoizedProps=i.pendingProps,l===null?lh(i):Oo=l,th.current=null}function lh(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=Fi(u,l,Vo),u!==null){Oo=u;return}}else{if(u=Sn(u,l),u!==null){u.flags&=32767,Oo=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Lo=6,Oo=null;return}}if(l=l.sibling,l!==null){Oo=l;return}Oo=l=i}while(l!==null);Lo===0&&(Lo=5)}function Xi(i,l,u){var p=kt,$=fo.transition;try{fo.transition=null,kt=1,je(i,l,u,p)}finally{fo.transition=$,kt=p}return null}function je(i,l,u,p){do kn();while(As!==null);if((Nt&6)!==0)throw Error(n(327));u=i.finishedWork;var $=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var T=u.lanes|u.childLanes;if(mg(i,T),i===Go&&(Oo=Go=null,qo=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Gl||(Gl=!0,_r(Sc,function(){return kn(),null})),T=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||T){T=fo.transition,fo.transition=null;var k=kt;kt=1;var z=Nt;Nt|=4,th.current=null,ks(i,u),Xp(u,i),bp(Xc),_a=!!La,Xc=La=null,i.current=u,Yg(u),dg(),Nt=z,kt=k,fo.transition=T}else i.current=u;if(Gl&&(Gl=!1,As=i,No=$),T=i.pendingLanes,T===0&&(ro=null),tp(u.stateNode),zo(i,To()),l!==null)for(p=i.onRecoverableError,u=0;u<l.length;u++)$=l[u],p($.value,{componentStack:$.stack,digest:$.digest});if(ec)throw ec=!1,i=tc,tc=null,i;return(No&1)!==0&&i.tag!==0&&kn(),T=i.pendingLanes,(T&1)!==0?i===vu?xs++:(xs=0,vu=i):xs=0,Ve(),null}function kn(){if(As!==null){var i=Xr(No),l=fo.transition,u=kt;try{if(fo.transition=null,kt=16>i?16:i,As===null)var p=!1;else{if(i=As,As=null,No=0,(Nt&6)!==0)throw Error(n(331));var $=Nt;for(Nt|=4,V=i.current;V!==null;){var T=V,k=T.child;if((V.flags&16)!==0){var z=T.deletions;if(z!==null){for(var Z=0;Z<z.length;Z++){var Te=z[Z];for(V=Te;V!==null;){var we=V;switch(we.tag){case 0:case 11:case 15:Qa(8,we,T)}var xe=we.child;if(xe!==null)xe.return=we,V=xe;else for(;V!==null;){we=V;var Oe=we.sibling,ze=we.return;if(Rs(we),we===Te){V=null;break}if(Oe!==null){Oe.return=ze,V=Oe;break}V=ze}}}var Je=T.alternate;if(Je!==null){var qe=Je.child;if(qe!==null){Je.child=null;do{var ao=qe.sibling;qe.sibling=null,qe=ao}while(qe!==null)}}V=T}}if((T.subtreeFlags&2064)!==0&&k!==null)k.return=T,V=k;else e:for(;V!==null;){if(T=V,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Qa(9,T,T.return)}var ce=T.sibling;if(ce!==null){ce.return=T.return,V=ce;break e}V=T.return}}var re=i.current;for(V=re;V!==null;){k=V;var de=k.child;if((k.subtreeFlags&2064)!==0&&de!==null)de.return=k,V=de;else e:for(k=re;V!==null;){if(z=V,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Tu(9,z)}}catch(rt){yo(z,z.return,rt)}if(z===k){V=null;break e}var Pe=z.sibling;if(Pe!==null){Pe.return=z.return,V=Pe;break e}V=z.return}}if(Nt=$,Ve(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Ic,i)}catch{}p=!0}return p}finally{kt=u,fo.transition=l}}return!1}function rc(i,l,u){l=ja(u,l),l=gu(i,l,1),i=Oi(i,l,1),l=dr(),i!==null&&(ls(i,1,l),zo(i,l))}function yo(i,l,u){if(i.tag===3)rc(i,i,u);else for(;l!==null;){if(l.tag===3){rc(l,i,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ro===null||!ro.has(p))){i=ja(u,i),i=Cs(l,i,1),l=Oi(l,i,1),i=dr(),l!==null&&(ls(l,1,i),zo(l,i));break}}l=l.return}}function qp(i,l,u){var p=i.pingCache;p!==null&&p.delete(l),l=dr(),i.pingedLanes|=i.suspendedLanes&u,Go===i&&(qo&u)===u&&(Lo===4||Lo===3&&(qo&130023424)===qo&&500>To()-Wo?Wl(i,0):yu|=u),zo(i,l)}function ah(i,l){l===0&&((i.mode&1)===0?l=1:(l=Cc,Cc<<=1,(Cc&130023424)===0&&(Cc=4194304)));var u=dr();i=gn(i,l),i!==null&&(ls(i,l,u),zo(i,u))}function jl(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),ah(i,u)}function I$(i,l){var u=0;switch(i.tag){case 13:var p=i.stateNode,$=i.memoizedState;$!==null&&(u=$.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),ah(i,u)}var Jg;Jg=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||ar.current)ir=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return ir=!1,Vp(i,l,u);ir=(i.flags&131072)!==0}else ir=!1,po&&(l.flags&1048576)!==0&&Rp(l,Tl,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Ka(i,l),i=l.pendingProps;var $=fs(l,or.current);Es(l,u),$=Gd(null,l,p,i,$,u);var T=Vd();return l.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,rr(p)?(T=!0,Zc(l)):T=!1,l.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,Rd(l),$.updater=Ga,l.stateNode=$,$._reactInternals=l,yl(l,p,i,u),l=Ya(null,l,p,!0,T,u)):(l.tag=0,po&&T&&tu(l),Ko(null,l,$,u),l=l.child),l;case 16:p=l.elementType;e:{switch(Ka(i,l),i=l.pendingProps,$=p._init,p=$(p._payload),l.type=p,$=l.tag=Qp(p),i=Pr(p,i),$){case 0:l=qd(null,l,p,i,u);break e;case 1:l=Qd(null,l,p,i,u);break e;case 11:l=Jd(null,l,p,i,u);break e;case 14:l=Bp(null,l,p,Pr(p.type,i),u);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Pr(p,$),qd(i,l,p,$,u);case 1:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Pr(p,$),Qd(i,l,p,$,u);case 3:e:{if(Pl(l),i===null)throw Error(n(387));p=l.pendingProps,T=l.memoizedState,$=T.element,El(i,l),Ha(l,p,null,u);var k=l.memoizedState;if(p=k.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){$=ja(Error(n(423)),l),l=Hp(i,l,p,u,$);break e}else if(p!==$){$=ja(Error(n(424)),l),l=Hp(i,l,p,u,$);break e}else for(Sr=Jn(l.stateNode.containerInfo.firstChild),cr=l,po=!0,fr=null,u=Dd(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($s(),p===$){l=vn(i,l,u);break e}Ko(i,l,p,u)}l=l.child}return l;case 5:return xp(l),i===null&&ms(l),p=l.type,$=l.pendingProps,T=i!==null?i.memoizedProps:null,k=$.children,Na(p,$)?k=null:T!==null&&Na(p,T)&&(l.flags|=32),zg(i,l),Ko(i,l,k,u),l.child;case 6:return i===null&&ms(l),null;case 13:return jg(i,l,u);case 4:return Pd(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=bs(l,null,p,u):Ko(i,l,p,u),l.child;case 11:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Pr(p,$),Jd(i,l,p,$,u);case 7:return Ko(i,l,l.pendingProps,u),l.child;case 8:return Ko(i,l,l.pendingProps.children,u),l.child;case 12:return Ko(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(p=l.type._context,$=l.pendingProps,T=l.memoizedProps,k=$.value,to(_s,p._currentValue),p._currentValue=k,T!==null)if(xr(T.value,k)){if(T.children===$.children&&!ar.current){l=vn(i,l,u);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var z=T.dependencies;if(z!==null){k=T.child;for(var Z=z.firstContext;Z!==null;){if(Z.context===p){if(T.tag===1){Z=mn(-1,u&-u),Z.tag=2;var Te=T.updateQueue;if(Te!==null){Te=Te.shared;var we=Te.pending;we===null?Z.next=Z:(Z.next=we.next,we.next=Z),Te.pending=Z}}T.lanes|=u,Z=T.alternate,Z!==null&&(Z.lanes|=u),su(T.return,u,l),z.lanes|=u;break}Z=Z.next}}else if(T.tag===10)k=T.type===l.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(n(341));k.lanes|=u,z=k.alternate,z!==null&&(z.lanes|=u),su(k,u,l),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===l){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}Ko(i,l,$.children,u),l=l.child}return l;case 9:return $=l.type,p=l.pendingProps.children,Es(l,u),$=Ir($),p=p($),l.flags|=1,Ko(i,l,p,u),l.child;case 14:return p=l.type,$=Pr(p,l.pendingProps),$=Pr(p.type,$),Bp(i,l,p,$,u);case 15:return Fp(i,l,l.type,l.pendingProps,u);case 17:return p=l.type,$=l.pendingProps,$=l.elementType===p?$:Pr(p,$),Ka(i,l),l.tag=1,rr(p)?(i=!0,Zc(l)):i=!1,Es(l,u),Ld(l,p,$),yl(l,p,$,u),Ya(null,l,p,!0,i,u);case 19:return Ro(i,l,u);case 22:return Up(i,l,u)}throw Error(n(156,l.tag))};function _r(i,l){return Ec(i,l)}function no(i,l,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(i,l,u,p){return new no(i,l,u,p)}function Su(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qp(i){if(typeof i=="function")return Su(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ge)return 11;if(i===Y)return 14}return 2}function Fr(i,l){var u=i.alternate;return u===null?(u=hr(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Xl(i,l,u,p,$,T){var k=2;if(p=i,typeof i=="function")Su(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case Q:return Yi(u.children,$,T,l);case ne:k=8,$|=8;break;case ae:return i=hr(12,u,l,$|2),i.elementType=ae,i.lanes=T,i;case me:return i=hr(13,u,l,$),i.elementType=me,i.lanes=T,i;case ye:return i=hr(19,u,l,$),i.elementType=ye,i.lanes=T,i;case ve:return Ki(u,$,T,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:k=10;break e;case oe:k=9;break e;case ge:k=11;break e;case Y:k=14;break e;case ue:k=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=hr(k,u,l,$),l.elementType=i,l.type=p,l.lanes=T,l}function Yi(i,l,u,p){return i=hr(7,i,p,l),i.lanes=u,i}function Ki(i,l,u,p){return i=hr(22,i,p,l),i.elementType=ve,i.lanes=u,i.stateNode={isHidden:!1},i}function Ms(i,l,u){return i=hr(6,i,null,l),i.lanes=u,i}function en(i,l,u){return l=hr(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function ii(i,l,u,p,$){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=p,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function nc(i,l,u,p,$,T,k,z,Z){return i=new ii(i,l,u,z,Z),l===1?(l=1,T===!0&&(l|=8)):l=0,T=hr(3,null,null,l),i.current=T,T.stateNode=i,T.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(T),i}function qg(i,l,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:p==null?null:""+p,children:i,containerInfo:l,implementation:u}}function Iu(i){if(!i)return Ii;i=i._reactInternals;e:{if(Vn(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(rr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(rr(u))return kp(i,u,l)}return l}function Rn(i,l,u,p,$,T,k,z,Z){return i=nc(u,p,!0,i,$,T,k,z,Z),i.context=Iu(null),u=i.current,p=dr(),$=Cn(u),T=mn(p,$),T.callback=l??null,Oi(u,T,$),i.current.lanes=$,ls(i,$,p),zo(i,p),i}function St(i,l,u,p){var $=l.current,T=dr(),k=Cn($);return u=Iu(u),l.context===null?l.context=u:l.pendingContext=u,l=mn(T,k),l.payload={element:i},p=p===void 0?null:p,p!==null&&(l.callback=p),i=Oi($,l,k),i!==null&&(bo(i,$,k,T),bl(i,$,k)),k}function Yl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Cu(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function ch(i,l){Cu(i,l),(i=i.alternate)&&Cu(i,l)}function Qg(){return null}var uh=typeof reportError=="function"?reportError:function(i){console.error(i)};function ic(i){this._internalRoot=i}sc.prototype.render=ic.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));St(i,l,null,null)},sc.prototype.unmount=ic.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ns(function(){St(null,i,null,null)}),l[yr]=null}};function sc(i){this._internalRoot=i}sc.prototype.unstable_scheduleHydration=function(i){if(i){var l=Yu();i={blockedOn:null,target:i,priority:l};for(var u=0;u<zn.length&&l!==0&&l<zn[u].priority;u++);zn.splice(u,0,i),u===0&&Ei(i)}};function Ji(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function qi(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Kl(){}function Dt(i,l,u,p,$){if($){if(typeof p=="function"){var T=p;p=function(){var Te=Yl(k);T.call(Te)}}var k=Rn(l,p,i,0,null,!1,!1,"",Kl);return i._reactRootContainer=k,i[yr]=k.current,Aa(i.nodeType===8?i.parentNode:i),Ns(),k}for(;$=i.lastChild;)i.removeChild($);if(typeof p=="function"){var z=p;p=function(){var Te=Yl(Z);z.call(Te)}}var Z=nc(i,0,!1,null,null,!1,!1,"",Kl);return i._reactRootContainer=Z,i[yr]=Z.current,Aa(i.nodeType===8?i.parentNode:i),Ns(function(){St(l,Z,u,p)}),Z}function Qi(i,l,u,p,$){var T=u._reactRootContainer;if(T){var k=T;if(typeof $=="function"){var z=$;$=function(){var Z=Yl(k);z.call(Z)}}St(l,k,i,$)}else k=Dt(u,l,i,$,p);return Yl(k)}rp=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=il(l.pendingLanes);u!==0&&(kc(l,u|1),zo(l,To()),(Nt&6)===0&&($r=To()+500,Ve()))}break;case 13:Ns(function(){var p=gn(i,1);if(p!==null){var $=dr();bo(p,i,1,$)}}),ch(i,1)}},Rc=function(i){if(i.tag===13){var l=gn(i,134217728);if(l!==null){var u=dr();bo(l,i,134217728,u)}ch(i,134217728)}},wc=function(i){if(i.tag===13){var l=Cn(i),u=gn(i,l);if(u!==null){var p=dr();bo(u,i,l,p)}ch(i,l)}},Yu=function(){return kt},np=function(i,l){var u=kt;try{return kt=i,l()}finally{kt=u}},zr=function(i,l,u){switch(l){case"input":if(bt(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==i&&p.form===i.form){var $=Jc(p);if(!$)throw Error(n(90));Ie(p),bt(p,$)}}}break;case"textarea":De(i,u);break;case"select":l=u.value,l!=null&&_t(i,!!u.multiple,l,!1)}},$i=rh,lt=Ns;var Jl={usingClientEntryPoint:!1,Events:[Pa,$l,Jc,Un,Hn,rh]},ql={findFiberByHostInstance:ps,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ds={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zu(i),i===null?null:i.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||Qg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Ic=ku.inject(Ds),Or=ku}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jl,on.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ji(l))throw Error(n(200));return qg(i,l,null,u)},on.createRoot=function(i,l){if(!Ji(i))throw Error(n(299));var u=!1,p="",$=uh;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&($=l.onRecoverableError)),l=nc(i,1,!1,null,null,u,!1,p,$),i[yr]=l.current,Aa(i.nodeType===8?i.parentNode:i),new ic(l)},on.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=zu(l),i=i===null?null:i.stateNode,i},on.flushSync=function(i){return Ns(i)},on.hydrate=function(i,l,u){if(!qi(l))throw Error(n(200));return Qi(null,i,l,!0,u)},on.hydrateRoot=function(i,l,u){if(!Ji(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,$=!1,T="",k=uh;if(u!=null&&(u.unstable_strictMode===!0&&($=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),l=Rn(l,null,i,1,u??null,$,!1,T,k),i[yr]=l.current,Aa(i),p)for(i=0;i<p.length;i++)u=p[i],$=u._getVersion,$=$(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,$]:l.mutableSourceEagerHydrationData.push(u,$);return new sc(l)},on.render=function(i,l,u){if(!qi(l))throw Error(n(200));return Qi(null,i,l,!1,u)},on.unmountComponentAtNode=function(i){if(!qi(i))throw Error(n(40));return i._reactRootContainer?(Ns(function(){Qi(null,null,i,!1,function(){i._reactRootContainer=null,i[yr]=null})}),!0):!1},on.unstable_batchedUpdates=rh,on.unstable_renderSubtreeIntoContainer=function(i,l,u,p){if(!qi(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Qi(i,l,u,!1,p)},on.version="18.2.0-next-9e3b772b8-20220608",on}var Tb;function rv(){if(Tb)return T_.exports;Tb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),T_.exports=xI(),T_.exports}var Eb;function LI(){if(Eb)return mm;Eb=1;var r=rv();return mm.createRoot=r.createRoot,mm.hydrateRoot=r.hydrateRoot,mm}var NI=LI();const MI=sT(NI);function sa(r,...s){const n=new URL(`https://mui.com/production-error/?code=${r}`);return s.forEach(c=>n.searchParams.append("args[]",c)),`Minified MUI error #${r}; visit ${n} for the full message.`}const Js="$$material";function jm(){return jm=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var c in n)({}).hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},jm.apply(null,arguments)}function DI(r){if(r.sheet)return r.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===r)return document.styleSheets[s]}function PI(r){var s=document.createElement("style");return s.setAttribute("data-emotion",r.key),r.nonce!==void 0&&s.setAttribute("nonce",r.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var BI=function(){function r(n){var c=this;this._insertTag=function(h){var f;c.tags.length===0?c.insertionPoint?f=c.insertionPoint.nextSibling:c.prepend?f=c.container.firstChild:f=c.before:f=c.tags[c.tags.length-1].nextSibling,c.container.insertBefore(h,f),c.tags.push(h)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var s=r.prototype;return s.hydrate=function(c){c.forEach(this._insertTag)},s.insert=function(c){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(PI(this));var h=this.tags[this.tags.length-1];if(this.isSpeedy){var f=DI(h);try{f.insertRule(c,f.cssRules.length)}catch{}}else h.appendChild(document.createTextNode(c));this.ctr++},s.flush=function(){this.tags.forEach(function(c){var h;return(h=c.parentNode)==null?void 0:h.removeChild(c)}),this.tags=[],this.ctr=0},r}(),Rr="-ms-",Xm="-moz-",Yt="-webkit-",nv="comm",aT="rule",cT="decl",FI="@import",iv="@keyframes",UI="@layer",HI=Math.abs,n$=String.fromCharCode,GI=Object.assign;function VI(r,s){return Tr(r,0)^45?(((s<<2^Tr(r,0))<<2^Tr(r,1))<<2^Tr(r,2))<<2^Tr(r,3):0}function sv(r){return r.trim()}function WI(r,s){return(r=s.exec(r))?r[0]:r}function Kt(r,s,n){return r.replace(s,n)}function U_(r,s){return r.indexOf(s)}function Tr(r,s){return r.charCodeAt(s)|0}function Uf(r,s,n){return r.slice(s,n)}function Xs(r){return r.length}function uT(r){return r.length}function $m(r,s){return s.push(r),r}function zI(r,s){return r.map(s).join("")}var i$=1,Bh=1,lv=0,ln=0,er=0,jh="";function s$(r,s,n,c,h,f,g){return{value:r,root:s,parent:n,type:c,props:h,children:f,line:i$,column:Bh,length:g,return:""}}function Tf(r,s){return GI(s$("",null,null,"",null,null,0),r,{length:-r.length},s)}function jI(){return er}function XI(){return er=ln>0?Tr(jh,--ln):0,Bh--,er===10&&(Bh=1,i$--),er}function Dn(){return er=ln<lv?Tr(jh,ln++):0,Bh++,er===10&&(Bh=1,i$++),er}function qs(){return Tr(jh,ln)}function Om(){return ln}function Yf(r,s){return Uf(jh,r,s)}function Hf(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function av(r){return i$=Bh=1,lv=Xs(jh=r),ln=0,[]}function cv(r){return jh="",r}function Am(r){return sv(Yf(ln-1,H_(r===91?r+2:r===40?r+1:r)))}function YI(r){for(;(er=qs())&&er<33;)Dn();return Hf(r)>2||Hf(er)>3?"":" "}function KI(r,s){for(;--s&&Dn()&&!(er<48||er>102||er>57&&er<65||er>70&&er<97););return Yf(r,Om()+(s<6&&qs()==32&&Dn()==32))}function H_(r){for(;Dn();)switch(er){case r:return ln;case 34:case 39:r!==34&&r!==39&&H_(er);break;case 40:r===41&&H_(r);break;case 92:Dn();break}return ln}function JI(r,s){for(;Dn()&&r+er!==57;)if(r+er===84&&qs()===47)break;return"/*"+Yf(s,ln-1)+"*"+n$(r===47?r:Dn())}function qI(r){for(;!Hf(qs());)Dn();return Yf(r,ln)}function QI(r){return cv(xm("",null,null,null,[""],r=av(r),0,[0],r))}function xm(r,s,n,c,h,f,g,_,y){for(var v=0,I=0,R=g,N=0,M=0,L=0,A=1,P=1,W=1,X=0,H="",D=h,F=f,J=c,Q=H;P;)switch(L=X,X=Dn()){case 40:if(L!=108&&Tr(Q,R-1)==58){U_(Q+=Kt(Am(X),"&","&\f"),"&\f")!=-1&&(W=-1);break}case 34:case 39:case 91:Q+=Am(X);break;case 9:case 10:case 13:case 32:Q+=YI(L);break;case 92:Q+=KI(Om()-1,7);continue;case 47:switch(qs()){case 42:case 47:$m(ZI(JI(Dn(),Om()),s,n),y);break;default:Q+="/"}break;case 123*A:_[v++]=Xs(Q)*W;case 125*A:case 59:case 0:switch(X){case 0:case 125:P=0;case 59+I:W==-1&&(Q=Kt(Q,/\f/g,"")),M>0&&Xs(Q)-R&&$m(M>32?yb(Q+";",c,n,R-1):yb(Kt(Q," ","")+";",c,n,R-2),y);break;case 59:Q+=";";default:if($m(J=bb(Q,s,n,v,I,h,_,H,D=[],F=[],R),f),X===123)if(I===0)xm(Q,s,J,J,D,f,R,_,F);else switch(N===99&&Tr(Q,3)===110?100:N){case 100:case 108:case 109:case 115:xm(r,J,J,c&&$m(bb(r,J,J,0,0,h,_,H,h,D=[],R),F),h,F,R,_,c?D:F);break;default:xm(Q,J,J,J,[""],F,0,_,F)}}v=I=M=0,A=W=1,H=Q="",R=g;break;case 58:R=1+Xs(Q),M=L;default:if(A<1){if(X==123)--A;else if(X==125&&A++==0&&XI()==125)continue}switch(Q+=n$(X),X*A){case 38:W=I>0?1:(Q+="\f",-1);break;case 44:_[v++]=(Xs(Q)-1)*W,W=1;break;case 64:qs()===45&&(Q+=Am(Dn())),N=qs(),I=R=Xs(H=Q+=qI(Om())),X++;break;case 45:L===45&&Xs(Q)==2&&(A=0)}}return f}function bb(r,s,n,c,h,f,g,_,y,v,I){for(var R=h-1,N=h===0?f:[""],M=uT(N),L=0,A=0,P=0;L<c;++L)for(var W=0,X=Uf(r,R+1,R=HI(A=g[L])),H=r;W<M;++W)(H=sv(A>0?N[W]+" "+X:Kt(X,/&\f/g,N[W])))&&(y[P++]=H);return s$(r,s,n,h===0?aT:_,y,v,I)}function ZI(r,s,n){return s$(r,s,n,nv,n$(jI()),Uf(r,2,-2),0)}function yb(r,s,n,c){return s$(r,s,n,cT,Uf(r,0,c),Uf(r,c+1,-1),c)}function Mh(r,s){for(var n="",c=uT(r),h=0;h<c;h++)n+=s(r[h],h,r,s)||"";return n}function eC(r,s,n,c){switch(r.type){case UI:if(r.children.length)break;case FI:case cT:return r.return=r.return||r.value;case nv:return"";case iv:return r.return=r.value+"{"+Mh(r.children,c)+"}";case aT:r.value=r.props.join(",")}return Xs(n=Mh(r.children,c))?r.return=r.value+"{"+n+"}":""}function tC(r){var s=uT(r);return function(n,c,h,f){for(var g="",_=0;_<s;_++)g+=r[_](n,c,h,f)||"";return g}}function oC(r){return function(s){s.root||(s=s.return)&&r(s)}}function uv(r){var s=Object.create(null);return function(n){return s[n]===void 0&&(s[n]=r(n)),s[n]}}var rC=function(s,n,c){for(var h=0,f=0;h=f,f=qs(),h===38&&f===12&&(n[c]=1),!Hf(f);)Dn();return Yf(s,ln)},nC=function(s,n){var c=-1,h=44;do switch(Hf(h)){case 0:h===38&&qs()===12&&(n[c]=1),s[c]+=rC(ln-1,n,c);break;case 2:s[c]+=Am(h);break;case 4:if(h===44){s[++c]=qs()===58?"&\f":"",n[c]=s[c].length;break}default:s[c]+=n$(h)}while(h=Dn());return s},iC=function(s,n){return cv(nC(av(s),n))},vb=new WeakMap,sC=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var n=s.value,c=s.parent,h=s.column===c.column&&s.line===c.line;c.type!=="rule";)if(c=c.parent,!c)return;if(!(s.props.length===1&&n.charCodeAt(0)!==58&&!vb.get(c))&&!h){vb.set(s,!0);for(var f=[],g=iC(n,f),_=c.props,y=0,v=0;y<g.length;y++)for(var I=0;I<_.length;I++,v++)s.props[v]=f[y]?g[y].replace(/&\f/g,_[I]):_[I]+" "+g[y]}}},lC=function(s){if(s.type==="decl"){var n=s.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(s.return="",s.value="")}};function dv(r,s){switch(VI(r,s)){case 5103:return Yt+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+r+Xm+r+Rr+r+r;case 6828:case 4268:return Yt+r+Rr+r+r;case 6165:return Yt+r+Rr+"flex-"+r+r;case 5187:return Yt+r+Kt(r,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+Rr+"flex-$1$2")+r;case 5443:return Yt+r+Rr+"flex-item-"+Kt(r,/flex-|-self/,"")+r;case 4675:return Yt+r+Rr+"flex-line-pack"+Kt(r,/align-content|flex-|-self/,"")+r;case 5548:return Yt+r+Rr+Kt(r,"shrink","negative")+r;case 5292:return Yt+r+Rr+Kt(r,"basis","preferred-size")+r;case 6060:return Yt+"box-"+Kt(r,"-grow","")+Yt+r+Rr+Kt(r,"grow","positive")+r;case 4554:return Yt+Kt(r,/([^-])(transform)/g,"$1"+Yt+"$2")+r;case 6187:return Kt(Kt(Kt(r,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),r,"")+r;case 5495:case 3959:return Kt(r,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return Kt(Kt(r,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+Rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+r+r;case 4095:case 3583:case 4068:case 2532:return Kt(r,/(.+)-inline(.+)/,Yt+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xs(r)-1-s>6)switch(Tr(r,s+1)){case 109:if(Tr(r,s+4)!==45)break;case 102:return Kt(r,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+Xm+(Tr(r,s+3)==108?"$3":"$2-$3"))+r;case 115:return~U_(r,"stretch")?dv(Kt(r,"stretch","fill-available"),s)+r:r}break;case 4949:if(Tr(r,s+1)!==115)break;case 6444:switch(Tr(r,Xs(r)-3-(~U_(r,"!important")&&10))){case 107:return Kt(r,":",":"+Yt)+r;case 101:return Kt(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yt+(Tr(r,14)===45?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+Rr+"$2box$3")+r}break;case 5936:switch(Tr(r,s+11)){case 114:return Yt+r+Rr+Kt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Yt+r+Rr+Kt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Yt+r+Rr+Kt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Yt+r+Rr+r+r}return r}var aC=function(s,n,c,h){if(s.length>-1&&!s.return)switch(s.type){case cT:s.return=dv(s.value,s.length);break;case iv:return Mh([Tf(s,{value:Kt(s.value,"@","@"+Yt)})],h);case aT:if(s.length)return zI(s.props,function(f){switch(WI(f,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mh([Tf(s,{props:[Kt(f,/:(read-\w+)/,":"+Xm+"$1")]})],h);case"::placeholder":return Mh([Tf(s,{props:[Kt(f,/:(plac\w+)/,":"+Yt+"input-$1")]}),Tf(s,{props:[Kt(f,/:(plac\w+)/,":"+Xm+"$1")]}),Tf(s,{props:[Kt(f,/:(plac\w+)/,Rr+"input-$1")]})],h)}return""})}},cC=[aC],uC=function(s){var n=s.key;if(n==="css"){var c=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(c,function(A){var P=A.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var h=s.stylisPlugins||cC,f={},g,_=[];g=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(A){for(var P=A.getAttribute("data-emotion").split(" "),W=1;W<P.length;W++)f[P[W]]=!0;_.push(A)});var y,v=[sC,lC];{var I,R=[eC,oC(function(A){I.insert(A)})],N=tC(v.concat(h,R)),M=function(P){return Mh(QI(P),N)};y=function(P,W,X,H){I=X,M(P?P+"{"+W.styles+"}":W.styles),H&&(L.inserted[W.name]=!0)}}var L={key:n,sheet:new BI({key:n,container:g,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:f,registered:{},insert:y};return L.sheet.hydrate(_),L},y_={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function dC(){if(Sb)return Zt;Sb=1;var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,c=r?Symbol.for("react.fragment"):60107,h=r?Symbol.for("react.strict_mode"):60108,f=r?Symbol.for("react.profiler"):60114,g=r?Symbol.for("react.provider"):60109,_=r?Symbol.for("react.context"):60110,y=r?Symbol.for("react.async_mode"):60111,v=r?Symbol.for("react.concurrent_mode"):60111,I=r?Symbol.for("react.forward_ref"):60112,R=r?Symbol.for("react.suspense"):60113,N=r?Symbol.for("react.suspense_list"):60120,M=r?Symbol.for("react.memo"):60115,L=r?Symbol.for("react.lazy"):60116,A=r?Symbol.for("react.block"):60121,P=r?Symbol.for("react.fundamental"):60117,W=r?Symbol.for("react.responder"):60118,X=r?Symbol.for("react.scope"):60119;function H(F){if(typeof F=="object"&&F!==null){var J=F.$$typeof;switch(J){case s:switch(F=F.type,F){case y:case v:case c:case f:case h:case R:return F;default:switch(F=F&&F.$$typeof,F){case _:case I:case L:case M:case g:return F;default:return J}}case n:return J}}}function D(F){return H(F)===v}return Zt.AsyncMode=y,Zt.ConcurrentMode=v,Zt.ContextConsumer=_,Zt.ContextProvider=g,Zt.Element=s,Zt.ForwardRef=I,Zt.Fragment=c,Zt.Lazy=L,Zt.Memo=M,Zt.Portal=n,Zt.Profiler=f,Zt.StrictMode=h,Zt.Suspense=R,Zt.isAsyncMode=function(F){return D(F)||H(F)===y},Zt.isConcurrentMode=D,Zt.isContextConsumer=function(F){return H(F)===_},Zt.isContextProvider=function(F){return H(F)===g},Zt.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===s},Zt.isForwardRef=function(F){return H(F)===I},Zt.isFragment=function(F){return H(F)===c},Zt.isLazy=function(F){return H(F)===L},Zt.isMemo=function(F){return H(F)===M},Zt.isPortal=function(F){return H(F)===n},Zt.isProfiler=function(F){return H(F)===f},Zt.isStrictMode=function(F){return H(F)===h},Zt.isSuspense=function(F){return H(F)===R},Zt.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===c||F===v||F===f||F===h||F===R||F===N||typeof F=="object"&&F!==null&&(F.$$typeof===L||F.$$typeof===M||F.$$typeof===g||F.$$typeof===_||F.$$typeof===I||F.$$typeof===P||F.$$typeof===W||F.$$typeof===X||F.$$typeof===A)},Zt.typeOf=H,Zt}var Ib;function hC(){return Ib||(Ib=1,y_.exports=dC()),y_.exports}var v_,Cb;function pC(){if(Cb)return v_;Cb=1;var r=hC(),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},h={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f={};f[r.ForwardRef]=c,f[r.Memo]=h;function g(L){return r.isMemo(L)?h:f[L.$$typeof]||s}var _=Object.defineProperty,y=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,I=Object.getOwnPropertyDescriptor,R=Object.getPrototypeOf,N=Object.prototype;function M(L,A,P){if(typeof A!="string"){if(N){var W=R(A);W&&W!==N&&M(L,W,P)}var X=y(A);v&&(X=X.concat(v(A)));for(var H=g(L),D=g(A),F=0;F<X.length;++F){var J=X[F];if(!n[J]&&!(P&&P[J])&&!(D&&D[J])&&!(H&&H[J])){var Q=I(A,J);try{_(L,J,Q)}catch{}}}}return L}return v_=M,v_}pC();var fC=!0;function hv(r,s,n){var c="";return n.split(" ").forEach(function(h){r[h]!==void 0?s.push(r[h]+";"):h&&(c+=h+" ")}),c}var dT=function(s,n,c){var h=s.key+"-"+n.name;(c===!1||fC===!1)&&s.registered[h]===void 0&&(s.registered[h]=n.styles)},hT=function(s,n,c){dT(s,n,c);var h=s.key+"-"+n.name;if(s.inserted[n.name]===void 0){var f=n;do s.insert(n===f?"."+h:"",f,s.sheet,!0),f=f.next;while(f!==void 0)}};function gC(r){for(var s=0,n,c=0,h=r.length;h>=4;++c,h-=4)n=r.charCodeAt(c)&255|(r.charCodeAt(++c)&255)<<8|(r.charCodeAt(++c)&255)<<16|(r.charCodeAt(++c)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,s=(n&65535)*1540483477+((n>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(h){case 3:s^=(r.charCodeAt(c+2)&255)<<16;case 2:s^=(r.charCodeAt(c+1)&255)<<8;case 1:s^=r.charCodeAt(c)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var mC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$C=/[A-Z]|^ms/g,_C=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pv=function(s){return s.charCodeAt(1)===45},kb=function(s){return s!=null&&typeof s!="boolean"},S_=uv(function(r){return pv(r)?r:r.replace($C,"-$&").toLowerCase()}),Rb=function(s,n){switch(s){case"animation":case"animationName":if(typeof n=="string")return n.replace(_C,function(c,h,f){return Ys={name:h,styles:f,next:Ys},h})}return mC[s]!==1&&!pv(s)&&typeof n=="number"&&n!==0?n+"px":n};function Gf(r,s,n){if(n==null)return"";var c=n;if(c.__emotion_styles!==void 0)return c;switch(typeof n){case"boolean":return"";case"object":{var h=n;if(h.anim===1)return Ys={name:h.name,styles:h.styles,next:Ys},h.name;var f=n;if(f.styles!==void 0){var g=f.next;if(g!==void 0)for(;g!==void 0;)Ys={name:g.name,styles:g.styles,next:Ys},g=g.next;var _=f.styles+";";return _}return TC(r,s,n)}case"function":{if(r!==void 0){var y=Ys,v=n(r);return Ys=y,Gf(r,s,v)}break}}var I=n;if(s==null)return I;var R=s[I];return R!==void 0?R:I}function TC(r,s,n){var c="";if(Array.isArray(n))for(var h=0;h<n.length;h++)c+=Gf(r,s,n[h])+";";else for(var f in n){var g=n[f];if(typeof g!="object"){var _=g;s!=null&&s[_]!==void 0?c+=f+"{"+s[_]+"}":kb(_)&&(c+=S_(f)+":"+Rb(f,_)+";")}else if(Array.isArray(g)&&typeof g[0]=="string"&&(s==null||s[g[0]]===void 0))for(var y=0;y<g.length;y++)kb(g[y])&&(c+=S_(f)+":"+Rb(f,g[y])+";");else{var v=Gf(r,s,g);switch(f){case"animation":case"animationName":{c+=S_(f)+":"+v+";";break}default:c+=f+"{"+v+"}"}}}return c}var wb=/label:\s*([^\s;{]+)\s*(;|$)/g,Ys;function Kf(r,s,n){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var c=!0,h="";Ys=void 0;var f=r[0];if(f==null||f.raw===void 0)c=!1,h+=Gf(n,s,f);else{var g=f;h+=g[0]}for(var _=1;_<r.length;_++)if(h+=Gf(n,s,r[_]),c){var y=f;h+=y[_]}wb.lastIndex=0;for(var v="",I;(I=wb.exec(h))!==null;)v+="-"+I[1];var R=gC(h)+v;return{name:R,styles:h,next:Ys}}var EC=function(s){return s()},fv=F_.useInsertionEffect?F_.useInsertionEffect:!1,gv=fv||EC,Ob=fv||w.useLayoutEffect,mv=w.createContext(typeof HTMLElement<"u"?uC({key:"css"}):null);mv.Provider;var pT=function(s){return w.forwardRef(function(n,c){var h=w.useContext(mv);return s(n,h,c)})},Jf=w.createContext({}),fT={}.hasOwnProperty,G_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bC=function(s,n){var c={};for(var h in n)fT.call(n,h)&&(c[h]=n[h]);return c[G_]=s,c},yC=function(s){var n=s.cache,c=s.serialized,h=s.isStringTag;return dT(n,c,h),gv(function(){return hT(n,c,h)}),null},vC=pT(function(r,s,n){var c=r.css;typeof c=="string"&&s.registered[c]!==void 0&&(c=s.registered[c]);var h=r[G_],f=[c],g="";typeof r.className=="string"?g=hv(s.registered,f,r.className):r.className!=null&&(g=r.className+" ");var _=Kf(f,void 0,w.useContext(Jf));g+=s.key+"-"+_.name;var y={};for(var v in r)fT.call(r,v)&&v!=="css"&&v!==G_&&(y[v]=r[v]);return y.className=g,n&&(y.ref=n),w.createElement(w.Fragment,null,w.createElement(yC,{cache:s,serialized:_,isStringTag:typeof h=="string"}),w.createElement(h,y))}),SC=vC,Ab=function(s,n){var c=arguments;if(n==null||!fT.call(n,"css"))return w.createElement.apply(void 0,c);var h=c.length,f=new Array(h);f[0]=SC,f[1]=bC(s,n);for(var g=2;g<h;g++)f[g]=c[g];return w.createElement.apply(null,f)};(function(r){var s;s||(s=r.JSX||(r.JSX={}))})(Ab||(Ab={}));var IC=pT(function(r,s){var n=r.styles,c=Kf([n],void 0,w.useContext(Jf)),h=w.useRef();return Ob(function(){var f=s.key+"-global",g=new s.sheet.constructor({key:f,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),_=!1,y=document.querySelector('style[data-emotion="'+f+" "+c.name+'"]');return s.sheet.tags.length&&(g.before=s.sheet.tags[0]),y!==null&&(_=!0,y.setAttribute("data-emotion",f),g.hydrate([y])),h.current=[g,_],function(){g.flush()}},[s]),Ob(function(){var f=h.current,g=f[0],_=f[1];if(_){f[1]=!1;return}if(c.next!==void 0&&hT(s,c.next,!0),g.tags.length){var y=g.tags[g.tags.length-1].nextElementSibling;g.before=y,g.flush()}s.insert("",c,g,!1)},[s,c.name]),null});function gT(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return Kf(s)}function qf(){var r=gT.apply(void 0,arguments),s="animation-"+r.name;return{name:s,styles:"@keyframes "+s+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var CC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kC=uv(function(r){return CC.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),RC=kC,wC=function(s){return s!=="theme"},xb=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?RC:wC},Lb=function(s,n,c){var h;if(n){var f=n.shouldForwardProp;h=s.__emotion_forwardProp&&f?function(g){return s.__emotion_forwardProp(g)&&f(g)}:f}return typeof h!="function"&&c&&(h=s.__emotion_forwardProp),h},OC=function(s){var n=s.cache,c=s.serialized,h=s.isStringTag;return dT(n,c,h),gv(function(){return hT(n,c,h)}),null},AC=function r(s,n){var c=s.__emotion_real===s,h=c&&s.__emotion_base||s,f,g;n!==void 0&&(f=n.label,g=n.target);var _=Lb(s,n,c),y=_||xb(h),v=!y("as");return function(){var I=arguments,R=c&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(f!==void 0&&R.push("label:"+f+";"),I[0]==null||I[0].raw===void 0)R.push.apply(R,I);else{var N=I[0];R.push(N[0]);for(var M=I.length,L=1;L<M;L++)R.push(I[L],N[L])}var A=pT(function(P,W,X){var H=v&&P.as||h,D="",F=[],J=P;if(P.theme==null){J={};for(var Q in P)J[Q]=P[Q];J.theme=w.useContext(Jf)}typeof P.className=="string"?D=hv(W.registered,F,P.className):P.className!=null&&(D=P.className+" ");var ne=Kf(R.concat(F),W.registered,J);D+=W.key+"-"+ne.name,g!==void 0&&(D+=" "+g);var ae=v&&_===void 0?xb(H):y,S={};for(var oe in P)v&&oe==="as"||ae(oe)&&(S[oe]=P[oe]);return S.className=D,X&&(S.ref=X),w.createElement(w.Fragment,null,w.createElement(OC,{cache:W,serialized:ne,isStringTag:typeof H=="string"}),w.createElement(H,S))});return A.displayName=f!==void 0?f:"Styled("+(typeof h=="string"?h:h.displayName||h.name||"Component")+")",A.defaultProps=s.defaultProps,A.__emotion_real=A,A.__emotion_base=h,A.__emotion_styles=R,A.__emotion_forwardProp=_,Object.defineProperty(A,"toString",{value:function(){return"."+g}}),A.withComponent=function(P,W){var X=r(P,jm({},n,W,{shouldForwardProp:Lb(A,W,!0)}));return X.apply(void 0,R)},A}},xC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],V_=AC.bind(null);xC.forEach(function(r){V_[r]=V_(r)});function LC(r){return r==null||Object.keys(r).length===0}function $v(r){const{styles:s,defaultTheme:n={}}=r,c=typeof s=="function"?h=>s(LC(h)?n:h):s;return B.jsx(IC,{styles:c})}function _v(r,s){return V_(r,s)}function NC(r,s){Array.isArray(r.__emotion_styles)&&(r.__emotion_styles=s(r.__emotion_styles))}const Nb=[];function Mb(r){return Nb[0]=r,Kf(Nb)}var I_={exports:{}},ho={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function MC(){if(Db)return ho;Db=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.view_transition"),M=Symbol.for("react.client.reference");function L(A){if(typeof A=="object"&&A!==null){var P=A.$$typeof;switch(P){case r:switch(A=A.type,A){case n:case h:case c:case y:case v:case N:return A;default:switch(A=A&&A.$$typeof,A){case g:case _:case R:case I:return A;case f:return A;default:return P}}case s:return P}}}return ho.ContextConsumer=f,ho.ContextProvider=g,ho.Element=r,ho.ForwardRef=_,ho.Fragment=n,ho.Lazy=R,ho.Memo=I,ho.Portal=s,ho.Profiler=h,ho.StrictMode=c,ho.Suspense=y,ho.SuspenseList=v,ho.isContextConsumer=function(A){return L(A)===f},ho.isContextProvider=function(A){return L(A)===g},ho.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===r},ho.isForwardRef=function(A){return L(A)===_},ho.isFragment=function(A){return L(A)===n},ho.isLazy=function(A){return L(A)===R},ho.isMemo=function(A){return L(A)===I},ho.isPortal=function(A){return L(A)===s},ho.isProfiler=function(A){return L(A)===h},ho.isStrictMode=function(A){return L(A)===c},ho.isSuspense=function(A){return L(A)===y},ho.isSuspenseList=function(A){return L(A)===v},ho.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===h||A===c||A===y||A===v||typeof A=="object"&&A!==null&&(A.$$typeof===R||A.$$typeof===I||A.$$typeof===g||A.$$typeof===f||A.$$typeof===_||A.$$typeof===M||A.getModuleId!==void 0)},ho.typeOf=L,ho}var Pb;function DC(){return Pb||(Pb=1,I_.exports=MC()),I_.exports}var Tv=DC();function Ks(r){if(typeof r!="object"||r===null)return!1;const s=Object.getPrototypeOf(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function Ev(r){if(w.isValidElement(r)||Tv.isValidElementType(r)||!Ks(r))return r;const s={};return Object.keys(r).forEach(n=>{s[n]=Ev(r[n])}),s}function wr(r,s,n={clone:!0}){const c=n.clone?{...r}:r;return Ks(r)&&Ks(s)&&Object.keys(s).forEach(h=>{w.isValidElement(s[h])||Tv.isValidElementType(s[h])?c[h]=s[h]:Ks(s[h])&&Object.prototype.hasOwnProperty.call(r,h)&&Ks(r[h])?c[h]=wr(r[h],s[h],n):n.clone?c[h]=Ks(s[h])?Ev(s[h]):s[h]:c[h]=s[h]}),c}const PC=r=>{const s=Object.keys(r).map(n=>({key:n,val:r[n]}))||[];return s.sort((n,c)=>n.val-c.val),s.reduce((n,c)=>({...n,[c.key]:c.val}),{})};function BC(r){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:c=5,...h}=r,f=PC(s),g=Object.keys(f);function _(N){return`@media (min-width:${typeof s[N]=="number"?s[N]:N}${n})`}function y(N){return`@media (max-width:${(typeof s[N]=="number"?s[N]:N)-c/100}${n})`}function v(N,M){const L=g.indexOf(M);return`@media (min-width:${typeof s[N]=="number"?s[N]:N}${n}) and (max-width:${(L!==-1&&typeof s[g[L]]=="number"?s[g[L]]:M)-c/100}${n})`}function I(N){return g.indexOf(N)+1<g.length?v(N,g[g.indexOf(N)+1]):_(N)}function R(N){const M=g.indexOf(N);return M===0?_(g[1]):M===g.length-1?y(g[M]):v(N,g[g.indexOf(N)+1]).replace("@media","@media not all and")}return{keys:g,values:f,up:_,down:y,between:v,only:I,not:R,unit:n,...h}}function FC(r,s){if(!r.containerQueries)return s;const n=Object.keys(s).filter(c=>c.startsWith("@container")).sort((c,h)=>{var g,_;const f=/min-width:\s*([0-9.]+)/;return+(((g=c.match(f))==null?void 0:g[1])||0)-+(((_=h.match(f))==null?void 0:_[1])||0)});return n.length?n.reduce((c,h)=>{const f=s[h];return delete c[h],c[h]=f,c},{...s}):s}function UC(r,s){return s==="@"||s.startsWith("@")&&(r.some(n=>s.startsWith(`@${n}`))||!!s.match(/^@\d/))}function HC(r,s){const n=s.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,c,h]=n,f=Number.isNaN(+c)?c||0:+c;return r.containerQueries(h).up(f)}function GC(r){const s=(f,g)=>f.replace("@media",g?`@container ${g}`:"@container");function n(f,g){f.up=(..._)=>s(r.breakpoints.up(..._),g),f.down=(..._)=>s(r.breakpoints.down(..._),g),f.between=(..._)=>s(r.breakpoints.between(..._),g),f.only=(..._)=>s(r.breakpoints.only(..._),g),f.not=(..._)=>{const y=s(r.breakpoints.not(..._),g);return y.includes("not all and")?y.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):y}}const c={},h=f=>(n(c,f),c);return n(h),{...r,containerQueries:h}}const VC={borderRadius:4};function Af(r,s){return s?wr(r,s,{clone:!1}):r}const l$={xs:0,sm:600,md:900,lg:1200,xl:1536},Bb={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${l$[r]}px)`},WC={containerQueries:r=>({up:s=>{let n=typeof s=="number"?s:l$[s]||s;return typeof n=="number"&&(n=`${n}px`),r?`@container ${r} (min-width:${n})`:`@container (min-width:${n})`}})};function la(r,s,n){const c=r.theme||{};if(Array.isArray(s)){const f=c.breakpoints||Bb;return s.reduce((g,_,y)=>(g[f.up(f.keys[y])]=n(s[y]),g),{})}if(typeof s=="object"){const f=c.breakpoints||Bb;return Object.keys(s).reduce((g,_)=>{if(UC(f.keys,_)){const y=HC(c.containerQueries?c:WC,_);y&&(g[y]=n(s[_],_))}else if(Object.keys(f.values||l$).includes(_)){const y=f.up(_);g[y]=n(s[_],_)}else{const y=_;g[y]=s[y]}return g},{})}return n(s)}function zC(r={}){var n;return((n=r.keys)==null?void 0:n.reduce((c,h)=>{const f=r.up(h);return c[f]={},c},{}))||{}}function jC(r,s){return r.reduce((n,c)=>{const h=n[c];return(!h||Object.keys(h).length===0)&&delete n[c],n},s)}function Et(r){if(typeof r!="string")throw new Error(sa(7));return r.charAt(0).toUpperCase()+r.slice(1)}function hc(r,s,n=!0){if(!s||typeof s!="string")return null;if(r&&r.vars&&n){const c=`vars.${s}`.split(".").reduce((h,f)=>h&&h[f]?h[f]:null,r);if(c!=null)return c}return s.split(".").reduce((c,h)=>c&&c[h]!=null?c[h]:null,r)}function Ym(r,s,n,c=n){let h;return typeof r=="function"?h=r(n):Array.isArray(r)?h=r[n]||c:h=hc(r,n)||c,s&&(h=s(h,c,r)),h}function Xo(r){const{prop:s,cssProperty:n=r.prop,themeKey:c,transform:h}=r,f=g=>{if(g[s]==null)return null;const _=g[s],y=g.theme,v=hc(y,c)||{};return la(g,_,R=>{let N=Ym(v,h,R);return R===N&&typeof R=="string"&&(N=Ym(v,h,`${s}${R==="default"?"":Et(R)}`,R)),n===!1?N:{[n]:N}})};return f.propTypes={},f.filterProps=[s],f}function XC(r){const s={};return n=>(s[n]===void 0&&(s[n]=r(n)),s[n])}const YC={m:"margin",p:"padding"},KC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Fb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},JC=XC(r=>{if(r.length>2)if(Fb[r])r=Fb[r];else return[r];const[s,n]=r.split(""),c=YC[s],h=KC[n]||"";return Array.isArray(h)?h.map(f=>c+f):[c+h]}),mT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$T=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mT,...$T];function Qf(r,s,n,c){const h=hc(r,s,!0)??n;return typeof h=="number"||typeof h=="string"?f=>typeof f=="string"?f:typeof h=="string"?h.startsWith("var(")&&f===0?0:h.startsWith("var(")&&f===1?h:`calc(${f} * ${h})`:h*f:Array.isArray(h)?f=>{if(typeof f=="string")return f;const g=Math.abs(f),_=h[g];return f>=0?_:typeof _=="number"?-_:typeof _=="string"&&_.startsWith("var(")?`calc(-1 * ${_})`:`-${_}`}:typeof h=="function"?h:()=>{}}function _T(r){return Qf(r,"spacing",8)}function Zf(r,s){return typeof s=="string"||s==null?s:r(s)}function qC(r,s){return n=>r.reduce((c,h)=>(c[h]=Zf(s,n),c),{})}function QC(r,s,n,c){if(!s.includes(n))return null;const h=JC(n),f=qC(h,c),g=r[n];return la(r,g,f)}function bv(r,s){const n=_T(r.theme);return Object.keys(r).map(c=>QC(r,s,c,n)).reduce(Af,{})}function Do(r){return bv(r,mT)}Do.propTypes={};Do.filterProps=mT;function Po(r){return bv(r,$T)}Po.propTypes={};Po.filterProps=$T;function yv(r=8,s=_T({spacing:r})){if(r.mui)return r;const n=(...c)=>(c.length===0?[1]:c).map(f=>{const g=s(f);return typeof g=="number"?`${g}px`:g}).join(" ");return n.mui=!0,n}function a$(...r){const s=r.reduce((c,h)=>(h.filterProps.forEach(f=>{c[f]=h}),c),{}),n=c=>Object.keys(c).reduce((h,f)=>s[f]?Af(h,s[f](c)):h,{});return n.propTypes={},n.filterProps=r.reduce((c,h)=>c.concat(h.filterProps),[]),n}function ui(r){return typeof r!="number"?r:`${r}px solid`}function gi(r,s){return Xo({prop:r,themeKey:"borders",transform:s})}const ZC=gi("border",ui),ek=gi("borderTop",ui),tk=gi("borderRight",ui),ok=gi("borderBottom",ui),rk=gi("borderLeft",ui),nk=gi("borderColor"),ik=gi("borderTopColor"),sk=gi("borderRightColor"),lk=gi("borderBottomColor"),ak=gi("borderLeftColor"),ck=gi("outline",ui),uk=gi("outlineColor"),c$=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const s=Qf(r.theme,"shape.borderRadius",4),n=c=>({borderRadius:Zf(s,c)});return la(r,r.borderRadius,n)}return null};c$.propTypes={};c$.filterProps=["borderRadius"];a$(ZC,ek,tk,ok,rk,nk,ik,sk,lk,ak,c$,ck,uk);const u$=r=>{if(r.gap!==void 0&&r.gap!==null){const s=Qf(r.theme,"spacing",8),n=c=>({gap:Zf(s,c)});return la(r,r.gap,n)}return null};u$.propTypes={};u$.filterProps=["gap"];const d$=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const s=Qf(r.theme,"spacing",8),n=c=>({columnGap:Zf(s,c)});return la(r,r.columnGap,n)}return null};d$.propTypes={};d$.filterProps=["columnGap"];const h$=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const s=Qf(r.theme,"spacing",8),n=c=>({rowGap:Zf(s,c)});return la(r,r.rowGap,n)}return null};h$.propTypes={};h$.filterProps=["rowGap"];const dk=Xo({prop:"gridColumn"}),hk=Xo({prop:"gridRow"}),pk=Xo({prop:"gridAutoFlow"}),fk=Xo({prop:"gridAutoColumns"}),gk=Xo({prop:"gridAutoRows"}),mk=Xo({prop:"gridTemplateColumns"}),$k=Xo({prop:"gridTemplateRows"}),_k=Xo({prop:"gridTemplateAreas"}),Tk=Xo({prop:"gridArea"});a$(u$,d$,h$,dk,hk,pk,fk,gk,mk,$k,_k,Tk);function Dh(r,s){return s==="grey"?s:r}const Ek=Xo({prop:"color",themeKey:"palette",transform:Dh}),bk=Xo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Dh}),yk=Xo({prop:"backgroundColor",themeKey:"palette",transform:Dh});a$(Ek,bk,yk);function Mn(r){return r<=1&&r!==0?`${r*100}%`:r}const vk=Xo({prop:"width",transform:Mn}),TT=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const s=n=>{var h,f,g,_,y;const c=((g=(f=(h=r.theme)==null?void 0:h.breakpoints)==null?void 0:f.values)==null?void 0:g[n])||l$[n];return c?((y=(_=r.theme)==null?void 0:_.breakpoints)==null?void 0:y.unit)!=="px"?{maxWidth:`${c}${r.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:Mn(n)}};return la(r,r.maxWidth,s)}return null};TT.filterProps=["maxWidth"];const Sk=Xo({prop:"minWidth",transform:Mn}),Ik=Xo({prop:"height",transform:Mn}),Ck=Xo({prop:"maxHeight",transform:Mn}),kk=Xo({prop:"minHeight",transform:Mn});Xo({prop:"size",cssProperty:"width",transform:Mn});Xo({prop:"size",cssProperty:"height",transform:Mn});const Rk=Xo({prop:"boxSizing"});a$(vk,TT,Sk,Ik,Ck,kk,Rk);const eg={border:{themeKey:"borders",transform:ui},borderTop:{themeKey:"borders",transform:ui},borderRight:{themeKey:"borders",transform:ui},borderBottom:{themeKey:"borders",transform:ui},borderLeft:{themeKey:"borders",transform:ui},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ui},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c$},color:{themeKey:"palette",transform:Dh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Dh},backgroundColor:{themeKey:"palette",transform:Dh},p:{style:Po},pt:{style:Po},pr:{style:Po},pb:{style:Po},pl:{style:Po},px:{style:Po},py:{style:Po},padding:{style:Po},paddingTop:{style:Po},paddingRight:{style:Po},paddingBottom:{style:Po},paddingLeft:{style:Po},paddingX:{style:Po},paddingY:{style:Po},paddingInline:{style:Po},paddingInlineStart:{style:Po},paddingInlineEnd:{style:Po},paddingBlock:{style:Po},paddingBlockStart:{style:Po},paddingBlockEnd:{style:Po},m:{style:Do},mt:{style:Do},mr:{style:Do},mb:{style:Do},ml:{style:Do},mx:{style:Do},my:{style:Do},margin:{style:Do},marginTop:{style:Do},marginRight:{style:Do},marginBottom:{style:Do},marginLeft:{style:Do},marginX:{style:Do},marginY:{style:Do},marginInline:{style:Do},marginInlineStart:{style:Do},marginInlineEnd:{style:Do},marginBlock:{style:Do},marginBlockStart:{style:Do},marginBlockEnd:{style:Do},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:u$},rowGap:{style:h$},columnGap:{style:d$},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Mn},maxWidth:{style:TT},minWidth:{transform:Mn},height:{transform:Mn},maxHeight:{transform:Mn},minHeight:{transform:Mn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function wk(...r){const s=r.reduce((c,h)=>c.concat(Object.keys(h)),[]),n=new Set(s);return r.every(c=>n.size===Object.keys(c).length)}function Ok(r,s){return typeof r=="function"?r(s):r}function Ak(){function r(n,c,h,f){const g={[n]:c,theme:h},_=f[n];if(!_)return{[n]:c};const{cssProperty:y=n,themeKey:v,transform:I,style:R}=_;if(c==null)return null;if(v==="typography"&&c==="inherit")return{[n]:c};const N=hc(h,v)||{};return R?R(g):la(g,c,L=>{let A=Ym(N,I,L);return L===A&&typeof L=="string"&&(A=Ym(N,I,`${n}${L==="default"?"":Et(L)}`,L)),y===!1?A:{[y]:A}})}function s(n){const{sx:c,theme:h={}}=n||{};if(!c)return null;const f=h.unstable_sxConfig??eg;function g(_){let y=_;if(typeof _=="function")y=_(h);else if(typeof _!="object")return _;if(!y)return null;const v=zC(h.breakpoints),I=Object.keys(v);let R=v;return Object.keys(y).forEach(N=>{const M=Ok(y[N],h);if(M!=null)if(typeof M=="object")if(f[N])R=Af(R,r(N,M,h,f));else{const L=la({theme:h},M,A=>({[N]:A}));wk(L,M)?R[N]=s({sx:M,theme:h}):R=Af(R,L)}else R=Af(R,r(N,M,h,f))}),FC(h,jC(I,R))}return Array.isArray(c)?c.map(g):g(c)}return s}const fc=Ak();fc.filterProps=["sx"];function xk(r,s){var c;const n=this;if(n.vars){if(!((c=n.colorSchemes)!=null&&c[r])||typeof n.getColorSchemeSelector!="function")return{};let h=n.getColorSchemeSelector(r);return h==="&"?s:((h.includes("data-")||h.includes("."))&&(h=`*:where(${h.replace(/\s*&$/,"")}) &`),{[h]:s})}return n.palette.mode===r?s:{}}function tg(r={},...s){const{breakpoints:n={},palette:c={},spacing:h,shape:f={},...g}=r,_=BC(n),y=yv(h);let v=wr({breakpoints:_,direction:"ltr",components:{},palette:{mode:"light",...c},spacing:y,shape:{...VC,...f}},g);return v=GC(v),v.applyStyles=xk,v=s.reduce((I,R)=>wr(I,R),v),v.unstable_sxConfig={...eg,...g==null?void 0:g.unstable_sxConfig},v.unstable_sx=function(R){return fc({sx:R,theme:this})},v}function Lk(r){return Object.keys(r).length===0}function vv(r=null){const s=w.useContext(Jf);return!s||Lk(s)?r:s}const Nk=tg();function og(r=Nk){return vv(r)}function Mk({styles:r,themeId:s,defaultTheme:n={}}){const c=og(n),h=typeof r=="function"?r(s&&c[s]||c):r;return B.jsx($v,{styles:h})}const Dk=r=>{var c;const s={systemProps:{},otherProps:{}},n=((c=r==null?void 0:r.theme)==null?void 0:c.unstable_sxConfig)??eg;return Object.keys(r).forEach(h=>{n[h]?s.systemProps[h]=r[h]:s.otherProps[h]=r[h]}),s};function ET(r){const{sx:s,...n}=r,{systemProps:c,otherProps:h}=Dk(n);let f;return Array.isArray(s)?f=[c,...s]:typeof s=="function"?f=(...g)=>{const _=s(...g);return Ks(_)?{...c,..._}:c}:f={...c,...s},{...h,sx:f}}const Ub=r=>r,Pk=()=>{let r=Ub;return{configure(s){r=s},generate(s){return r(s)},reset(){r=Ub}}},Sv=Pk();function Iv(r){var s,n,c="";if(typeof r=="string"||typeof r=="number")c+=r;else if(typeof r=="object")if(Array.isArray(r)){var h=r.length;for(s=0;s<h;s++)r[s]&&(n=Iv(r[s]))&&(c&&(c+=" "),c+=n)}else for(n in r)r[n]&&(c&&(c+=" "),c+=n);return c}function pt(){for(var r,s,n=0,c="",h=arguments.length;n<h;n++)(r=arguments[n])&&(s=Iv(r))&&(c&&(c+=" "),c+=s);return c}function Bk(r={}){const{themeId:s,defaultTheme:n,defaultClassName:c="MuiBox-root",generateClassName:h}=r,f=_v("div",{shouldForwardProp:_=>_!=="theme"&&_!=="sx"&&_!=="as"})(fc);return w.forwardRef(function(y,v){const I=og(n),{className:R,component:N="div",...M}=ET(y);return B.jsx(f,{as:N,ref:v,className:pt(R,h?h(c):c),theme:s&&I[s]||I,...M})})}const Fk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wt(r,s,n="Mui"){const c=Fk[s];return c?`${n}-${c}`:`${Sv.generate(r)}-${s}`}function Ot(r,s,n="Mui"){const c={};return s.forEach(h=>{c[h]=wt(r,h,n)}),c}function Cv(r){const{variants:s,...n}=r,c={variants:s,style:Mb(n),isProcessed:!0};return c.style===n||s&&s.forEach(h=>{typeof h.style!="function"&&(h.style=Mb(h.style))}),c}const Uk=tg();function C_(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}function Hk(r){return r?(s,n)=>n[r]:null}function Gk(r,s,n){r.theme=Wk(r.theme)?n:r.theme[s]||r.theme}function Lm(r,s){const n=typeof s=="function"?s(r):s;if(Array.isArray(n))return n.flatMap(c=>Lm(r,c));if(Array.isArray(n==null?void 0:n.variants)){let c;if(n.isProcessed)c=n.style;else{const{variants:h,...f}=n;c=f}return kv(r,n.variants,[c])}return n!=null&&n.isProcessed?n.style:n}function kv(r,s,n=[]){var h;let c;e:for(let f=0;f<s.length;f+=1){const g=s[f];if(typeof g.props=="function"){if(c??(c={...r,...r.ownerState,ownerState:r.ownerState}),!g.props(c))continue}else for(const _ in g.props)if(r[_]!==g.props[_]&&((h=r.ownerState)==null?void 0:h[_])!==g.props[_])continue e;typeof g.style=="function"?(c??(c={...r,...r.ownerState,ownerState:r.ownerState}),n.push(g.style(c))):n.push(g.style)}return n}function Rv(r={}){const{themeId:s,defaultTheme:n=Uk,rootShouldForwardProp:c=C_,slotShouldForwardProp:h=C_}=r;function f(_){Gk(_,s,n)}return(_,y={})=>{NC(_,F=>F.filter(J=>J!==fc));const{name:v,slot:I,skipVariantsResolver:R,skipSx:N,overridesResolver:M=Hk(jk(I)),...L}=y,A=R!==void 0?R:I&&I!=="Root"&&I!=="root"||!1,P=N||!1;let W=C_;I==="Root"||I==="root"?W=c:I?W=h:zk(_)&&(W=void 0);const X=_v(_,{shouldForwardProp:W,label:Vk(),...L}),H=F=>{if(F.__emotion_real===F)return F;if(typeof F=="function")return function(Q){return Lm(Q,F)};if(Ks(F)){const J=Cv(F);return J.variants?function(ne){return Lm(ne,J)}:J.style}return F},D=(...F)=>{const J=[],Q=F.map(H),ne=[];if(J.push(f),v&&M&&ne.push(function(ge){var ue,ve;const ye=(ve=(ue=ge.theme.components)==null?void 0:ue[v])==null?void 0:ve.styleOverrides;if(!ye)return null;const Y={};for(const $e in ye)Y[$e]=Lm(ge,ye[$e]);return M(ge,Y)}),v&&!A&&ne.push(function(ge){var Y,ue;const me=ge.theme,ye=(ue=(Y=me==null?void 0:me.components)==null?void 0:Y[v])==null?void 0:ue.variants;return ye?kv(ge,ye):null}),P||ne.push(fc),Array.isArray(Q[0])){const oe=Q.shift(),ge=new Array(J.length).fill(""),me=new Array(ne.length).fill("");let ye;ye=[...ge,...oe,...me],ye.raw=[...ge,...oe.raw,...me],J.unshift(ye)}const ae=[...J,...Q,...ne],S=X(...ae);return _.muiName&&(S.muiName=_.muiName),S};return X.withConfig&&(D.withConfig=X.withConfig),D}}function Vk(r,s){return void 0}function Wk(r){for(const s in r)return!1;return!0}function zk(r){return typeof r=="string"&&r.charCodeAt(0)>96}function jk(r){return r&&r.charAt(0).toLowerCase()+r.slice(1)}const wv=Rv();function Km(r,s){const n={...s};for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const h=c;if(h==="components"||h==="slots")n[h]={...r[h],...n[h]};else if(h==="componentsProps"||h==="slotProps"){const f=r[h],g=s[h];if(!g)n[h]=f||{};else if(!f)n[h]=g;else{n[h]={...g};for(const _ in f)if(Object.prototype.hasOwnProperty.call(f,_)){const y=_;n[h][y]=Km(f[y],g[y])}}}else n[h]===void 0&&(n[h]=r[h])}return n}function Xk(r){const{theme:s,name:n,props:c}=r;return!s||!s.components||!s.components[n]||!s.components[n].defaultProps?c:Km(s.components[n].defaultProps,c)}function Ov({props:r,name:s,defaultTheme:n,themeId:c}){let h=og(n);return c&&(h=h[c]||h),Xk({theme:h,name:s,props:r})}const hi=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Yk(r,s=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(r,n))}function bT(r,s=0,n=1){return Yk(r,s,n)}function Kk(r){r=r.slice(1);const s=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let n=r.match(s);return n&&n[0].length===1&&(n=n.map(c=>c+c)),n?`rgb${n.length===4?"a":""}(${n.map((c,h)=>h<3?parseInt(c,16):Math.round(parseInt(c,16)/255*1e3)/1e3).join(", ")})`:""}function gc(r){if(r.type)return r;if(r.charAt(0)==="#")return gc(Kk(r));const s=r.indexOf("("),n=r.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(sa(9,r));let c=r.substring(s+1,r.length-1),h;if(n==="color"){if(c=c.split(" "),h=c.shift(),c.length===4&&c[3].charAt(0)==="/"&&(c[3]=c[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(h))throw new Error(sa(10,h))}else c=c.split(",");return c=c.map(f=>parseFloat(f)),{type:n,values:c,colorSpace:h}}const Jk=r=>{const s=gc(r);return s.values.slice(0,3).map((n,c)=>s.type.includes("hsl")&&c!==0?`${n}%`:n).join(" ")},kf=(r,s)=>{try{return Jk(r)}catch{return r}};function p$(r){const{type:s,colorSpace:n}=r;let{values:c}=r;return s.includes("rgb")?c=c.map((h,f)=>f<3?parseInt(h,10):h):s.includes("hsl")&&(c[1]=`${c[1]}%`,c[2]=`${c[2]}%`),s.includes("color")?c=`${n} ${c.join(" ")}`:c=`${c.join(", ")}`,`${s}(${c})`}function Av(r){r=gc(r);const{values:s}=r,n=s[0],c=s[1]/100,h=s[2]/100,f=c*Math.min(h,1-h),g=(v,I=(v+n/30)%12)=>h-f*Math.max(Math.min(I-3,9-I,1),-1);let _="rgb";const y=[Math.round(g(0)*255),Math.round(g(8)*255),Math.round(g(4)*255)];return r.type==="hsla"&&(_+="a",y.push(s[3])),p$({type:_,values:y})}function W_(r){r=gc(r);let s=r.type==="hsl"||r.type==="hsla"?gc(Av(r)).values:r.values;return s=s.map(n=>(r.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function qk(r,s){const n=W_(r),c=W_(s);return(Math.max(n,c)+.05)/(Math.min(n,c)+.05)}function tr(r,s){return r=gc(r),s=bT(s),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${s}`:r.values[3]=s,p$(r)}function _m(r,s,n){try{return tr(r,s)}catch{return r}}function yT(r,s){if(r=gc(r),s=bT(s),r.type.includes("hsl"))r.values[2]*=1-s;else if(r.type.includes("rgb")||r.type.includes("color"))for(let n=0;n<3;n+=1)r.values[n]*=1-s;return p$(r)}function mo(r,s,n){try{return yT(r,s)}catch{return r}}function vT(r,s){if(r=gc(r),s=bT(s),r.type.includes("hsl"))r.values[2]+=(100-r.values[2])*s;else if(r.type.includes("rgb"))for(let n=0;n<3;n+=1)r.values[n]+=(255-r.values[n])*s;else if(r.type.includes("color"))for(let n=0;n<3;n+=1)r.values[n]+=(1-r.values[n])*s;return p$(r)}function $o(r,s,n){try{return vT(r,s)}catch{return r}}function Qk(r,s=.15){return W_(r)>.5?yT(r,s):vT(r,s)}function Tm(r,s,n){try{return Qk(r,s)}catch{return r}}const xv=w.createContext(null);function ST(){return w.useContext(xv)}const Zk=typeof Symbol=="function"&&Symbol.for,eR=Zk?Symbol.for("mui.nested"):"__THEME_NESTED__";function tR(r,s){return typeof s=="function"?s(r):{...r,...s}}function oR(r){const{children:s,theme:n}=r,c=ST(),h=w.useMemo(()=>{const f=c===null?{...n}:tR(c,n);return f!=null&&(f[eR]=c!==null),f},[n,c]);return B.jsx(xv.Provider,{value:h,children:s})}const Lv=w.createContext();function rR({value:r,...s}){return B.jsx(Lv.Provider,{value:r??!0,...s})}const IT=()=>w.useContext(Lv)??!1,Nv=w.createContext(void 0);function nR({value:r,children:s}){return B.jsx(Nv.Provider,{value:r,children:s})}function iR(r){const{theme:s,name:n,props:c}=r;if(!s||!s.components||!s.components[n])return c;const h=s.components[n];return h.defaultProps?Km(h.defaultProps,c):!h.styleOverrides&&!h.variants?Km(h,c):c}function sR({props:r,name:s}){const n=w.useContext(Nv);return iR({props:r,name:s,theme:{components:n}})}const Hb={};function Gb(r,s,n,c=!1){return w.useMemo(()=>{const h=r&&s[r]||s;if(typeof n=="function"){const f=n(h),g=r?{...s,[r]:f}:f;return c?()=>g:g}return r?{...s,[r]:n}:{...s,...n}},[r,s,n,c])}function Mv(r){const{children:s,theme:n,themeId:c}=r,h=vv(Hb),f=ST()||Hb,g=Gb(c,h,n),_=Gb(c,f,n,!0),y=(c?g[c]:g).direction==="rtl";return B.jsx(oR,{theme:_,children:B.jsx(Jf.Provider,{value:g,children:B.jsx(rR,{value:y,children:B.jsx(nR,{value:c?g[c].components:g.components,children:s})})})})}const Vb={theme:void 0};function lR(r){let s,n;return function(h){let f=s;return(f===void 0||h.theme!==n)&&(Vb.theme=h.theme,f=Cv(r(Vb)),s=f,n=h.theme),f}}const CT="mode",kT="color-scheme",aR="data-color-scheme";function cR(r){const{defaultMode:s="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:c="dark",modeStorageKey:h=CT,colorSchemeStorageKey:f=kT,attribute:g=aR,colorSchemeNode:_="document.documentElement",nonce:y}=r||{};let v="",I=g;if(g==="class"&&(I=".%s"),g==="data"&&(I="[data-%s]"),I.startsWith(".")){const N=I.substring(1);v+=`${_}.classList.remove('${N}'.replace('%s', light), '${N}'.replace('%s', dark));
      ${_}.classList.add('${N}'.replace('%s', colorScheme));`}const R=I.match(/\[([^\]]+)\]/);if(R){const[N,M]=R[1].split("=");M||(v+=`${_}.removeAttribute('${N}'.replace('%s', light));
      ${_}.removeAttribute('${N}'.replace('%s', dark));`),v+=`
      ${_}.setAttribute('${N}'.replace('%s', colorScheme), ${M?`${M}.replace('%s', colorScheme)`:'""'});`}else v+=`${_}.setAttribute('${I}', colorScheme);`;return B.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?y:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${h}') || '${s}';
  const dark = localStorage.getItem('${f}-dark') || '${c}';
  const light = localStorage.getItem('${f}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function uR(){}const dR=({key:r,storageWindow:s})=>(!s&&typeof window<"u"&&(s=window),{get(n){if(typeof window>"u")return;if(!s)return n;let c;try{c=s.localStorage.getItem(r)}catch{}return c||n},set:n=>{if(s)try{s.localStorage.setItem(r,n)}catch{}},subscribe:n=>{if(!s)return uR;const c=h=>{const f=h.newValue;h.key===r&&n(f)};return s.addEventListener("storage",c),()=>{s.removeEventListener("storage",c)}}});function k_(){}function Wb(r){if(typeof window<"u"&&typeof window.matchMedia=="function"&&r==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Dv(r,s){if(r.mode==="light"||r.mode==="system"&&r.systemMode==="light")return s("light");if(r.mode==="dark"||r.mode==="system"&&r.systemMode==="dark")return s("dark")}function hR(r){return Dv(r,s=>{if(s==="light")return r.lightColorScheme;if(s==="dark")return r.darkColorScheme})}function pR(r){const{defaultMode:s="light",defaultLightColorScheme:n,defaultDarkColorScheme:c,supportedColorSchemes:h=[],modeStorageKey:f=CT,colorSchemeStorageKey:g=kT,storageWindow:_=typeof window>"u"?void 0:window,storageManager:y=dR,noSsr:v=!1}=r,I=h.join(","),R=h.length>1,N=w.useMemo(()=>y==null?void 0:y({key:f,storageWindow:_}),[y,f,_]),M=w.useMemo(()=>y==null?void 0:y({key:`${g}-light`,storageWindow:_}),[y,g,_]),L=w.useMemo(()=>y==null?void 0:y({key:`${g}-dark`,storageWindow:_}),[y,g,_]),[A,P]=w.useState(()=>{const ne=(N==null?void 0:N.get(s))||s,ae=(M==null?void 0:M.get(n))||n,S=(L==null?void 0:L.get(c))||c;return{mode:ne,systemMode:Wb(ne),lightColorScheme:ae,darkColorScheme:S}}),[W,X]=w.useState(v||!R);w.useEffect(()=>{X(!0)},[]);const H=hR(A),D=w.useCallback(ne=>{P(ae=>{if(ne===ae.mode)return ae;const S=ne??s;return N==null||N.set(S),{...ae,mode:S,systemMode:Wb(S)}})},[N,s]),F=w.useCallback(ne=>{ne?typeof ne=="string"?ne&&!I.includes(ne)?console.error(`\`${ne}\` does not exist in \`theme.colorSchemes\`.`):P(ae=>{const S={...ae};return Dv(ae,oe=>{oe==="light"&&(M==null||M.set(ne),S.lightColorScheme=ne),oe==="dark"&&(L==null||L.set(ne),S.darkColorScheme=ne)}),S}):P(ae=>{const S={...ae},oe=ne.light===null?n:ne.light,ge=ne.dark===null?c:ne.dark;return oe&&(I.includes(oe)?(S.lightColorScheme=oe,M==null||M.set(oe)):console.error(`\`${oe}\` does not exist in \`theme.colorSchemes\`.`)),ge&&(I.includes(ge)?(S.darkColorScheme=ge,L==null||L.set(ge)):console.error(`\`${ge}\` does not exist in \`theme.colorSchemes\`.`)),S}):P(ae=>(M==null||M.set(n),L==null||L.set(c),{...ae,lightColorScheme:n,darkColorScheme:c}))},[I,M,L,n,c]),J=w.useCallback(ne=>{A.mode==="system"&&P(ae=>{const S=ne!=null&&ne.matches?"dark":"light";return ae.systemMode===S?ae:{...ae,systemMode:S}})},[A.mode]),Q=w.useRef(J);return Q.current=J,w.useEffect(()=>{if(typeof window.matchMedia!="function"||!R)return;const ne=(...S)=>Q.current(...S),ae=window.matchMedia("(prefers-color-scheme: dark)");return ae.addListener(ne),ne(ae),()=>{ae.removeListener(ne)}},[R]),w.useEffect(()=>{if(R){const ne=(N==null?void 0:N.subscribe(oe=>{(!oe||["light","dark","system"].includes(oe))&&D(oe||s)}))||k_,ae=(M==null?void 0:M.subscribe(oe=>{(!oe||I.match(oe))&&F({light:oe})}))||k_,S=(L==null?void 0:L.subscribe(oe=>{(!oe||I.match(oe))&&F({dark:oe})}))||k_;return()=>{ne(),ae(),S()}}},[F,D,I,s,_,R,N,M,L]),{...A,mode:W?A.mode:void 0,systemMode:W?A.systemMode:void 0,colorScheme:W?H:void 0,setMode:D,setColorScheme:F}}const fR="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function gR(r){const{themeId:s,theme:n={},modeStorageKey:c=CT,colorSchemeStorageKey:h=kT,disableTransitionOnChange:f=!1,defaultColorScheme:g,resolveTheme:_}=r,y={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=w.createContext(void 0),I=()=>w.useContext(v)||y,R={},N={};function M(W){var ut,io,st,zt;const{children:X,theme:H,modeStorageKey:D=c,colorSchemeStorageKey:F=h,disableTransitionOnChange:J=f,storageManager:Q,storageWindow:ne=typeof window>"u"?void 0:window,documentNode:ae=typeof document>"u"?void 0:document,colorSchemeNode:S=typeof document>"u"?void 0:document.documentElement,disableNestedContext:oe=!1,disableStyleSheetGeneration:ge=!1,defaultMode:me="system",forceThemeRerender:ye=!1,noSsr:Y}=W,ue=w.useRef(!1),ve=ST(),$e=w.useContext(v),he=!!$e&&!oe,U=w.useMemo(()=>H||(typeof n=="function"?n():n),[H]),ie=U[s],Ee=ie||U,{colorSchemes:Ae=R,components:fe=N,cssVarPrefix:Ue}=Ee,Le=Object.keys(Ae).filter(j=>!!Ae[j]).join(","),Fe=w.useMemo(()=>Le.split(","),[Le]),Be=typeof g=="string"?g:g.light,tt=typeof g=="string"?g:g.dark,Ke=Ae[Be]&&Ae[tt]?me:((io=(ut=Ae[Ee.defaultColorScheme])==null?void 0:ut.palette)==null?void 0:io.mode)||((st=Ee.palette)==null?void 0:st.mode),{mode:it,setMode:Ie,systemMode:ft,lightColorScheme:He,darkColorScheme:Tt,colorScheme:Ct,setColorScheme:bt}=pR({supportedColorSchemes:Fe,defaultLightColorScheme:Be,defaultDarkColorScheme:tt,modeStorageKey:D,colorSchemeStorageKey:F,defaultMode:Ke,storageManager:Q,storageWindow:ne,noSsr:Y});let ht=it,gt=Ct;he&&(ht=$e.mode,gt=$e.colorScheme);let ct=gt||Ee.defaultColorScheme;Ee.vars&&!ye&&(ct=Ee.defaultColorScheme);const _t=w.useMemo(()=>{var x;const j=((x=Ee.generateThemeVars)==null?void 0:x.call(Ee))||Ee.vars,E={...Ee,components:fe,colorSchemes:Ae,cssVarPrefix:Ue,vars:j};if(typeof E.generateSpacing=="function"&&(E.spacing=E.generateSpacing()),ct){const K=Ae[ct];K&&typeof K=="object"&&Object.keys(K).forEach(te=>{K[te]&&typeof K[te]=="object"?E[te]={...E[te],...K[te]}:E[te]=K[te]})}return _?_(E):E},[Ee,ct,fe,Ae,Ue]),Me=Ee.colorSchemeSelector;hi(()=>{if(gt&&S&&Me&&Me!=="media"){const j=Me;let E=Me;if(j==="class"&&(E=".%s"),j==="data"&&(E="[data-%s]"),j!=null&&j.startsWith("data-")&&!j.includes("%s")&&(E=`[${j}="%s"]`),E.startsWith("."))S.classList.remove(...Fe.map(x=>E.substring(1).replace("%s",x))),S.classList.add(E.substring(1).replace("%s",gt));else{const x=E.replace("%s",gt).match(/\[([^\]]+)\]/);if(x){const[K,te]=x[1].split("=");te||Fe.forEach(pe=>{S.removeAttribute(K.replace(gt,pe))}),S.setAttribute(K,te?te.replace(/"|'/g,""):"")}else S.setAttribute(E,gt)}}},[gt,Me,S,Fe]),w.useEffect(()=>{let j;if(J&&ue.current&&ae){const E=ae.createElement("style");E.appendChild(ae.createTextNode(fR)),ae.head.appendChild(E),window.getComputedStyle(ae.body),j=setTimeout(()=>{ae.head.removeChild(E)},1)}return()=>{clearTimeout(j)}},[gt,J,ae]),w.useEffect(()=>(ue.current=!0,()=>{ue.current=!1}),[]);const le=w.useMemo(()=>({allColorSchemes:Fe,colorScheme:gt,darkColorScheme:Tt,lightColorScheme:He,mode:ht,setColorScheme:bt,setMode:Ie,systemMode:ft}),[Fe,gt,Tt,He,ht,bt,Ie,ft,_t.colorSchemeSelector]);let De=!0;(ge||Ee.cssVariables===!1||he&&(ve==null?void 0:ve.cssVarPrefix)===Ue)&&(De=!1);const _o=B.jsxs(w.Fragment,{children:[B.jsx(Mv,{themeId:ie?s:void 0,theme:_t,children:X}),De&&B.jsx($v,{styles:((zt=_t.generateStyleSheets)==null?void 0:zt.call(_t))||[]})]});return he?_o:B.jsx(v.Provider,{value:le,children:_o})}const L=typeof g=="string"?g:g.light,A=typeof g=="string"?g:g.dark;return{CssVarsProvider:M,useColorScheme:I,getInitColorSchemeScript:W=>cR({colorSchemeStorageKey:h,defaultLightColorScheme:L,defaultDarkColorScheme:A,modeStorageKey:c,...W})}}function mR(r=""){function s(...c){if(!c.length)return"";const h=c[0];return typeof h=="string"&&!h.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${r?`${r}-`:""}${h}${s(...c.slice(1))})`:`, ${h}`}return(c,...h)=>`var(--${r?`${r}-`:""}${c}${s(...h)})`}const zb=(r,s,n,c=[])=>{let h=r;s.forEach((f,g)=>{g===s.length-1?Array.isArray(h)?h[Number(f)]=n:h&&typeof h=="object"&&(h[f]=n):h&&typeof h=="object"&&(h[f]||(h[f]=c.includes(f)?[]:{}),h=h[f])})},$R=(r,s,n)=>{function c(h,f=[],g=[]){Object.entries(h).forEach(([_,y])=>{(!n||n&&!n([...f,_]))&&y!=null&&(typeof y=="object"&&Object.keys(y).length>0?c(y,[...f,_],Array.isArray(y)?[...g,_]:g):s([...f,_],y,g))})}c(r)},_R=(r,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(c=>r.includes(c))||r[r.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function R_(r,s){const{prefix:n,shouldSkipGeneratingVar:c}=s||{},h={},f={},g={};return $R(r,(_,y,v)=>{if((typeof y=="string"||typeof y=="number")&&(!c||!c(_,y))){const I=`--${n?`${n}-`:""}${_.join("-")}`,R=_R(_,y);Object.assign(h,{[I]:R}),zb(f,_,`var(${I})`,v),zb(g,_,`var(${I}, ${R})`,v)}},_=>_[0]==="vars"),{css:h,vars:f,varsWithDefaults:g}}function TR(r,s={}){const{getSelector:n=P,disableCssColorScheme:c,colorSchemeSelector:h}=s,{colorSchemes:f={},components:g,defaultColorScheme:_="light",...y}=r,{vars:v,css:I,varsWithDefaults:R}=R_(y,s);let N=R;const M={},{[_]:L,...A}=f;if(Object.entries(A||{}).forEach(([H,D])=>{const{vars:F,css:J,varsWithDefaults:Q}=R_(D,s);N=wr(N,Q),M[H]={css:J,vars:F}}),L){const{css:H,vars:D,varsWithDefaults:F}=R_(L,s);N=wr(N,F),M[_]={css:H,vars:D}}function P(H,D){var J,Q;let F=h;if(h==="class"&&(F=".%s"),h==="data"&&(F="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(F=`[${h}="%s"]`),H){if(F==="media")return r.defaultColorScheme===H?":root":{[`@media (prefers-color-scheme: ${((Q=(J=f[H])==null?void 0:J.palette)==null?void 0:Q.mode)||H})`]:{":root":D}};if(F)return r.defaultColorScheme===H?`:root, ${F.replace("%s",String(H))}`:F.replace("%s",String(H))}return":root"}return{vars:N,generateThemeVars:()=>{let H={...v};return Object.entries(M).forEach(([,{vars:D}])=>{H=wr(H,D)}),H},generateStyleSheets:()=>{var ne,ae;const H=[],D=r.defaultColorScheme||"light";function F(S,oe){Object.keys(oe).length&&H.push(typeof S=="string"?{[S]:{...oe}}:S)}F(n(void 0,{...I}),I);const{[D]:J,...Q}=M;if(J){const{css:S}=J,oe=(ae=(ne=f[D])==null?void 0:ne.palette)==null?void 0:ae.mode,ge=!c&&oe?{colorScheme:oe,...S}:{...S};F(n(D,{...ge}),ge)}return Object.entries(Q).forEach(([S,{css:oe}])=>{var ye,Y;const ge=(Y=(ye=f[S])==null?void 0:ye.palette)==null?void 0:Y.mode,me=!c&&ge?{colorScheme:ge,...oe}:{...oe};F(n(S,{...me}),me)}),H}}}function ER(r){return function(n){return r==="media"?`@media (prefers-color-scheme: ${n})`:r?r.startsWith("data-")&&!r.includes("%s")?`[${r}="${n}"] &`:r==="class"?`.${n} &`:r==="data"?`[data-${n}] &`:`${r.replace("%s",n)} &`:"&"}}function At(r,s,n=void 0){const c={};for(const h in r){const f=r[h];let g="",_=!0;for(let y=0;y<f.length;y+=1){const v=f[y];v&&(g+=(_===!0?"":" ")+s(v),_=!1,n&&n[v]&&(g+=" "+n[v]))}c[h]=g}return c}const bR=tg(),yR=wv("div",{name:"MuiContainer",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`maxWidth${Et(String(n.maxWidth))}`],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),vR=r=>Ov({props:r,name:"MuiContainer",defaultTheme:bR}),SR=(r,s)=>{const n=y=>wt(s,y),{classes:c,fixed:h,disableGutters:f,maxWidth:g}=r,_={root:["root",g&&`maxWidth${Et(String(g))}`,h&&"fixed",f&&"disableGutters"]};return At(_,n,c)};function IR(r={}){const{createStyledComponent:s=yR,useThemeProps:n=vR,componentName:c="MuiContainer"}=r,h=s(({theme:g,ownerState:_})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!_.disableGutters&&{paddingLeft:g.spacing(2),paddingRight:g.spacing(2),[g.breakpoints.up("sm")]:{paddingLeft:g.spacing(3),paddingRight:g.spacing(3)}}}),({theme:g,ownerState:_})=>_.fixed&&Object.keys(g.breakpoints.values).reduce((y,v)=>{const I=v,R=g.breakpoints.values[I];return R!==0&&(y[g.breakpoints.up(I)]={maxWidth:`${R}${g.breakpoints.unit}`}),y},{}),({theme:g,ownerState:_})=>({..._.maxWidth==="xs"&&{[g.breakpoints.up("xs")]:{maxWidth:Math.max(g.breakpoints.values.xs,444)}},..._.maxWidth&&_.maxWidth!=="xs"&&{[g.breakpoints.up(_.maxWidth)]:{maxWidth:`${g.breakpoints.values[_.maxWidth]}${g.breakpoints.unit}`}}}));return w.forwardRef(function(_,y){const v=n(_),{className:I,component:R="div",disableGutters:N=!1,fixed:M=!1,maxWidth:L="lg",classes:A,...P}=v,W={...v,component:R,disableGutters:N,fixed:M,maxWidth:L},X=SR(W,c);return B.jsx(h,{as:R,ownerState:W,className:pt(X.root,I),ref:y,...P})})}function xf(r,s){var n,c,h;return w.isValidElement(r)&&s.indexOf(r.type.muiName??((h=(c=(n=r.type)==null?void 0:n._payload)==null?void 0:c.value)==null?void 0:h.muiName))!==-1}const CR=(r,s)=>r.filter(n=>s.includes(n)),Xh=(r,s,n)=>{const c=r.keys[0];Array.isArray(s)?s.forEach((h,f)=>{n((g,_)=>{f<=r.keys.length-1&&(f===0?Object.assign(g,_):g[r.up(r.keys[f])]=_)},h)}):s&&typeof s=="object"?(Object.keys(s).length>r.keys.length?r.keys:CR(r.keys,Object.keys(s))).forEach(f=>{if(r.keys.includes(f)){const g=s[f];g!==void 0&&n((_,y)=>{c===f?Object.assign(_,y):_[r.up(f)]=y},g)}}):(typeof s=="number"||typeof s=="string")&&n((h,f)=>{Object.assign(h,f)},s)};function Jm(r){return`--Grid-${r}Spacing`}function f$(r){return`--Grid-parent-${r}Spacing`}const jb="--Grid-columns",Ph="--Grid-parent-columns",kR=({theme:r,ownerState:s})=>{const n={};return Xh(r.breakpoints,s.size,(c,h)=>{let f={};h==="grow"&&(f={flexBasis:0,flexGrow:1,maxWidth:"100%"}),h==="auto"&&(f={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof h=="number"&&(f={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${h} / var(${Ph}) - (var(${Ph}) - ${h}) * (var(${f$("column")}) / var(${Ph})))`}),c(n,f)}),n},RR=({theme:r,ownerState:s})=>{const n={};return Xh(r.breakpoints,s.offset,(c,h)=>{let f={};h==="auto"&&(f={marginLeft:"auto"}),typeof h=="number"&&(f={marginLeft:h===0?"0px":`calc(100% * ${h} / var(${Ph}) + var(${f$("column")}) * ${h} / var(${Ph}))`}),c(n,f)}),n},wR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={[jb]:12};return Xh(r.breakpoints,s.columns,(c,h)=>{const f=h??12;c(n,{[jb]:f,"> *":{[Ph]:f}})}),n},OR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={};return Xh(r.breakpoints,s.rowSpacing,(c,h)=>{var g;const f=typeof h=="string"?h:(g=r.spacing)==null?void 0:g.call(r,h);c(n,{[Jm("row")]:f,"> *":{[f$("row")]:f}})}),n},AR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={};return Xh(r.breakpoints,s.columnSpacing,(c,h)=>{var g;const f=typeof h=="string"?h:(g=r.spacing)==null?void 0:g.call(r,h);c(n,{[Jm("column")]:f,"> *":{[f$("column")]:f}})}),n},xR=({theme:r,ownerState:s})=>{if(!s.container)return{};const n={};return Xh(r.breakpoints,s.direction,(c,h)=>{c(n,{flexDirection:h})}),n},LR=({ownerState:r})=>({minWidth:0,boxSizing:"border-box",...r.container&&{display:"flex",flexWrap:"wrap",...r.wrap&&r.wrap!=="wrap"&&{flexWrap:r.wrap},gap:`var(${Jm("row")}) var(${Jm("column")})`}}),NR=r=>{const s=[];return Object.entries(r).forEach(([n,c])=>{c!==!1&&c!==void 0&&s.push(`grid-${n}-${String(c)}`)}),s},MR=(r,s="xs")=>{function n(c){return c===void 0?!1:typeof c=="string"&&!Number.isNaN(Number(c))||typeof c=="number"&&c>0}if(n(r))return[`spacing-${s}-${String(r)}`];if(typeof r=="object"&&!Array.isArray(r)){const c=[];return Object.entries(r).forEach(([h,f])=>{n(f)&&c.push(`spacing-${h}-${String(f)}`)}),c}return[]},DR=r=>r===void 0?[]:typeof r=="object"?Object.entries(r).map(([s,n])=>`direction-${s}-${n}`):[`direction-xs-${String(r)}`];function PR(r,s){r.item!==void 0&&delete r.item,r.zeroMinWidth!==void 0&&delete r.zeroMinWidth,s.keys.forEach(n=>{r[n]!==void 0&&delete r[n]})}const BR=tg(),FR=wv("div",{name:"MuiGrid",slot:"Root"});function UR(r){return Ov({props:r,name:"MuiGrid",defaultTheme:BR})}function HR(r={}){const{createStyledComponent:s=FR,useThemeProps:n=UR,useTheme:c=og,componentName:h="MuiGrid"}=r,f=(v,I)=>{const{container:R,direction:N,spacing:M,wrap:L,size:A}=v,P={root:["root",R&&"container",L!=="wrap"&&`wrap-xs-${String(L)}`,...DR(N),...NR(A),...R?MR(M,I.breakpoints.keys[0]):[]]};return At(P,W=>wt(h,W),{})};function g(v,I,R=()=>!0){const N={};return v===null||(Array.isArray(v)?v.forEach((M,L)=>{M!==null&&R(M)&&I.keys[L]&&(N[I.keys[L]]=M)}):typeof v=="object"?Object.keys(v).forEach(M=>{const L=v[M];L!=null&&R(L)&&(N[M]=L)}):N[I.keys[0]]=v),N}const _=s(wR,AR,OR,kR,xR,LR,RR),y=w.forwardRef(function(I,R){const N=c(),M=n(I),L=ET(M);PR(L,N.breakpoints);const{className:A,children:P,columns:W=12,container:X=!1,component:H="div",direction:D="row",wrap:F="wrap",size:J={},offset:Q={},spacing:ne=0,rowSpacing:ae=ne,columnSpacing:S=ne,unstable_level:oe=0,...ge}=L,me=g(J,N.breakpoints,ie=>ie!==!1),ye=g(Q,N.breakpoints),Y=I.columns??(oe?void 0:W),ue=I.spacing??(oe?void 0:ne),ve=I.rowSpacing??I.spacing??(oe?void 0:ae),$e=I.columnSpacing??I.spacing??(oe?void 0:S),he={...L,level:oe,columns:Y,container:X,direction:D,wrap:F,spacing:ue,rowSpacing:ve,columnSpacing:$e,size:me,offset:ye},U=f(he,N);return B.jsx(_,{ref:R,as:H,ownerState:he,className:pt(U.root,A),...ge,children:w.Children.map(P,ie=>{var Ee;return w.isValidElement(ie)&&xf(ie,["Grid"])&&X&&ie.props.container?w.cloneElement(ie,{unstable_level:((Ee=ie.props)==null?void 0:Ee.unstable_level)??oe+1}):ie})})});return y.muiName="Grid",y}const Vf={black:"#000",white:"#fff"},GR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Sh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ih={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ef={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ch={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},kh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Rh={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Pv(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vf.white,default:Vf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const VR=Pv();function Bv(){return{text:{primary:Vf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Xb=Bv();function Yb(r,s,n,c){const h=c.light||c,f=c.dark||c*1.5;r[s]||(r.hasOwnProperty(n)?r[s]=r[n]:s==="light"?r.light=vT(r.main,h):s==="dark"&&(r.dark=yT(r.main,f)))}function WR(r="light"){return r==="dark"?{main:Ch[200],light:Ch[50],dark:Ch[400]}:{main:Ch[700],light:Ch[400],dark:Ch[800]}}function zR(r="light"){return r==="dark"?{main:Sh[200],light:Sh[50],dark:Sh[400]}:{main:Sh[500],light:Sh[300],dark:Sh[700]}}function jR(r="light"){return r==="dark"?{main:Ih[500],light:Ih[300],dark:Ih[700]}:{main:Ih[700],light:Ih[400],dark:Ih[800]}}function XR(r="light"){return r==="dark"?{main:kh[400],light:kh[300],dark:kh[700]}:{main:kh[700],light:kh[500],dark:kh[900]}}function YR(r="light"){return r==="dark"?{main:Rh[400],light:Rh[300],dark:Rh[700]}:{main:Rh[800],light:Rh[500],dark:Rh[900]}}function KR(r="light"){return r==="dark"?{main:Ef[400],light:Ef[300],dark:Ef[700]}:{main:"#ed6c02",light:Ef[500],dark:Ef[900]}}function RT(r){const{mode:s="light",contrastThreshold:n=3,tonalOffset:c=.2,...h}=r,f=r.primary||WR(s),g=r.secondary||zR(s),_=r.error||jR(s),y=r.info||XR(s),v=r.success||YR(s),I=r.warning||KR(s);function R(A){return qk(A,Xb.text.primary)>=n?Xb.text.primary:VR.text.primary}const N=({color:A,name:P,mainShade:W=500,lightShade:X=300,darkShade:H=700})=>{if(A={...A},!A.main&&A[W]&&(A.main=A[W]),!A.hasOwnProperty("main"))throw new Error(sa(11,P?` (${P})`:"",W));if(typeof A.main!="string")throw new Error(sa(12,P?` (${P})`:"",JSON.stringify(A.main)));return Yb(A,"light",X,c),Yb(A,"dark",H,c),A.contrastText||(A.contrastText=R(A.main)),A};let M;return s==="light"?M=Pv():s==="dark"&&(M=Bv()),wr({common:{...Vf},mode:s,primary:N({color:f,name:"primary"}),secondary:N({color:g,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:_,name:"error"}),warning:N({color:I,name:"warning"}),info:N({color:y,name:"info"}),success:N({color:v,name:"success"}),grey:GR,contrastThreshold:n,getContrastText:R,augmentColor:N,tonalOffset:c,...M},h)}function JR(r){const s={};return Object.entries(r).forEach(c=>{const[h,f]=c;typeof f=="object"&&(s[h]=`${f.fontStyle?`${f.fontStyle} `:""}${f.fontVariant?`${f.fontVariant} `:""}${f.fontWeight?`${f.fontWeight} `:""}${f.fontStretch?`${f.fontStretch} `:""}${f.fontSize||""}${f.lineHeight?`/${f.lineHeight} `:""}${f.fontFamily||""}`)}),s}function qR(r,s){return{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...s}}function QR(r){return Math.round(r*1e5)/1e5}const Kb={textTransform:"uppercase"},Jb='"Roboto", "Helvetica", "Arial", sans-serif';function Fv(r,s){const{fontFamily:n=Jb,fontSize:c=14,fontWeightLight:h=300,fontWeightRegular:f=400,fontWeightMedium:g=500,fontWeightBold:_=700,htmlFontSize:y=16,allVariants:v,pxToRem:I,...R}=typeof s=="function"?s(r):s,N=c/14,M=I||(P=>`${P/y*N}rem`),L=(P,W,X,H,D)=>({fontFamily:n,fontWeight:P,fontSize:M(W),lineHeight:X,...n===Jb?{letterSpacing:`${QR(H/W)}em`}:{},...D,...v}),A={h1:L(h,96,1.167,-1.5),h2:L(h,60,1.2,-.5),h3:L(f,48,1.167,0),h4:L(f,34,1.235,.25),h5:L(f,24,1.334,0),h6:L(g,20,1.6,.15),subtitle1:L(f,16,1.75,.15),subtitle2:L(g,14,1.57,.1),body1:L(f,16,1.5,.15),body2:L(f,14,1.43,.15),button:L(g,14,1.75,.4,Kb),caption:L(f,12,1.66,.4),overline:L(f,12,2.66,1,Kb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wr({htmlFontSize:y,pxToRem:M,fontFamily:n,fontSize:c,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:g,fontWeightBold:_,...A},R,{clone:!1})}const ZR=.2,ew=.14,tw=.12;function ko(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${ZR})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${ew})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${tw})`].join(",")}const ow=["none",ko(0,2,1,-1,0,1,1,0,0,1,3,0),ko(0,3,1,-2,0,2,2,0,0,1,5,0),ko(0,3,3,-2,0,3,4,0,0,1,8,0),ko(0,2,4,-1,0,4,5,0,0,1,10,0),ko(0,3,5,-1,0,5,8,0,0,1,14,0),ko(0,3,5,-1,0,6,10,0,0,1,18,0),ko(0,4,5,-2,0,7,10,1,0,2,16,1),ko(0,5,5,-3,0,8,10,1,0,3,14,2),ko(0,5,6,-3,0,9,12,1,0,3,16,2),ko(0,6,6,-3,0,10,14,1,0,4,18,3),ko(0,6,7,-4,0,11,15,1,0,4,20,3),ko(0,7,8,-4,0,12,17,2,0,5,22,4),ko(0,7,8,-4,0,13,19,2,0,5,24,4),ko(0,7,9,-4,0,14,21,2,0,5,26,4),ko(0,8,9,-5,0,15,22,2,0,6,28,5),ko(0,8,10,-5,0,16,24,2,0,6,30,5),ko(0,8,11,-5,0,17,26,2,0,6,32,5),ko(0,9,11,-5,0,18,28,2,0,7,34,6),ko(0,9,12,-6,0,19,29,2,0,7,36,6),ko(0,10,13,-6,0,20,31,3,0,8,38,7),ko(0,10,13,-6,0,21,33,3,0,8,40,7),ko(0,10,14,-6,0,22,35,3,0,8,42,7),ko(0,11,14,-7,0,23,36,3,0,9,44,8),ko(0,11,15,-7,0,24,38,3,0,9,46,8)],rw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Uv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qb(r){return`${Math.round(r)}ms`}function nw(r){if(!r)return 0;const s=r/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function iw(r){const s={...rw,...r.easing},n={...Uv,...r.duration};return{getAutoHeightDuration:nw,create:(h=["all"],f={})=>{const{duration:g=n.standard,easing:_=s.easeInOut,delay:y=0,...v}=f;return(Array.isArray(h)?h:[h]).map(I=>`${I} ${typeof g=="string"?g:qb(g)} ${_} ${typeof y=="string"?y:qb(y)}`).join(",")},...r,easing:s,duration:n}}const sw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function lw(r){return Ks(r)||typeof r>"u"||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||Array.isArray(r)}function Hv(r={}){const s={...r};function n(c){const h=Object.entries(c);for(let f=0;f<h.length;f++){const[g,_]=h[f];!lw(_)||g.startsWith("unstable_")?delete c[g]:Ks(_)&&(c[g]={..._},n(c[g]))}}return n(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function z_(r={},...s){const{breakpoints:n,mixins:c={},spacing:h,palette:f={},transitions:g={},typography:_={},shape:y,...v}=r;if(r.vars&&r.generateThemeVars===void 0)throw new Error(sa(20));const I=RT(f),R=tg(r);let N=wr(R,{mixins:qR(R.breakpoints,c),palette:I,shadows:ow.slice(),typography:Fv(I,_),transitions:iw(g),zIndex:{...sw}});return N=wr(N,v),N=s.reduce((M,L)=>wr(M,L),N),N.unstable_sxConfig={...eg,...v==null?void 0:v.unstable_sxConfig},N.unstable_sx=function(L){return fc({sx:L,theme:this})},N.toRuntimeSource=Hv,N}function j_(r){let s;return r<1?s=5.11916*r**2:s=4.5*Math.log(r+1)+2,Math.round(s*10)/1e3}const aw=[...Array(25)].map((r,s)=>{if(s===0)return"none";const n=j_(s);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Gv(r){return{inputPlaceholder:r==="dark"?.5:.42,inputUnderline:r==="dark"?.7:.42,switchTrackDisabled:r==="dark"?.2:.12,switchTrack:r==="dark"?.3:.38}}function Vv(r){return r==="dark"?aw:[]}function cw(r){const{palette:s={mode:"light"},opacity:n,overlays:c,...h}=r,f=RT(s);return{palette:f,opacity:{...Gv(f.mode),...n},overlays:c||Vv(f.mode),...h}}function uw(r){var s;return!!r[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!r[0].match(/sxConfig$/)||r[0]==="palette"&&!!((s=r[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const dw=r=>[...[...Array(25)].map((s,n)=>`--${r?`${r}-`:""}overlays-${n}`),`--${r?`${r}-`:""}palette-AppBar-darkBg`,`--${r?`${r}-`:""}palette-AppBar-darkColor`],hw=r=>(s,n)=>{const c=r.rootSelector||":root",h=r.colorSchemeSelector;let f=h;if(h==="class"&&(f=".%s"),h==="data"&&(f="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(f=`[${h}="%s"]`),r.defaultColorScheme===s){if(s==="dark"){const g={};return dw(r.cssVarPrefix).forEach(_=>{g[_]=n[_],delete n[_]}),f==="media"?{[c]:n,"@media (prefers-color-scheme: dark)":{[c]:g}}:f?{[f.replace("%s",s)]:g,[`${c}, ${f.replace("%s",s)}`]:n}:{[c]:{...n,...g}}}if(f&&f!=="media")return`${c}, ${f.replace("%s",String(s))}`}else if(s){if(f==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[c]:n}};if(f)return f.replace("%s",String(s))}return c};function pw(r,s){s.forEach(n=>{r[n]||(r[n]={})})}function Se(r,s,n){!r[s]&&n&&(r[s]=n)}function Rf(r){return typeof r!="string"||!r.startsWith("hsl")?r:Av(r)}function ra(r,s){`${s}Channel`in r||(r[`${s}Channel`]=kf(Rf(r[s])))}function fw(r){return typeof r=="number"?`${r}px`:typeof r=="string"||typeof r=="function"||Array.isArray(r)?r:"8px"}const zs=r=>{try{return r()}catch{}},gw=(r="mui")=>mR(r);function w_(r,s,n,c){if(!s)return;s=s===!0?{}:s;const h=c==="dark"?"dark":"light";if(!n){r[c]=cw({...s,palette:{mode:h,...s==null?void 0:s.palette}});return}const{palette:f,...g}=z_({...n,palette:{mode:h,...s==null?void 0:s.palette}});return r[c]={...s,palette:f,opacity:{...Gv(h),...s==null?void 0:s.opacity},overlays:(s==null?void 0:s.overlays)||Vv(h)},g}function mw(r={},...s){const{colorSchemes:n={light:!0},defaultColorScheme:c,disableCssColorScheme:h=!1,cssVarPrefix:f="mui",shouldSkipGeneratingVar:g=uw,colorSchemeSelector:_=n.light&&n.dark?"media":void 0,rootSelector:y=":root",...v}=r,I=Object.keys(n)[0],R=c||(n.light&&I!=="light"?"light":I),N=gw(f),{[R]:M,light:L,dark:A,...P}=n,W={...P};let X=M;if((R==="dark"&&!("dark"in n)||R==="light"&&!("light"in n))&&(X=!0),!X)throw new Error(sa(21,R));const H=w_(W,X,v,R);L&&!W.light&&w_(W,L,void 0,"light"),A&&!W.dark&&w_(W,A,void 0,"dark");let D={defaultColorScheme:R,...H,cssVarPrefix:f,colorSchemeSelector:_,rootSelector:y,getCssVar:N,colorSchemes:W,font:{...JR(H.typography),...H.font},spacing:fw(v.spacing)};Object.keys(D.colorSchemes).forEach(ae=>{const S=D.colorSchemes[ae].palette,oe=ge=>{const me=ge.split("-"),ye=me[1],Y=me[2];return N(ge,S[ye][Y])};if(S.mode==="light"&&(Se(S.common,"background","#fff"),Se(S.common,"onBackground","#000")),S.mode==="dark"&&(Se(S.common,"background","#000"),Se(S.common,"onBackground","#fff")),pw(S,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),S.mode==="light"){Se(S.Alert,"errorColor",mo(S.error.light,.6)),Se(S.Alert,"infoColor",mo(S.info.light,.6)),Se(S.Alert,"successColor",mo(S.success.light,.6)),Se(S.Alert,"warningColor",mo(S.warning.light,.6)),Se(S.Alert,"errorFilledBg",oe("palette-error-main")),Se(S.Alert,"infoFilledBg",oe("palette-info-main")),Se(S.Alert,"successFilledBg",oe("palette-success-main")),Se(S.Alert,"warningFilledBg",oe("palette-warning-main")),Se(S.Alert,"errorFilledColor",zs(()=>S.getContrastText(S.error.main))),Se(S.Alert,"infoFilledColor",zs(()=>S.getContrastText(S.info.main))),Se(S.Alert,"successFilledColor",zs(()=>S.getContrastText(S.success.main))),Se(S.Alert,"warningFilledColor",zs(()=>S.getContrastText(S.warning.main))),Se(S.Alert,"errorStandardBg",$o(S.error.light,.9)),Se(S.Alert,"infoStandardBg",$o(S.info.light,.9)),Se(S.Alert,"successStandardBg",$o(S.success.light,.9)),Se(S.Alert,"warningStandardBg",$o(S.warning.light,.9)),Se(S.Alert,"errorIconColor",oe("palette-error-main")),Se(S.Alert,"infoIconColor",oe("palette-info-main")),Se(S.Alert,"successIconColor",oe("palette-success-main")),Se(S.Alert,"warningIconColor",oe("palette-warning-main")),Se(S.AppBar,"defaultBg",oe("palette-grey-100")),Se(S.Avatar,"defaultBg",oe("palette-grey-400")),Se(S.Button,"inheritContainedBg",oe("palette-grey-300")),Se(S.Button,"inheritContainedHoverBg",oe("palette-grey-A100")),Se(S.Chip,"defaultBorder",oe("palette-grey-400")),Se(S.Chip,"defaultAvatarColor",oe("palette-grey-700")),Se(S.Chip,"defaultIconColor",oe("palette-grey-700")),Se(S.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Se(S.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Se(S.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Se(S.LinearProgress,"primaryBg",$o(S.primary.main,.62)),Se(S.LinearProgress,"secondaryBg",$o(S.secondary.main,.62)),Se(S.LinearProgress,"errorBg",$o(S.error.main,.62)),Se(S.LinearProgress,"infoBg",$o(S.info.main,.62)),Se(S.LinearProgress,"successBg",$o(S.success.main,.62)),Se(S.LinearProgress,"warningBg",$o(S.warning.main,.62)),Se(S.Skeleton,"bg",`rgba(${oe("palette-text-primaryChannel")} / 0.11)`),Se(S.Slider,"primaryTrack",$o(S.primary.main,.62)),Se(S.Slider,"secondaryTrack",$o(S.secondary.main,.62)),Se(S.Slider,"errorTrack",$o(S.error.main,.62)),Se(S.Slider,"infoTrack",$o(S.info.main,.62)),Se(S.Slider,"successTrack",$o(S.success.main,.62)),Se(S.Slider,"warningTrack",$o(S.warning.main,.62));const ge=Tm(S.background.default,.8);Se(S.SnackbarContent,"bg",ge),Se(S.SnackbarContent,"color",zs(()=>S.getContrastText(ge))),Se(S.SpeedDialAction,"fabHoverBg",Tm(S.background.paper,.15)),Se(S.StepConnector,"border",oe("palette-grey-400")),Se(S.StepContent,"border",oe("palette-grey-400")),Se(S.Switch,"defaultColor",oe("palette-common-white")),Se(S.Switch,"defaultDisabledColor",oe("palette-grey-100")),Se(S.Switch,"primaryDisabledColor",$o(S.primary.main,.62)),Se(S.Switch,"secondaryDisabledColor",$o(S.secondary.main,.62)),Se(S.Switch,"errorDisabledColor",$o(S.error.main,.62)),Se(S.Switch,"infoDisabledColor",$o(S.info.main,.62)),Se(S.Switch,"successDisabledColor",$o(S.success.main,.62)),Se(S.Switch,"warningDisabledColor",$o(S.warning.main,.62)),Se(S.TableCell,"border",$o(_m(S.divider,1),.88)),Se(S.Tooltip,"bg",_m(S.grey[700],.92))}if(S.mode==="dark"){Se(S.Alert,"errorColor",$o(S.error.light,.6)),Se(S.Alert,"infoColor",$o(S.info.light,.6)),Se(S.Alert,"successColor",$o(S.success.light,.6)),Se(S.Alert,"warningColor",$o(S.warning.light,.6)),Se(S.Alert,"errorFilledBg",oe("palette-error-dark")),Se(S.Alert,"infoFilledBg",oe("palette-info-dark")),Se(S.Alert,"successFilledBg",oe("palette-success-dark")),Se(S.Alert,"warningFilledBg",oe("palette-warning-dark")),Se(S.Alert,"errorFilledColor",zs(()=>S.getContrastText(S.error.dark))),Se(S.Alert,"infoFilledColor",zs(()=>S.getContrastText(S.info.dark))),Se(S.Alert,"successFilledColor",zs(()=>S.getContrastText(S.success.dark))),Se(S.Alert,"warningFilledColor",zs(()=>S.getContrastText(S.warning.dark))),Se(S.Alert,"errorStandardBg",mo(S.error.light,.9)),Se(S.Alert,"infoStandardBg",mo(S.info.light,.9)),Se(S.Alert,"successStandardBg",mo(S.success.light,.9)),Se(S.Alert,"warningStandardBg",mo(S.warning.light,.9)),Se(S.Alert,"errorIconColor",oe("palette-error-main")),Se(S.Alert,"infoIconColor",oe("palette-info-main")),Se(S.Alert,"successIconColor",oe("palette-success-main")),Se(S.Alert,"warningIconColor",oe("palette-warning-main")),Se(S.AppBar,"defaultBg",oe("palette-grey-900")),Se(S.AppBar,"darkBg",oe("palette-background-paper")),Se(S.AppBar,"darkColor",oe("palette-text-primary")),Se(S.Avatar,"defaultBg",oe("palette-grey-600")),Se(S.Button,"inheritContainedBg",oe("palette-grey-800")),Se(S.Button,"inheritContainedHoverBg",oe("palette-grey-700")),Se(S.Chip,"defaultBorder",oe("palette-grey-700")),Se(S.Chip,"defaultAvatarColor",oe("palette-grey-300")),Se(S.Chip,"defaultIconColor",oe("palette-grey-300")),Se(S.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Se(S.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Se(S.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Se(S.LinearProgress,"primaryBg",mo(S.primary.main,.5)),Se(S.LinearProgress,"secondaryBg",mo(S.secondary.main,.5)),Se(S.LinearProgress,"errorBg",mo(S.error.main,.5)),Se(S.LinearProgress,"infoBg",mo(S.info.main,.5)),Se(S.LinearProgress,"successBg",mo(S.success.main,.5)),Se(S.LinearProgress,"warningBg",mo(S.warning.main,.5)),Se(S.Skeleton,"bg",`rgba(${oe("palette-text-primaryChannel")} / 0.13)`),Se(S.Slider,"primaryTrack",mo(S.primary.main,.5)),Se(S.Slider,"secondaryTrack",mo(S.secondary.main,.5)),Se(S.Slider,"errorTrack",mo(S.error.main,.5)),Se(S.Slider,"infoTrack",mo(S.info.main,.5)),Se(S.Slider,"successTrack",mo(S.success.main,.5)),Se(S.Slider,"warningTrack",mo(S.warning.main,.5));const ge=Tm(S.background.default,.98);Se(S.SnackbarContent,"bg",ge),Se(S.SnackbarContent,"color",zs(()=>S.getContrastText(ge))),Se(S.SpeedDialAction,"fabHoverBg",Tm(S.background.paper,.15)),Se(S.StepConnector,"border",oe("palette-grey-600")),Se(S.StepContent,"border",oe("palette-grey-600")),Se(S.Switch,"defaultColor",oe("palette-grey-300")),Se(S.Switch,"defaultDisabledColor",oe("palette-grey-600")),Se(S.Switch,"primaryDisabledColor",mo(S.primary.main,.55)),Se(S.Switch,"secondaryDisabledColor",mo(S.secondary.main,.55)),Se(S.Switch,"errorDisabledColor",mo(S.error.main,.55)),Se(S.Switch,"infoDisabledColor",mo(S.info.main,.55)),Se(S.Switch,"successDisabledColor",mo(S.success.main,.55)),Se(S.Switch,"warningDisabledColor",mo(S.warning.main,.55)),Se(S.TableCell,"border",mo(_m(S.divider,1),.68)),Se(S.Tooltip,"bg",_m(S.grey[700],.92))}ra(S.background,"default"),ra(S.background,"paper"),ra(S.common,"background"),ra(S.common,"onBackground"),ra(S,"divider"),Object.keys(S).forEach(ge=>{const me=S[ge];ge!=="tonalOffset"&&me&&typeof me=="object"&&(me.main&&Se(S[ge],"mainChannel",kf(Rf(me.main))),me.light&&Se(S[ge],"lightChannel",kf(Rf(me.light))),me.dark&&Se(S[ge],"darkChannel",kf(Rf(me.dark))),me.contrastText&&Se(S[ge],"contrastTextChannel",kf(Rf(me.contrastText))),ge==="text"&&(ra(S[ge],"primary"),ra(S[ge],"secondary")),ge==="action"&&(me.active&&ra(S[ge],"active"),me.selected&&ra(S[ge],"selected")))})}),D=s.reduce((ae,S)=>wr(ae,S),D);const F={prefix:f,disableCssColorScheme:h,shouldSkipGeneratingVar:g,getSelector:hw(D)},{vars:J,generateThemeVars:Q,generateStyleSheets:ne}=TR(D,F);return D.vars=J,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([ae,S])=>{D[ae]=S}),D.generateThemeVars=Q,D.generateStyleSheets=ne,D.generateSpacing=function(){return yv(v.spacing,_T(this))},D.getColorSchemeSelector=ER(_),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=g,D.unstable_sxConfig={...eg,...v==null?void 0:v.unstable_sxConfig},D.unstable_sx=function(S){return fc({sx:S,theme:this})},D.toRuntimeSource=Hv,D}function Qb(r,s,n){r.colorSchemes&&n&&(r.colorSchemes[s]={...n!==!0&&n,palette:RT({...n===!0?{}:n.palette,mode:s})})}function g$(r={},...s){const{palette:n,cssVariables:c=!1,colorSchemes:h=n?void 0:{light:!0},defaultColorScheme:f=n==null?void 0:n.mode,...g}=r,_=f||"light",y=h==null?void 0:h[_],v={...h,...n?{[_]:{...typeof y!="boolean"&&y,palette:n}}:void 0};if(c===!1){if(!("colorSchemes"in r))return z_(r,...s);let I=n;"palette"in r||v[_]&&(v[_]!==!0?I=v[_].palette:_==="dark"&&(I={mode:"dark"}));const R=z_({...r,palette:I},...s);return R.defaultColorScheme=_,R.colorSchemes=v,R.palette.mode==="light"&&(R.colorSchemes.light={...v.light!==!0&&v.light,palette:R.palette},Qb(R,"dark",v.dark)),R.palette.mode==="dark"&&(R.colorSchemes.dark={...v.dark!==!0&&v.dark,palette:R.palette},Qb(R,"light",v.light)),R}return!n&&!("light"in v)&&_==="light"&&(v.light=!0),mw({...g,colorSchemes:v,defaultColorScheme:_,...typeof c!="boolean"&&c},...s)}const wT=g$();function Gu(){const r=og(wT);return r[Js]||r}function Wv(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const mi=r=>Wv(r)&&r!=="classes",Qe=Rv({themeId:Js,defaultTheme:wT,rootShouldForwardProp:mi});function $w({theme:r,...s}){const n=Js in r?r[Js]:void 0;return B.jsx(Mv,{...s,themeId:n?Js:void 0,theme:n||r})}const Em={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:_w}=gR({themeId:Js,theme:()=>g$({cssVariables:!0}),colorSchemeStorageKey:Em.colorSchemeStorageKey,modeStorageKey:Em.modeStorageKey,defaultColorScheme:{light:Em.defaultLightColorScheme,dark:Em.defaultDarkColorScheme},resolveTheme:r=>{const s={...r,typography:Fv(r.palette,r.typography)};return s.unstable_sx=function(c){return fc({sx:c,theme:this})},s}}),Tw=_w;function Ew({theme:r,...s}){const n=w.useMemo(()=>{if(typeof r=="function")return r;const c=Js in r?r[Js]:r;return"colorSchemes"in c?null:"vars"in c?r:{...r,vars:null}},[r]);return n?B.jsx($w,{theme:n,...s}):B.jsx(Tw,{theme:r,...s})}function bw(r){return B.jsx(Mk,{...r,defaultTheme:wT,themeId:Js})}function OT(r){return function(n){return B.jsx(bw,{styles:typeof r=="function"?c=>r({theme:c,...n}):r})}}function yw(){return ET}function xt(r){return sR(r)}const X_=typeof OT({})=="function",vw=(r,s)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...s&&!r.vars&&{colorScheme:r.palette.mode}}),Sw=r=>({color:(r.vars||r).palette.text.primary,...r.typography.body1,backgroundColor:(r.vars||r).palette.background.default,"@media print":{backgroundColor:(r.vars||r).palette.common.white}}),zv=(r,s=!1)=>{var f,g;const n={};s&&r.colorSchemes&&typeof r.getColorSchemeSelector=="function"&&Object.entries(r.colorSchemes).forEach(([_,y])=>{var I,R;const v=r.getColorSchemeSelector(_);v.startsWith("@")?n[v]={":root":{colorScheme:(I=y.palette)==null?void 0:I.mode}}:n[v.replace(/\s*&/,"")]={colorScheme:(R=y.palette)==null?void 0:R.mode}});let c={html:vw(r,s),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:r.typography.fontWeightBold},body:{margin:0,...Sw(r),"&::backdrop":{backgroundColor:(r.vars||r).palette.background.default}},...n};const h=(g=(f=r.components)==null?void 0:f.MuiCssBaseline)==null?void 0:g.styleOverrides;return h&&(c=[c,h]),c},Nm="mui-ecs",Iw=r=>{const s=zv(r,!1),n=Array.isArray(s)?s[0]:s;return!r.vars&&n&&(n.html[`:root:has(${Nm})`]={colorScheme:r.palette.mode}),r.colorSchemes&&Object.entries(r.colorSchemes).forEach(([c,h])=>{var g,_;const f=r.getColorSchemeSelector(c);f.startsWith("@")?n[f]={[`:root:not(:has(.${Nm}))`]:{colorScheme:(g=h.palette)==null?void 0:g.mode}}:n[f.replace(/\s*&/,"")]={[`&:not(:has(.${Nm}))`]:{colorScheme:(_=h.palette)==null?void 0:_.mode}}}),s},Cw=OT(X_?({theme:r,enableColorScheme:s})=>zv(r,s):({theme:r})=>Iw(r));function kw(r){const s=xt({props:r,name:"MuiCssBaseline"}),{children:n,enableColorScheme:c=!1}=s;return B.jsxs(w.Fragment,{children:[X_&&B.jsx(Cw,{enableColorScheme:c}),!X_&&!c&&B.jsx("span",{className:Nm,style:{display:"none"}}),n]})}const Rw=IR({createStyledComponent:Qe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`maxWidth${Et(String(n.maxWidth))}`],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),useThemeProps:r=>xt({props:r,name:"MuiContainer"})}),ww=Ot("MuiBox",["root"]),Ow=g$(),Er=Bk({themeId:Js,defaultTheme:Ow,defaultClassName:ww.root,generateClassName:Sv.generate}),AT=HR({createStyledComponent:Qe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.container&&s.container]}}),componentName:"MuiGrid",useThemeProps:r=>xt({props:r,name:"MuiGrid"}),useTheme:Gu}),Gt=lR;function Aw(r){return wt("MuiPaper",r)}Ot("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const xw=r=>{const{square:s,elevation:n,variant:c,classes:h}=r,f={root:["root",c,!s&&"rounded",c==="elevation"&&`elevation${n}`]};return At(f,Aw,h)},Lw=Qe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[n.variant],!n.square&&s.rounded,n.variant==="elevation"&&s[`elevation${n.elevation}`]]}})(Gt(({theme:r})=>({backgroundColor:(r.vars||r).palette.background.paper,color:(r.vars||r).palette.text.primary,transition:r.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:r.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(r.vars||r).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Vu=w.forwardRef(function(s,n){var M;const c=xt({props:s,name:"MuiPaper"}),h=Gu(),{className:f,component:g="div",elevation:_=1,square:y=!1,variant:v="elevation",...I}=c,R={...c,component:g,elevation:_,square:y,variant:v},N=xw(R);return B.jsx(Lw,{as:g,ownerState:R,className:pt(N.root,f),ref:n,...I,style:{...v==="elevation"&&{"--Paper-shadow":(h.vars||h).shadows[_],...h.vars&&{"--Paper-overlay":(M=h.vars.overlays)==null?void 0:M[_]},...!h.vars&&h.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${tr("#fff",j_(_))}, ${tr("#fff",j_(_))})`}},...I.style}})});function Nw(r){return typeof r.main=="string"}function Mw(r,s=[]){if(!Nw(r))return!1;for(const n of s)if(!r.hasOwnProperty(n)||typeof r[n]!="string")return!1;return!0}function el(r=[]){return([,s])=>s&&Mw(s,r)}function Dw(r){return wt("MuiTypography",r)}const Zb=Ot("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Pw={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Bw=yw(),Fw=r=>{const{align:s,gutterBottom:n,noWrap:c,paragraph:h,variant:f,classes:g}=r,_={root:["root",f,r.align!=="inherit"&&`align${Et(s)}`,n&&"gutterBottom",c&&"noWrap",h&&"paragraph"]};return At(_,Dw,g)},Uw=Qe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.variant&&s[n.variant],n.align!=="inherit"&&s[`align${Et(n.align)}`],n.noWrap&&s.noWrap,n.gutterBottom&&s.gutterBottom,n.paragraph&&s.paragraph]}})(Gt(({theme:r})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(([n,c])=>n!=="inherit"&&c&&typeof c=="object").map(([n,c])=>({props:{variant:n},style:c})),...Object.entries(r.palette).filter(el()).map(([n])=>({props:{color:n},style:{color:(r.vars||r).palette[n].main}})),...Object.entries(((s=r.palette)==null?void 0:s.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Et(n)}`},style:{color:(r.vars||r).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),ey={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},pr=w.forwardRef(function(s,n){const{color:c,...h}=xt({props:s,name:"MuiTypography"}),f=!Pw[c],g=Bw({...h,...f&&{color:c}}),{align:_="inherit",className:y,component:v,gutterBottom:I=!1,noWrap:R=!1,paragraph:N=!1,variant:M="body1",variantMapping:L=ey,...A}=g,P={...g,align:_,color:c,className:y,component:v,gutterBottom:I,noWrap:R,paragraph:N,variant:M,variantMapping:L},W=v||(N?"p":L[M]||ey[M])||"span",X=Fw(P);return B.jsx(Uw,{as:W,ref:n,className:pt(X.root,y),...A,ownerState:P,style:{..._!=="inherit"&&{"--Typography-textAlign":_},...A.style}})}),Hw=document.querySelector("#js2py");function O_(r,s){const n=new CustomEvent("custom",{detail:[r,s]});Hw.dispatchEvent(n)}const Gw=g$({palette:{primary:{main:"#0ED7BA"},secondary:{main:"#23395B"},background:{default:"#161925",paper:"#afd3cc"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}});function Vw(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function ty(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(r,h).enumerable})),n.push.apply(n,c)}return n}function oy(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ty(Object(n),!0).forEach(function(c){Vw(r,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(n,c))})}return r}function Ww(r,s){if(r==null)return{};var n={},c=Object.keys(r),h,f;for(f=0;f<c.length;f++)h=c[f],!(s.indexOf(h)>=0)&&(n[h]=r[h]);return n}function zw(r,s){if(r==null)return{};var n=Ww(r,s),c,h;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);for(h=0;h<f.length;h++)c=f[h],!(s.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(r,c)&&(n[c]=r[c])}return n}function jw(r,s){return Xw(r)||Yw(r,s)||Kw(r,s)||Jw()}function Xw(r){if(Array.isArray(r))return r}function Yw(r,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var n=[],c=!0,h=!1,f=void 0;try{for(var g=r[Symbol.iterator](),_;!(c=(_=g.next()).done)&&(n.push(_.value),!(s&&n.length===s));c=!0);}catch(y){h=!0,f=y}finally{try{!c&&g.return!=null&&g.return()}finally{if(h)throw f}}return n}}function Kw(r,s){if(r){if(typeof r=="string")return ry(r,s);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(r,s)}}function ry(r,s){(s==null||s>r.length)&&(s=r.length);for(var n=0,c=new Array(s);n<s;n++)c[n]=r[n];return c}function Jw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qw(r,s,n){return s in r?Object.defineProperty(r,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[s]=n,r}function ny(r,s){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);s&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(r,h).enumerable})),n.push.apply(n,c)}return n}function iy(r){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ny(Object(n),!0).forEach(function(c){qw(r,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(n,c))})}return r}function Qw(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return function(c){return s.reduceRight(function(h,f){return f(h)},c)}}function wf(r){return function s(){for(var n=this,c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return h.length>=r.length?r.apply(this,h):function(){for(var g=arguments.length,_=new Array(g),y=0;y<g;y++)_[y]=arguments[y];return s.apply(n,[].concat(h,_))}}}function qm(r){return{}.toString.call(r).includes("Object")}function Zw(r){return!Object.keys(r).length}function Wf(r){return typeof r=="function"}function eO(r,s){return Object.prototype.hasOwnProperty.call(r,s)}function tO(r,s){return qm(s)||pc("changeType"),Object.keys(s).some(function(n){return!eO(r,n)})&&pc("changeField"),s}function oO(r){Wf(r)||pc("selectorType")}function rO(r){Wf(r)||qm(r)||pc("handlerType"),qm(r)&&Object.values(r).some(function(s){return!Wf(s)})&&pc("handlersType")}function nO(r){r||pc("initialIsRequired"),qm(r)||pc("initialType"),Zw(r)&&pc("initialContent")}function iO(r,s){throw new Error(r[s]||r.default)}var sO={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},pc=wf(iO)(sO),bm={changes:tO,selector:oO,handler:rO,initial:nO};function lO(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bm.initial(r),bm.handler(s);var n={current:r},c=wf(uO)(n,s),h=wf(cO)(n),f=wf(bm.changes)(r),g=wf(aO)(n);function _(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(I){return I};return bm.selector(v),v(n.current)}function y(v){Qw(c,h,f,g)(v)}return[_,y]}function aO(r,s){return Wf(s)?s(r.current):s}function cO(r,s){return r.current=iy(iy({},r.current),s),s}function uO(r,s,n){return Wf(s)?s(r.current):Object.keys(n).forEach(function(c){var h;return(h=s[c])===null||h===void 0?void 0:h.call(s,r.current[c])}),n}var dO={create:lO},hO={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function pO(r){return function s(){for(var n=this,c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return h.length>=r.length?r.apply(this,h):function(){for(var g=arguments.length,_=new Array(g),y=0;y<g;y++)_[y]=arguments[y];return s.apply(n,[].concat(h,_))}}}function fO(r){return{}.toString.call(r).includes("Object")}function gO(r){return r||sy("configIsRequired"),fO(r)||sy("configType"),r.urls?(mO(),{paths:{vs:r.urls.monacoBase}}):r}function mO(){console.warn(jv.deprecation)}function $O(r,s){throw new Error(r[s]||r.default)}var jv={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},sy=pO($O)(jv),_O={config:gO},TO=function(){for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return function(h){return n.reduceRight(function(f,g){return g(f)},h)}};function Xv(r,s){return Object.keys(s).forEach(function(n){s[n]instanceof Object&&r[n]&&Object.assign(s[n],Xv(r[n],s[n]))}),oy(oy({},r),s)}var EO={type:"cancelation",msg:"operation is manually canceled"};function A_(r){var s=!1,n=new Promise(function(c,h){r.then(function(f){return s?h(EO):c(f)}),r.catch(h)});return n.cancel=function(){return s=!0},n}var bO=dO.create({config:hO,isInitialized:!1,resolve:null,reject:null,monaco:null}),Yv=jw(bO,2),rg=Yv[0],m$=Yv[1];function yO(r){var s=_O.config(r),n=s.monaco,c=zw(s,["monaco"]);m$(function(h){return{config:Xv(h.config,c),monaco:n}})}function vO(){var r=rg(function(s){var n=s.monaco,c=s.isInitialized,h=s.resolve;return{monaco:n,isInitialized:c,resolve:h}});if(!r.isInitialized){if(m$({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),A_(x_);if(window.monaco&&window.monaco.editor)return Kv(window.monaco),r.resolve(window.monaco),A_(x_);TO(SO,CO)(kO)}return A_(x_)}function SO(r){return document.body.appendChild(r)}function IO(r){var s=document.createElement("script");return r&&(s.src=r),s}function CO(r){var s=rg(function(c){var h=c.config,f=c.reject;return{config:h,reject:f}}),n=IO("".concat(s.config.paths.vs,"/loader.js"));return n.onload=function(){return r()},n.onerror=s.reject,n}function kO(){var r=rg(function(n){var c=n.config,h=n.resolve,f=n.reject;return{config:c,resolve:h,reject:f}}),s=window.require;s.config(r.config),s(["vs/editor/editor.main"],function(n){Kv(n),r.resolve(n)},function(n){r.reject(n)})}function Kv(r){rg().monaco||m$({monaco:r})}function RO(){return rg(function(r){var s=r.monaco;return s})}var x_=new Promise(function(r,s){return m$({resolve:r,reject:s})}),Jv={config:yO,init:vO,__getMonacoInstance:RO},wO={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},L_=wO,OO={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},AO=OO;function xO({children:r}){return sr.createElement("div",{style:AO.container},r)}var LO=xO,NO=LO;function MO({width:r,height:s,isEditorReady:n,loading:c,_ref:h,className:f,wrapperProps:g}){return sr.createElement("section",{style:{...L_.wrapper,width:r,height:s},...g},!n&&sr.createElement(NO,null,c),sr.createElement("div",{ref:h,style:{...L_.fullWidth,...!n&&L_.hide},className:f}))}var DO=MO,qv=w.memo(DO);function PO(r){w.useEffect(r,[])}var Qv=PO;function BO(r,s,n=!0){let c=w.useRef(!0);w.useEffect(c.current||!n?()=>{c.current=!1}:r,s)}var Nn=BO;function Lf(){}function Lh(r,s,n,c){return FO(r,c)||UO(r,s,n,c)}function FO(r,s){return r.editor.getModel(Zv(r,s))}function UO(r,s,n,c){return r.editor.createModel(s,n,c?Zv(r,c):void 0)}function Zv(r,s){return r.Uri.parse(s)}function HO({original:r,modified:s,language:n,originalLanguage:c,modifiedLanguage:h,originalModelPath:f,modifiedModelPath:g,keepCurrentOriginalModel:_=!1,keepCurrentModifiedModel:y=!1,theme:v="light",loading:I="Loading...",options:R={},height:N="100%",width:M="100%",className:L,wrapperProps:A={},beforeMount:P=Lf,onMount:W=Lf}){let[X,H]=w.useState(!1),[D,F]=w.useState(!0),J=w.useRef(null),Q=w.useRef(null),ne=w.useRef(null),ae=w.useRef(W),S=w.useRef(P),oe=w.useRef(!1);Qv(()=>{let Y=Jv.init();return Y.then(ue=>(Q.current=ue)&&F(!1)).catch(ue=>(ue==null?void 0:ue.type)!=="cancelation"&&console.error("Monaco initialization: error:",ue)),()=>J.current?ye():Y.cancel()}),Nn(()=>{if(J.current&&Q.current){let Y=J.current.getOriginalEditor(),ue=Lh(Q.current,r||"",c||n||"text",f||"");ue!==Y.getModel()&&Y.setModel(ue)}},[f],X),Nn(()=>{if(J.current&&Q.current){let Y=J.current.getModifiedEditor(),ue=Lh(Q.current,s||"",h||n||"text",g||"");ue!==Y.getModel()&&Y.setModel(ue)}},[g],X),Nn(()=>{let Y=J.current.getModifiedEditor();Y.getOption(Q.current.editor.EditorOption.readOnly)?Y.setValue(s||""):s!==Y.getValue()&&(Y.executeEdits("",[{range:Y.getModel().getFullModelRange(),text:s||"",forceMoveMarkers:!0}]),Y.pushUndoStop())},[s],X),Nn(()=>{var Y,ue;(ue=(Y=J.current)==null?void 0:Y.getModel())==null||ue.original.setValue(r||"")},[r],X),Nn(()=>{let{original:Y,modified:ue}=J.current.getModel();Q.current.editor.setModelLanguage(Y,c||n||"text"),Q.current.editor.setModelLanguage(ue,h||n||"text")},[n,c,h],X),Nn(()=>{var Y;(Y=Q.current)==null||Y.editor.setTheme(v)},[v],X),Nn(()=>{var Y;(Y=J.current)==null||Y.updateOptions(R)},[R],X);let ge=w.useCallback(()=>{var ve;if(!Q.current)return;S.current(Q.current);let Y=Lh(Q.current,r||"",c||n||"text",f||""),ue=Lh(Q.current,s||"",h||n||"text",g||"");(ve=J.current)==null||ve.setModel({original:Y,modified:ue})},[n,s,h,r,c,f,g]),me=w.useCallback(()=>{var Y;!oe.current&&ne.current&&(J.current=Q.current.editor.createDiffEditor(ne.current,{automaticLayout:!0,...R}),ge(),(Y=Q.current)==null||Y.editor.setTheme(v),H(!0),oe.current=!0)},[R,v,ge]);w.useEffect(()=>{X&&ae.current(J.current,Q.current)},[X]),w.useEffect(()=>{!D&&!X&&me()},[D,X,me]);function ye(){var ue,ve,$e,he;let Y=(ue=J.current)==null?void 0:ue.getModel();_||((ve=Y==null?void 0:Y.original)==null||ve.dispose()),y||(($e=Y==null?void 0:Y.modified)==null||$e.dispose()),(he=J.current)==null||he.dispose()}return sr.createElement(qv,{width:M,height:N,isEditorReady:X,loading:I,_ref:ne,className:L,wrapperProps:A})}var GO=HO;w.memo(GO);function VO(r){let s=w.useRef();return w.useEffect(()=>{s.current=r},[r]),s.current}var WO=VO,ym=new Map;function zO({defaultValue:r,defaultLanguage:s,defaultPath:n,value:c,language:h,path:f,theme:g="light",line:_,loading:y="Loading...",options:v={},overrideServices:I={},saveViewState:R=!0,keepCurrentModel:N=!1,width:M="100%",height:L="100%",className:A,wrapperProps:P={},beforeMount:W=Lf,onMount:X=Lf,onChange:H,onValidate:D=Lf}){let[F,J]=w.useState(!1),[Q,ne]=w.useState(!0),ae=w.useRef(null),S=w.useRef(null),oe=w.useRef(null),ge=w.useRef(X),me=w.useRef(W),ye=w.useRef(),Y=w.useRef(c),ue=WO(f),ve=w.useRef(!1),$e=w.useRef(!1);Qv(()=>{let ie=Jv.init();return ie.then(Ee=>(ae.current=Ee)&&ne(!1)).catch(Ee=>(Ee==null?void 0:Ee.type)!=="cancelation"&&console.error("Monaco initialization: error:",Ee)),()=>S.current?U():ie.cancel()}),Nn(()=>{var Ee,Ae,fe,Ue;let ie=Lh(ae.current,r||c||"",s||h||"",f||n||"");ie!==((Ee=S.current)==null?void 0:Ee.getModel())&&(R&&ym.set(ue,(Ae=S.current)==null?void 0:Ae.saveViewState()),(fe=S.current)==null||fe.setModel(ie),R&&((Ue=S.current)==null||Ue.restoreViewState(ym.get(f))))},[f],F),Nn(()=>{var ie;(ie=S.current)==null||ie.updateOptions(v)},[v],F),Nn(()=>{!S.current||c===void 0||(S.current.getOption(ae.current.editor.EditorOption.readOnly)?S.current.setValue(c):c!==S.current.getValue()&&($e.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:c,forceMoveMarkers:!0}]),S.current.pushUndoStop(),$e.current=!1))},[c],F),Nn(()=>{var Ee,Ae;let ie=(Ee=S.current)==null?void 0:Ee.getModel();ie&&h&&((Ae=ae.current)==null||Ae.editor.setModelLanguage(ie,h))},[h],F),Nn(()=>{var ie;_!==void 0&&((ie=S.current)==null||ie.revealLine(_))},[_],F),Nn(()=>{var ie;(ie=ae.current)==null||ie.editor.setTheme(g)},[g],F);let he=w.useCallback(()=>{var ie;if(!(!oe.current||!ae.current)&&!ve.current){me.current(ae.current);let Ee=f||n,Ae=Lh(ae.current,c||r||"",s||h||"",Ee||"");S.current=(ie=ae.current)==null?void 0:ie.editor.create(oe.current,{model:Ae,automaticLayout:!0,...v},I),R&&S.current.restoreViewState(ym.get(Ee)),ae.current.editor.setTheme(g),_!==void 0&&S.current.revealLine(_),J(!0),ve.current=!0}},[r,s,n,c,h,f,v,I,R,g,_]);w.useEffect(()=>{F&&ge.current(S.current,ae.current)},[F]),w.useEffect(()=>{!Q&&!F&&he()},[Q,F,he]),Y.current=c,w.useEffect(()=>{var ie,Ee;F&&H&&((ie=ye.current)==null||ie.dispose(),ye.current=(Ee=S.current)==null?void 0:Ee.onDidChangeModelContent(Ae=>{$e.current||H(S.current.getValue(),Ae)}))},[F,H]),w.useEffect(()=>{if(F){let ie=ae.current.editor.onDidChangeMarkers(Ee=>{var fe;let Ae=(fe=S.current.getModel())==null?void 0:fe.uri;if(Ae&&Ee.find(Ue=>Ue.path===Ae.path)){let Ue=ae.current.editor.getModelMarkers({resource:Ae});D==null||D(Ue)}});return()=>{ie==null||ie.dispose()}}return()=>{}},[F,D]);function U(){var ie,Ee;(ie=ye.current)==null||ie.dispose(),N?R&&ym.set(f,S.current.saveViewState()):(Ee=S.current.getModel())==null||Ee.dispose(),S.current.dispose()}return sr.createElement(qv,{width:M,height:L,isEditorReady:F,loading:y,_ref:oe,className:A,wrapperProps:P})}var jO=zO,XO=w.memo(jO),eS=XO;const Wr=w.createContext({});function YO(){const{replaceCode:r,setReplaceCode:s,setToUpdate:n}=w.useContext(Wr),[c,h]=w.useState("100px"),f=w.useCallback(_=>{s(_),n(!0)},[s,n]),g=_=>{const y=_.getModel();if(y){const v=y.getLineCount(),I=Math.min(Math.max(100,v*19),150);h(`${I}px`)}_.onDidChangeModelContent(()=>{var R;const v=((R=_.getModel())==null?void 0:R.getLineCount())||1,I=Math.min(Math.max(100,v*19),150);h(`${I}px`)})};return B.jsxs(Er,{sx:{mt:2,width:"100%"},children:[B.jsx(pr,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Replacement String"}),B.jsx(eS,{height:c,defaultLanguage:"text",onChange:f,value:r||"pattern = ",onMount:g,theme:"vs-dark",options:{wordWrap:"on",minimap:{enabled:!1},links:!1,scrollbar:{horizontal:"hidden"},fontSize:14,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:"none",scrollBeyondLastLine:!1,automaticLayout:!0}})]})}let ly=0;function KO(r){const[s,n]=w.useState(r),c=r||s;return w.useEffect(()=>{s==null&&(ly+=1,n(`mui-${ly}`))},[s]),c}const JO={...F_},ay=JO.useId;function $$(r){if(ay!==void 0){const s=ay();return r??s}return KO(r)}function tS(r,s=166){let n;function c(...h){const f=()=>{r.apply(this,h)};clearTimeout(n),n=setTimeout(f,s)}return c.clear=()=>{clearTimeout(n)},c}function jo(...r){const s=w.useRef(void 0),n=w.useCallback(c=>{const h=r.map(f=>{if(f==null)return null;if(typeof f=="function"){const g=f,_=g(c);return typeof _=="function"?_:()=>{g(null)}}return f.current=c,()=>{f.current=null}});return()=>{h.forEach(f=>f==null?void 0:f())}},r);return w.useMemo(()=>r.every(c=>c==null)?null:c=>{s.current&&(s.current(),s.current=void 0),c!=null&&(s.current=n(c))},r)}function ia(r){const s=w.useRef(r);return hi(()=>{s.current=r}),w.useRef((...n)=>(0,s.current)(...n)).current}function Pn(r){return r&&r.ownerDocument||document}function aa(r){return Pn(r).defaultView||window}function vm(r){return parseInt(r,10)||0}const qO={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function QO(r){for(const s in r)return!1;return!0}function cy(r){return QO(r)||r.outerHeightStyle===0&&!r.overflowing}const ZO=w.forwardRef(function(s,n){const{onChange:c,maxRows:h,minRows:f=1,style:g,value:_,...y}=s,{current:v}=w.useRef(_!=null),I=w.useRef(null),R=jo(n,I),N=w.useRef(null),M=w.useRef(null),L=w.useCallback(()=>{const H=I.current,D=M.current;if(!H||!D)return;const J=aa(H).getComputedStyle(H);if(J.width==="0px")return{outerHeightStyle:0,overflowing:!1};D.style.width=J.width,D.value=H.value||s.placeholder||"x",D.value.slice(-1)===`
`&&(D.value+=" ");const Q=J.boxSizing,ne=vm(J.paddingBottom)+vm(J.paddingTop),ae=vm(J.borderBottomWidth)+vm(J.borderTopWidth),S=D.scrollHeight;D.value="x";const oe=D.scrollHeight;let ge=S;f&&(ge=Math.max(Number(f)*oe,ge)),h&&(ge=Math.min(Number(h)*oe,ge)),ge=Math.max(ge,oe);const me=ge+(Q==="border-box"?ne+ae:0),ye=Math.abs(ge-S)<=1;return{outerHeightStyle:me,overflowing:ye}},[h,f,s.placeholder]),A=ia(()=>{const H=I.current,D=L();if(!H||!D||cy(D))return!1;const F=D.outerHeightStyle;return N.current!=null&&N.current!==F}),P=w.useCallback(()=>{const H=I.current,D=L();if(!H||!D||cy(D))return;const F=D.outerHeightStyle;N.current!==F&&(N.current=F,H.style.height=`${F}px`),H.style.overflow=D.overflowing?"hidden":""},[L]),W=w.useRef(-1);hi(()=>{const H=tS(P),D=I==null?void 0:I.current;if(!D)return;const F=aa(D);F.addEventListener("resize",H);let J;return typeof ResizeObserver<"u"&&(J=new ResizeObserver(()=>{A()&&(J.unobserve(D),cancelAnimationFrame(W.current),P(),W.current=requestAnimationFrame(()=>{J.observe(D)}))}),J.observe(D)),()=>{H.clear(),cancelAnimationFrame(W.current),F.removeEventListener("resize",H),J&&J.disconnect()}},[L,P,A]),hi(()=>{P()});const X=H=>{v||P();const D=H.target,F=D.value.length,J=D.value.endsWith(`
`),Q=D.selectionStart===F;J&&Q&&D.setSelectionRange(F,F),c&&c(H)};return B.jsxs(w.Fragment,{children:[B.jsx("textarea",{value:_,onChange:X,ref:R,rows:f,style:g,...y}),B.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:M,tabIndex:-1,style:{...qO.shadow,...g,paddingTop:0,paddingBottom:0}})]})});function zf(r){return typeof r=="string"}function Yh({props:r,states:s,muiFormControl:n}){return s.reduce((c,h)=>(c[h]=r[h],n&&typeof r[h]>"u"&&(c[h]=n[h]),c),{})}const xT=w.createContext(void 0);function Kh(){return w.useContext(xT)}function uy(r){return r!=null&&!(Array.isArray(r)&&r.length===0)}function Qm(r,s=!1){return r&&(uy(r.value)&&r.value!==""||s&&uy(r.defaultValue)&&r.defaultValue!=="")}function eA(r){return r.startAdornment}function tA(r){return wt("MuiInputBase",r)}const Fh=Ot("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var dy;const _$=(r,s)=>{const{ownerState:n}=r;return[s.root,n.formControl&&s.formControl,n.startAdornment&&s.adornedStart,n.endAdornment&&s.adornedEnd,n.error&&s.error,n.size==="small"&&s.sizeSmall,n.multiline&&s.multiline,n.color&&s[`color${Et(n.color)}`],n.fullWidth&&s.fullWidth,n.hiddenLabel&&s.hiddenLabel]},T$=(r,s)=>{const{ownerState:n}=r;return[s.input,n.size==="small"&&s.inputSizeSmall,n.multiline&&s.inputMultiline,n.type==="search"&&s.inputTypeSearch,n.startAdornment&&s.inputAdornedStart,n.endAdornment&&s.inputAdornedEnd,n.hiddenLabel&&s.inputHiddenLabel]},oA=r=>{const{classes:s,color:n,disabled:c,error:h,endAdornment:f,focused:g,formControl:_,fullWidth:y,hiddenLabel:v,multiline:I,readOnly:R,size:N,startAdornment:M,type:L}=r,A={root:["root",`color${Et(n)}`,c&&"disabled",h&&"error",y&&"fullWidth",g&&"focused",_&&"formControl",N&&N!=="medium"&&`size${Et(N)}`,I&&"multiline",M&&"adornedStart",f&&"adornedEnd",v&&"hiddenLabel",R&&"readOnly"],input:["input",c&&"disabled",L==="search"&&"inputTypeSearch",I&&"inputMultiline",N==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",M&&"inputAdornedStart",f&&"inputAdornedEnd",R&&"readOnly"]};return At(A,tA,s)},E$=Qe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_$})(Gt(({theme:r})=>({...r.typography.body1,color:(r.vars||r).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Fh.disabled}`]:{color:(r.vars||r).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:n})=>s.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),b$=Qe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:T$})(Gt(({theme:r})=>{const s=r.palette.mode==="light",n={color:"currentColor",...r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:r.transitions.create("opacity",{duration:r.transitions.duration.shorter})},c={opacity:"0 !important"},h=r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Fh.formControl} &`]:{"&::-webkit-input-placeholder":c,"&::-moz-placeholder":c,"&::-ms-input-placeholder":c,"&:focus::-webkit-input-placeholder":h,"&:focus::-moz-placeholder":h,"&:focus::-ms-input-placeholder":h},[`&.${Fh.disabled}`]:{opacity:1,WebkitTextFillColor:(r.vars||r).palette.text.disabled},variants:[{props:({ownerState:f})=>!f.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:f})=>f.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),hy=OT({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),LT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiInputBase"}),{"aria-describedby":h,autoComplete:f,autoFocus:g,className:_,color:y,components:v={},componentsProps:I={},defaultValue:R,disabled:N,disableInjectingGlobalStyles:M,endAdornment:L,error:A,fullWidth:P=!1,id:W,inputComponent:X="input",inputProps:H={},inputRef:D,margin:F,maxRows:J,minRows:Q,multiline:ne=!1,name:ae,onBlur:S,onChange:oe,onClick:ge,onFocus:me,onKeyDown:ye,onKeyUp:Y,placeholder:ue,readOnly:ve,renderSuffix:$e,rows:he,size:U,slotProps:ie={},slots:Ee={},startAdornment:Ae,type:fe="text",value:Ue,...Le}=c,Fe=H.value!=null?H.value:Ue,{current:Be}=w.useRef(Fe!=null),tt=w.useRef(),Ke=w.useCallback(E=>{},[]),it=jo(tt,D,H.ref,Ke),[Ie,ft]=w.useState(!1),He=Kh(),Tt=Yh({props:c,muiFormControl:He,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Tt.focused=He?He.focused:Ie,w.useEffect(()=>{!He&&N&&Ie&&(ft(!1),S&&S())},[He,N,Ie,S]);const Ct=He&&He.onFilled,bt=He&&He.onEmpty,ht=w.useCallback(E=>{Qm(E)?Ct&&Ct():bt&&bt()},[Ct,bt]);hi(()=>{Be&&ht({value:Fe})},[Fe,ht,Be]);const gt=E=>{me&&me(E),H.onFocus&&H.onFocus(E),He&&He.onFocus?He.onFocus(E):ft(!0)},ct=E=>{S&&S(E),H.onBlur&&H.onBlur(E),He&&He.onBlur?He.onBlur(E):ft(!1)},_t=(E,...x)=>{if(!Be){const K=E.target||tt.current;if(K==null)throw new Error(sa(1));ht({value:K.value})}H.onChange&&H.onChange(E,...x),oe&&oe(E,...x)};w.useEffect(()=>{ht(tt.current)},[]);const Me=E=>{tt.current&&E.currentTarget===E.target&&tt.current.focus(),ge&&ge(E)};let le=X,De=H;ne&&le==="input"&&(he?De={type:void 0,minRows:he,maxRows:he,...De}:De={type:void 0,maxRows:J,minRows:Q,...De},le=ZO);const _o=E=>{ht(E.animationName==="mui-auto-fill-cancel"?tt.current:{value:"x"})};w.useEffect(()=>{He&&He.setAdornedStart(!!Ae)},[He,Ae]);const ut={...c,color:Tt.color||"primary",disabled:Tt.disabled,endAdornment:L,error:Tt.error,focused:Tt.focused,formControl:He,fullWidth:P,hiddenLabel:Tt.hiddenLabel,multiline:ne,size:Tt.size,startAdornment:Ae,type:fe},io=oA(ut),st=Ee.root||v.Root||E$,zt=ie.root||I.root||{},j=Ee.input||v.Input||b$;return De={...De,...ie.input??I.input},B.jsxs(w.Fragment,{children:[!M&&typeof hy=="function"&&(dy||(dy=B.jsx(hy,{}))),B.jsxs(st,{...zt,ref:n,onClick:Me,...Le,...!zf(st)&&{ownerState:{...ut,...zt.ownerState}},className:pt(io.root,zt.className,_,ve&&"MuiInputBase-readOnly"),children:[Ae,B.jsx(xT.Provider,{value:null,children:B.jsx(j,{"aria-invalid":Tt.error,"aria-describedby":h,autoComplete:f,autoFocus:g,defaultValue:R,disabled:Tt.disabled,id:W,onAnimationStart:_o,name:ae,placeholder:ue,readOnly:ve,required:Tt.required,rows:he,value:Fe,onKeyDown:ye,onKeyUp:Y,type:fe,...De,...!zf(j)&&{as:le,ownerState:{...ut,...De.ownerState}},ref:it,className:pt(io.input,De.className,ve&&"MuiInputBase-readOnly"),onBlur:ct,onChange:_t,onFocus:gt})}),L,$e?$e({...Tt,startAdornment:Ae}):null]})]})});function rA(r){return wt("MuiInput",r)}const bf={...Fh,...Ot("MuiInput",["root","underline","input"])},nA=r=>{const{classes:s,disableUnderline:n}=r,h=At({root:["root",!n&&"underline"],input:["input"]},rA,s);return{...s,...h}},iA=Qe(E$,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiInput",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[..._$(r,s),!n.disableUnderline&&s.underline]}})(Gt(({theme:r})=>{let n=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(n=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:c})=>c.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bf.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bf.disabled}, .${bf.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${bf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(r.palette).filter(el()).map(([c])=>({props:{color:c,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[c].main}`}}}))]}})),sA=Qe(b$,{name:"MuiInput",slot:"Input",overridesResolver:T$})({}),NT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiInput"}),{disableUnderline:h=!1,components:f={},componentsProps:g,fullWidth:_=!1,inputComponent:y="input",multiline:v=!1,slotProps:I,slots:R={},type:N="text",...M}=c,L=nA(c),P={root:{ownerState:{disableUnderline:h}}},W=I??g?wr(I??g,P):P,X=R.root??f.Root??iA,H=R.input??f.Input??sA;return B.jsx(LT,{slots:{root:X,input:H},slotProps:W,fullWidth:_,inputComponent:y,multiline:v,ref:n,type:N,...M,classes:L})});NT.muiName="Input";function lA(r){return wt("MuiFilledInput",r)}const Mu={...Fh,...Ot("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])};function py(...r){return r.reduce((s,n)=>n==null?s:function(...h){s.apply(this,h),n.apply(this,h)},()=>{})}function aA(r){return wt("MuiSvgIcon",r)}Ot("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const cA=r=>{const{color:s,fontSize:n,classes:c}=r,h={root:["root",s!=="inherit"&&`color${Et(s)}`,`fontSize${Et(n)}`]};return At(h,aA,c)},uA=Qe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.color!=="inherit"&&s[`color${Et(n.color)}`],s[`fontSize${Et(n.fontSize)}`]]}})(Gt(({theme:r})=>{var s,n,c,h,f,g,_,y,v,I,R,N,M,L;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(h=(s=r.transitions)==null?void 0:s.create)==null?void 0:h.call(s,"fill",{duration:(c=(n=(r.vars??r).transitions)==null?void 0:n.duration)==null?void 0:c.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((g=(f=r.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((y=(_=r.typography)==null?void 0:_.pxToRem)==null?void 0:y.call(_,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((I=(v=r.typography)==null?void 0:v.pxToRem)==null?void 0:I.call(v,35))||"2.1875rem"}},...Object.entries((r.vars??r).palette).filter(([,A])=>A&&A.main).map(([A])=>{var P,W;return{props:{color:A},style:{color:(W=(P=(r.vars??r).palette)==null?void 0:P[A])==null?void 0:W.main}}}),{props:{color:"action"},style:{color:(N=(R=(r.vars??r).palette)==null?void 0:R.action)==null?void 0:N.active}},{props:{color:"disabled"},style:{color:(L=(M=(r.vars??r).palette)==null?void 0:M.action)==null?void 0:L.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Y_=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiSvgIcon"}),{children:h,className:f,color:g="inherit",component:_="svg",fontSize:y="medium",htmlColor:v,inheritViewBox:I=!1,titleAccess:R,viewBox:N="0 0 24 24",...M}=c,L=w.isValidElement(h)&&h.type==="svg",A={...c,color:g,component:_,fontSize:y,instanceFontSize:s.fontSize,inheritViewBox:I,viewBox:N,hasSvgAsChild:L},P={};I||(P.viewBox=N);const W=cA(A);return B.jsxs(uA,{as:_,className:pt(W.root,f),focusable:"false",color:v,"aria-hidden":R?void 0:!0,role:R?"img":void 0,ref:n,...P,...M,...L&&h.props,ownerState:A,children:[L?h.props.children:h,R?B.jsx("title",{children:R}):null]})});Y_.muiName="SvgIcon";function ng(r,s){function n(c,h){return B.jsx(Y_,{"data-testid":void 0,ref:h,...c,children:r})}return n.muiName=Y_.muiName,w.memo(w.forwardRef(n))}function fy(r,s){typeof r=="function"?r(s):r&&(r.current=s)}function K_(r){const{controlled:s,default:n,name:c,state:h="value"}=r,{current:f}=w.useRef(s!==void 0),[g,_]=w.useState(n),y=f?s:g,v=w.useCallback(I=>{f||_(I)},[]);return[y,v]}function dA(r,s){const n=r.charCodeAt(2);return r[0]==="o"&&r[1]==="n"&&n>=65&&n<=90&&typeof s=="function"}function hA(r,s){if(!r)return s;function n(g,_){const y={};return Object.keys(_).forEach(v=>{dA(v,_[v])&&typeof g[v]=="function"&&(y[v]=(...I)=>{g[v](...I),_[v](...I)})}),y}if(typeof r=="function"||typeof s=="function")return g=>{const _=typeof s=="function"?s(g):s,y=typeof r=="function"?r({...g,..._}):r,v=pt(g==null?void 0:g.className,_==null?void 0:_.className,y==null?void 0:y.className),I=n(y,_);return{..._,...y,...I,...!!v&&{className:v},...(_==null?void 0:_.style)&&(y==null?void 0:y.style)&&{style:{..._.style,...y.style}},...(_==null?void 0:_.sx)&&(y==null?void 0:y.sx)&&{sx:[...Array.isArray(_.sx)?_.sx:[_.sx],...Array.isArray(y.sx)?y.sx:[y.sx]]}}};const c=s,h=n(r,c),f=pt(c==null?void 0:c.className,r==null?void 0:r.className);return{...s,...r,...h,...!!f&&{className:f},...(c==null?void 0:c.style)&&(r==null?void 0:r.style)&&{style:{...c.style,...r.style}},...(c==null?void 0:c.sx)&&(r==null?void 0:r.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(r.sx)?r.sx:[r.sx]]}}}const pA=r=>{const{classes:s,disableUnderline:n,startAdornment:c,endAdornment:h,size:f,hiddenLabel:g,multiline:_}=r,y={root:["root",!n&&"underline",c&&"adornedStart",h&&"adornedEnd",f==="small"&&`size${Et(f)}`,g&&"hiddenLabel",_&&"multiline"],input:["input"]},v=At(y,lA,s);return{...s,...v}},fA=Qe(E$,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[..._$(r,s),!n.disableUnderline&&s.underline]}})(Gt(({theme:r})=>{const s=r.palette.mode==="light",n=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",h=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:r.vars?r.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:h,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:c}},[`&.${Mu.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:c},[`&.${Mu.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:f},variants:[{props:({ownerState:g})=>!g.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mu.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mu.disabled}, .${Mu.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${Mu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(r.palette).filter(el()).map(([g])=>{var _;return{props:{disableUnderline:!1,color:g},style:{"&::after":{borderBottom:`2px solid ${(_=(r.vars||r).palette[g])==null?void 0:_.main}`}}}}),{props:({ownerState:g})=>g.startAdornment,style:{paddingLeft:12}},{props:({ownerState:g})=>g.endAdornment,style:{paddingRight:12}},{props:({ownerState:g})=>g.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:g,size:_})=>g.multiline&&_==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:g})=>g.multiline&&g.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:g})=>g.multiline&&g.hiddenLabel&&g.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),gA=Qe(b$,{name:"MuiFilledInput",slot:"Input",overridesResolver:T$})(Gt(({theme:r})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...r.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),MT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiFilledInput"}),{disableUnderline:h=!1,components:f={},componentsProps:g,fullWidth:_=!1,hiddenLabel:y,inputComponent:v="input",multiline:I=!1,slotProps:R,slots:N={},type:M="text",...L}=c,A={...c,disableUnderline:h,fullWidth:_,inputComponent:v,multiline:I,type:M},P=pA(c),W={root:{ownerState:A},input:{ownerState:A}},X=R??g?wr(W,R??g):W,H=N.root??f.Root??fA,D=N.input??f.Input??gA;return B.jsx(LT,{slots:{root:H,input:D},slotProps:X,fullWidth:_,inputComponent:v,multiline:I,ref:n,type:M,...L,classes:P})});MT.muiName="Input";var gy;const mA=Qe("fieldset",{shouldForwardProp:mi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$A=Qe("legend",{shouldForwardProp:mi})(Gt(({theme:r})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}}]})));function _A(r){const{children:s,classes:n,className:c,label:h,notched:f,...g}=r,_=h!=null&&h!=="",y={...r,notched:f,withLabel:_};return B.jsx(mA,{"aria-hidden":!0,className:c,ownerState:y,...g,children:B.jsx($A,{ownerState:y,children:_?B.jsx("span",{children:h}):gy||(gy=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}function TA(r){return wt("MuiOutlinedInput",r)}const js={...Fh,...Ot("MuiOutlinedInput",["root","notchedOutline","input"])};function EA(r){return typeof r=="string"}function oS(r,s,n){return r===void 0||EA(r)?s:{...s,ownerState:{...s.ownerState,...n}}}function rS(r,s,n){return typeof r=="function"?r(s,n):r}function nS(r,s=[]){if(r===void 0)return{};const n={};return Object.keys(r).filter(c=>c.match(/^on[A-Z]/)&&typeof r[c]=="function"&&!s.includes(c)).forEach(c=>{n[c]=r[c]}),n}function my(r){if(r===void 0)return{};const s={};return Object.keys(r).filter(n=>!(n.match(/^on[A-Z]/)&&typeof r[n]=="function")).forEach(n=>{s[n]=r[n]}),s}function iS(r){const{getSlotProps:s,additionalProps:n,externalSlotProps:c,externalForwardedProps:h,className:f}=r;if(!s){const M=pt(n==null?void 0:n.className,f,h==null?void 0:h.className,c==null?void 0:c.className),L={...n==null?void 0:n.style,...h==null?void 0:h.style,...c==null?void 0:c.style},A={...n,...h,...c};return M.length>0&&(A.className=M),Object.keys(L).length>0&&(A.style=L),{props:A,internalRef:void 0}}const g=nS({...h,...c}),_=my(c),y=my(h),v=s(g),I=pt(v==null?void 0:v.className,n==null?void 0:n.className,f,h==null?void 0:h.className,c==null?void 0:c.className),R={...v==null?void 0:v.style,...n==null?void 0:n.style,...h==null?void 0:h.style,...c==null?void 0:c.style},N={...v,...n,...y,..._};return I.length>0&&(N.className=I),Object.keys(R).length>0&&(N.style=R),{props:N,internalRef:v.ref}}function Ao(r,s){const{className:n,elementType:c,ownerState:h,externalForwardedProps:f,internalForwardedProps:g,shouldForwardComponentProp:_=!1,...y}=s,{component:v,slots:I={[r]:void 0},slotProps:R={[r]:void 0},...N}=f,M=I[r]||c,L=rS(R[r],h),{props:{component:A,...P},internalRef:W}=iS({className:n,...y,externalForwardedProps:r==="root"?N:void 0,externalSlotProps:L}),X=jo(W,L==null?void 0:L.ref,s.ref),H=r==="root"?A||v:A,D=oS(M,{...r==="root"&&!v&&!I[r]&&g,...r!=="root"&&!I[r]&&g,...P,...H&&!_&&{as:H},...H&&_&&{component:H},ref:X},h);return[M,D]}const bA=r=>{const{classes:s}=r,c=At({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},TA,s);return{...s,...c}},yA=Qe(E$,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:_$})(Gt(({theme:r})=>{const s=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${js.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${js.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${js.focused} .${js.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(r.palette).filter(el()).map(([n])=>({props:{color:n},style:{[`&.${js.focused} .${js.notchedOutline}`]:{borderColor:(r.vars||r).palette[n].main}}})),{props:{},style:{[`&.${js.error} .${js.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},[`&.${js.disabled} .${js.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:c})=>n.multiline&&c==="small",style:{padding:"8.5px 14px"}}]}})),vA=Qe(_A,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Gt(({theme:r})=>{const s=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:s}})),SA=Qe(b$,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:T$})(Gt(({theme:r})=>({padding:"16.5px 14px",...!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...r.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),DT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiOutlinedInput"}),{components:h={},fullWidth:f=!1,inputComponent:g="input",label:_,multiline:y=!1,notched:v,slots:I={},slotProps:R={},type:N="text",...M}=c,L=bA(c),A=Kh(),P=Yh({props:c,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),W={...c,color:P.color||"primary",disabled:P.disabled,error:P.error,focused:P.focused,formControl:A,fullWidth:f,hiddenLabel:P.hiddenLabel,multiline:y,size:P.size,type:N},X=I.root??h.Root??yA,H=I.input??h.Input??SA,[D,F]=Ao("notchedOutline",{elementType:vA,className:L.notchedOutline,shouldForwardComponentProp:!0,ownerState:W,externalForwardedProps:{slots:I,slotProps:R},additionalProps:{label:_!=null&&_!==""&&P.required?B.jsxs(w.Fragment,{children:[_," ","*"]}):_}});return B.jsx(LT,{slots:{root:X,input:H},slotProps:R,renderSuffix:J=>B.jsx(D,{...F,notched:typeof v<"u"?v:!!(J.startAdornment||J.filled||J.focused)}),fullWidth:f,inputComponent:g,multiline:y,ref:n,type:N,...M,classes:{...L,notchedOutline:null}})});DT.muiName="Input";function IA(r){return wt("MuiFormLabel",r)}const Nf=Ot("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),CA=r=>{const{classes:s,color:n,focused:c,disabled:h,error:f,filled:g,required:_}=r,y={root:["root",`color${Et(n)}`,h&&"disabled",f&&"error",g&&"filled",c&&"focused",_&&"required"],asterisk:["asterisk",f&&"error"]};return At(y,IA,s)},kA=Qe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.color==="secondary"&&s.colorSecondary,n.filled&&s.filled]}})(Gt(({theme:r})=>({color:(r.vars||r).palette.text.secondary,...r.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(r.palette).filter(el()).map(([s])=>({props:{color:s},style:{[`&.${Nf.focused}`]:{color:(r.vars||r).palette[s].main}}})),{props:{},style:{[`&.${Nf.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${Nf.error}`]:{color:(r.vars||r).palette.error.main}}}]}))),RA=Qe("span",{name:"MuiFormLabel",slot:"Asterisk"})(Gt(({theme:r})=>({[`&.${Nf.error}`]:{color:(r.vars||r).palette.error.main}}))),wA=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiFormLabel"}),{children:h,className:f,color:g,component:_="label",disabled:y,error:v,filled:I,focused:R,required:N,...M}=c,L=Kh(),A=Yh({props:c,muiFormControl:L,states:["color","required","focused","disabled","error","filled"]}),P={...c,color:A.color||"primary",component:_,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required},W=CA(P);return B.jsxs(kA,{as:_,ownerState:P,className:pt(W.root,f),ref:n,...M,children:[h,A.required&&B.jsxs(RA,{ownerState:P,"aria-hidden":!0,className:W.asterisk,children:[" ","*"]})]})});function OA(r){return wt("MuiInputLabel",r)}Ot("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const AA=r=>{const{classes:s,formControl:n,size:c,shrink:h,disableAnimation:f,variant:g,required:_}=r,y={root:["root",n&&"formControl",!f&&"animated",h&&"shrink",c&&c!=="medium"&&`size${Et(c)}`,g],asterisk:[_&&"asterisk"]},v=At(y,OA,s);return{...s,...v}},xA=Qe(wA,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[{[`& .${Nf.asterisk}`]:s.asterisk},s.root,n.formControl&&s.formControl,n.size==="small"&&s.sizeSmall,n.shrink&&s.shrink,!n.disableAnimation&&s.animated,n.focused&&s.focused,s[n.variant]]}})(Gt(({theme:r})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:r.transitions.create(["color","transform","max-width"],{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:n})=>s==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:n,size:c})=>s==="filled"&&n.shrink&&c==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:n})=>s==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),ig=w.forwardRef(function(s,n){const c=xt({name:"MuiInputLabel",props:s}),{disableAnimation:h=!1,margin:f,shrink:g,variant:_,className:y,...v}=c,I=Kh();let R=g;typeof R>"u"&&I&&(R=I.filled||I.focused||I.adornedStart);const N=Yh({props:c,muiFormControl:I,states:["size","variant","required","focused"]}),M={...c,disableAnimation:h,formControl:I,shrink:R,size:N.size,variant:N.variant,required:N.required,focused:N.focused},L=AA(M);return B.jsx(xA,{"data-shrink":R,ref:n,className:pt(L.root,y),...v,ownerState:M,classes:L})});function LA(r){return wt("MuiFormControl",r)}Ot("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const NA=r=>{const{classes:s,margin:n,fullWidth:c}=r,h={root:["root",n!=="none"&&`margin${Et(n)}`,c&&"fullWidth"]};return At(h,LA,s)},MA=Qe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`margin${Et(n.margin)}`],n.fullWidth&&s.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),sg=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiFormControl"}),{children:h,className:f,color:g="primary",component:_="div",disabled:y=!1,error:v=!1,focused:I,fullWidth:R=!1,hiddenLabel:N=!1,margin:M="none",required:L=!1,size:A="medium",variant:P="outlined",...W}=c,X={...c,color:g,component:_,disabled:y,error:v,fullWidth:R,hiddenLabel:N,margin:M,required:L,size:A,variant:P},H=NA(X),[D,F]=w.useState(()=>{let Y=!1;return h&&w.Children.forEach(h,ue=>{if(!xf(ue,["Input","Select"]))return;const ve=xf(ue,["Select"])?ue.props.input:ue;ve&&eA(ve.props)&&(Y=!0)}),Y}),[J,Q]=w.useState(()=>{let Y=!1;return h&&w.Children.forEach(h,ue=>{xf(ue,["Input","Select"])&&(Qm(ue.props,!0)||Qm(ue.props.inputProps,!0))&&(Y=!0)}),Y}),[ne,ae]=w.useState(!1);y&&ne&&ae(!1);const S=I!==void 0&&!y?I:ne;let oe;w.useRef(!1);const ge=w.useCallback(()=>{Q(!0)},[]),me=w.useCallback(()=>{Q(!1)},[]),ye=w.useMemo(()=>({adornedStart:D,setAdornedStart:F,color:g,disabled:y,error:v,filled:J,focused:S,fullWidth:R,hiddenLabel:N,size:A,onBlur:()=>{ae(!1)},onFocus:()=>{ae(!0)},onEmpty:me,onFilled:ge,registerEffect:oe,required:L,variant:P}),[D,g,y,v,J,S,R,N,oe,me,ge,L,A,P]);return B.jsx(xT.Provider,{value:ye,children:B.jsx(MA,{as:_,ownerState:X,className:pt(H.root,f),ref:n,...W,children:h})})});function DA(r){return wt("MuiFormHelperText",r)}const $y=Ot("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _y;const PA=r=>{const{classes:s,contained:n,size:c,disabled:h,error:f,filled:g,focused:_,required:y}=r,v={root:["root",h&&"disabled",f&&"error",c&&`size${Et(c)}`,n&&"contained",_&&"focused",g&&"filled",y&&"required"]};return At(v,DA,s)},BA=Qe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.size&&s[`size${Et(n.size)}`],n.contained&&s.contained,n.filled&&s.filled]}})(Gt(({theme:r})=>({color:(r.vars||r).palette.text.secondary,...r.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${$y.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${$y.error}`]:{color:(r.vars||r).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),FA=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiFormHelperText"}),{children:h,className:f,component:g="p",disabled:_,error:y,filled:v,focused:I,margin:R,required:N,variant:M,...L}=c,A=Kh(),P=Yh({props:c,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),W={...c,component:g,contained:P.variant==="filled"||P.variant==="outlined",variant:P.variant,size:P.size,disabled:P.disabled,error:P.error,filled:P.filled,focused:P.focused,required:P.required};delete W.ownerState;const X=PA(W);return B.jsx(BA,{as:g,className:pt(X.root,f),ref:n,...L,ownerState:W,children:h===" "?_y||(_y=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):h})});function Jh(r){var s;return parseInt(w.version,10)>=19?((s=r==null?void 0:r.props)==null?void 0:s.ref)||null:(r==null?void 0:r.ref)||null}function sS(r){var R;const{elementType:s,externalSlotProps:n,ownerState:c,skipResolvingSlotProps:h=!1,...f}=r,g=h?{}:rS(n,c),{props:_,internalRef:y}=iS({...f,externalSlotProps:g}),v=jo(y,g==null?void 0:g.ref,(R=r.additionalProps)==null?void 0:R.ref);return oS(s,{..._,ref:v},c)}const Qs=w.createContext({});function UA(r){return wt("MuiList",r)}Ot("MuiList",["root","padding","dense","subheader"]);const HA=r=>{const{classes:s,disablePadding:n,dense:c,subheader:h}=r;return At({root:["root",!n&&"padding",c&&"dense",h&&"subheader"]},UA,s)},GA=Qe("ul",{name:"MuiList",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,!n.disablePadding&&s.padding,n.dense&&s.dense,n.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:r})=>!r.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:r})=>r.subheader,style:{paddingTop:0}}]}),lg=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiList"}),{children:h,className:f,component:g="ul",dense:_=!1,disablePadding:y=!1,subheader:v,...I}=c,R=w.useMemo(()=>({dense:_}),[_]),N={...c,component:g,dense:_,disablePadding:y},M=HA(N);return B.jsx(Qs.Provider,{value:R,children:B.jsxs(GA,{as:g,className:pt(M.root,f),ref:n,ownerState:N,...I,children:[v,h]})})});function lS(r=window){const s=r.document.documentElement.clientWidth;return r.innerWidth-s}function N_(r,s,n){return r===s?r.firstChild:s&&s.nextElementSibling?s.nextElementSibling:n?null:r.firstChild}function Ty(r,s,n){return r===s?n?r.firstChild:r.lastChild:s&&s.previousElementSibling?s.previousElementSibling:n?null:r.lastChild}function aS(r,s){if(s===void 0)return!0;let n=r.innerText;return n===void 0&&(n=r.textContent),n=n.trim().toLowerCase(),n.length===0?!1:s.repeating?n[0]===s.keys[0]:n.startsWith(s.keys.join(""))}function yf(r,s,n,c,h,f){let g=!1,_=h(r,s,s?n:!1);for(;_;){if(_===r.firstChild){if(g)return!1;g=!0}const y=c?!1:_.disabled||_.getAttribute("aria-disabled")==="true";if(!_.hasAttribute("tabindex")||!aS(_,f)||y)_=h(r,_,n);else return _.focus(),!0}return!1}const VA=w.forwardRef(function(s,n){const{actions:c,autoFocus:h=!1,autoFocusItem:f=!1,children:g,className:_,disabledItemsFocusable:y=!1,disableListWrap:v=!1,onKeyDown:I,variant:R="selectedMenu",...N}=s,M=w.useRef(null),L=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});hi(()=>{h&&M.current.focus()},[h]),w.useImperativeHandle(c,()=>({adjustStyleForScrollbar:(H,{direction:D})=>{const F=!M.current.style.width;if(H.clientHeight<M.current.clientHeight&&F){const J=`${lS(aa(H))}px`;M.current.style[D==="rtl"?"paddingLeft":"paddingRight"]=J,M.current.style.width=`calc(100% + ${J})`}return M.current}}),[]);const A=H=>{const D=M.current,F=H.key;if(H.ctrlKey||H.metaKey||H.altKey){I&&I(H);return}const Q=Pn(D).activeElement;if(F==="ArrowDown")H.preventDefault(),yf(D,Q,v,y,N_);else if(F==="ArrowUp")H.preventDefault(),yf(D,Q,v,y,Ty);else if(F==="Home")H.preventDefault(),yf(D,null,v,y,N_);else if(F==="End")H.preventDefault(),yf(D,null,v,y,Ty);else if(F.length===1){const ne=L.current,ae=F.toLowerCase(),S=performance.now();ne.keys.length>0&&(S-ne.lastTime>500?(ne.keys=[],ne.repeating=!0,ne.previousKeyMatched=!0):ne.repeating&&ae!==ne.keys[0]&&(ne.repeating=!1)),ne.lastTime=S,ne.keys.push(ae);const oe=Q&&!ne.repeating&&aS(Q,ne);ne.previousKeyMatched&&(oe||yf(D,Q,!1,y,N_,ne))?H.preventDefault():ne.previousKeyMatched=!1}I&&I(H)},P=jo(M,n);let W=-1;w.Children.forEach(g,(H,D)=>{if(!w.isValidElement(H)){W===D&&(W+=1,W>=g.length&&(W=-1));return}H.props.disabled||(R==="selectedMenu"&&H.props.selected||W===-1)&&(W=D),W===D&&(H.props.disabled||H.props.muiSkipListHighlight||H.type.muiSkipListHighlight)&&(W+=1,W>=g.length&&(W=-1))});const X=w.Children.map(g,(H,D)=>{if(D===W){const F={};return f&&(F.autoFocus=!0),H.props.tabIndex===void 0&&R==="selectedMenu"&&(F.tabIndex=0),w.cloneElement(H,F)}return H});return B.jsx(lg,{role:"menu",ref:P,className:_,onKeyDown:A,tabIndex:h?0:-1,...N,children:X})}),Ey={};function cS(r,s){const n=w.useRef(Ey);return n.current===Ey&&(n.current=r(s)),n}const WA=[];function zA(r){w.useEffect(r,WA)}class y${constructor(){$f(this,"currentId",null);$f(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});$f(this,"disposeEffect",()=>this.clear)}static create(){return new y$}start(s,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},s)}}function Bu(){const r=cS(y$.create).current;return zA(r.disposeEffect),r}function uS(r,s){if(r==null)return{};var n={};for(var c in r)if({}.hasOwnProperty.call(r,c)){if(s.indexOf(c)!==-1)continue;n[c]=r[c]}return n}function J_(r,s){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,c){return n.__proto__=c,n},J_(r,s)}function dS(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,J_(r,s)}var hS=rv();const Sm=sT(hS),by={disabled:!1},Zm=sr.createContext(null);var jA=function(s){return s.scrollTop},Of="unmounted",Du="exited",Pu="entering",Ah="entered",q_="exiting",ss=function(r){dS(s,r);function s(c,h){var f;f=r.call(this,c,h)||this;var g=h,_=g&&!g.isMounting?c.enter:c.appear,y;return f.appearStatus=null,c.in?_?(y=Du,f.appearStatus=Pu):y=Ah:c.unmountOnExit||c.mountOnEnter?y=Of:y=Du,f.state={status:y},f.nextCallback=null,f}s.getDerivedStateFromProps=function(h,f){var g=h.in;return g&&f.status===Of?{status:Du}:null};var n=s.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(h){var f=null;if(h!==this.props){var g=this.state.status;this.props.in?g!==Pu&&g!==Ah&&(f=Pu):(g===Pu||g===Ah)&&(f=q_)}this.updateStatus(!1,f)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var h=this.props.timeout,f,g,_;return f=g=_=h,h!=null&&typeof h!="number"&&(f=h.exit,g=h.enter,_=h.appear!==void 0?h.appear:g),{exit:f,enter:g,appear:_}},n.updateStatus=function(h,f){if(h===void 0&&(h=!1),f!==null)if(this.cancelNextCallback(),f===Pu){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:Sm.findDOMNode(this);g&&jA(g)}this.performEnter(h)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Du&&this.setState({status:Of})},n.performEnter=function(h){var f=this,g=this.props.enter,_=this.context?this.context.isMounting:h,y=this.props.nodeRef?[_]:[Sm.findDOMNode(this),_],v=y[0],I=y[1],R=this.getTimeouts(),N=_?R.appear:R.enter;if(!h&&!g||by.disabled){this.safeSetState({status:Ah},function(){f.props.onEntered(v)});return}this.props.onEnter(v,I),this.safeSetState({status:Pu},function(){f.props.onEntering(v,I),f.onTransitionEnd(N,function(){f.safeSetState({status:Ah},function(){f.props.onEntered(v,I)})})})},n.performExit=function(){var h=this,f=this.props.exit,g=this.getTimeouts(),_=this.props.nodeRef?void 0:Sm.findDOMNode(this);if(!f||by.disabled){this.safeSetState({status:Du},function(){h.props.onExited(_)});return}this.props.onExit(_),this.safeSetState({status:q_},function(){h.props.onExiting(_),h.onTransitionEnd(g.exit,function(){h.safeSetState({status:Du},function(){h.props.onExited(_)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(h,f){f=this.setNextCallback(f),this.setState(h,f)},n.setNextCallback=function(h){var f=this,g=!0;return this.nextCallback=function(_){g&&(g=!1,f.nextCallback=null,h(_))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},n.onTransitionEnd=function(h,f){this.setNextCallback(f);var g=this.props.nodeRef?this.props.nodeRef.current:Sm.findDOMNode(this),_=h==null&&!this.props.addEndListener;if(!g||_){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],v=y[0],I=y[1];this.props.addEndListener(v,I)}h!=null&&setTimeout(this.nextCallback,h)},n.render=function(){var h=this.state.status;if(h===Of)return null;var f=this.props,g=f.children;f.in,f.mountOnEnter,f.unmountOnExit,f.appear,f.enter,f.exit,f.timeout,f.addEndListener,f.onEnter,f.onEntering,f.onEntered,f.onExit,f.onExiting,f.onExited,f.nodeRef;var _=uS(f,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sr.createElement(Zm.Provider,{value:null},typeof g=="function"?g(h,_):sr.cloneElement(sr.Children.only(g),_))},s}(sr.Component);ss.contextType=Zm;ss.propTypes={};function wh(){}ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wh,onEntering:wh,onEntered:wh,onExit:wh,onExiting:wh,onExited:wh};ss.UNMOUNTED=Of;ss.EXITED=Du;ss.ENTERING=Pu;ss.ENTERED=Ah;ss.EXITING=q_;function XA(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PT(r,s){var n=function(f){return s&&w.isValidElement(f)?s(f):f},c=Object.create(null);return r&&w.Children.map(r,function(h){return h}).forEach(function(h){c[h.key]=n(h)}),c}function YA(r,s){r=r||{},s=s||{};function n(I){return I in s?s[I]:r[I]}var c=Object.create(null),h=[];for(var f in r)f in s?h.length&&(c[f]=h,h=[]):h.push(f);var g,_={};for(var y in s){if(c[y])for(g=0;g<c[y].length;g++){var v=c[y][g];_[c[y][g]]=n(v)}_[y]=n(y)}for(g=0;g<h.length;g++)_[h[g]]=n(h[g]);return _}function Fu(r,s,n){return n[s]!=null?n[s]:r.props[s]}function KA(r,s){return PT(r.children,function(n){return w.cloneElement(n,{onExited:s.bind(null,n),in:!0,appear:Fu(n,"appear",r),enter:Fu(n,"enter",r),exit:Fu(n,"exit",r)})})}function JA(r,s,n){var c=PT(r.children),h=YA(s,c);return Object.keys(h).forEach(function(f){var g=h[f];if(w.isValidElement(g)){var _=f in s,y=f in c,v=s[f],I=w.isValidElement(v)&&!v.props.in;y&&(!_||I)?h[f]=w.cloneElement(g,{onExited:n.bind(null,g),in:!0,exit:Fu(g,"exit",r),enter:Fu(g,"enter",r)}):!y&&_&&!I?h[f]=w.cloneElement(g,{in:!1}):y&&_&&w.isValidElement(v)&&(h[f]=w.cloneElement(g,{onExited:n.bind(null,g),in:v.props.in,exit:Fu(g,"exit",r),enter:Fu(g,"enter",r)}))}}),h}var qA=Object.values||function(r){return Object.keys(r).map(function(s){return r[s]})},QA={component:"div",childFactory:function(s){return s}},BT=function(r){dS(s,r);function s(c,h){var f;f=r.call(this,c,h)||this;var g=f.handleExited.bind(XA(f));return f.state={contextValue:{isMounting:!0},handleExited:g,firstRender:!0},f}var n=s.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(h,f){var g=f.children,_=f.handleExited,y=f.firstRender;return{children:y?KA(h,_):JA(h,g,_),firstRender:!1}},n.handleExited=function(h,f){var g=PT(this.props.children);h.key in g||(h.props.onExited&&h.props.onExited(f),this.mounted&&this.setState(function(_){var y=jm({},_.children);return delete y[h.key],{children:y}}))},n.render=function(){var h=this.props,f=h.component,g=h.childFactory,_=uS(h,["component","childFactory"]),y=this.state.contextValue,v=qA(this.state.children).map(g);return delete _.appear,delete _.enter,delete _.exit,f===null?sr.createElement(Zm.Provider,{value:y},v):sr.createElement(Zm.Provider,{value:y},sr.createElement(f,_,v))},s}(sr.Component);BT.propTypes={};BT.defaultProps=QA;const pS=r=>r.scrollTop;function Uh(r,s){const{timeout:n,easing:c,style:h={}}=r;return{duration:h.transitionDuration??(typeof n=="number"?n:n[s.mode]||0),easing:h.transitionTimingFunction??(typeof c=="object"?c[s.mode]:c),delay:h.transitionDelay}}function Q_(r){return`scale(${r}, ${r**2})`}const ZA={entering:{opacity:1,transform:Q_(1)},entered:{opacity:1,transform:"none"}},M_=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),e$=w.forwardRef(function(s,n){const{addEndListener:c,appear:h=!0,children:f,easing:g,in:_,onEnter:y,onEntered:v,onEntering:I,onExit:R,onExited:N,onExiting:M,style:L,timeout:A="auto",TransitionComponent:P=ss,...W}=s,X=Bu(),H=w.useRef(),D=Gu(),F=w.useRef(null),J=jo(F,Jh(f),n),Q=Y=>ue=>{if(Y){const ve=F.current;ue===void 0?Y(ve):Y(ve,ue)}},ne=Q(I),ae=Q((Y,ue)=>{pS(Y);const{duration:ve,delay:$e,easing:he}=Uh({style:L,timeout:A,easing:g},{mode:"enter"});let U;A==="auto"?(U=D.transitions.getAutoHeightDuration(Y.clientHeight),H.current=U):U=ve,Y.style.transition=[D.transitions.create("opacity",{duration:U,delay:$e}),D.transitions.create("transform",{duration:M_?U:U*.666,delay:$e,easing:he})].join(","),y&&y(Y,ue)}),S=Q(v),oe=Q(M),ge=Q(Y=>{const{duration:ue,delay:ve,easing:$e}=Uh({style:L,timeout:A,easing:g},{mode:"exit"});let he;A==="auto"?(he=D.transitions.getAutoHeightDuration(Y.clientHeight),H.current=he):he=ue,Y.style.transition=[D.transitions.create("opacity",{duration:he,delay:ve}),D.transitions.create("transform",{duration:M_?he:he*.666,delay:M_?ve:ve||he*.333,easing:$e})].join(","),Y.style.opacity=0,Y.style.transform=Q_(.75),R&&R(Y)}),me=Q(N),ye=Y=>{A==="auto"&&X.start(H.current||0,Y),c&&c(F.current,Y)};return B.jsx(P,{appear:h,in:_,nodeRef:F,onEnter:ae,onEntered:S,onEntering:ne,onExit:ge,onExited:me,onExiting:oe,addEndListener:ye,timeout:A==="auto"?null:A,...W,children:(Y,{ownerState:ue,...ve})=>w.cloneElement(f,{style:{opacity:0,transform:Q_(.75),visibility:Y==="exited"&&!_?"hidden":void 0,...ZA[Y],...L,...f.props.style},ref:J,...ve})})});e$&&(e$.muiSupportAuto=!0);function e0(r){const s=Pn(r);return s.body===r?aa(r).innerWidth>s.documentElement.clientWidth:r.scrollHeight>r.clientHeight}function Mf(r,s){s?r.setAttribute("aria-hidden","true"):r.removeAttribute("aria-hidden")}function yy(r){return parseInt(aa(r).getComputedStyle(r).paddingRight,10)||0}function t0(r){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(r.tagName),c=r.tagName==="INPUT"&&r.getAttribute("type")==="hidden";return n||c}function vy(r,s,n,c,h){const f=[s,n,...c];[].forEach.call(r.children,g=>{const _=!f.includes(g),y=!t0(g);_&&y&&Mf(g,h)})}function D_(r,s){let n=-1;return r.some((c,h)=>s(c)?(n=h,!0):!1),n}function o0(r,s){const n=[],c=r.container;if(!s.disableScrollLock){if(e0(c)){const g=lS(aa(c));n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${yy(c)+g}px`;const _=Pn(c).querySelectorAll(".mui-fixed");[].forEach.call(_,y=>{n.push({value:y.style.paddingRight,property:"padding-right",el:y}),y.style.paddingRight=`${yy(y)+g}px`})}let f;if(c.parentNode instanceof DocumentFragment)f=Pn(c).body;else{const g=c.parentElement,_=aa(c);f=(g==null?void 0:g.nodeName)==="HTML"&&_.getComputedStyle(g).overflowY==="scroll"?g:c}n.push({value:f.style.overflow,property:"overflow",el:f},{value:f.style.overflowX,property:"overflow-x",el:f},{value:f.style.overflowY,property:"overflow-y",el:f}),f.style.overflow="hidden"}return()=>{n.forEach(({value:f,el:g,property:_})=>{f?g.style.setProperty(_,f):g.style.removeProperty(_)})}}function r0(r){const s=[];return[].forEach.call(r.children,n=>{n.getAttribute("aria-hidden")==="true"&&s.push(n)}),s}class n0{constructor(){this.modals=[],this.containers=[]}add(s,n){let c=this.modals.indexOf(s);if(c!==-1)return c;c=this.modals.length,this.modals.push(s),s.modalRef&&Mf(s.modalRef,!1);const h=r0(n);vy(n,s.mount,s.modalRef,h,!0);const f=D_(this.containers,g=>g.container===n);return f!==-1?(this.containers[f].modals.push(s),c):(this.containers.push({modals:[s],container:n,restore:null,hiddenSiblings:h}),c)}mount(s,n){const c=D_(this.containers,f=>f.modals.includes(s)),h=this.containers[c];h.restore||(h.restore=o0(h,n))}remove(s,n=!0){const c=this.modals.indexOf(s);if(c===-1)return c;const h=D_(this.containers,g=>g.modals.includes(s)),f=this.containers[h];if(f.modals.splice(f.modals.indexOf(s),1),this.modals.splice(c,1),f.modals.length===0)f.restore&&f.restore(),s.modalRef&&Mf(s.modalRef,n),vy(f.container,s.mount,s.modalRef,f.hiddenSiblings,!1),this.containers.splice(h,1);else{const g=f.modals[f.modals.length-1];g.modalRef&&Mf(g.modalRef,!1)}return c}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}const i0=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function s0(r){const s=parseInt(r.getAttribute("tabindex")||"",10);return Number.isNaN(s)?r.contentEditable==="true"||(r.nodeName==="AUDIO"||r.nodeName==="VIDEO"||r.nodeName==="DETAILS")&&r.getAttribute("tabindex")===null?0:r.tabIndex:s}function l0(r){if(r.tagName!=="INPUT"||r.type!=="radio"||!r.name)return!1;const s=c=>r.ownerDocument.querySelector(`input[type="radio"]${c}`);let n=s(`[name="${r.name}"]:checked`);return n||(n=s(`[name="${r.name}"]`)),n!==r}function a0(r){return!(r.disabled||r.tagName==="INPUT"&&r.type==="hidden"||l0(r))}function c0(r){const s=[],n=[];return Array.from(r.querySelectorAll(i0)).forEach((c,h)=>{const f=s0(c);f===-1||!a0(c)||(f===0?s.push(c):n.push({documentOrder:h,tabIndex:f,node:c}))}),n.sort((c,h)=>c.tabIndex===h.tabIndex?c.documentOrder-h.documentOrder:c.tabIndex-h.tabIndex).map(c=>c.node).concat(s)}function u0(){return!0}function d0(r){const{children:s,disableAutoFocus:n=!1,disableEnforceFocus:c=!1,disableRestoreFocus:h=!1,getTabbable:f=c0,isEnabled:g=u0,open:_}=r,y=w.useRef(!1),v=w.useRef(null),I=w.useRef(null),R=w.useRef(null),N=w.useRef(null),M=w.useRef(!1),L=w.useRef(null),A=jo(Jh(s),L),P=w.useRef(null);w.useEffect(()=>{!_||!L.current||(M.current=!n)},[n,_]),w.useEffect(()=>{if(!_||!L.current)return;const H=Pn(L.current);return L.current.contains(H.activeElement)||(L.current.hasAttribute("tabIndex")||L.current.setAttribute("tabIndex","-1"),M.current&&L.current.focus()),()=>{h||(R.current&&R.current.focus&&(y.current=!0,R.current.focus()),R.current=null)}},[_]),w.useEffect(()=>{if(!_||!L.current)return;const H=Pn(L.current),D=Q=>{P.current=Q,!(c||!g()||Q.key!=="Tab")&&H.activeElement===L.current&&Q.shiftKey&&(y.current=!0,I.current&&I.current.focus())},F=()=>{var ae,S;const Q=L.current;if(Q===null)return;if(!H.hasFocus()||!g()||y.current){y.current=!1;return}if(Q.contains(H.activeElement)||c&&H.activeElement!==v.current&&H.activeElement!==I.current)return;if(H.activeElement!==N.current)N.current=null;else if(N.current!==null)return;if(!M.current)return;let ne=[];if((H.activeElement===v.current||H.activeElement===I.current)&&(ne=f(L.current)),ne.length>0){const oe=!!((ae=P.current)!=null&&ae.shiftKey&&((S=P.current)==null?void 0:S.key)==="Tab"),ge=ne[0],me=ne[ne.length-1];typeof ge!="string"&&typeof me!="string"&&(oe?me.focus():ge.focus())}else Q.focus()};H.addEventListener("focusin",F),H.addEventListener("keydown",D,!0);const J=setInterval(()=>{H.activeElement&&H.activeElement.tagName==="BODY"&&F()},50);return()=>{clearInterval(J),H.removeEventListener("focusin",F),H.removeEventListener("keydown",D,!0)}},[n,c,h,g,_,f]);const W=H=>{R.current===null&&(R.current=H.relatedTarget),M.current=!0,N.current=H.target;const D=s.props.onFocus;D&&D(H)},X=H=>{R.current===null&&(R.current=H.relatedTarget),M.current=!0};return B.jsxs(w.Fragment,{children:[B.jsx("div",{tabIndex:_?0:-1,onFocus:X,ref:v,"data-testid":"sentinelStart"}),w.cloneElement(s,{ref:A,onFocus:W}),B.jsx("div",{tabIndex:_?0:-1,onFocus:X,ref:I,"data-testid":"sentinelEnd"})]})}function h0(r){return typeof r=="function"?r():r}const fS=w.forwardRef(function(s,n){const{children:c,container:h,disablePortal:f=!1}=s,[g,_]=w.useState(null),y=jo(w.isValidElement(c)?Jh(c):null,n);if(hi(()=>{f||_(h0(h)||document.body)},[h,f]),hi(()=>{if(g&&!f)return fy(n,g),()=>{fy(n,null)}},[n,g,f]),f){if(w.isValidElement(c)){const v={ref:y};return w.cloneElement(c,v)}return c}return g&&hS.createPortal(c,g)}),p0={entering:{opacity:1},entered:{opacity:1}},f0=w.forwardRef(function(s,n){const c=Gu(),h={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{addEndListener:f,appear:g=!0,children:_,easing:y,in:v,onEnter:I,onEntered:R,onEntering:N,onExit:M,onExited:L,onExiting:A,style:P,timeout:W=h,TransitionComponent:X=ss,...H}=s,D=w.useRef(null),F=jo(D,Jh(_),n),J=ye=>Y=>{if(ye){const ue=D.current;Y===void 0?ye(ue):ye(ue,Y)}},Q=J(N),ne=J((ye,Y)=>{pS(ye);const ue=Uh({style:P,timeout:W,easing:y},{mode:"enter"});ye.style.webkitTransition=c.transitions.create("opacity",ue),ye.style.transition=c.transitions.create("opacity",ue),I&&I(ye,Y)}),ae=J(R),S=J(A),oe=J(ye=>{const Y=Uh({style:P,timeout:W,easing:y},{mode:"exit"});ye.style.webkitTransition=c.transitions.create("opacity",Y),ye.style.transition=c.transitions.create("opacity",Y),M&&M(ye)}),ge=J(L),me=ye=>{f&&f(D.current,ye)};return B.jsx(X,{appear:g,in:v,nodeRef:D,onEnter:ne,onEntered:ae,onEntering:Q,onExit:oe,onExited:ge,onExiting:S,addEndListener:me,timeout:W,...H,children:(ye,{ownerState:Y,...ue})=>w.cloneElement(_,{style:{opacity:0,visibility:ye==="exited"&&!v?"hidden":void 0,...p0[ye],...P,..._.props.style},ref:F,...ue})})});function g0(r){return wt("MuiBackdrop",r)}Ot("MuiBackdrop",["root","invisible"]);const m0=r=>{const{classes:s,invisible:n}=r;return At({root:["root",n&&"invisible"]},g0,s)},$0=Qe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),_0=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiBackdrop"}),{children:h,className:f,component:g="div",invisible:_=!1,open:y,components:v={},componentsProps:I={},slotProps:R={},slots:N={},TransitionComponent:M,transitionDuration:L,...A}=c,P={...c,component:g,invisible:_},W=m0(P),X={transition:M,root:v.Root,...N},H={...I,...R},D={slots:X,slotProps:H},[F,J]=Ao("root",{elementType:$0,externalForwardedProps:D,className:pt(W.root,f),ownerState:P}),[Q,ne]=Ao("transition",{elementType:f0,externalForwardedProps:D,ownerState:P});return B.jsx(Q,{in:y,timeout:L,...A,...ne,children:B.jsx(F,{"aria-hidden":!0,...J,classes:W,ref:n,children:h})})});function T0(r){return typeof r=="function"?r():r}function E0(r){return r?r.props.hasOwnProperty("in"):!1}const Sy=()=>{},Im=new n0;function b0(r){const{container:s,disableEscapeKeyDown:n=!1,disableScrollLock:c=!1,closeAfterTransition:h=!1,onTransitionEnter:f,onTransitionExited:g,children:_,onClose:y,open:v,rootRef:I}=r,R=w.useRef({}),N=w.useRef(null),M=w.useRef(null),L=jo(M,I),[A,P]=w.useState(!v),W=E0(_);let X=!0;(r["aria-hidden"]==="false"||r["aria-hidden"]===!1)&&(X=!1);const H=()=>Pn(N.current),D=()=>(R.current.modalRef=M.current,R.current.mount=N.current,R.current),F=()=>{Im.mount(D(),{disableScrollLock:c}),M.current&&(M.current.scrollTop=0)},J=ia(()=>{const Y=T0(s)||H().body;Im.add(D(),Y),M.current&&F()}),Q=()=>Im.isTopModal(D()),ne=ia(Y=>{N.current=Y,Y&&(v&&Q()?F():M.current&&Mf(M.current,X))}),ae=w.useCallback(()=>{Im.remove(D(),X)},[X]);w.useEffect(()=>()=>{ae()},[ae]),w.useEffect(()=>{v?J():(!W||!h)&&ae()},[v,ae,W,h,J]);const S=Y=>ue=>{var ve;(ve=Y.onKeyDown)==null||ve.call(Y,ue),!(ue.key!=="Escape"||ue.which===229||!Q())&&(n||(ue.stopPropagation(),y&&y(ue,"escapeKeyDown")))},oe=Y=>ue=>{var ve;(ve=Y.onClick)==null||ve.call(Y,ue),ue.target===ue.currentTarget&&y&&y(ue,"backdropClick")};return{getRootProps:(Y={})=>{const ue=nS(r);delete ue.onTransitionEnter,delete ue.onTransitionExited;const ve={...ue,...Y};return{role:"presentation",...ve,onKeyDown:S(ve),ref:L}},getBackdropProps:(Y={})=>{const ue=Y;return{"aria-hidden":!0,...ue,onClick:oe(ue),open:v}},getTransitionProps:()=>{const Y=()=>{P(!1),f&&f()},ue=()=>{P(!0),g&&g(),h&&ae()};return{onEnter:py(Y,(_==null?void 0:_.props.onEnter)??Sy),onExited:py(ue,(_==null?void 0:_.props.onExited)??Sy)}},rootRef:L,portalRef:ne,isTopModal:Q,exited:A,hasTransition:W}}function y0(r){return wt("MuiModal",r)}Ot("MuiModal",["root","hidden","backdrop"]);const v0=r=>{const{open:s,exited:n,classes:c}=r;return At({root:["root",!s&&n&&"hidden"],backdrop:["backdrop"]},y0,c)},S0=Qe("div",{name:"MuiModal",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,!n.open&&n.exited&&s.hidden]}})(Gt(({theme:r})=>({position:"fixed",zIndex:(r.vars||r).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),I0=Qe(_0,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),C0=w.forwardRef(function(s,n){const c=xt({name:"MuiModal",props:s}),{BackdropComponent:h=I0,BackdropProps:f,classes:g,className:_,closeAfterTransition:y=!1,children:v,container:I,component:R,components:N={},componentsProps:M={},disableAutoFocus:L=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:P=!1,disablePortal:W=!1,disableRestoreFocus:X=!1,disableScrollLock:H=!1,hideBackdrop:D=!1,keepMounted:F=!1,onClose:J,onTransitionEnter:Q,onTransitionExited:ne,open:ae,slotProps:S={},slots:oe={},theme:ge,...me}=c,ye={...c,closeAfterTransition:y,disableAutoFocus:L,disableEnforceFocus:A,disableEscapeKeyDown:P,disablePortal:W,disableRestoreFocus:X,disableScrollLock:H,hideBackdrop:D,keepMounted:F},{getRootProps:Y,getBackdropProps:ue,getTransitionProps:ve,portalRef:$e,isTopModal:he,exited:U,hasTransition:ie}=b0({...ye,rootRef:n}),Ee={...ye,exited:U},Ae=v0(Ee),fe={};if(v.props.tabIndex===void 0&&(fe.tabIndex="-1"),ie){const{onEnter:Ke,onExited:it}=ve();fe.onEnter=Ke,fe.onExited=it}const Ue={slots:{root:N.Root,backdrop:N.Backdrop,...oe},slotProps:{...M,...S}},[Le,Fe]=Ao("root",{ref:n,elementType:S0,externalForwardedProps:{...Ue,...me,component:R},getSlotProps:Y,ownerState:Ee,className:pt(_,Ae==null?void 0:Ae.root,!Ee.open&&Ee.exited&&(Ae==null?void 0:Ae.hidden))}),[Be,tt]=Ao("backdrop",{ref:f==null?void 0:f.ref,elementType:h,externalForwardedProps:Ue,shouldForwardComponentProp:!0,additionalProps:f,getSlotProps:Ke=>ue({...Ke,onClick:it=>{Ke!=null&&Ke.onClick&&Ke.onClick(it)}}),className:pt(f==null?void 0:f.className,Ae==null?void 0:Ae.backdrop),ownerState:Ee});return!F&&!ae&&(!ie||U)?null:B.jsx(fS,{ref:$e,container:I,disablePortal:W,children:B.jsxs(Le,{...Fe,children:[!D&&h?B.jsx(Be,{...tt}):null,B.jsx(d0,{disableEnforceFocus:A,disableAutoFocus:L,disableRestoreFocus:X,isEnabled:he,open:ae,children:w.cloneElement(v,fe)})]})})});function k0(r){return wt("MuiPopover",r)}Ot("MuiPopover",["root","paper"]);function Iy(r,s){let n=0;return typeof s=="number"?n=s:s==="center"?n=r.height/2:s==="bottom"&&(n=r.height),n}function Cy(r,s){let n=0;return typeof s=="number"?n=s:s==="center"?n=r.width/2:s==="right"&&(n=r.width),n}function ky(r){return[r.horizontal,r.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function Cm(r){return typeof r=="function"?r():r}const R0=r=>{const{classes:s}=r;return At({root:["root"],paper:["paper"]},k0,s)},w0=Qe(C0,{name:"MuiPopover",slot:"Root"})({}),gS=Qe(Vu,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),O0=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiPopover"}),{action:h,anchorEl:f,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:_,anchorReference:y="anchorEl",children:v,className:I,container:R,elevation:N=8,marginThreshold:M=16,open:L,PaperProps:A={},slots:P={},slotProps:W={},transformOrigin:X={vertical:"top",horizontal:"left"},TransitionComponent:H,transitionDuration:D="auto",TransitionProps:F={},disableScrollLock:J=!1,...Q}=c,ne=w.useRef(),ae={...c,anchorOrigin:g,anchorReference:y,elevation:N,marginThreshold:M,transformOrigin:X,TransitionComponent:H,transitionDuration:D,TransitionProps:F},S=R0(ae),oe=w.useCallback(()=>{if(y==="anchorPosition")return _;const Ke=Cm(f),Ie=(Ke&&Ke.nodeType===1?Ke:Pn(ne.current).body).getBoundingClientRect();return{top:Ie.top+Iy(Ie,g.vertical),left:Ie.left+Cy(Ie,g.horizontal)}},[f,g.horizontal,g.vertical,_,y]),ge=w.useCallback(Ke=>({vertical:Iy(Ke,X.vertical),horizontal:Cy(Ke,X.horizontal)}),[X.horizontal,X.vertical]),me=w.useCallback(Ke=>{const it={width:Ke.offsetWidth,height:Ke.offsetHeight},Ie=ge(it);if(y==="none")return{top:null,left:null,transformOrigin:ky(Ie)};const ft=oe();let He=ft.top-Ie.vertical,Tt=ft.left-Ie.horizontal;const Ct=He+it.height,bt=Tt+it.width,ht=aa(Cm(f)),gt=ht.innerHeight-M,ct=ht.innerWidth-M;if(M!==null&&He<M){const _t=He-M;He-=_t,Ie.vertical+=_t}else if(M!==null&&Ct>gt){const _t=Ct-gt;He-=_t,Ie.vertical+=_t}if(M!==null&&Tt<M){const _t=Tt-M;Tt-=_t,Ie.horizontal+=_t}else if(bt>ct){const _t=bt-ct;Tt-=_t,Ie.horizontal+=_t}return{top:`${Math.round(He)}px`,left:`${Math.round(Tt)}px`,transformOrigin:ky(Ie)}},[f,y,oe,ge,M]),[ye,Y]=w.useState(L),ue=w.useCallback(()=>{const Ke=ne.current;if(!Ke)return;const it=me(Ke);it.top!==null&&Ke.style.setProperty("top",it.top),it.left!==null&&(Ke.style.left=it.left),Ke.style.transformOrigin=it.transformOrigin,Y(!0)},[me]);w.useEffect(()=>(J&&window.addEventListener("scroll",ue),()=>window.removeEventListener("scroll",ue)),[f,J,ue]);const ve=()=>{ue()},$e=()=>{Y(!1)};w.useEffect(()=>{L&&ue()}),w.useImperativeHandle(h,()=>L?{updatePosition:()=>{ue()}}:null,[L,ue]),w.useEffect(()=>{if(!L)return;const Ke=tS(()=>{ue()}),it=aa(Cm(f));return it.addEventListener("resize",Ke),()=>{Ke.clear(),it.removeEventListener("resize",Ke)}},[f,L,ue]);let he=D;const U={slots:{transition:H,...P},slotProps:{transition:F,paper:A,...W}},[ie,Ee]=Ao("transition",{elementType:e$,externalForwardedProps:U,ownerState:ae,getSlotProps:Ke=>({...Ke,onEntering:(it,Ie)=>{var ft;(ft=Ke.onEntering)==null||ft.call(Ke,it,Ie),ve()},onExited:it=>{var Ie;(Ie=Ke.onExited)==null||Ie.call(Ke,it),$e()}}),additionalProps:{appear:!0,in:L}});D==="auto"&&!ie.muiSupportAuto&&(he=void 0);const Ae=R||(f?Pn(Cm(f)).body:void 0),[fe,{slots:Ue,slotProps:Le,...Fe}]=Ao("root",{ref:n,elementType:w0,externalForwardedProps:{...U,...Q},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:P.backdrop},slotProps:{backdrop:hA(typeof W.backdrop=="function"?W.backdrop(ae):W.backdrop,{invisible:!0})},container:Ae,open:L},ownerState:ae,className:pt(S.root,I)}),[Be,tt]=Ao("paper",{ref:ne,className:S.paper,elementType:gS,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:{elevation:N,style:ye?void 0:{opacity:0}},ownerState:ae});return B.jsx(fe,{...Fe,...!zf(fe)&&{slots:Ue,slotProps:Le,disableScrollLock:J},children:B.jsx(ie,{...Ee,timeout:he,children:B.jsx(Be,{...tt,children:v})})})});function A0(r){return wt("MuiMenu",r)}Ot("MuiMenu",["root","paper","list"]);const x0={vertical:"top",horizontal:"right"},L0={vertical:"top",horizontal:"left"},N0=r=>{const{classes:s}=r;return At({root:["root"],paper:["paper"],list:["list"]},A0,s)},M0=Qe(O0,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiMenu",slot:"Root"})({}),D0=Qe(gS,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),P0=Qe(VA,{name:"MuiMenu",slot:"List"})({outline:0}),B0=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiMenu"}),{autoFocus:h=!0,children:f,className:g,disableAutoFocusItem:_=!1,MenuListProps:y={},onClose:v,open:I,PaperProps:R={},PopoverClasses:N,transitionDuration:M="auto",TransitionProps:{onEntering:L,...A}={},variant:P="selectedMenu",slots:W={},slotProps:X={},...H}=c,D=IT(),F={...c,autoFocus:h,disableAutoFocusItem:_,MenuListProps:y,onEntering:L,PaperProps:R,transitionDuration:M,TransitionProps:A,variant:P},J=N0(F),Q=h&&!_&&I,ne=w.useRef(null),ae=(he,U)=>{ne.current&&ne.current.adjustStyleForScrollbar(he,{direction:D?"rtl":"ltr"}),L&&L(he,U)},S=he=>{he.key==="Tab"&&(he.preventDefault(),v&&v(he,"tabKeyDown"))};let oe=-1;w.Children.map(f,(he,U)=>{w.isValidElement(he)&&(he.props.disabled||(P==="selectedMenu"&&he.props.selected||oe===-1)&&(oe=U))});const ge={slots:W,slotProps:{list:y,transition:A,paper:R,...X}},me=sS({elementType:W.root,externalSlotProps:X.root,ownerState:F,className:[J.root,g]}),[ye,Y]=Ao("paper",{className:J.paper,elementType:D0,externalForwardedProps:ge,shouldForwardComponentProp:!0,ownerState:F}),[ue,ve]=Ao("list",{className:pt(J.list,y.className),elementType:P0,shouldForwardComponentProp:!0,externalForwardedProps:ge,getSlotProps:he=>({...he,onKeyDown:U=>{var ie;S(U),(ie=he.onKeyDown)==null||ie.call(he,U)}}),ownerState:F}),$e=typeof ge.slotProps.transition=="function"?ge.slotProps.transition(F):ge.slotProps.transition;return B.jsx(M0,{onClose:v,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?x0:L0,slots:{root:W.root,paper:ye,backdrop:W.backdrop,...W.transition&&{transition:W.transition}},slotProps:{root:me,paper:Y,backdrop:typeof X.backdrop=="function"?X.backdrop(F):X.backdrop,transition:{...$e,onEntering:(...he)=>{var U;ae(...he),(U=$e==null?void 0:$e.onEntering)==null||U.call($e,...he)}}},open:I,ref:n,transitionDuration:M,ownerState:F,...H,classes:N,children:B.jsx(ue,{actions:ne,autoFocus:h&&(oe===-1||_),autoFocusItem:Q,variant:P,...ve,children:f})})});function F0(r){return wt("MuiNativeSelect",r)}const FT=Ot("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),U0=r=>{const{classes:s,variant:n,disabled:c,multiple:h,open:f,error:g}=r,_={select:["select",n,c&&"disabled",h&&"multiple",g&&"error"],icon:["icon",`icon${Et(n)}`,f&&"iconOpen",c&&"disabled"]};return At(_,F0,s)},mS=Qe("select")(({theme:r})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${FT.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}}]})),H0=Qe(mS,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:mi,overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.select,s[n.variant],n.error&&s.error,{[`&.${FT.multiple}`]:s.multiple}]}})({}),$S=Qe("svg")(({theme:r})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${FT.disabled}`]:{color:(r.vars||r).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),G0=Qe($S,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.icon,n.variant&&s[`icon${Et(n.variant)}`],n.open&&s.iconOpen]}})({}),V0=w.forwardRef(function(s,n){const{className:c,disabled:h,error:f,IconComponent:g,inputRef:_,variant:y="standard",...v}=s,I={...s,disabled:h,variant:y,error:f},R=U0(I);return B.jsxs(w.Fragment,{children:[B.jsx(H0,{ownerState:I,className:pt(R.select,c),disabled:h,ref:_||n,...v}),s.multiple?null:B.jsx(G0,{as:g,ownerState:I,className:R.icon})]})});function _S(r){return wt("MuiSelect",r)}const vf=Ot("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ry;const W0=Qe(mS,{name:"MuiSelect",slot:"Select",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[{[`&.${vf.select}`]:s.select},{[`&.${vf.select}`]:s[n.variant]},{[`&.${vf.error}`]:s.error},{[`&.${vf.multiple}`]:s.multiple}]}})({[`&.${vf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),z0=Qe($S,{name:"MuiSelect",slot:"Icon",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.icon,n.variant&&s[`icon${Et(n.variant)}`],n.open&&s.iconOpen]}})({}),j0=Qe("input",{shouldForwardProp:r=>Wv(r)&&r!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function wy(r,s){return typeof s=="object"&&s!==null?r===s:String(r)===String(s)}function X0(r){return r==null||typeof r=="string"&&!r.trim()}const Y0=r=>{const{classes:s,variant:n,disabled:c,multiple:h,open:f,error:g}=r,_={select:["select",n,c&&"disabled",h&&"multiple",g&&"error"],icon:["icon",`icon${Et(n)}`,f&&"iconOpen",c&&"disabled"],nativeInput:["nativeInput"]};return At(_,_S,s)},K0=w.forwardRef(function(s,n){var te;const{"aria-describedby":c,"aria-label":h,autoFocus:f,autoWidth:g,children:_,className:y,defaultOpen:v,defaultValue:I,disabled:R,displayEmpty:N,error:M=!1,IconComponent:L,inputRef:A,labelId:P,MenuProps:W={},multiple:X,name:H,onBlur:D,onChange:F,onClose:J,onFocus:Q,onOpen:ne,open:ae,readOnly:S,renderValue:oe,required:ge,SelectDisplayProps:me={},tabIndex:ye,type:Y,value:ue,variant:ve="standard",...$e}=s,[he,U]=K_({controlled:ue,default:I,name:"Select"}),[ie,Ee]=K_({controlled:ae,default:v,name:"Select"}),Ae=w.useRef(null),fe=w.useRef(null),[Ue,Le]=w.useState(null),{current:Fe}=w.useRef(ae!=null),[Be,tt]=w.useState(),Ke=jo(n,A),it=w.useCallback(pe=>{fe.current=pe,pe&&Le(pe)},[]),Ie=Ue==null?void 0:Ue.parentNode;w.useImperativeHandle(Ke,()=>({focus:()=>{fe.current.focus()},node:Ae.current,value:he}),[he]),w.useEffect(()=>{v&&ie&&Ue&&!Fe&&(tt(g?null:Ie.clientWidth),fe.current.focus())},[Ue,g]),w.useEffect(()=>{f&&fe.current.focus()},[f]),w.useEffect(()=>{if(!P)return;const pe=Pn(fe.current).getElementById(P);if(pe){const Xe=()=>{getSelection().isCollapsed&&fe.current.focus()};return pe.addEventListener("click",Xe),()=>{pe.removeEventListener("click",Xe)}}},[P]);const ft=(pe,Xe)=>{pe?ne&&ne(Xe):J&&J(Xe),Fe||(tt(g?null:Ie.clientWidth),Ee(pe))},He=pe=>{pe.button===0&&(pe.preventDefault(),fe.current.focus(),ft(!0,pe))},Tt=pe=>{ft(!1,pe)},Ct=w.Children.toArray(_),bt=pe=>{const Xe=Ct.find($t=>$t.props.value===pe.target.value);Xe!==void 0&&(U(Xe.props.value),F&&F(pe,Xe))},ht=pe=>Xe=>{let $t;if(Xe.currentTarget.hasAttribute("tabindex")){if(X){$t=Array.isArray(he)?he.slice():[];const so=he.indexOf(pe.props.value);so===-1?$t.push(pe.props.value):$t.splice(so,1)}else $t=pe.props.value;if(pe.props.onClick&&pe.props.onClick(Xe),he!==$t&&(U($t),F)){const so=Xe.nativeEvent||Xe,an=new so.constructor(so.type,so);Object.defineProperty(an,"target",{writable:!0,value:{value:$t,name:H}}),F(an,pe)}X||ft(!1,Xe)}},gt=pe=>{S||[" ","ArrowUp","ArrowDown","Enter"].includes(pe.key)&&(pe.preventDefault(),ft(!0,pe))},ct=Ue!==null&&ie,_t=pe=>{!ct&&D&&(Object.defineProperty(pe,"target",{writable:!0,value:{value:he,name:H}}),D(pe))};delete $e["aria-invalid"];let Me,le;const De=[];let _o=!1;(Qm({value:he})||N)&&(oe?Me=oe(he):_o=!0);const ut=Ct.map(pe=>{if(!w.isValidElement(pe))return null;let Xe;if(X){if(!Array.isArray(he))throw new Error(sa(2));Xe=he.some($t=>wy($t,pe.props.value)),Xe&&_o&&De.push(pe.props.children)}else Xe=wy(he,pe.props.value),Xe&&_o&&(le=pe.props.children);return w.cloneElement(pe,{"aria-selected":Xe?"true":"false",onClick:ht(pe),onKeyUp:$t=>{$t.key===" "&&$t.preventDefault(),pe.props.onKeyUp&&pe.props.onKeyUp($t)},role:"option",selected:Xe,value:void 0,"data-value":pe.props.value})});_o&&(X?De.length===0?Me=null:Me=De.reduce((pe,Xe,$t)=>(pe.push(Xe),$t<De.length-1&&pe.push(", "),pe),[]):Me=le);let io=Be;!g&&Fe&&Ue&&(io=Ie.clientWidth);let st;typeof ye<"u"?st=ye:st=R?null:0;const zt=me.id||(H?`mui-component-select-${H}`:void 0),j={...s,variant:ve,value:he,open:ct,error:M},E=Y0(j),x={...W.PaperProps,...(te=W.slotProps)==null?void 0:te.paper},K=$$();return B.jsxs(w.Fragment,{children:[B.jsx(W0,{as:"div",ref:it,tabIndex:st,role:"combobox","aria-controls":ct?K:void 0,"aria-disabled":R?"true":void 0,"aria-expanded":ct?"true":"false","aria-haspopup":"listbox","aria-label":h,"aria-labelledby":[P,zt].filter(Boolean).join(" ")||void 0,"aria-describedby":c,"aria-required":ge?"true":void 0,"aria-invalid":M?"true":void 0,onKeyDown:gt,onMouseDown:R||S?null:He,onBlur:_t,onFocus:Q,...me,ownerState:j,className:pt(me.className,E.select,y),id:zt,children:X0(Me)?Ry||(Ry=B.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Me}),B.jsx(j0,{"aria-invalid":M,value:Array.isArray(he)?he.join(","):he,name:H,ref:Ae,"aria-hidden":!0,onChange:bt,tabIndex:-1,disabled:R,className:E.nativeInput,autoFocus:f,required:ge,...$e,ownerState:j}),B.jsx(z0,{as:L,className:E.icon,ownerState:j}),B.jsx(B0,{id:`menu-${H||""}`,anchorEl:Ie,open:ct,onClose:Tt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...W,slotProps:{...W.slotProps,list:{"aria-labelledby":P,role:"listbox","aria-multiselectable":X?"true":void 0,disableListWrap:!0,id:K,...W.MenuListProps},paper:{...x,style:{minWidth:io,...x!=null?x.style:null}}},children:ut})]})}),J0=ng(B.jsx("path",{d:"M7 10l5 5 5-5z"})),q0=r=>{const{classes:s}=r,c=At({root:["root"]},_S,s);return{...s,...c}},UT={name:"MuiSelect",slot:"Root",shouldForwardProp:r=>mi(r)&&r!=="variant"},Q0=Qe(NT,UT)(""),Z0=Qe(DT,UT)(""),ex=Qe(MT,UT)(""),qh=w.forwardRef(function(s,n){const c=xt({name:"MuiSelect",props:s}),{autoWidth:h=!1,children:f,classes:g={},className:_,defaultOpen:y=!1,displayEmpty:v=!1,IconComponent:I=J0,id:R,input:N,inputProps:M,label:L,labelId:A,MenuProps:P,multiple:W=!1,native:X=!1,onClose:H,onOpen:D,open:F,renderValue:J,SelectDisplayProps:Q,variant:ne="outlined",...ae}=c,S=X?V0:K0,oe=Kh(),ge=Yh({props:c,muiFormControl:oe,states:["variant","error"]}),me=ge.variant||ne,ye={...c,variant:me,classes:g},Y=q0(ye),{root:ue,...ve}=Y,$e=N||{standard:B.jsx(Q0,{ownerState:ye}),outlined:B.jsx(Z0,{label:L,ownerState:ye}),filled:B.jsx(ex,{ownerState:ye})}[me],he=jo(n,Jh($e));return B.jsx(w.Fragment,{children:w.cloneElement($e,{inputComponent:S,inputProps:{children:f,error:ge.error,IconComponent:I,variant:me,type:void 0,multiple:W,...X?{id:R}:{autoWidth:h,defaultOpen:y,displayEmpty:v,labelId:A,MenuProps:P,onClose:H,onOpen:D,open:F,renderValue:J,SelectDisplayProps:{id:R,...Q}},...M,classes:M?wr(ve,M.classes):ve,...N?N.props.inputProps:{}},...(W&&X||v)&&me==="outlined"?{notched:!0}:{},ref:he,className:pt($e.props.className,_,Y.root),...!N&&{variant:me},...ae})})});qh.muiName="Select";function tx(r){return wt("MuiTextField",r)}Ot("MuiTextField",["root"]);const ox={standard:NT,filled:MT,outlined:DT},rx=r=>{const{classes:s}=r;return At({root:["root"]},tx,s)},nx=Qe(sg,{name:"MuiTextField",slot:"Root"})({}),ix=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiTextField"}),{autoComplete:h,autoFocus:f=!1,children:g,className:_,color:y="primary",defaultValue:v,disabled:I=!1,error:R=!1,FormHelperTextProps:N,fullWidth:M=!1,helperText:L,id:A,InputLabelProps:P,inputProps:W,InputProps:X,inputRef:H,label:D,maxRows:F,minRows:J,multiline:Q=!1,name:ne,onBlur:ae,onChange:S,onFocus:oe,placeholder:ge,required:me=!1,rows:ye,select:Y=!1,SelectProps:ue,slots:ve={},slotProps:$e={},type:he,value:U,variant:ie="outlined",...Ee}=c,Ae={...c,autoFocus:f,color:y,disabled:I,error:R,fullWidth:M,multiline:Q,required:me,select:Y,variant:ie},fe=rx(Ae),Ue=$$(A),Le=L&&Ue?`${Ue}-helper-text`:void 0,Fe=D&&Ue?`${Ue}-label`:void 0,Be=ox[ie],tt={slots:ve,slotProps:{input:X,inputLabel:P,htmlInput:W,formHelperText:N,select:ue,...$e}},Ke={},it=tt.slotProps.inputLabel;ie==="outlined"&&(it&&typeof it.shrink<"u"&&(Ke.notched=it.shrink),Ke.label=D),Y&&((!ue||!ue.native)&&(Ke.id=void 0),Ke["aria-describedby"]=void 0);const[Ie,ft]=Ao("root",{elementType:nx,shouldForwardComponentProp:!0,externalForwardedProps:{...tt,...Ee},ownerState:Ae,className:pt(fe.root,_),ref:n,additionalProps:{disabled:I,error:R,fullWidth:M,required:me,color:y,variant:ie}}),[He,Tt]=Ao("input",{elementType:Be,externalForwardedProps:tt,additionalProps:Ke,ownerState:Ae}),[Ct,bt]=Ao("inputLabel",{elementType:ig,externalForwardedProps:tt,ownerState:Ae}),[ht,gt]=Ao("htmlInput",{elementType:"input",externalForwardedProps:tt,ownerState:Ae}),[ct,_t]=Ao("formHelperText",{elementType:FA,externalForwardedProps:tt,ownerState:Ae}),[Me,le]=Ao("select",{elementType:qh,externalForwardedProps:tt,ownerState:Ae}),De=B.jsx(He,{"aria-describedby":Le,autoComplete:h,autoFocus:f,defaultValue:v,fullWidth:M,multiline:Q,name:ne,rows:ye,maxRows:F,minRows:J,type:he,value:U,id:Ue,inputRef:H,onBlur:ae,onChange:S,onFocus:oe,placeholder:ge,inputProps:gt,slots:{input:ve.htmlInput?ht:void 0},...Tt});return B.jsxs(Ie,{...ft,children:[D!=null&&D!==""&&B.jsx(Ct,{htmlFor:Ue,id:Fe,...bt,children:D}),Y?B.jsx(Me,{"aria-describedby":Le,id:Ue,labelId:Fe,value:U,input:De,...le,children:g}):De,L&&B.jsx(ct,{id:Le,..._t,children:L})]})});function Hh(r){try{return r.matches(":focus-visible")}catch{}return!1}class t${constructor(){$f(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new t$}static use(){const s=cS(t$.create).current,[n,c]=w.useState(!1);return s.shouldMount=n,s.setShouldMount=c,w.useEffect(s.mountEffect,[n]),s}mount(){return this.mounted||(this.mounted=lx(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...s)})}stop(...s){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...s)})}pulsate(...s){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...s)})}}function sx(){return t$.use()}function lx(){let r,s;const n=new Promise((c,h)=>{r=c,s=h});return n.resolve=r,n.reject=s,n}function ax(r){const{className:s,classes:n,pulsate:c=!1,rippleX:h,rippleY:f,rippleSize:g,in:_,onExited:y,timeout:v}=r,[I,R]=w.useState(!1),N=pt(s,n.ripple,n.rippleVisible,c&&n.ripplePulsate),M={width:g,height:g,top:-(g/2)+f,left:-(g/2)+h},L=pt(n.child,I&&n.childLeaving,c&&n.childPulsate);return!_&&!I&&R(!0),w.useEffect(()=>{if(!_&&y!=null){const A=setTimeout(y,v);return()=>{clearTimeout(A)}}},[y,_,v]),B.jsx("span",{className:N,style:M,children:B.jsx("span",{className:L})})}const ci=Ot("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Z_=550,cx=80,ux=qf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,dx=qf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,hx=qf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,px=Qe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fx=Qe(ax,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ci.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${ux};
    animation-duration: ${Z_}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  &.${ci.ripplePulsate} {
    animation-duration: ${({theme:r})=>r.transitions.duration.shorter}ms;
  }

  & .${ci.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ci.childLeaving} {
    opacity: 0;
    animation-name: ${dx};
    animation-duration: ${Z_}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  & .${ci.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${hx};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,gx=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiTouchRipple"}),{center:h=!1,classes:f={},className:g,..._}=c,[y,v]=w.useState([]),I=w.useRef(0),R=w.useRef(null);w.useEffect(()=>{R.current&&(R.current(),R.current=null)},[y]);const N=w.useRef(!1),M=Bu(),L=w.useRef(null),A=w.useRef(null),P=w.useCallback(D=>{const{pulsate:F,rippleX:J,rippleY:Q,rippleSize:ne,cb:ae}=D;v(S=>[...S,B.jsx(fx,{classes:{ripple:pt(f.ripple,ci.ripple),rippleVisible:pt(f.rippleVisible,ci.rippleVisible),ripplePulsate:pt(f.ripplePulsate,ci.ripplePulsate),child:pt(f.child,ci.child),childLeaving:pt(f.childLeaving,ci.childLeaving),childPulsate:pt(f.childPulsate,ci.childPulsate)},timeout:Z_,pulsate:F,rippleX:J,rippleY:Q,rippleSize:ne},I.current)]),I.current+=1,R.current=ae},[f]),W=w.useCallback((D={},F={},J=()=>{})=>{const{pulsate:Q=!1,center:ne=h||F.pulsate,fakeElement:ae=!1}=F;if((D==null?void 0:D.type)==="mousedown"&&N.current){N.current=!1;return}(D==null?void 0:D.type)==="touchstart"&&(N.current=!0);const S=ae?null:A.current,oe=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ge,me,ye;if(ne||D===void 0||D.clientX===0&&D.clientY===0||!D.clientX&&!D.touches)ge=Math.round(oe.width/2),me=Math.round(oe.height/2);else{const{clientX:Y,clientY:ue}=D.touches&&D.touches.length>0?D.touches[0]:D;ge=Math.round(Y-oe.left),me=Math.round(ue-oe.top)}if(ne)ye=Math.sqrt((2*oe.width**2+oe.height**2)/3),ye%2===0&&(ye+=1);else{const Y=Math.max(Math.abs((S?S.clientWidth:0)-ge),ge)*2+2,ue=Math.max(Math.abs((S?S.clientHeight:0)-me),me)*2+2;ye=Math.sqrt(Y**2+ue**2)}D!=null&&D.touches?L.current===null&&(L.current=()=>{P({pulsate:Q,rippleX:ge,rippleY:me,rippleSize:ye,cb:J})},M.start(cx,()=>{L.current&&(L.current(),L.current=null)})):P({pulsate:Q,rippleX:ge,rippleY:me,rippleSize:ye,cb:J})},[h,P,M]),X=w.useCallback(()=>{W({},{pulsate:!0})},[W]),H=w.useCallback((D,F)=>{if(M.clear(),(D==null?void 0:D.type)==="touchend"&&L.current){L.current(),L.current=null,M.start(0,()=>{H(D,F)});return}L.current=null,v(J=>J.length>0?J.slice(1):J),R.current=F},[M]);return w.useImperativeHandle(n,()=>({pulsate:X,start:W,stop:H}),[X,W,H]),B.jsx(px,{className:pt(ci.root,f.root,g),ref:A,..._,children:B.jsx(BT,{component:null,exit:!0,children:y})})});function mx(r){return wt("MuiButtonBase",r)}const $x=Ot("MuiButtonBase",["root","disabled","focusVisible"]),_x=r=>{const{disabled:s,focusVisible:n,focusVisibleClassName:c,classes:h}=r,g=At({root:["root",s&&"disabled",n&&"focusVisible"]},mx,h);return n&&c&&(g.root+=` ${c}`),g},Tx=Qe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$x.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),HT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiButtonBase"}),{action:h,centerRipple:f=!1,children:g,className:_,component:y="button",disabled:v=!1,disableRipple:I=!1,disableTouchRipple:R=!1,focusRipple:N=!1,focusVisibleClassName:M,LinkComponent:L="a",onBlur:A,onClick:P,onContextMenu:W,onDragLeave:X,onFocus:H,onFocusVisible:D,onKeyDown:F,onKeyUp:J,onMouseDown:Q,onMouseLeave:ne,onMouseUp:ae,onTouchEnd:S,onTouchMove:oe,onTouchStart:ge,tabIndex:me=0,TouchRippleProps:ye,touchRippleRef:Y,type:ue,...ve}=c,$e=w.useRef(null),he=sx(),U=jo(he.ref,Y),[ie,Ee]=w.useState(!1);v&&ie&&Ee(!1),w.useImperativeHandle(h,()=>({focusVisible:()=>{Ee(!0),$e.current.focus()}}),[]);const Ae=he.shouldMount&&!I&&!v;w.useEffect(()=>{ie&&N&&!I&&he.pulsate()},[I,N,ie,he]);const fe=na(he,"start",Q,R),Ue=na(he,"stop",W,R),Le=na(he,"stop",X,R),Fe=na(he,"stop",ae,R),Be=na(he,"stop",Me=>{ie&&Me.preventDefault(),ne&&ne(Me)},R),tt=na(he,"start",ge,R),Ke=na(he,"stop",S,R),it=na(he,"stop",oe,R),Ie=na(he,"stop",Me=>{Hh(Me.target)||Ee(!1),A&&A(Me)},!1),ft=ia(Me=>{$e.current||($e.current=Me.currentTarget),Hh(Me.target)&&(Ee(!0),D&&D(Me)),H&&H(Me)}),He=()=>{const Me=$e.current;return y&&y!=="button"&&!(Me.tagName==="A"&&Me.href)},Tt=ia(Me=>{N&&!Me.repeat&&ie&&Me.key===" "&&he.stop(Me,()=>{he.start(Me)}),Me.target===Me.currentTarget&&He()&&Me.key===" "&&Me.preventDefault(),F&&F(Me),Me.target===Me.currentTarget&&He()&&Me.key==="Enter"&&!v&&(Me.preventDefault(),P&&P(Me))}),Ct=ia(Me=>{N&&Me.key===" "&&ie&&!Me.defaultPrevented&&he.stop(Me,()=>{he.pulsate(Me)}),J&&J(Me),P&&Me.target===Me.currentTarget&&He()&&Me.key===" "&&!Me.defaultPrevented&&P(Me)});let bt=y;bt==="button"&&(ve.href||ve.to)&&(bt=L);const ht={};bt==="button"?(ht.type=ue===void 0?"button":ue,ht.disabled=v):(!ve.href&&!ve.to&&(ht.role="button"),v&&(ht["aria-disabled"]=v));const gt=jo(n,$e),ct={...c,centerRipple:f,component:y,disabled:v,disableRipple:I,disableTouchRipple:R,focusRipple:N,tabIndex:me,focusVisible:ie},_t=_x(ct);return B.jsxs(Tx,{as:bt,className:pt(_t.root,_),ownerState:ct,onBlur:Ie,onClick:P,onContextMenu:Ue,onFocus:ft,onKeyDown:Tt,onKeyUp:Ct,onMouseDown:fe,onMouseLeave:Be,onMouseUp:Fe,onDragLeave:Le,onTouchEnd:Ke,onTouchMove:it,onTouchStart:tt,ref:gt,tabIndex:v?-1:me,type:ue,...ht,...ve,children:[g,Ae?B.jsx(gx,{ref:U,center:f,...ye}):null]})});function na(r,s,n,c=!1){return ia(h=>(n&&n(h),c||r[s](h),!0))}function Ex(r){return wt("MuiCircularProgress",r)}Ot("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const dc=44,eT=qf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,tT=qf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,bx=typeof eT!="string"?gT`
        animation: ${eT} 1.4s linear infinite;
      `:null,yx=typeof tT!="string"?gT`
        animation: ${tT} 1.4s ease-in-out infinite;
      `:null,vx=r=>{const{classes:s,variant:n,color:c,disableShrink:h}=r,f={root:["root",n,`color${Et(c)}`],svg:["svg"],circle:["circle",`circle${Et(n)}`,h&&"circleDisableShrink"]};return At(f,Ex,s)},Sx=Qe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[n.variant],s[`color${Et(n.color)}`]]}})(Gt(({theme:r})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("transform")}},{props:{variant:"indeterminate"},style:bx||{animation:`${eT} 1.4s linear infinite`}},...Object.entries(r.palette).filter(el()).map(([s])=>({props:{color:s},style:{color:(r.vars||r).palette[s].main}}))]}))),Ix=Qe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Cx=Qe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.circle,s[`circle${Et(n.variant)}`],n.disableShrink&&s.circleDisableShrink]}})(Gt(({theme:r})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:s})=>s.variant==="indeterminate"&&!s.disableShrink,style:yx||{animation:`${tT} 1.4s ease-in-out infinite`}}]}))),kx=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiCircularProgress"}),{className:h,color:f="primary",disableShrink:g=!1,size:_=40,style:y,thickness:v=3.6,value:I=0,variant:R="indeterminate",...N}=c,M={...c,color:f,disableShrink:g,size:_,thickness:v,value:I,variant:R},L=vx(M),A={},P={},W={};if(R==="determinate"){const X=2*Math.PI*((dc-v)/2);A.strokeDasharray=X.toFixed(3),W["aria-valuenow"]=Math.round(I),A.strokeDashoffset=`${((100-I)/100*X).toFixed(3)}px`,P.transform="rotate(-90deg)"}return B.jsx(Sx,{className:pt(L.root,h),style:{width:_,height:_,...P,...y},ownerState:M,ref:n,role:"progressbar",...W,...N,children:B.jsx(Ix,{className:L.svg,ownerState:M,viewBox:`${dc/2} ${dc/2} ${dc} ${dc}`,children:B.jsx(Cx,{className:L.circle,style:A,ownerState:M,cx:dc,cy:dc,r:(dc-v)/2,fill:"none",strokeWidth:v})})})});function Rx(r){return wt("MuiIconButton",r)}const Oy=Ot("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),wx=r=>{const{classes:s,disabled:n,color:c,edge:h,size:f,loading:g}=r,_={root:["root",g&&"loading",n&&"disabled",c!=="default"&&`color${Et(c)}`,h&&`edge${Et(h)}`,`size${Et(f)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return At(_,Rx,s)},Ox=Qe(HT,{name:"MuiIconButton",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.loading&&s.loading,n.color!=="default"&&s[`color${Et(n.color)}`],n.edge&&s[`edge${Et(n.edge)}`],s[`size${Et(n.size)}`]]}})(Gt(({theme:r})=>({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),variants:[{props:s=>!s.disableRipple,style:{"--IconButton-hoverBg":r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:tr(r.palette.action.active,r.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Gt(({theme:r})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(r.palette).filter(el()).map(([s])=>({props:{color:s},style:{color:(r.vars||r).palette[s].main}})),...Object.entries(r.palette).filter(el()).map(([s])=>({props:{color:s},style:{"--IconButton-hoverBg":r.vars?`rgba(${(r.vars||r).palette[s].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:tr((r.vars||r).palette[s].main,r.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:r.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:r.typography.pxToRem(28)}}],[`&.${Oy.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled},[`&.${Oy.loading}`]:{color:"transparent"}}))),Ax=Qe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:r})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(r.vars||r).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),TS=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiIconButton"}),{edge:h=!1,children:f,className:g,color:_="default",disabled:y=!1,disableFocusRipple:v=!1,size:I="medium",id:R,loading:N=null,loadingIndicator:M,...L}=c,A=$$(R),P=M??B.jsx(kx,{"aria-labelledby":A,color:"inherit",size:16}),W={...c,edge:h,color:_,disabled:y,disableFocusRipple:v,loading:N,loadingIndicator:P,size:I},X=wx(W);return B.jsxs(Ox,{id:N?A:R,className:pt(X.root,g),centerRipple:!0,focusRipple:!v,disabled:y||N,ref:n,...L,ownerState:W,children:[typeof N=="boolean"&&B.jsx("span",{className:X.loadingWrapper,style:{display:"contents"},children:B.jsx(Ax,{className:X.loadingIndicator,ownerState:W,children:N&&P})}),f]})});var nn="top",pi="bottom",fi="right",sn="left",GT="auto",ag=[nn,pi,fi,sn],Gh="start",jf="end",xx="clippingParents",ES="viewport",Sf="popper",Lx="reference",Ay=ag.reduce(function(r,s){return r.concat([s+"-"+Gh,s+"-"+jf])},[]),bS=[].concat(ag,[GT]).reduce(function(r,s){return r.concat([s,s+"-"+Gh,s+"-"+jf])},[]),Nx="beforeRead",Mx="read",Dx="afterRead",Px="beforeMain",Bx="main",Fx="afterMain",Ux="beforeWrite",Hx="write",Gx="afterWrite",Vx=[Nx,Mx,Dx,Px,Bx,Fx,Ux,Hx,Gx];function tl(r){return r?(r.nodeName||"").toLowerCase():null}function Bn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var s=r.ownerDocument;return s&&s.defaultView||window}return r}function Hu(r){var s=Bn(r).Element;return r instanceof s||r instanceof Element}function di(r){var s=Bn(r).HTMLElement;return r instanceof s||r instanceof HTMLElement}function VT(r){if(typeof ShadowRoot>"u")return!1;var s=Bn(r).ShadowRoot;return r instanceof s||r instanceof ShadowRoot}function Wx(r){var s=r.state;Object.keys(s.elements).forEach(function(n){var c=s.styles[n]||{},h=s.attributes[n]||{},f=s.elements[n];!di(f)||!tl(f)||(Object.assign(f.style,c),Object.keys(h).forEach(function(g){var _=h[g];_===!1?f.removeAttribute(g):f.setAttribute(g,_===!0?"":_)}))})}function zx(r){var s=r.state,n={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,n.popper),s.styles=n,s.elements.arrow&&Object.assign(s.elements.arrow.style,n.arrow),function(){Object.keys(s.elements).forEach(function(c){var h=s.elements[c],f=s.attributes[c]||{},g=Object.keys(s.styles.hasOwnProperty(c)?s.styles[c]:n[c]),_=g.reduce(function(y,v){return y[v]="",y},{});!di(h)||!tl(h)||(Object.assign(h.style,_),Object.keys(f).forEach(function(y){h.removeAttribute(y)}))})}}const jx={name:"applyStyles",enabled:!0,phase:"write",fn:Wx,effect:zx,requires:["computeStyles"]};function Zs(r){return r.split("-")[0]}var Uu=Math.max,o$=Math.min,Vh=Math.round;function oT(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function yS(){return!/^((?!chrome|android).)*safari/i.test(oT())}function Wh(r,s,n){s===void 0&&(s=!1),n===void 0&&(n=!1);var c=r.getBoundingClientRect(),h=1,f=1;s&&di(r)&&(h=r.offsetWidth>0&&Vh(c.width)/r.offsetWidth||1,f=r.offsetHeight>0&&Vh(c.height)/r.offsetHeight||1);var g=Hu(r)?Bn(r):window,_=g.visualViewport,y=!yS()&&n,v=(c.left+(y&&_?_.offsetLeft:0))/h,I=(c.top+(y&&_?_.offsetTop:0))/f,R=c.width/h,N=c.height/f;return{width:R,height:N,top:I,right:v+R,bottom:I+N,left:v,x:v,y:I}}function WT(r){var s=Wh(r),n=r.offsetWidth,c=r.offsetHeight;return Math.abs(s.width-n)<=1&&(n=s.width),Math.abs(s.height-c)<=1&&(c=s.height),{x:r.offsetLeft,y:r.offsetTop,width:n,height:c}}function vS(r,s){var n=s.getRootNode&&s.getRootNode();if(r.contains(s))return!0;if(n&&VT(n)){var c=s;do{if(c&&r.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function ca(r){return Bn(r).getComputedStyle(r)}function Xx(r){return["table","td","th"].indexOf(tl(r))>=0}function $c(r){return((Hu(r)?r.ownerDocument:r.document)||window.document).documentElement}function v$(r){return tl(r)==="html"?r:r.assignedSlot||r.parentNode||(VT(r)?r.host:null)||$c(r)}function xy(r){return!di(r)||ca(r).position==="fixed"?null:r.offsetParent}function Yx(r){var s=/firefox/i.test(oT()),n=/Trident/i.test(oT());if(n&&di(r)){var c=ca(r);if(c.position==="fixed")return null}var h=v$(r);for(VT(h)&&(h=h.host);di(h)&&["html","body"].indexOf(tl(h))<0;){var f=ca(h);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||s&&f.willChange==="filter"||s&&f.filter&&f.filter!=="none")return h;h=h.parentNode}return null}function cg(r){for(var s=Bn(r),n=xy(r);n&&Xx(n)&&ca(n).position==="static";)n=xy(n);return n&&(tl(n)==="html"||tl(n)==="body"&&ca(n).position==="static")?s:n||Yx(r)||s}function zT(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Df(r,s,n){return Uu(r,o$(s,n))}function Kx(r,s,n){var c=Df(r,s,n);return c>n?n:c}function SS(){return{top:0,right:0,bottom:0,left:0}}function IS(r){return Object.assign({},SS(),r)}function CS(r,s){return s.reduce(function(n,c){return n[c]=r,n},{})}var Jx=function(s,n){return s=typeof s=="function"?s(Object.assign({},n.rects,{placement:n.placement})):s,IS(typeof s!="number"?s:CS(s,ag))};function qx(r){var s,n=r.state,c=r.name,h=r.options,f=n.elements.arrow,g=n.modifiersData.popperOffsets,_=Zs(n.placement),y=zT(_),v=[sn,fi].indexOf(_)>=0,I=v?"height":"width";if(!(!f||!g)){var R=Jx(h.padding,n),N=WT(f),M=y==="y"?nn:sn,L=y==="y"?pi:fi,A=n.rects.reference[I]+n.rects.reference[y]-g[y]-n.rects.popper[I],P=g[y]-n.rects.reference[y],W=cg(f),X=W?y==="y"?W.clientHeight||0:W.clientWidth||0:0,H=A/2-P/2,D=R[M],F=X-N[I]-R[L],J=X/2-N[I]/2+H,Q=Df(D,J,F),ne=y;n.modifiersData[c]=(s={},s[ne]=Q,s.centerOffset=Q-J,s)}}function Qx(r){var s=r.state,n=r.options,c=n.element,h=c===void 0?"[data-popper-arrow]":c;h!=null&&(typeof h=="string"&&(h=s.elements.popper.querySelector(h),!h)||vS(s.elements.popper,h)&&(s.elements.arrow=h))}const Zx={name:"arrow",enabled:!0,phase:"main",fn:qx,effect:Qx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zh(r){return r.split("-")[1]}var eL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tL(r,s){var n=r.x,c=r.y,h=s.devicePixelRatio||1;return{x:Vh(n*h)/h||0,y:Vh(c*h)/h||0}}function Ly(r){var s,n=r.popper,c=r.popperRect,h=r.placement,f=r.variation,g=r.offsets,_=r.position,y=r.gpuAcceleration,v=r.adaptive,I=r.roundOffsets,R=r.isFixed,N=g.x,M=N===void 0?0:N,L=g.y,A=L===void 0?0:L,P=typeof I=="function"?I({x:M,y:A}):{x:M,y:A};M=P.x,A=P.y;var W=g.hasOwnProperty("x"),X=g.hasOwnProperty("y"),H=sn,D=nn,F=window;if(v){var J=cg(n),Q="clientHeight",ne="clientWidth";if(J===Bn(n)&&(J=$c(n),ca(J).position!=="static"&&_==="absolute"&&(Q="scrollHeight",ne="scrollWidth")),J=J,h===nn||(h===sn||h===fi)&&f===jf){D=pi;var ae=R&&J===F&&F.visualViewport?F.visualViewport.height:J[Q];A-=ae-c.height,A*=y?1:-1}if(h===sn||(h===nn||h===pi)&&f===jf){H=fi;var S=R&&J===F&&F.visualViewport?F.visualViewport.width:J[ne];M-=S-c.width,M*=y?1:-1}}var oe=Object.assign({position:_},v&&eL),ge=I===!0?tL({x:M,y:A},Bn(n)):{x:M,y:A};if(M=ge.x,A=ge.y,y){var me;return Object.assign({},oe,(me={},me[D]=X?"0":"",me[H]=W?"0":"",me.transform=(F.devicePixelRatio||1)<=1?"translate("+M+"px, "+A+"px)":"translate3d("+M+"px, "+A+"px, 0)",me))}return Object.assign({},oe,(s={},s[D]=X?A+"px":"",s[H]=W?M+"px":"",s.transform="",s))}function oL(r){var s=r.state,n=r.options,c=n.gpuAcceleration,h=c===void 0?!0:c,f=n.adaptive,g=f===void 0?!0:f,_=n.roundOffsets,y=_===void 0?!0:_,v={placement:Zs(s.placement),variation:zh(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:h,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,Ly(Object.assign({},v,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:g,roundOffsets:y})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,Ly(Object.assign({},v,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const rL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oL,data:{}};var km={passive:!0};function nL(r){var s=r.state,n=r.instance,c=r.options,h=c.scroll,f=h===void 0?!0:h,g=c.resize,_=g===void 0?!0:g,y=Bn(s.elements.popper),v=[].concat(s.scrollParents.reference,s.scrollParents.popper);return f&&v.forEach(function(I){I.addEventListener("scroll",n.update,km)}),_&&y.addEventListener("resize",n.update,km),function(){f&&v.forEach(function(I){I.removeEventListener("scroll",n.update,km)}),_&&y.removeEventListener("resize",n.update,km)}}const iL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nL,data:{}};var sL={left:"right",right:"left",bottom:"top",top:"bottom"};function Mm(r){return r.replace(/left|right|bottom|top/g,function(s){return sL[s]})}var lL={start:"end",end:"start"};function Ny(r){return r.replace(/start|end/g,function(s){return lL[s]})}function jT(r){var s=Bn(r),n=s.pageXOffset,c=s.pageYOffset;return{scrollLeft:n,scrollTop:c}}function XT(r){return Wh($c(r)).left+jT(r).scrollLeft}function aL(r,s){var n=Bn(r),c=$c(r),h=n.visualViewport,f=c.clientWidth,g=c.clientHeight,_=0,y=0;if(h){f=h.width,g=h.height;var v=yS();(v||!v&&s==="fixed")&&(_=h.offsetLeft,y=h.offsetTop)}return{width:f,height:g,x:_+XT(r),y}}function cL(r){var s,n=$c(r),c=jT(r),h=(s=r.ownerDocument)==null?void 0:s.body,f=Uu(n.scrollWidth,n.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),g=Uu(n.scrollHeight,n.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),_=-c.scrollLeft+XT(r),y=-c.scrollTop;return ca(h||n).direction==="rtl"&&(_+=Uu(n.clientWidth,h?h.clientWidth:0)-f),{width:f,height:g,x:_,y}}function YT(r){var s=ca(r),n=s.overflow,c=s.overflowX,h=s.overflowY;return/auto|scroll|overlay|hidden/.test(n+h+c)}function kS(r){return["html","body","#document"].indexOf(tl(r))>=0?r.ownerDocument.body:di(r)&&YT(r)?r:kS(v$(r))}function Pf(r,s){var n;s===void 0&&(s=[]);var c=kS(r),h=c===((n=r.ownerDocument)==null?void 0:n.body),f=Bn(c),g=h?[f].concat(f.visualViewport||[],YT(c)?c:[]):c,_=s.concat(g);return h?_:_.concat(Pf(v$(g)))}function rT(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function uL(r,s){var n=Wh(r,!1,s==="fixed");return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function My(r,s,n){return s===ES?rT(aL(r,n)):Hu(s)?uL(s,n):rT(cL($c(r)))}function dL(r){var s=Pf(v$(r)),n=["absolute","fixed"].indexOf(ca(r).position)>=0,c=n&&di(r)?cg(r):r;return Hu(c)?s.filter(function(h){return Hu(h)&&vS(h,c)&&tl(h)!=="body"}):[]}function hL(r,s,n,c){var h=s==="clippingParents"?dL(r):[].concat(s),f=[].concat(h,[n]),g=f[0],_=f.reduce(function(y,v){var I=My(r,v,c);return y.top=Uu(I.top,y.top),y.right=o$(I.right,y.right),y.bottom=o$(I.bottom,y.bottom),y.left=Uu(I.left,y.left),y},My(r,g,c));return _.width=_.right-_.left,_.height=_.bottom-_.top,_.x=_.left,_.y=_.top,_}function RS(r){var s=r.reference,n=r.element,c=r.placement,h=c?Zs(c):null,f=c?zh(c):null,g=s.x+s.width/2-n.width/2,_=s.y+s.height/2-n.height/2,y;switch(h){case nn:y={x:g,y:s.y-n.height};break;case pi:y={x:g,y:s.y+s.height};break;case fi:y={x:s.x+s.width,y:_};break;case sn:y={x:s.x-n.width,y:_};break;default:y={x:s.x,y:s.y}}var v=h?zT(h):null;if(v!=null){var I=v==="y"?"height":"width";switch(f){case Gh:y[v]=y[v]-(s[I]/2-n[I]/2);break;case jf:y[v]=y[v]+(s[I]/2-n[I]/2);break}}return y}function Xf(r,s){s===void 0&&(s={});var n=s,c=n.placement,h=c===void 0?r.placement:c,f=n.strategy,g=f===void 0?r.strategy:f,_=n.boundary,y=_===void 0?xx:_,v=n.rootBoundary,I=v===void 0?ES:v,R=n.elementContext,N=R===void 0?Sf:R,M=n.altBoundary,L=M===void 0?!1:M,A=n.padding,P=A===void 0?0:A,W=IS(typeof P!="number"?P:CS(P,ag)),X=N===Sf?Lx:Sf,H=r.rects.popper,D=r.elements[L?X:N],F=hL(Hu(D)?D:D.contextElement||$c(r.elements.popper),y,I,g),J=Wh(r.elements.reference),Q=RS({reference:J,element:H,placement:h}),ne=rT(Object.assign({},H,Q)),ae=N===Sf?ne:J,S={top:F.top-ae.top+W.top,bottom:ae.bottom-F.bottom+W.bottom,left:F.left-ae.left+W.left,right:ae.right-F.right+W.right},oe=r.modifiersData.offset;if(N===Sf&&oe){var ge=oe[h];Object.keys(S).forEach(function(me){var ye=[fi,pi].indexOf(me)>=0?1:-1,Y=[nn,pi].indexOf(me)>=0?"y":"x";S[me]+=ge[Y]*ye})}return S}function pL(r,s){s===void 0&&(s={});var n=s,c=n.placement,h=n.boundary,f=n.rootBoundary,g=n.padding,_=n.flipVariations,y=n.allowedAutoPlacements,v=y===void 0?bS:y,I=zh(c),R=I?_?Ay:Ay.filter(function(L){return zh(L)===I}):ag,N=R.filter(function(L){return v.indexOf(L)>=0});N.length===0&&(N=R);var M=N.reduce(function(L,A){return L[A]=Xf(r,{placement:A,boundary:h,rootBoundary:f,padding:g})[Zs(A)],L},{});return Object.keys(M).sort(function(L,A){return M[L]-M[A]})}function fL(r){if(Zs(r)===GT)return[];var s=Mm(r);return[Ny(r),s,Ny(s)]}function gL(r){var s=r.state,n=r.options,c=r.name;if(!s.modifiersData[c]._skip){for(var h=n.mainAxis,f=h===void 0?!0:h,g=n.altAxis,_=g===void 0?!0:g,y=n.fallbackPlacements,v=n.padding,I=n.boundary,R=n.rootBoundary,N=n.altBoundary,M=n.flipVariations,L=M===void 0?!0:M,A=n.allowedAutoPlacements,P=s.options.placement,W=Zs(P),X=W===P,H=y||(X||!L?[Mm(P)]:fL(P)),D=[P].concat(H).reduce(function(fe,Ue){return fe.concat(Zs(Ue)===GT?pL(s,{placement:Ue,boundary:I,rootBoundary:R,padding:v,flipVariations:L,allowedAutoPlacements:A}):Ue)},[]),F=s.rects.reference,J=s.rects.popper,Q=new Map,ne=!0,ae=D[0],S=0;S<D.length;S++){var oe=D[S],ge=Zs(oe),me=zh(oe)===Gh,ye=[nn,pi].indexOf(ge)>=0,Y=ye?"width":"height",ue=Xf(s,{placement:oe,boundary:I,rootBoundary:R,altBoundary:N,padding:v}),ve=ye?me?fi:sn:me?pi:nn;F[Y]>J[Y]&&(ve=Mm(ve));var $e=Mm(ve),he=[];if(f&&he.push(ue[ge]<=0),_&&he.push(ue[ve]<=0,ue[$e]<=0),he.every(function(fe){return fe})){ae=oe,ne=!1;break}Q.set(oe,he)}if(ne)for(var U=L?3:1,ie=function(Ue){var Le=D.find(function(Fe){var Be=Q.get(Fe);if(Be)return Be.slice(0,Ue).every(function(tt){return tt})});if(Le)return ae=Le,"break"},Ee=U;Ee>0;Ee--){var Ae=ie(Ee);if(Ae==="break")break}s.placement!==ae&&(s.modifiersData[c]._skip=!0,s.placement=ae,s.reset=!0)}}const mL={name:"flip",enabled:!0,phase:"main",fn:gL,requiresIfExists:["offset"],data:{_skip:!1}};function Dy(r,s,n){return n===void 0&&(n={x:0,y:0}),{top:r.top-s.height-n.y,right:r.right-s.width+n.x,bottom:r.bottom-s.height+n.y,left:r.left-s.width-n.x}}function Py(r){return[nn,fi,pi,sn].some(function(s){return r[s]>=0})}function $L(r){var s=r.state,n=r.name,c=s.rects.reference,h=s.rects.popper,f=s.modifiersData.preventOverflow,g=Xf(s,{elementContext:"reference"}),_=Xf(s,{altBoundary:!0}),y=Dy(g,c),v=Dy(_,h,f),I=Py(y),R=Py(v);s.modifiersData[n]={referenceClippingOffsets:y,popperEscapeOffsets:v,isReferenceHidden:I,hasPopperEscaped:R},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":R})}const _L={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$L};function TL(r,s,n){var c=Zs(r),h=[sn,nn].indexOf(c)>=0?-1:1,f=typeof n=="function"?n(Object.assign({},s,{placement:r})):n,g=f[0],_=f[1];return g=g||0,_=(_||0)*h,[sn,fi].indexOf(c)>=0?{x:_,y:g}:{x:g,y:_}}function EL(r){var s=r.state,n=r.options,c=r.name,h=n.offset,f=h===void 0?[0,0]:h,g=bS.reduce(function(I,R){return I[R]=TL(R,s.rects,f),I},{}),_=g[s.placement],y=_.x,v=_.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=y,s.modifiersData.popperOffsets.y+=v),s.modifiersData[c]=g}const bL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:EL};function yL(r){var s=r.state,n=r.name;s.modifiersData[n]=RS({reference:s.rects.reference,element:s.rects.popper,placement:s.placement})}const vL={name:"popperOffsets",enabled:!0,phase:"read",fn:yL,data:{}};function SL(r){return r==="x"?"y":"x"}function IL(r){var s=r.state,n=r.options,c=r.name,h=n.mainAxis,f=h===void 0?!0:h,g=n.altAxis,_=g===void 0?!1:g,y=n.boundary,v=n.rootBoundary,I=n.altBoundary,R=n.padding,N=n.tether,M=N===void 0?!0:N,L=n.tetherOffset,A=L===void 0?0:L,P=Xf(s,{boundary:y,rootBoundary:v,padding:R,altBoundary:I}),W=Zs(s.placement),X=zh(s.placement),H=!X,D=zT(W),F=SL(D),J=s.modifiersData.popperOffsets,Q=s.rects.reference,ne=s.rects.popper,ae=typeof A=="function"?A(Object.assign({},s.rects,{placement:s.placement})):A,S=typeof ae=="number"?{mainAxis:ae,altAxis:ae}:Object.assign({mainAxis:0,altAxis:0},ae),oe=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,ge={x:0,y:0};if(J){if(f){var me,ye=D==="y"?nn:sn,Y=D==="y"?pi:fi,ue=D==="y"?"height":"width",ve=J[D],$e=ve+P[ye],he=ve-P[Y],U=M?-ne[ue]/2:0,ie=X===Gh?Q[ue]:ne[ue],Ee=X===Gh?-ne[ue]:-Q[ue],Ae=s.elements.arrow,fe=M&&Ae?WT(Ae):{width:0,height:0},Ue=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:SS(),Le=Ue[ye],Fe=Ue[Y],Be=Df(0,Q[ue],fe[ue]),tt=H?Q[ue]/2-U-Be-Le-S.mainAxis:ie-Be-Le-S.mainAxis,Ke=H?-Q[ue]/2+U+Be+Fe+S.mainAxis:Ee+Be+Fe+S.mainAxis,it=s.elements.arrow&&cg(s.elements.arrow),Ie=it?D==="y"?it.clientTop||0:it.clientLeft||0:0,ft=(me=oe==null?void 0:oe[D])!=null?me:0,He=ve+tt-ft-Ie,Tt=ve+Ke-ft,Ct=Df(M?o$($e,He):$e,ve,M?Uu(he,Tt):he);J[D]=Ct,ge[D]=Ct-ve}if(_){var bt,ht=D==="x"?nn:sn,gt=D==="x"?pi:fi,ct=J[F],_t=F==="y"?"height":"width",Me=ct+P[ht],le=ct-P[gt],De=[nn,sn].indexOf(W)!==-1,_o=(bt=oe==null?void 0:oe[F])!=null?bt:0,ut=De?Me:ct-Q[_t]-ne[_t]-_o+S.altAxis,io=De?ct+Q[_t]+ne[_t]-_o-S.altAxis:le,st=M&&De?Kx(ut,ct,io):Df(M?ut:Me,ct,M?io:le);J[F]=st,ge[F]=st-ct}s.modifiersData[c]=ge}}const CL={name:"preventOverflow",enabled:!0,phase:"main",fn:IL,requiresIfExists:["offset"]};function kL(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function RL(r){return r===Bn(r)||!di(r)?jT(r):kL(r)}function wL(r){var s=r.getBoundingClientRect(),n=Vh(s.width)/r.offsetWidth||1,c=Vh(s.height)/r.offsetHeight||1;return n!==1||c!==1}function OL(r,s,n){n===void 0&&(n=!1);var c=di(s),h=di(s)&&wL(s),f=$c(s),g=Wh(r,h,n),_={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(c||!c&&!n)&&((tl(s)!=="body"||YT(f))&&(_=RL(s)),di(s)?(y=Wh(s,!0),y.x+=s.clientLeft,y.y+=s.clientTop):f&&(y.x=XT(f))),{x:g.left+_.scrollLeft-y.x,y:g.top+_.scrollTop-y.y,width:g.width,height:g.height}}function AL(r){var s=new Map,n=new Set,c=[];r.forEach(function(f){s.set(f.name,f)});function h(f){n.add(f.name);var g=[].concat(f.requires||[],f.requiresIfExists||[]);g.forEach(function(_){if(!n.has(_)){var y=s.get(_);y&&h(y)}}),c.push(f)}return r.forEach(function(f){n.has(f.name)||h(f)}),c}function xL(r){var s=AL(r);return Vx.reduce(function(n,c){return n.concat(s.filter(function(h){return h.phase===c}))},[])}function LL(r){var s;return function(){return s||(s=new Promise(function(n){Promise.resolve().then(function(){s=void 0,n(r())})})),s}}function NL(r){var s=r.reduce(function(n,c){var h=n[c.name];return n[c.name]=h?Object.assign({},h,c,{options:Object.assign({},h.options,c.options),data:Object.assign({},h.data,c.data)}):c,n},{});return Object.keys(s).map(function(n){return s[n]})}var By={placement:"bottom",modifiers:[],strategy:"absolute"};function Fy(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return!s.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function ML(r){r===void 0&&(r={});var s=r,n=s.defaultModifiers,c=n===void 0?[]:n,h=s.defaultOptions,f=h===void 0?By:h;return function(_,y,v){v===void 0&&(v=f);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},By,f),modifiersData:{},elements:{reference:_,popper:y},attributes:{},styles:{}},R=[],N=!1,M={state:I,setOptions:function(W){var X=typeof W=="function"?W(I.options):W;A(),I.options=Object.assign({},f,I.options,X),I.scrollParents={reference:Hu(_)?Pf(_):_.contextElement?Pf(_.contextElement):[],popper:Pf(y)};var H=xL(NL([].concat(c,I.options.modifiers)));return I.orderedModifiers=H.filter(function(D){return D.enabled}),L(),M.update()},forceUpdate:function(){if(!N){var W=I.elements,X=W.reference,H=W.popper;if(Fy(X,H)){I.rects={reference:OL(X,cg(H),I.options.strategy==="fixed"),popper:WT(H)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(S){return I.modifiersData[S.name]=Object.assign({},S.data)});for(var D=0;D<I.orderedModifiers.length;D++){if(I.reset===!0){I.reset=!1,D=-1;continue}var F=I.orderedModifiers[D],J=F.fn,Q=F.options,ne=Q===void 0?{}:Q,ae=F.name;typeof J=="function"&&(I=J({state:I,options:ne,name:ae,instance:M})||I)}}}},update:LL(function(){return new Promise(function(P){M.forceUpdate(),P(I)})}),destroy:function(){A(),N=!0}};if(!Fy(_,y))return M;M.setOptions(v).then(function(P){!N&&v.onFirstUpdate&&v.onFirstUpdate(P)});function L(){I.orderedModifiers.forEach(function(P){var W=P.name,X=P.options,H=X===void 0?{}:X,D=P.effect;if(typeof D=="function"){var F=D({state:I,name:W,instance:M,options:H}),J=function(){};R.push(F||J)}})}function A(){R.forEach(function(P){return P()}),R=[]}return M}}var DL=[iL,vL,rL,jx,bL,mL,CL,Zx,_L],PL=ML({defaultModifiers:DL});function BL(r){return wt("MuiPopper",r)}Ot("MuiPopper",["root"]);function FL(r,s){if(s==="ltr")return r;switch(r){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return r}}function nT(r){return typeof r=="function"?r():r}function UL(r){return r.nodeType!==void 0}const HL=r=>{const{classes:s}=r;return At({root:["root"]},BL,s)},GL={},VL=w.forwardRef(function(s,n){const{anchorEl:c,children:h,direction:f,disablePortal:g,modifiers:_,open:y,placement:v,popperOptions:I,popperRef:R,slotProps:N={},slots:M={},TransitionProps:L,ownerState:A,...P}=s,W=w.useRef(null),X=jo(W,n),H=w.useRef(null),D=jo(H,R),F=w.useRef(D);hi(()=>{F.current=D},[D]),w.useImperativeHandle(R,()=>H.current,[]);const J=FL(v,f),[Q,ne]=w.useState(J),[ae,S]=w.useState(nT(c));w.useEffect(()=>{H.current&&H.current.forceUpdate()}),w.useEffect(()=>{c&&S(nT(c))},[c]),hi(()=>{if(!ae||!y)return;const Y=$e=>{ne($e.placement)};let ue=[{name:"preventOverflow",options:{altBoundary:g}},{name:"flip",options:{altBoundary:g}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$e})=>{Y($e)}}];_!=null&&(ue=ue.concat(_)),I&&I.modifiers!=null&&(ue=ue.concat(I.modifiers));const ve=PL(ae,W.current,{placement:J,...I,modifiers:ue});return F.current(ve),()=>{ve.destroy(),F.current(null)}},[ae,g,_,y,I,J]);const oe={placement:Q};L!==null&&(oe.TransitionProps=L);const ge=HL(s),me=M.root??"div",ye=sS({elementType:me,externalSlotProps:N.root,externalForwardedProps:P,additionalProps:{role:"tooltip",ref:X},ownerState:s,className:ge.root});return B.jsx(me,{...ye,children:typeof h=="function"?h(oe):h})}),WL=w.forwardRef(function(s,n){const{anchorEl:c,children:h,container:f,direction:g="ltr",disablePortal:_=!1,keepMounted:y=!1,modifiers:v,open:I,placement:R="bottom",popperOptions:N=GL,popperRef:M,style:L,transition:A=!1,slotProps:P={},slots:W={},...X}=s,[H,D]=w.useState(!0),F=()=>{D(!1)},J=()=>{D(!0)};if(!y&&!I&&(!A||H))return null;let Q;if(f)Q=f;else if(c){const S=nT(c);Q=S&&UL(S)?Pn(S).body:Pn(null).body}const ne=!I&&y&&(!A||H)?"none":void 0,ae=A?{in:I,onEnter:F,onExited:J}:void 0;return B.jsx(fS,{disablePortal:_,container:Q,children:B.jsx(VL,{anchorEl:c,direction:g,disablePortal:_,modifiers:v,ref:n,open:A?!H:I,placement:R,popperOptions:N,popperRef:M,slotProps:P,slots:W,...X,style:{position:"fixed",top:0,left:0,display:ne,...L},TransitionProps:ae,children:h})})}),zL=Qe(WL,{name:"MuiPopper",slot:"Root"})({}),wS=w.forwardRef(function(s,n){const c=IT(),h=xt({props:s,name:"MuiPopper"}),{anchorEl:f,component:g,components:_,componentsProps:y,container:v,disablePortal:I,keepMounted:R,modifiers:N,open:M,placement:L,popperOptions:A,popperRef:P,transition:W,slots:X,slotProps:H,...D}=h,F=(X==null?void 0:X.root)??(_==null?void 0:_.Root),J={anchorEl:f,container:v,disablePortal:I,keepMounted:R,modifiers:N,open:M,placement:L,popperOptions:A,popperRef:P,transition:W,...D};return B.jsx(zL,{as:g,direction:c?"rtl":"ltr",slots:{root:F},slotProps:H??y,...J,ref:n})});function jL(r){return wt("MuiTooltip",r)}const Bo=Ot("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function XL(r){return Math.round(r*1e5)/1e5}const YL=r=>{const{classes:s,disableInteractive:n,arrow:c,touch:h,placement:f}=r,g={popper:["popper",!n&&"popperInteractive",c&&"popperArrow"],tooltip:["tooltip",c&&"tooltipArrow",h&&"touch",`tooltipPlacement${Et(f.split("-")[0])}`],arrow:["arrow"]};return At(g,jL,s)},KL=Qe(wS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.popper,!n.disableInteractive&&s.popperInteractive,n.arrow&&s.popperArrow,!n.open&&s.popperClose]}})(Gt(({theme:r})=>({zIndex:(r.vars||r).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:s})=>!s.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:s})=>!s,style:{pointerEvents:"none"}},{props:({ownerState:s})=>s.arrow,style:{[`&[data-popper-placement*="bottom"] .${Bo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Bo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Bo.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Bo.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="right"] .${Bo.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="right"] .${Bo.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="left"] .${Bo.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="left"] .${Bo.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),JL=Qe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.tooltip,n.touch&&s.touch,n.arrow&&s.tooltipArrow,s[`tooltipPlacement${Et(n.placement.split("-")[0])}`]]}})(Gt(({theme:r})=>({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:tr(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium,[`.${Bo.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Bo.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Bo.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Bo.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:s})=>s.arrow,style:{position:"relative",margin:0}},{props:({ownerState:s})=>s.touch,style:{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:`${XL(16/14)}em`,fontWeight:r.typography.fontWeightRegular}},{props:({ownerState:s})=>!s.isRtl,style:{[`.${Bo.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Bo.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:s})=>!s.isRtl&&s.touch,style:{[`.${Bo.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Bo.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:s})=>!!s.isRtl,style:{[`.${Bo.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Bo.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:s})=>!!s.isRtl&&s.touch,style:{[`.${Bo.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Bo.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${Bo.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${Bo.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),qL=Qe("span",{name:"MuiTooltip",slot:"Arrow"})(Gt(({theme:r})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:r.vars?r.vars.palette.Tooltip.bg:tr(r.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Rm=!1;const Uy=new y$;let If={x:0,y:0};function wm(r,s){return(n,...c)=>{s&&s(n,...c),r(n,...c)}}const OS=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiTooltip"}),{arrow:h=!1,children:f,classes:g,components:_={},componentsProps:y={},describeChild:v=!1,disableFocusListener:I=!1,disableHoverListener:R=!1,disableInteractive:N=!1,disableTouchListener:M=!1,enterDelay:L=100,enterNextDelay:A=0,enterTouchDelay:P=700,followCursor:W=!1,id:X,leaveDelay:H=0,leaveTouchDelay:D=1500,onClose:F,onOpen:J,open:Q,placement:ne="bottom",PopperComponent:ae,PopperProps:S={},slotProps:oe={},slots:ge={},title:me,TransitionComponent:ye,TransitionProps:Y,...ue}=c,ve=w.isValidElement(f)?f:B.jsx("span",{children:f}),$e=Gu(),he=IT(),[U,ie]=w.useState(),[Ee,Ae]=w.useState(null),fe=w.useRef(!1),Ue=N||W,Le=Bu(),Fe=Bu(),Be=Bu(),tt=Bu(),[Ke,it]=K_({controlled:Q,default:!1,name:"Tooltip",state:"open"});let Ie=Ke;const ft=$$(X),He=w.useRef(),Tt=ia(()=>{He.current!==void 0&&(document.body.style.WebkitUserSelect=He.current,He.current=void 0),tt.clear()});w.useEffect(()=>Tt,[Tt]);const Ct=lt=>{Uy.clear(),Rm=!0,it(!0),J&&!Ie&&J(lt)},bt=ia(lt=>{Uy.start(800+H,()=>{Rm=!1}),it(!1),F&&Ie&&F(lt),Le.start($e.transitions.duration.shortest,()=>{fe.current=!1})}),ht=lt=>{fe.current&&lt.type!=="touchstart"||(U&&U.removeAttribute("title"),Fe.clear(),Be.clear(),L||Rm&&A?Fe.start(Rm?A:L,()=>{Ct(lt)}):Ct(lt))},gt=lt=>{Fe.clear(),Be.start(H,()=>{bt(lt)})},[,ct]=w.useState(!1),_t=lt=>{Hh(lt.target)||(ct(!1),gt(lt))},Me=lt=>{U||ie(lt.currentTarget),Hh(lt.target)&&(ct(!0),ht(lt))},le=lt=>{fe.current=!0;const b=ve.props;b.onTouchStart&&b.onTouchStart(lt)},De=lt=>{le(lt),Be.clear(),Le.clear(),Tt(),He.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",tt.start(P,()=>{document.body.style.WebkitUserSelect=He.current,ht(lt)})},_o=lt=>{ve.props.onTouchEnd&&ve.props.onTouchEnd(lt),Tt(),Be.start(D,()=>{bt(lt)})};w.useEffect(()=>{if(!Ie)return;function lt(b){b.key==="Escape"&&bt(b)}return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[bt,Ie]);const ut=jo(Jh(ve),ie,n);!me&&me!==0&&(Ie=!1);const io=w.useRef(),st=lt=>{const b=ve.props;b.onMouseMove&&b.onMouseMove(lt),If={x:lt.clientX,y:lt.clientY},io.current&&io.current.update()},zt={},j=typeof me=="string";v?(zt.title=!Ie&&j&&!R?me:null,zt["aria-describedby"]=Ie?ft:null):(zt["aria-label"]=j?me:null,zt["aria-labelledby"]=Ie&&!j?ft:null);const E={...zt,...ue,...ve.props,className:pt(ue.className,ve.props.className),onTouchStart:le,ref:ut,...W?{onMouseMove:st}:{}},x={};M||(E.onTouchStart=De,E.onTouchEnd=_o),R||(E.onMouseOver=wm(ht,E.onMouseOver),E.onMouseLeave=wm(gt,E.onMouseLeave),Ue||(x.onMouseOver=ht,x.onMouseLeave=gt)),I||(E.onFocus=wm(Me,E.onFocus),E.onBlur=wm(_t,E.onBlur),Ue||(x.onFocus=Me,x.onBlur=_t));const K={...c,isRtl:he,arrow:h,disableInteractive:Ue,placement:ne,PopperComponentProp:ae,touch:fe.current},te=typeof oe.popper=="function"?oe.popper(K):oe.popper,pe=w.useMemo(()=>{var b,O;let lt=[{name:"arrow",enabled:!!Ee,options:{element:Ee,padding:4}}];return(b=S.popperOptions)!=null&&b.modifiers&&(lt=lt.concat(S.popperOptions.modifiers)),(O=te==null?void 0:te.popperOptions)!=null&&O.modifiers&&(lt=lt.concat(te.popperOptions.modifiers)),{...S.popperOptions,...te==null?void 0:te.popperOptions,modifiers:lt}},[Ee,S.popperOptions,te==null?void 0:te.popperOptions]),Xe=YL(K),$t=typeof oe.transition=="function"?oe.transition(K):oe.transition,so={slots:{popper:_.Popper,transition:_.Transition??ye,tooltip:_.Tooltip,arrow:_.Arrow,...ge},slotProps:{arrow:oe.arrow??y.arrow,popper:{...S,...te??y.popper},tooltip:oe.tooltip??y.tooltip,transition:{...Y,...$t??y.transition}}},[an,zr]=Ao("popper",{elementType:KL,externalForwardedProps:so,ownerState:K,className:pt(Xe.popper,S==null?void 0:S.className)}),[xo,Lt]=Ao("transition",{elementType:e$,externalForwardedProps:so,ownerState:K}),[Fn,Un]=Ao("tooltip",{elementType:JL,className:Xe.tooltip,externalForwardedProps:so,ownerState:K}),[Hn,$i]=Ao("arrow",{elementType:qL,className:Xe.arrow,externalForwardedProps:so,ownerState:K,ref:Ae});return B.jsxs(w.Fragment,{children:[w.cloneElement(ve,E),B.jsx(an,{as:ae??wS,placement:ne,anchorEl:W?{getBoundingClientRect:()=>({top:If.y,left:If.x,right:If.x,bottom:If.y,width:0,height:0})}:U,popperRef:io,open:U?Ie:!1,id:ft,transition:!0,...x,...zr,popperOptions:pe,children:({TransitionProps:lt})=>B.jsx(xo,{timeout:$e.transitions.duration.shorter,...lt,...Lt,children:B.jsxs(Fn,{...Un,children:[me,h?B.jsx(Hn,{...$i}):null]})})})]})}),QL=ng(B.jsx("path",{d:"m19 8-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4z"}));function ZL(){const{text:r,setText:s,setToUpdate:n,data:c}=w.useContext(Wr),h=g=>{s(g.target.value),n(!0)},f=r.length?r:(c==null?void 0:c.string)||"Leave empty to generate an example of something which would match the pattern";return B.jsxs(Er,{position:"relative",display:"inline-block",sx:{mt:2,width:"100%"},children:[B.jsx(ix,{fullWidth:!0,multiline:!0,minRows:2,maxRows:10,variant:"outlined",label:"String to match against",id:"textInput",value:r,onChange:h,placeholder:f,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",slotProps:{inputLabel:{shrink:!0}}}),r.length===0&&B.jsx(OS,{title:"Generate a different example",children:B.jsx(TS,{size:"small",onClick:()=>n(!0),sx:{position:"absolute",top:4,right:4,className:"update-button",backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:B.jsx(QL,{fontSize:"small"})})})]})}function eN(){const{data:r}=w.useContext(Wr);return B.jsxs(B.Fragment,{children:[B.jsx(pr,{variant:"h5",children:"Looking for matches in:"}),B.jsx(Vu,{variant:"outlined",sx:{p:2,bgcolor:"background.paper",whiteSpace:"pre-wrap"},children:r!=null&&r["string HTML"]?B.jsx("div",{dangerouslySetInnerHTML:{__html:r==null?void 0:r["string HTML"].trim()}}):B.jsx(pr,{color:"text.secondary",fontStyle:"italic",children:"No text to display"})})]})}function tN(r){return wt("MuiCollapse",r)}Ot("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const oN=r=>{const{orientation:s,classes:n}=r,c={root:["root",`${s}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${s}`],wrapperInner:["wrapperInner",`${s}`]};return At(c,tN,n)},rN=Qe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[n.orientation],n.state==="entered"&&s.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&s.hidden]}})(Gt(({theme:r})=>({height:0,overflow:"hidden",transition:r.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:r.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:s})=>s.state==="exited"&&!s.in&&s.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),nN=Qe("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),iN=Qe("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),r$=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiCollapse"}),{addEndListener:h,children:f,className:g,collapsedSize:_="0px",component:y,easing:v,in:I,onEnter:R,onEntered:N,onEntering:M,onExit:L,onExited:A,onExiting:P,orientation:W="vertical",style:X,timeout:H=Uv.standard,TransitionComponent:D=ss,...F}=c,J={...c,orientation:W,collapsedSize:_},Q=oN(J),ne=Gu(),ae=Bu(),S=w.useRef(null),oe=w.useRef(),ge=typeof _=="number"?`${_}px`:_,me=W==="horizontal",ye=me?"width":"height",Y=w.useRef(null),ue=jo(n,Y),ve=Le=>Fe=>{if(Le){const Be=Y.current;Fe===void 0?Le(Be):Le(Be,Fe)}},$e=()=>S.current?S.current[me?"clientWidth":"clientHeight"]:0,he=ve((Le,Fe)=>{S.current&&me&&(S.current.style.position="absolute"),Le.style[ye]=ge,R&&R(Le,Fe)}),U=ve((Le,Fe)=>{const Be=$e();S.current&&me&&(S.current.style.position="");const{duration:tt,easing:Ke}=Uh({style:X,timeout:H,easing:v},{mode:"enter"});if(H==="auto"){const it=ne.transitions.getAutoHeightDuration(Be);Le.style.transitionDuration=`${it}ms`,oe.current=it}else Le.style.transitionDuration=typeof tt=="string"?tt:`${tt}ms`;Le.style[ye]=`${Be}px`,Le.style.transitionTimingFunction=Ke,M&&M(Le,Fe)}),ie=ve((Le,Fe)=>{Le.style[ye]="auto",N&&N(Le,Fe)}),Ee=ve(Le=>{Le.style[ye]=`${$e()}px`,L&&L(Le)}),Ae=ve(A),fe=ve(Le=>{const Fe=$e(),{duration:Be,easing:tt}=Uh({style:X,timeout:H,easing:v},{mode:"exit"});if(H==="auto"){const Ke=ne.transitions.getAutoHeightDuration(Fe);Le.style.transitionDuration=`${Ke}ms`,oe.current=Ke}else Le.style.transitionDuration=typeof Be=="string"?Be:`${Be}ms`;Le.style[ye]=ge,Le.style.transitionTimingFunction=tt,P&&P(Le)}),Ue=Le=>{H==="auto"&&ae.start(oe.current||0,Le),h&&h(Y.current,Le)};return B.jsx(D,{in:I,onEnter:he,onEntered:ie,onEntering:U,onExit:Ee,onExited:Ae,onExiting:fe,addEndListener:Ue,nodeRef:Y,timeout:H==="auto"?null:H,...F,children:(Le,{ownerState:Fe,...Be})=>B.jsx(rN,{as:y,className:pt(Q.root,g,{entered:Q.entered,exited:!I&&ge==="0px"&&Q.hidden}[Le]),style:{[me?"minWidth":"minHeight"]:ge,...X},ref:ue,ownerState:{...J,state:Le},...Be,children:B.jsx(nN,{ownerState:{...J,state:Le},className:Q.wrapper,ref:S,children:B.jsx(iN,{ownerState:{...J,state:Le},className:Q.wrapperInner,children:f})})})})});r$&&(r$.muiSupportAuto=!0);function sN(r){return wt("MuiAppBar",r)}Ot("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const lN=r=>{const{color:s,position:n,classes:c}=r,h={root:["root",`color${Et(s)}`,`position${Et(n)}`]};return At(h,sN,c)},Hy=(r,s)=>r?`${r==null?void 0:r.replace(")","")}, ${s})`:s,aN=Qe(Vu,{name:"MuiAppBar",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`position${Et(n.position)}`],s[`color${Et(n.color)}`]]}})(Gt(({theme:r})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(r.vars||r).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":r.vars?r.vars.palette.AppBar.defaultBg:r.palette.grey[100],"--AppBar-color":r.vars?r.vars.palette.text.primary:r.palette.getContrastText(r.palette.grey[100]),...r.applyStyles("dark",{"--AppBar-background":r.vars?r.vars.palette.AppBar.defaultBg:r.palette.grey[900],"--AppBar-color":r.vars?r.vars.palette.text.primary:r.palette.getContrastText(r.palette.grey[900])})}},...Object.entries(r.palette).filter(el(["contrastText"])).map(([s])=>({props:{color:s},style:{"--AppBar-background":(r.vars??r).palette[s].main,"--AppBar-color":(r.vars??r).palette[s].contrastText}})),{props:s=>s.enableColorOnDark===!0&&!["inherit","transparent"].includes(s.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:s=>s.enableColorOnDark===!1&&!["inherit","transparent"].includes(s.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...r.applyStyles("dark",{backgroundColor:r.vars?Hy(r.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:r.vars?Hy(r.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...r.applyStyles("dark",{backgroundImage:"none"})}}]}))),cN=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiAppBar"}),{className:h,color:f="primary",enableColorOnDark:g=!1,position:_="fixed",...y}=c,v={...c,color:f,position:_,enableColorOnDark:g},I=lN(v);return B.jsx(aN,{square:!0,component:"header",ownerState:v,elevation:4,className:pt(I.root,h,_==="fixed"&&"mui-fixed"),ref:n,...y})});function uN(r){return wt("MuiDivider",r)}const Gy=Ot("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dN=r=>{const{absolute:s,children:n,classes:c,flexItem:h,light:f,orientation:g,textAlign:_,variant:y}=r;return At({root:["root",s&&"absolute",y,f&&"light",g==="vertical"&&"vertical",h&&"flexItem",n&&"withChildren",n&&g==="vertical"&&"withChildrenVertical",_==="right"&&g!=="vertical"&&"textAlignRight",_==="left"&&g!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",g==="vertical"&&"wrapperVertical"]},uN,c)},hN=Qe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.absolute&&s.absolute,s[n.variant],n.light&&s.light,n.orientation==="vertical"&&s.vertical,n.flexItem&&s.flexItem,n.children&&s.withChildren,n.children&&n.orientation==="vertical"&&s.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&s.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&s.textAlignLeft]}})(Gt(({theme:r})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:r.vars?`rgba(${r.vars.palette.dividerChannel} / 0.08)`:tr(r.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:r.spacing(2),marginRight:r.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:r.spacing(1),marginBottom:r.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:s})=>!!s.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:s})=>s.children&&s.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:s})=>s.orientation==="vertical"&&s.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:s})=>s.textAlign==="right"&&s.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:s})=>s.textAlign==="left"&&s.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),pN=Qe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.wrapper,n.orientation==="vertical"&&s.wrapperVertical]}})(Gt(({theme:r})=>({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`}}]}))),iT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiDivider"}),{absolute:h=!1,children:f,className:g,orientation:_="horizontal",component:y=f||_==="vertical"?"div":"hr",flexItem:v=!1,light:I=!1,role:R=y!=="hr"?"separator":void 0,textAlign:N="center",variant:M="fullWidth",...L}=c,A={...c,absolute:h,component:y,flexItem:v,light:I,orientation:_,role:R,textAlign:N,variant:M},P=dN(A);return B.jsx(hN,{as:y,className:pt(P.root,g),role:R,ref:n,ownerState:A,"aria-orientation":R==="separator"&&(y!=="hr"||_==="vertical")?_:void 0,...L,children:f?B.jsx(pN,{className:P.wrapper,ownerState:A,children:f}):null})});iT&&(iT.muiSkipListHighlight=!0);function fN(r){return wt("MuiLink",r)}const gN=Ot("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),mN=({theme:r,ownerState:s})=>{const n=s.color,c=hc(r,`palette.${n}.main`,!1)||hc(r,`palette.${n}`,!1)||s.color,h=hc(r,`palette.${n}.mainChannel`)||hc(r,`palette.${n}Channel`);return"vars"in r&&h?`rgba(${h} / 0.4)`:tr(c,.4)},Vy={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},$N=r=>{const{classes:s,component:n,focusVisible:c,underline:h}=r,f={root:["root",`underline${Et(h)}`,n==="button"&&"button",c&&"focusVisible"]};return At(f,fN,s)},_N=Qe(pr,{name:"MuiLink",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`underline${Et(n.underline)}`],n.component==="button"&&s.button]}})(Gt(({theme:r})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:s,ownerState:n})=>s==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(r.palette).filter(el()).map(([s])=>({props:{underline:"always",color:s},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette[s].mainChannel} / 0.4)`:tr(r.palette[s].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:tr(r.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":r.vars?`rgba(${r.vars.palette.text.secondaryChannel} / 0.4)`:tr(r.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(r.vars||r).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${gN.focusVisible}`]:{outline:"auto"}}}]}))),TN=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiLink"}),h=Gu(),{className:f,color:g="primary",component:_="a",onBlur:y,onFocus:v,TypographyClasses:I,underline:R="always",variant:N="inherit",sx:M,...L}=c,[A,P]=w.useState(!1),W=F=>{Hh(F.target)||P(!1),y&&y(F)},X=F=>{Hh(F.target)&&P(!0),v&&v(F)},H={...c,color:g,component:_,focusVisible:A,underline:R,variant:N},D=$N(H);return B.jsx(_N,{color:g,className:pt(D.root,f),classes:I,component:_,onBlur:W,onFocus:X,ref:n,ownerState:H,variant:N,...L,sx:[...Vy[g]===void 0?[{color:g}]:[],...Array.isArray(M)?M:[M]],style:{...L.style,...R==="always"&&g!=="inherit"&&!Vy[g]&&{"--Link-underlineColor":mN({theme:h,ownerState:H})}}})});function EN(r){return wt("MuiListItem",r)}Ot("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function bN(r){return wt("MuiListItemButton",r)}const xh=Ot("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),yN=(r,s)=>{const{ownerState:n}=r;return[s.root,n.dense&&s.dense,n.alignItems==="flex-start"&&s.alignItemsFlexStart,n.divider&&s.divider,!n.disableGutters&&s.gutters]},vN=r=>{const{alignItems:s,classes:n,dense:c,disabled:h,disableGutters:f,divider:g,selected:_}=r,v=At({root:["root",c&&"dense",!f&&"gutters",g&&"divider",h&&"disabled",s==="flex-start"&&"alignItemsFlexStart",_&&"selected"]},bN,n);return{...n,...v}},SN=Qe(HT,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:yN})(Gt(({theme:r})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xh.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:tr(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${xh.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:tr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${xh.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:tr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:tr(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${xh.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${xh.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},variants:[{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.dense,style:{paddingTop:4,paddingBottom:4}}]}))),AS=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiListItemButton"}),{alignItems:h="center",autoFocus:f=!1,component:g="div",children:_,dense:y=!1,disableGutters:v=!1,divider:I=!1,focusVisibleClassName:R,selected:N=!1,className:M,...L}=c,A=w.useContext(Qs),P=w.useMemo(()=>({dense:y||A.dense||!1,alignItems:h,disableGutters:v}),[h,A.dense,y,v]),W=w.useRef(null);hi(()=>{f&&W.current&&W.current.focus()},[f]);const X={...c,alignItems:h,dense:P.dense,disableGutters:v,divider:I,selected:N},H=vN(X),D=jo(W,n);return B.jsx(Qs.Provider,{value:P,children:B.jsx(SN,{ref:D,href:L.href||L.to,component:(L.href||L.to)&&g==="div"?"button":g,focusVisibleClassName:pt(H.focusVisible,R),ownerState:X,className:pt(H.root,M),...L,classes:H,children:_})})});function IN(r){return wt("MuiListItemSecondaryAction",r)}Ot("MuiListItemSecondaryAction",["root","disableGutters"]);const CN=r=>{const{disableGutters:s,classes:n}=r;return At({root:["root",s&&"disableGutters"]},IN,n)},kN=Qe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,n.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:r})=>r.disableGutters,style:{right:0}}]}),xS=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiListItemSecondaryAction"}),{className:h,...f}=c,g=w.useContext(Qs),_={...c,disableGutters:g.disableGutters},y=CN(_);return B.jsx(kN,{className:pt(y.root,h),ownerState:_,ref:n,...f})});xS.muiName="ListItemSecondaryAction";const RN=(r,s)=>{const{ownerState:n}=r;return[s.root,n.dense&&s.dense,n.alignItems==="flex-start"&&s.alignItemsFlexStart,n.divider&&s.divider,!n.disableGutters&&s.gutters,!n.disablePadding&&s.padding,n.hasSecondaryAction&&s.secondaryAction]},wN=r=>{const{alignItems:s,classes:n,dense:c,disableGutters:h,disablePadding:f,divider:g,hasSecondaryAction:_}=r;return At({root:["root",c&&"dense",!h&&"gutters",!f&&"padding",g&&"divider",s==="flex-start"&&"alignItemsFlexStart",_&&"secondaryAction"],container:["container"]},EN,n)},ON=Qe("div",{name:"MuiListItem",slot:"Root",overridesResolver:RN})(Gt(({theme:r})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${xh.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),AN=Qe("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),KT=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiListItem"}),{alignItems:h="center",children:f,className:g,component:_,components:y={},componentsProps:v={},ContainerComponent:I="li",ContainerProps:{className:R,...N}={},dense:M=!1,disableGutters:L=!1,disablePadding:A=!1,divider:P=!1,secondaryAction:W,slotProps:X={},slots:H={},...D}=c,F=w.useContext(Qs),J=w.useMemo(()=>({dense:M||F.dense||!1,alignItems:h,disableGutters:L}),[h,F.dense,M,L]),Q=w.useRef(null),ne=w.Children.toArray(f),ae=ne.length&&xf(ne[ne.length-1],["ListItemSecondaryAction"]),S={...c,alignItems:h,dense:J.dense,disableGutters:L,disablePadding:A,divider:P,hasSecondaryAction:ae},oe=wN(S),ge=jo(Q,n),me=H.root||y.Root||ON,ye=X.root||v.root||{},Y={className:pt(oe.root,ye.className,g),...D};let ue=_||"li";return ae?(ue=!Y.component&&!_?"div":ue,I==="li"&&(ue==="li"?ue="div":Y.component==="li"&&(Y.component="div")),B.jsx(Qs.Provider,{value:J,children:B.jsxs(AN,{as:I,className:pt(oe.container,R),ref:ge,ownerState:S,...N,children:[B.jsx(me,{...ye,...!zf(me)&&{as:ue,ownerState:{...S,...ye.ownerState}},...Y,children:ne}),ne.pop()]})})):B.jsx(Qs.Provider,{value:J,children:B.jsxs(me,{...ye,as:ue,ref:ge,...!zf(me)&&{ownerState:{...S,...ye.ownerState}},...Y,children:[ne,W&&B.jsx(xS,{children:W})]})})}),Wy=Ot("MuiListItemIcon",["root","alignItemsFlexStart"]);function xN(r){return wt("MuiListItemText",r)}const Nh=Ot("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),LN=r=>{const{classes:s,inset:n,primary:c,secondary:h,dense:f}=r;return At({root:["root",n&&"inset",f&&"dense",c&&h&&"multiline"],primary:["primary"],secondary:["secondary"]},xN,s)},NN=Qe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[{[`& .${Nh.primary}`]:s.primary},{[`& .${Nh.secondary}`]:s.secondary},s.root,n.inset&&s.inset,n.primary&&n.secondary&&s.multiline,n.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Zb.root}:where(& .${Nh.primary})`]:{display:"block"},[`.${Zb.root}:where(& .${Nh.secondary})`]:{display:"block"},variants:[{props:({ownerState:r})=>r.primary&&r.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:r})=>r.inset,style:{paddingLeft:56}}]}),MN=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiListItemText"}),{children:h,className:f,disableTypography:g=!1,inset:_=!1,primary:y,primaryTypographyProps:v,secondary:I,secondaryTypographyProps:R,slots:N={},slotProps:M={},...L}=c,{dense:A}=w.useContext(Qs);let P=y??h,W=I;const X={...c,disableTypography:g,inset:_,primary:!!P,secondary:!!W,dense:A},H=LN(X),D={slots:N,slotProps:{primary:v,secondary:R,...M}},[F,J]=Ao("root",{className:pt(H.root,f),elementType:NN,externalForwardedProps:{...D,...L},ownerState:X,ref:n}),[Q,ne]=Ao("primary",{className:H.primary,elementType:pr,externalForwardedProps:D,ownerState:X}),[ae,S]=Ao("secondary",{className:H.secondary,elementType:pr,externalForwardedProps:D,ownerState:X});return P!=null&&P.type!==pr&&!g&&(P=B.jsx(Q,{variant:A?"body2":"body1",component:ne!=null&&ne.variant?void 0:"span",...ne,children:P})),W!=null&&W.type!==pr&&!g&&(W=B.jsx(ae,{variant:"body2",color:"textSecondary",...S,children:W})),B.jsxs(F,{...J,children:[P,W]})});function DN(r){return wt("MuiMenuItem",r)}const Cf=Ot("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),PN=(r,s)=>{const{ownerState:n}=r;return[s.root,n.dense&&s.dense,n.divider&&s.divider,!n.disableGutters&&s.gutters]},BN=r=>{const{disabled:s,dense:n,divider:c,disableGutters:h,selected:f,classes:g}=r,y=At({root:["root",n&&"dense",s&&"disabled",!h&&"gutters",c&&"divider",f&&"selected"]},DN,g);return{...g,...y}},FN=Qe(HT,{shouldForwardProp:r=>mi(r)||r==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:PN})(Gt(({theme:r})=>({...r.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cf.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:tr(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${Cf.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:tr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${Cf.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:tr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:tr(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${Cf.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${Cf.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},[`& + .${Gy.root}`]:{marginTop:r.spacing(1),marginBottom:r.spacing(1)},[`& + .${Gy.inset}`]:{marginLeft:52},[`& .${Nh.root}`]:{marginTop:0,marginBottom:0},[`& .${Nh.inset}`]:{paddingLeft:36},[`& .${Wy.root}`]:{minWidth:36},variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>!s.dense,style:{[r.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:s})=>s.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...r.typography.body2,[`& .${Wy.root} svg`]:{fontSize:"1.25rem"}}}]}))),rn=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiMenuItem"}),{autoFocus:h=!1,component:f="li",dense:g=!1,divider:_=!1,disableGutters:y=!1,focusVisibleClassName:v,role:I="menuitem",tabIndex:R,className:N,...M}=c,L=w.useContext(Qs),A=w.useMemo(()=>({dense:g||L.dense||!1,disableGutters:y}),[L.dense,g,y]),P=w.useRef(null);hi(()=>{h&&P.current&&P.current.focus()},[h]);const W={...c,dense:A.dense,divider:_,disableGutters:y},X=BN(c),H=jo(P,n);let D;return c.disabled||(D=R!==void 0?R:-1),B.jsx(Qs.Provider,{value:A,children:B.jsx(FN,{ref:H,role:I,tabIndex:D,component:f,focusVisibleClassName:pt(X.focusVisible,v),className:pt(X.root,N),...M,ownerState:W,classes:X})})});function UN(r){return wt("MuiToolbar",r)}Ot("MuiToolbar",["root","gutters","regular","dense"]);const HN=r=>{const{classes:s,disableGutters:n,variant:c}=r;return At({root:["root",!n&&"gutters",c]},UN,s)},GN=Qe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,!n.disableGutters&&s.gutters,s[n.variant]]}})(Gt(({theme:r})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:r.spacing(2),paddingRight:r.spacing(2),[r.breakpoints.up("sm")]:{paddingLeft:r.spacing(3),paddingRight:r.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:r.mixins.toolbar}]}))),VN=w.forwardRef(function(s,n){const c=xt({props:s,name:"MuiToolbar"}),{className:h,component:f="div",disableGutters:g=!1,variant:_="regular",...y}=c,v={...c,component:f,disableGutters:g,variant:_},I=HN(v);return B.jsx(GN,{as:f,className:pt(I.root,h),ref:n,ownerState:v,...y})}),WN=ng(B.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}));function zN({showMode:r,setShowMode:s}){return w.useEffect(()=>{localStorage.setItem("EZRegexShowMode",r)},[r]),w.useEffect(()=>{const n=localStorage.getItem("EZRegexShowMode");n&&s(n)},[]),B.jsxs(sg,{sx:{height:"100%",width:"min-content",ml:"auto"},id:"copy-dropdown",children:[B.jsx(ig,{id:"copy-dropdown",variant:"standard",children:"Show as"}),B.jsxs(qh,{labelId:"copy-dropdown",id:"copy-dropdown",sx:{height:"100%"},value:r,variant:"standard",onChange:n=>s(n.target.value),size:"small",children:[B.jsx(rn,{value:"plain",children:"Raw"}),B.jsx(rn,{value:"ezregex",children:"EZRegex"}),B.jsx(rn,{value:"regex",children:"Regex String"}),B.jsx(rn,{value:"code",children:"Code"}),B.jsx(rn,{value:"full-ezregex",children:"Full EZRegex"})]})]})}function zy({name:r,regex:s,ezregex:n,showMode:c}){let h="";switch(c){case"plain":h=s;break;case"regex":h="Coming soon!";break;case"code":h="Coming soon!";break;case"full-ezregex":h=n;break;case"ezregex":const f=new RegExp(/^\w+\ =\ (.*)/m);h=n.split(`
`).map(y=>f.test(y)?y.replace(/^pattern = (.*)/m,"$1")+`
`:"").join("");break}return B.jsx(B.Fragment,{children:B.jsx(AT,{container:!0,alignItems:"top",children:B.jsxs(Vu,{variant:"outlined",sx:{p:2,width:"70%",flex:"1 1 auto",bgcolor:"background.paper",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word",position:"relative","&:hover .copy-button":{opacity:1}},children:[!s&&B.jsx(pr,{color:"text.secondary",fontStyle:"italic",children:"No regex pattern to display"}),s&&B.jsxs(B.Fragment,{children:[B.jsx(OS,{title:"Copy to clipboard",children:B.jsx(TS,{size:"small",onClick:()=>navigator.clipboard.writeText(h),className:"copy-button",sx:{position:"absolute",top:4,right:4,opacity:0,transition:"opacity 0.2s",backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover"}},children:B.jsx(WN,{fontSize:"small"})})}),B.jsx(pr,{variant:"body1",sx:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:h})]})]})})})}function jN(){const[r,s]=w.useState("plain"),{data:n,code:c,replaceCode:h,mode:f}=w.useContext(Wr);return B.jsxs(B.Fragment,{children:[B.jsxs(AT,{container:!0,alignItems:"flex-end",children:[B.jsx(pr,{variant:"h5",sx:{mt:3},children:"Compiled Regex:"}),B.jsx(zN,{showMode:r,setShowMode:s})]}),B.jsx(zy,{name:"Regex",regex:n==null?void 0:n.regex,ezregex:c,showMode:r}),f==="replace"&&B.jsx(zy,{name:"Replacement Regex",regex:"Coming soon!",ezregex:h,showMode:r})]})}const LS=ng(B.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),NS=ng(B.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function jy({group:r,which:s}){const[n,c]=sr.useState(!0),h=()=>{c(!n)},f=Object.entries(r[s]).length>0,g=`${s}`;return B.jsxs(B.Fragment,{children:[B.jsxs(AS,{id:"groups-line",onClick:h,sx:{pl:4,color:f?"text.primary":"text.disabled"},children:[!f&&"No ",f?s.charAt(0).toUpperCase()+s.slice(1):s,f&&(n?B.jsx(LS,{sx:{ml:"auto"}}):B.jsx(NS,{sx:{ml:"auto"}}))]},"span-"+g),B.jsx(r$,{in:n,timeout:"auto",unmountOnExit:!0,children:B.jsx(lg,{component:"div",disablePadding:!0,children:Object.entries(r[s]).map(([_,y])=>{const v=`${_}-${y.start}-${y.end}-${g}`;return B.jsxs(KT,{id:"groups-line",sx:{pl:8},children:[B.jsxs("strong",{children:[_,":"]},"strong-"+v),B.jsx("pre",{className:"group",style:{backgroundColor:y.color,margin:"0",marginRight:".25rem",marginLeft:".25rem",borderRadius:"5px"},children:y.string},"pre-"+v),B.jsxs("em",{children:[" ",`(${y.start}:${y.end})`]},"em-"+v)]},"listitem-"+v)})},"list-"+g)},"collapse-"+g)]})}function XN({match:r,index:s,startOpen:n}){const[c,h]=sr.useState(n),f=()=>{h(!c)},g=`${r.match.start}-${r.match.end}-${s}`;return B.jsxs(Er,{sx:{pl:0,outline:"1px solid",borderRadius:"5px",margin:"2px"},children:[B.jsx(AS,{onClick:f,children:B.jsxs(KT,{children:[B.jsx("pre",{dangerouslySetInnerHTML:{__html:r.match["string HTML"]},style:{margin:"0",borderRadius:"5px",paddingRight:".25rem"}},"pre-"+g),B.jsx("em",{children:`(${r.match.start}:${r.match.end})`},"em-"+g),c?B.jsx(LS,{sx:{ml:"auto"}},"expandless-"+g):B.jsx(NS,{sx:{ml:"auto"}},"expandmore-"+g)]},"listitem-"+g)},"button-"+g),B.jsx(iT,{},"divider-"+g),B.jsx(r$,{in:c,timeout:"auto",unmountOnExit:!0,children:B.jsxs(lg,{component:"div",disablePadding:!0,children:[B.jsx(jy,{group:r,which:"named groups"},"group-named-"+g),B.jsx(jy,{group:r,which:"unnamed groups"},"group-unnamed-"+g)]},"list-"+g)},"collapse-"+g)]},"box-"+g)}function YN(){const{data:r}=w.useContext(Wr);return r?B.jsxs(B.Fragment,{children:[B.jsx(pr,{variant:"h5",sx:{mt:3},children:"Matches:"}),B.jsx(lg,{variant:"outlined",sx:{mt:-1},children:r.matches.map((s,n)=>B.jsx(XN,{match:s,index:n,startOpen:r.matches.length===1},"match-"+n))})]}):null}function KN(){const{text:r,setCode:s,setToUpdate:n}=w.useContext(Wr),[c,h]=w.useState("100px"),f=w.useCallback(y=>{y==null||y.languages.registerCompletionItemProvider("python",{provideCompletionItems:()=>({suggestions:[{label:"digit",kind:y.languages.CompletionItemKind.Function,documentation:"A single digit",detail:"\\d",insertText:"digit",commitCharacters:[" ","+"],additionalTextEdits:{forceMoveMarkers:!0}}]})})},[]),g=w.useCallback(y=>{s(y),n(!0)},[s,n]),_=y=>{const v=y.getModel();if(v){const I=v.getLineCount(),R=Math.min(Math.max(100,I*19),300);h(`${R}px`)}y.onDidChangeModelContent(()=>{var N;const I=((N=y.getModel())==null?void 0:N.getLineCount())||1,R=Math.min(Math.max(100,I*19),300);h(`${R}px`)})};return B.jsxs(Er,{sx:{mt:1,width:"100%"},children:[B.jsx(pr,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"EZRegex Pattern"}),B.jsx(eS,{height:c,defaultLanguage:"python",beforeMount:f,onChange:g,defaultValue:r||"pattern = ",onMount:_,theme:"vs-dark",className:"monaco-editor",options:{wordWrap:"on",minimap:{enabled:!1},links:!1,scrollbar:{horizontal:"hidden"},fontSize:14,lineNumbers:"off",glyphMargin:!1,folding:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:"none",scrollBeyondLastLine:!1,automaticLayout:!0}})]})}var Dm={exports:{}},Pm={exports:{}},Bm={exports:{}},Fm={exports:{}},Um={exports:{}},JN=Um.exports,Xy;function JT(){return Xy||(Xy=1,function(r,s){(function(n,c){r.exports=c()})(JN,function(){var n={},c,h,f,g,_,y,v,I,R,N,M,L,A,P,W,X,H,D,F,J,Q,ne,ae,S,oe,ge,me,ye,Y,ue,ve,$e,he,U,ie,Ee,Ae,fe,Ue,Le,Fe,Be,tt,Ke,it,Ie,ft,He,Tt,Ct,bt,ht,gt,ct,_t,Me,le,De,_o,ut,io,st,zt,j,E,x,K,te,pe,Xe,$t,so,an,zr,xo,Lt,Fn,Un,Hn,$i,lt,b,O,q,se,Ce,ot,at,lr,jr,ol,Gn,Wu,ug,Vn,Qh,_c,Zh,zu,Tc,Ec,bc,yc,dg,To,hg,ju,vc,Sc,ep,rl,Ic,Or,tp,Ar,pg,Xu,ua,nl,Cc,il,da,fg,gg,_i,op,ha,ls,mg,kc,kt,Xr,rp,Rc,wc,Yu,np,Oc,Ac,Wn,Yr,Ti,pa,Kr,zn,jn,ip,fa,$g,Ei,ga,sp,_g,ma,$a,sl,_a,Tg,Eg,Ta,xc,Ku,Ju,cn,Ea,Lc,un,Nc,Mc,lp,br,ll,qu,ba,ap,Xn,as,al,Dc,cp,bg,yg,vg,Qu,Sg,Ig,up,Cg,kg,dp,Rg,wg,Og,ya,Pc,Ag,xg,dn,eo,cl,Lg,hp,Zu,Jr,pp,ed,Bc,ul,Ng,fp,gp,td,mp,od,Yn,Mg,Dg,Pg,$p,va,dl,hl,_p,Fc,Sa,rd,cs,Uc,nd,id,pl,sd,ld,Bg,Hc,Tp,xr,fl,ad,cd,ud,Ep,gl,bp,Ia,bi,Lr,ml,Gc,dd,Ca,yi,Vc,hd,vi,yp,ka,pd,fd,vp,Wc,Kn,gd,md,Fg,Ug,Ra,wa,$d,_d,Vt,Oa,zc,Aa,Td,jc,Nr,xa,us,Sp,Hg,Gg,Ip,qr,hn,La,Xc,Na,Yc,ds,Ma,Ed,bd,Si,Jn,Kc,hs,Ft,Da,yr,qn,yd,Mr,ps,Pa,$l,Jc,qc,_l,Qn,Jt,to,Ii,or,ar,Zn,fs,rr,Qc,Cp,kp,Zc,Ze,So,Io,qt,pn,Ba,Ve,oo,gs,eu,Tl,vr,Dr,Ci,Qr,fn,ki,Rp,tu,vd,cr,Sr,po,fr,wp,Op,Sd,ms,Ap,Fa,Id,$s,ou,Cd,Pr,_s,Ua,Ts,ru,nu,iu,su,Es,Ir,Ri,lu,kd,gn,wi,Rd,El,mn,Oi,bl,wd,Ha,Od,Ad,au,Ga,xd,Ld,cu,yl,vl,uu,Nd,Md,bs,Dd,Sl,Zr,Il,Va,Ai,Pd,Cl,xp,Bd,Eo,du,Fd,Ud,hu,Hd,ys,Ge;c=function(e,t,o,a){if(!(e instanceof ke)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const d=t.toLowerCase();if(!o)throw Error("Can not register a null value");let m=lo[e],C=kl[e];if(m||(m=lo[e]=Object.create(null),C=kl[e]=Object.create(null)),h(e,o),!a&&m[d])throw Error('Name "'+d+'" with type "'+e+'" already registered.');m[d]=o,C[d]=t},h=function(e,t){switch(e){case String(ke.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},f=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const o=lo[e];o&&o[t]?(delete lo[e][t],delete kl[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},g=function(e,t,o){e=`${e}`.toLowerCase(),t=t.toLowerCase();const a=lo[e];if(!a||!a[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",o)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return a[t]},_=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=lo[e])?!!e[t]:!1},y=function(e,t,o){return g(e,t,o)},v=function(e,t,o){return g(e,t,o)},I=function(e,t,o){e=`${e}`.toLowerCase();var a=lo[e];if(!a){if(a=`Unable to find [${e}] in the registry.`,o)throw Error(`${a} You must require or register a ${e} plugin.`);return console.warn(a),null}if(!t)return a;e=kl[e],o=Object.create(null);for(const d of Object.keys(a))o[e[d]]=a[d];return o},R=function(e,t,o){return t=t.plugins[String(e)]||Cr,typeof t=="function"?t:y(e,t,o)},N=function(e){return Rl[e]||null},M=function(){const e=[];for(const t in Rl)e.push(Rl[t]);return e},L=function(e){Rl[e.id]=e},A=function(e){delete Rl[e.id]},P=function(){return Gd},W=function(e){Gd=e},X=function(){return Vd},H=function(e){Vd=e},D=function(){return $n},F=function(e){$n=e},J=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),o=e.getCachedParentSvgSize();var a=t.parentElement;if(a instanceof HTMLElement){var d=a.offsetWidth;a=a.offsetHeight,o.width!==d&&(t.setAttribute("width",d+"px"),e.setCachedParentSvgSize(d,null)),o.height!==a&&(t.setAttribute("height",a+"px"),e.setCachedParentSvgSize(null,a)),e.resize()}},Q=function(e,t){const o=Object.create(null),a=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=a.indexOf(e),a.splice(e,a.length-e));for(let d=0,m;m=a[d];d++)o[m.type]?o[m.type]++:o[m.type]=1;return o},ne=function(e){return function(){this.jsonInit(e)}},ae=function(e){Wa.defineBlocksWithJsonArrayInternal(e)},S=function(e){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let o=0;o<e.length;o++){const a=e[o];if(!a){console.warn(`Block definition #${o} in JSON array is ${a}. Skipping`);continue}const d=a.type;d?t[d]={init:ne(a)}:console.warn(`Block definition #${o} in JSON array is missing a type attribute. Skipping.`)}return t},n.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const o=e[t];t in jt&&console.warn(`Block definiton "${t}" overwrites previous definition.`),jt[t]=o}},oe=function(){return"blockly-"+(Vg++).toString(36)},ge=function(){return Lp.genUid()},me=function(e){wl=e},ye=function(){return wl},Y=function(e){fu.fireInternal(e)},ue=function(e){if(U()){if(!Is.length)try{requestAnimationFrame(()=>{setTimeout(ve,0)})}catch{setTimeout(ve,0)}Is.push(e)}},ve=function(){var e=$e(Is,!0);Is.length=0;for(let o=0,a;a=e[o];o++)if(a.workspaceId){var t=N(a.workspaceId);t&&t.fireChangeListener(a)}e=new Set(e.map(o=>o.workspaceId));for(const o of e){if(!o||(e=N(o),!e))continue;e=e.getUndoStack();let a;for(t=e.length;0<t;t--){const d=e[t-1];if(d.group==="")break;if(a===void 0)a=d.group;else if(d.group!==a)break}a&&t!=e.length-1&&(t=e.splice(t,e.length-t),t=$e(t,!0),e.push(...t))}},$e=function(e,t){e=e.slice(),t||e.reverse();const o=[],a=Object.create(null);for(let C=0,G;G=e[C];C++)if(!G.isNull()){var d=[G.isUiEvent?Al:G.type,G.blockId,G.workspaceId].join(" "),m=a[d];const be=m?m.event:null;m?G.type===n.MOVE$$module$build$src$core$events$utils&&m.index===C-1?(d=G,be.newParentId=d.newParentId,be.newInputName=d.newInputName,be.newCoordinate=d.newCoordinate,d.reason&&(be.reason?(d=new Set(d.reason.concat(be.reason)),be.reason=Array.from(d)):be.reason=d.reason),m.index=C):G.type===n.CHANGE$$module$build$src$core$events$utils&&G.element===be.element&&G.name===be.name?be.newValue=G.newValue:G.type===Mi?(m=G,be.viewTop=m.viewTop,be.viewLeft=m.viewLeft,be.scale=m.scale,be.oldScale=m.oldScale):(G.type!==Tn||be.type!==En)&&(a[d]={event:G,index:C},o.push(G)):(a[d]={event:G,index:C},o.push(G))}e=o.filter(function(C){return!C.isNull()}),t||e.reverse();for(let C=1,G;G=e[C];C++)G.type===n.CHANGE$$module$build$src$core$events$utils&&G.element==="mutation"&&e.unshift(e.splice(C,1)[0]);return e},he=function(){for(let e=0,t;t=Is[e];e++)t.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){pu++},n.enable$$module$build$src$core$events$utils=function(){pu--},U=function(){return pu===0},n.getGroup$$module$build$src$core$events$utils=function(){return jd},n.setGroup$$module$build$src$core$events$utils=function(e){fu.setGroupInternal(e)},ie=function(e){jd=typeof e=="boolean"?e?ge():"":e},Ee=function(e){const t=[];e=e.getDescendants(!1);for(let o=0,a;a=e[o];o++)t[o]=a.id;return t},Ae=function(e,t){const o=fe(e.type);if(!o)throw Error("Unknown event type.");return o.fromJson(e,t)},fe=function(e){const t=y(ke.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},Ue=function(e){if((e.type===n.MOVE$$module$build$src$core$events$utils||e.type===n.CREATE$$module$build$src$core$events$utils)&&e.workspaceId){var t=N(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const o=wl;try{wl=!1;const a=e.getParent();if(a&&a.isEnabled()){const d=e.getDescendants(!1);for(let m=0,C;C=d[m];m++)C.setEnabled(!0)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setEnabled(!1),e=e.getNextBlock();while(e)}finally{wl=o}}}},Le=function(e,t){Fe(),gu=setTimeout(function(){t&&t.handleRightClick(e)},ja)},Fe=function(){gu&&(clearTimeout(gu),gu=0)},Be=function(){Xa=null},tt=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&it(e)},Ke=function(e){return`${e.pointerId}`},it=function(e){const t=Ke(e);return Xa?Xa===t:e.type==="pointerdown"?(Xa=t,!0):!1},Ie=function(e,t,o,a,d){function m(G){(d||tt(G))&&(o?a.call(o,G):a(G))}const C=[];if(t in Dl)for(let G=0;G<Dl[t].length;G++){const be=Dl[t][G];e.addEventListener(be,m,!1),C.push([e,be,m])}else e.addEventListener(t,m,!1),C.push([e,t,m]);return C},ft=function(e,t,o,a){function d(C){o?a.call(o,C):a(C)}const m=[];if(t in Dl)for(let C=0;C<Dl[t].length;C++){const G=Dl[t][C];e.addEventListener(G,d,!1),m.push([e,G,d])}else e.addEventListener(t,d,!1),m.push([e,t,d]);return m},He=function(e){const t=e[e.length-1][2];for(;e.length;){const[o,a,d]=e.pop();o.removeEventListener(a,d,!1)}return t},Tt=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},Ct=function(e){return e.ctrlKey&&mu?!0:e.button===2},bt=function(e,t,o){const a=t.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,o||(o=t.getScreenCTM().inverse()),a.matrixTransform(o)},ht=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*Zd,y:e.deltaY*Zd};case 2:return{x:e.deltaX*_u,y:e.deltaY*_u}}},gt=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},ct=function(e){if(Ka)throw Error("CSS already injected");vn+=`
`+e},_t=function(e,t){Ka||(Ka=!0,e&&(e=t.replace(/[\\/]$/,""),t=vn.replace(/<<<PATH>>>/g,e),vn="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},Me=function(e,t,o,a){e=e+" was deprecated in "+t+" and will be deleted in "+o+".",a&&(e+=`
Use `+a+" instead."),eh.has(e)||(eh.add(e),console.warn(e))},le=function(e,t,o){e=document.createElementNS(Ja,`${e}`);for(const a in t)e.setAttribute(a,`${t[a]}`);return o&&o.appendChild(e),e},De=function(e,t){return t=t.split(" "),t.every(o=>e.classList.contains(o))?!1:(e.classList.add(...t),!0)},_o=function(e,t){e.classList.remove(...t.split(" "))},ut=function(e,t){return t=t.split(" "),t.every(o=>!e.classList.contains(o))?!1:(e.classList.remove(...t),!0)},io=function(e,t){return e.classList.contains(t)},st=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},zt=function(e,t){const o=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");o?t.insertBefore(e,o):t.appendChild(e)},j=function(e,t){return Me("Blockly.utils.dom.containsNode","version 10","version 11",'Use native "contains" DOM method'),e.contains(t)},E=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},x=function(){qa++,Sn||(Sn=Object.create(null))},K=function(){qa--,qa||(Sn=null)},te=function(e){const t=e.textContent+`
`+e.className.baseVal;let o;if(Sn&&(o=Sn[t]))return o;try{o=e.getComputedTextLength()}catch{return 8*e.textContent.length}return Sn&&(Sn[t]=o),o},pe=function(e,t,o,a){return Xe(e,t+"pt",o,a)},Xe=function(e,t,o,a){const d=e.textContent;e=d+`
`+e.className.baseVal;var m;return Sn&&(m=Sn[e])||(Uo||(m=document.createElement("canvas"),m.className="blocklyComputeCanvas",document.body.appendChild(m),Uo=m.getContext("2d")),Uo.font=o+" "+t+" "+a,m=d?Uo.measureText(d).width:0,Sn&&(Sn[e]=m)),m},$t=function(e,t,o,a){const d=document.createElement("span");d.style.font=o+" "+t+" "+a,d.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(d),t.appendChild(e),document.body.appendChild(t),o={height:0,baseline:0};try{t.style.alignItems="baseline",o.baseline=e.offsetTop-d.offsetTop,t.style.alignItems="flex-end",o.height=e.offsetTop-d.offsetTop}finally{document.body.removeChild(t)}return o},so=function(e){return zp.getSizeInternal(e)},an=function(e){if(xo(e,"display")!=="none")return zr(e);const t=e.style,o=t.display,a=t.visibility,d=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const m=e.offsetWidth;return e=e.offsetHeight,t.display=o,t.position=d,t.visibility=a,new Xt(m,e)},zr=function(e){return new Xt(e.offsetWidth,e.offsetHeight)},xo=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},Lt=function(e){const t=new Ne(0,0);e=e.getBoundingClientRect();var o=document.documentElement;return o=new Ne(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop),t.x=e.left+o.x,t.y=e.top+o.y,t},Fn=function(){const e=document.body,t=document.documentElement;return new Ne(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},Un=function(e){const t=parseFloat(xo(e,"borderLeftWidth")),o=parseFloat(xo(e,"borderRightWidth")),a=parseFloat(xo(e,"borderTopWidth"));return e=parseFloat(xo(e,"borderBottomWidth")),new Mt(a,e,t,o)},Hn=function(e,t,o){e=$i(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},$i=function(e,t,o){var a=Lt(e),d=Lt(t),m=Un(t);const C=a.x-d.x-m.left;return a=a.y-d.y-m.top,d=zr(e),e=t.clientWidth-d.width,d=t.clientHeight-d.height,m=t.scrollLeft,t=t.scrollTop,o?(m+=C-e/2,t+=a-d/2):(m+=Math.min(C,Math.max(C-e,0)),t+=Math.min(a,Math.max(a-d,0))),new Ne(m,t)},lt=function(e){const t=new Ne(0,0);var o=e.x&&e.getAttribute("x");const a=e.y&&e.getAttribute("y");return o&&(t.x=parseInt(o)),a&&(t.y=parseInt(a)),(o=(o=e.getAttribute("transform"))&&o.match(Qa))&&(t.x+=Number(o[1]),o[3]&&(t.y+=Number(o[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(Tu))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},b=function(e){let t=0,o=0;for(;e;){const a=lt(e);if(t+=a.x,o+=a.y,(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1)break;e=e.parentNode}return new Ne(t,o)},O=function(){const e=Fn();return new Mt(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},q=function(){const e=document.documentElement,t=window;return new Ne(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},se=function(e,t){var o=t.x;t=t.y;const a=e.getInjectionDiv().getBoundingClientRect();return o=new Ne(o-a.left,t-a.top),t=e.getOriginOffsetInPixels(),Ne.difference(o,t).scale(1/e.scale)},Ce=function(e,t){var o=t.scale(e.scale);t=o.x,o=o.y;const a=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Ne(t+a.left+e.x,o+a.top+e.y)},ot=function(e){({document:Za=Za,DOMParser:wo=wo,XMLSerializer:gr=gr}=e),Eu=new wo,bu=new gr},n.createElement$$module$build$src$core$utils$xml=function(e){return Za.createElementNS(Ui,e)},n.createTextNode$$module$build$src$core$utils$xml=function(e){return Za.createTextNode(e)},n.textToDom$$module$build$src$core$utils$xml=function(e){let t=Eu.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=Eu.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},at=function(e){return lr(bu.serializeToString(e))},lr=function(e){return e.replace(Xg,t=>`&#${t.charCodeAt(0)};`)},jr=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=zu(e),e=Qh(e)),ol(e),e):null},ol=function(e){const t=e.kind;if(e=e.contents,t&&t!==Xp&&t!==Br)throw Error("Invalid toolbox kind "+t+". Please supply either "+Xp+" or "+Br);if(!e)throw Error("Toolbox must have a contents attribute.")},Gn=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:_c(e):[]},Wu=function(e){return Yg.hasCategoriesInternal(e)},ug=function(e){if(!e)return!1;const t=e.kind;return t?t===Br:!!e.contents.filter(function(o){return o.kind.toUpperCase()==="CATEGORY"}).length},Vn=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},Qh=function(e){const t={contents:_c(e)};return e instanceof Node&&Zh(e,t),t},_c=function(e){const t=[];let o=e.childNodes;o||(o=e);for(let a=0,d;d=o[a];a++){if(!d.tagName)continue;e={};const m=d.tagName.toUpperCase();e.kind=m,m==="BLOCK"?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=_c(d)),Zh(d,e),t.push(e)}return t},Zh=function(e,t){for(let o=0;o<e.attributes.length;o++){const a=e.attributes[o];-1<a.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[a.nodeName.replace("css-","")]=a.value):t[a.nodeName]=a.value}},zu=function(e){let t=null;if(e)if(typeof e=="string"){if(t=n.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},Tc=function(e,t,o,a,d,m){const C=m.scrollbar&&m.scrollbar.canScrollVertically();return e.horizontal===Fl.LEFT?(o=d.absoluteMetrics.left+o,C&&m.RTL&&(o+=vo.scrollbarThickness)):(o=d.absoluteMetrics.left+d.viewMetrics.width-t.width-o,C&&!m.RTL&&(o-=vo.scrollbarThickness)),e.vertical===ri.TOP?e=d.absoluteMetrics.top+a:(e=d.absoluteMetrics.top+d.viewMetrics.height-t.height-a,m.scrollbar&&m.scrollbar.canScrollHorizontally()&&(e-=vo.scrollbarThickness)),new Mt(e,e+t.height,o,o+t.width)},Ec=function(e,t){return{horizontal:t.toolboxMetrics.position===dt.LEFT||e.horizontalLayout&&!e.RTL?Fl.RIGHT:Fl.LEFT,vertical:t.toolboxMetrics.position===dt.BOTTOM?ri.TOP:ri.BOTTOM}},bc=function(e,t,o,a){const d=e.left,m=e.right-e.left,C=e.bottom-e.top;for(let G=0;G<a.length;G++){const be=a[G];e.intersects(be)&&(e=o===Gi.UP?be.top-C-t:be.bottom+t,e=new Mt(e,e+C,d,d+m),G=-1)}return e},yc=function(e,t){Nt(e,t)},dg=function(e){Nt=e},To=function(e,t){qo.confirmInternal(e,t)},hg=function(e,t){Go(e,t)},ju=function(e){Go=e},vc=function(e,t,o){Oo(e,t,o)},Sc=function(e){Oo=e},ep=function(e){return e.getVariableModel!==void 0},rl=function(e){return e.getProcedureDef!==void 0},Ic=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},n.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let o=0;o<e.length;o++){const a=e[o].getVarModels();if(a)for(let d=0;d<a.length;d++){const m=a[d];m.getId()&&t.add(m)}}return Array.from(t.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let a=0,d;d=e[a];a++){var o=d.getDeveloperVariables;if(o){o=o();for(let m=0;m<o.length;m++)t.add(o[m])}}return Array.from(t.values())},Or=function(e){let t=[];const o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(a){ua(a.getTargetWorkspace())}),t.push(o),e=tp(e),t=t.concat(e)},tp=function(e){e=e.getVariablesOfType("");const t=[];if(0<e.length){var o=e[e.length-1];if(jt.variables_set){var a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set"),a.setAttribute("gap",jt.math_change?"8":"24"),a.appendChild(_i(o)),t.push(a)}if(jt.math_change&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","math_change"),a.setAttribute("gap",jt.variables_get?"20":"8"),a.appendChild(_i(o)),o=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),a.appendChild(o),t.push(a)),jt.variables_get){e.sort(Os.compareByName);for(let d=0,m;m=e[d];d++)o=n.createElement$$module$build$src$core$utils$xml("block"),o.setAttribute("type","variables_get"),o.setAttribute("gap","8"),o.appendChild(_i(m)),t.push(o)}}return t},Ar=function(e){return mr.generateUniqueNameInternal(e)},pg=function(e){return Xu(Hl.charAt(0),e.getAllVariableNames())},Xu=function(e,t){if(!t.length)return e;const o=Hl;let a="",d=o.indexOf(e);for(;;){let m=!1;for(let C=0;C<t.length;C++)if(t[C].toLowerCase()===e){m=!0;break}if(!m)break;d++,d===o.length&&(d=0,a=`${Number(a)+1}`),e=o.charAt(d)+a}return e},ua=function(e,t,o){function a(m){nl(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,m,function(C){if(C){var G=il(C,e);if(G){if(G.type===d)var be=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",G.name);else be=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,be=be.replace("%1",G.name).replace("%2",G.type);yc(be,function(){a(C)})}else e.createVariable(C,d),t&&t(C)}else t&&t(null)})}const d=o||"";a("")},n.renameVariable$$module$build$src$core$variables=function(e,t,o){function a(d){const m=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);nl(m,d,function(C){if(C){var G=Cc(C,t.type,e),be=da(t.name,C,e);if(G||be){var We="";G?We=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",G.name).replace("%2",G.type):be&&(We=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",C).replace("%2",be)),yc(We,function(){a(C)})}else e.renameVariableById(t.getId(),C),o&&o(C)}else o&&o(null)})}a("")},nl=function(e,t,o){vc(e,t,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").trim(),a===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||a===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(a=null),o(a)})},Cc=function(e,t,o){o=o.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let a=0,d;d=o[a];a++)if(d.name.toLowerCase()===e&&d.type!==t)return d;return null},il=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let o=0,a;a=t[o];o++)if(a.name.toLowerCase()===e)return a;return null},da=function(e,t,o){return o.getProcedureMap().getProcedures().length?fg(e,t,o):gg(e,t,o)},fg=function(e,t,o){e=e.toLowerCase(),t=t.toLowerCase(),o=o.getProcedureMap().getProcedures();for(const d of o){var a=d.getParameters().filter(ep).map(m=>m.getVariableModel().name);if(a&&(o=a.some(m=>m.toLowerCase()===e),a=a.some(m=>m.toLowerCase()===t),o&&a))return d.getName()}return null},gg=function(e,t,o){e=e.toLowerCase(),t=t.toLowerCase(),o=o.getAllBlocks(!1);for(const d of o){if(!rl(d))continue;o=d.getProcedureDef();var a=o[1];const m=a.some(C=>C.toLowerCase()===e);if(a=a.some(C=>C.toLowerCase()===t),m&&a)return o[0]}return null},_i=function(e){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=n.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,o,a){let d=n.getVariable$$module$build$src$core$variables(e,t,o,a);return d||(d=op(e,t,o,a)),d},n.getVariable$$module$build$src$core$variables=function(e,t,o,a){const d=e.getPotentialVariableMap();let m=null;if(t&&(m=e.getVariableById(t),!m&&d&&(m=d.getVariableById(t)),m))return m;if(o){if(a===void 0)throw Error("Tried to look up a variable by name without a type");m=e.getVariable(o,a),!m&&d&&(m=d.getVariable(o,a))}return m},op=function(e,t,o,a){const d=e.getPotentialVariableMap();return o||(o=Ar(e.isFlyout?e.targetWorkspace:e)),d?d.createVariable(o,a,t):e.createVariable(o,a,t)},ha=function(e,t){e=e.getAllVariables();const o=[];if(t.length!==e.length)for(let a=0;a<e.length;a++){const d=e[a];t.indexOf(d)===-1&&o.push(d)}return o},ls=function(e,t){c(ke.PASTER,e,t)},mg=function(e){f(ke.PASTER,e)},kc=function(e){return Rc(e),rp()?(wc(),Promise.resolve()):(zi||(zi=new Promise(t=>{oc=t,dr=window.requestAnimationFrame(()=>{wc(),t()})})),zi)},kt=function(){return zi||Promise.resolve()},Xr=function(e){e||window.cancelAnimationFrame(dr),wc(e),!e&&oc&&oc()},rp=function(){return qd},Rc=function(e){vu.add(e);const t=e.getParent();t?Rc(t):xs.add(e)},wc=function(e){const t=e?new Set([e]):new Set([...xs].map(d=>d.workspace)),o=[...xs].filter(np).filter(d=>t.has(d.workspace));for(var a of o)Oc(a);for(const d of t)d.resizeContents();for(const d of o)a=d.getRelativeToSurfaceXY(),d.updateComponentLocations(a);for(const d of o)Yu(d);e||(zi=null)},Yu=function(e){xs.delete(e),vu.delete(e);for(const t of e.getChildren(!1))Yu(t)},np=function(e){return!e.isDisposed()&&!e.getParent()},Oc=function(e){if(vu.has(e)){for(const t of e.getChildren(!1))Oc(t);e.renderEfficiently()}},Ac=function(e,t){const o=n.createElement$$module$build$src$core$utils$xml("xml");var a=Wn(n.allUsedVarModels$$module$build$src$core$variables(e));a.hasChildNodes()&&o.appendChild(a),a=e.getTopComments(!0);for(let d=0;d<a.length;d++)o.appendChild(a[d].toXmlWithXY(t));for(e=e.getTopBlocks(!0),a=0;a<e.length;a++)o.appendChild(Yr(e[a],t));return o},Wn=function(e){const t=n.createElement$$module$build$src$core$utils$xml("variables");for(let o=0;o<e.length;o++){const a=e[o],d=n.createElement$$module$build$src$core$utils$xml("variable");d.appendChild(n.createTextNode$$module$build$src$core$utils$xml(a.name)),a.type&&d.setAttribute("type",a.type),d.id=a.getId(),t.appendChild(d)}return t},Yr=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let o=0;if(e.workspace.RTL&&(o=e.workspace.getWidth()),t=Kr(e,t),Ju(t)){const a=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?o-a.x:a.x))),t.setAttribute("y",String(Math.round(a.y)))}return t},Ti=function(e){if(e.isSerializable()){const t=n.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},pa=function(e,t){for(let o=0;o<e.inputList.length;o++){const a=e.inputList[o];for(let d=0;d<a.fieldRow.length;d++){const m=Ti(a.fieldRow[d]);m&&t.appendChild(m)}}},Kr=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Kr(t):new DocumentFragment;const o=n.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(o.setAttribute("type",e.type),t||(o.id=e.id),e.mutationToDom){var a=e.mutationToDom();a&&(a.hasChildNodes()||a.hasAttributes())&&o.appendChild(a)}if(pa(e,o),a=e.getCommentText()){var d=e.getIcon(fo.COMMENT),m=d.getBubbleSize();d=d.bubbleIsVisible();var C=n.createElement$$module$build$src$core$utils$xml("comment");C.appendChild(n.createTextNode$$module$build$src$core$utils$xml(a)),C.setAttribute("pinned",`${d}`),C.setAttribute("h",String(m.height)),C.setAttribute("w",String(m.width)),o.appendChild(C)}for(e.data&&(a=n.createElement$$module$build$src$core$utils$xml("data"),a.appendChild(n.createTextNode$$module$build$src$core$utils$xml(e.data)),o.appendChild(a)),a=0;a<e.inputList.length;a++){m=e.inputList[a];var G=void 0;if(d=!0,m.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&m.type!==n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){C=m.connection.targetBlock(),m.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?G=n.createElement$$module$build$src$core$utils$xml("value"):m.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(G=n.createElement$$module$build$src$core$utils$xml("statement"));const We=m.connection.getShadowDom();!We||C&&C.isShadow()||G.appendChild(zn(We,t)),C&&(C=Kr(C,t),C.nodeType===Fi.ELEMENT_NODE&&(G.appendChild(C),d=!1)),G.setAttribute("name",m.name),d||o.appendChild(G)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&o.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&o.setAttribute("collapsed","true"),e.isEnabled()||o.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||o.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||o.setAttribute("movable","false"),e.isEditable()||o.setAttribute("editable","false"),G=e.getNextBlock();let be;return G&&(a=Kr(G,t),a.nodeType===Fi.ELEMENT_NODE&&(be=n.createElement$$module$build$src$core$utils$xml("next"),be.appendChild(a),o.appendChild(be))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||G&&G.isShadow()||be.appendChild(zn(e,t)),o},zn=function(e,t){let o=e=e.cloneNode(!0),a;for(;o;)if(t&&o.nodeName==="shadow"&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;){a=o,o=o.parentNode;let d;a.nodeType===Fi.TEXT_NODE&&a.data.trim()===""&&((d=o)==null?void 0:d.firstChild)!==a&&st(a)}o&&(a=o,o=o.nextSibling,a.nodeType===Fi.TEXT_NODE&&a.data.trim()===""&&st(a))}return e},jn=function(e){return at(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},ip=function(e){e=jn(e).split("<");let t="";for(let o=1;o<e.length;o++){const a=e[o];a[0]==="/"&&(t=t.substring(2)),e[o]=t+"<"+a,a[0]!=="/"&&a.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},fa=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=n.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},n.domToWorkspace$$module$build$src$core$xml=function(e,t){let o=0;t.RTL&&(o=t.getWidth());const a=[];x();const d=n.getGroup$$module$build$src$core$events$utils();d||n.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let m=!0;try{for(let C=0,G;G=e.childNodes[C];C++){const be=G.nodeName.toLowerCase(),We=G;if(be==="block"||be==="shadow"&&!ye()){const go=Ei(We,t);a.push(go.id);let uo;const tn=parseInt((uo=We.getAttribute("x"))!=null?uo:"10",10);let yh;const vh=parseInt((yh=We.getAttribute("y"))!=null?yh:"10",10);isNaN(tn)||isNaN(vh)||go.moveBy(t.RTL?o-tn:tn,vh,["create"]),m=!1}else{if(be==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(be==="comment")t.rendered?No.fromXmlRendered(We,t,o):$r.fromXml(We,t);else if(be==="variables"){if(m)ga(We,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");m=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(d),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&Xr(),K()}return Y(new(fe(Ml))(t)),a},$g=function(e,t){if(!t.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(e,t);var o=t.getBlocksBoundingBox();if(e=n.domToWorkspace$$module$build$src$core$xml(e,t),o&&o.top!==o.bottom){var a=o.bottom;o=t.RTL?o.right:o.left;var d=1/0;let m=-1/0,C=1/0;for(let G=0;G<e.length;G++){const be=t.getBlockById(e[G]).getRelativeToSurfaceXY();be.y<C&&(C=be.y),be.x<d&&(d=be.x),be.x>m&&(m=be.x)}for(a=a-C+10,o=t.RTL?o-m:o-d,d=0;d<e.length;d++)t.getBlockById(e[d]).moveBy(o,a,["create"])}return e},n.domToBlock$$module$build$src$core$xml=function(e,t){return e=Ei(e,t),t.rendered&&Xr(),e},Ei=function(e,t){n.disable$$module$build$src$core$events$utils();var o=t.getAllVariables();let a;try{if(a=Ta(e,t),t.rendered){const d=a,m=a.getDescendants(!1);d.setConnectionTracking(!1);for(let C=m.length-1;0<=C;C--)m[C].initSvg();for(let C=m.length-1;0<=C;C--)m[C].queueRender();setTimeout(function(){d.disposed||d.setConnectionTracking(!0)},1),t.resizeContents()}else{const d=a.getDescendants(!1);for(let m=d.length-1;0<=m;m--)d[m].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(U()){for(e=ha(t,o),t=0;t<e.length;t++)o=e[t],Y(new(fe(Ni))(o));Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(a))}return a},ga=function(e,t){for(let a=0;a<e.children.length;a++){var o=e.children[a];const d=o.getAttribute("type"),m=o.getAttribute("id");if(o=o.textContent,!o)break;t.createVariable(o,d,m)}},sp=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let o=0;o<e.children.length;o++){const a=e.children[o];if(a.nodeType!==Fi.TEXT_NODE)switch(a.nodeName.toLowerCase()){case"mutation":t.mutation.push(a);break;case"comment":t.comment.push(a);break;case"data":t.data.push(a);break;case"title":case"field":t.field.push(a);break;case"value":case"statement":t.input.push(a);break;case"next":t.next.push(a);break;default:console.warn("Ignoring unknown tag: "+a.nodeName)}}return t},_g=function(e,t){let o=!1;for(let a=0;a<e.length;a++){const d=e[a];t.domToMutation&&(t.domToMutation(d),t.initSvg&&(o=!0))}return o},ma=function(e,t){for(let a=0;a<e.length;a++){var o=e[a];const d=o.textContent,m=o.getAttribute("pinned")==="true";let C;const G=parseInt((C=o.getAttribute("w"))!=null?C:"50",10);let be;o=parseInt((be=o.getAttribute("h"))!=null?be:"50",10),t.setCommentText(d);const We=t.getIcon(fo.COMMENT);isNaN(G)||isNaN(o)||We.setBubbleSize(new Xt(G,o)),We.setBubbleVisible(m),setTimeout(()=>We.setBubbleVisible(m),1)}},$a=function(e,t){for(let o=0;o<e.length;o++)t.data=e[o].textContent},sl=function(e,t){for(let o=0;o<e.length;o++){const a=e[o],d=a.getAttribute("name");d?xc(t,d,a):console.warn(`Ignoring unnamed field in block ${t.type}`)}},_a=function(e){let t=null,o=null;for(let a=0;a<e.childNodes.length;a++){const d=e.childNodes[a];Ju(d)&&(d.nodeName.toLowerCase()==="block"?t=d:d.nodeName.toLowerCase()==="shadow"&&(o=d))}return{childBlockElement:t,childShadowElement:o}},Tg=function(e,t,o,a){for(let m=0;m<e.length;m++){var d=e[m];const C=d.getAttribute("name"),G=C?o.getInput(C):null;if(!G){console.warn("Ignoring non-existent input "+C+" in block "+a);break}if(d=_a(d),d.childBlockElement){if(!G.connection)throw TypeError("Input connection does not exist.");Ta(d.childBlockElement,t,G.connection,!1)}if(d.childShadowElement){let be;(be=G.connection)==null||be.setShadowDom(d.childShadowElement)}}},Eg=function(e,t,o){for(let a=0;a<e.length;a++){const d=_a(e[a]);if(d.childBlockElement){if(!o.nextConnection)throw TypeError("Next statement does not exist.");if(o.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Ta(d.childBlockElement,t,o.nextConnection,!0)}d.childShadowElement&&o.nextConnection&&o.nextConnection.setShadowDom(d.childShadowElement)}},Ta=function(e,t,o,a){var d;const m=e.getAttribute("type");if(!m)throw TypeError("Block type unspecified: "+e.outerHTML);var C=(d=e.getAttribute("id"))!=null?d:void 0;d=t.newBlock(m,C),C=sp(e);const G=_g(C.mutation,d);if(ma(C.comment,d),$a(C.data,d),o)if(a)if(d.previousConnection)o.connect(d.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(d.outputConnection)o.connect(d.outputConnection);else if(d.previousConnection)o.connect(d.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(sl(C.field,d),Tg(C.input,t,d,m),Eg(C.next,t,d),G&&d.initSvg(),(t=e.getAttribute("inline"))&&d.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&d.setEnabled(t!=="true"&&t!=="disabled"),(t=e.getAttribute("deletable"))&&d.setDeletable(t==="true"),(t=e.getAttribute("movable"))&&d.setMovable(t==="true"),(t=e.getAttribute("editable"))&&d.setEditable(t==="true"),(t=e.getAttribute("collapsed"))&&d.setCollapsed(t==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=d.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");d.setShadow(!0)}return d},xc=function(e,t,o){const a=e.getField(t);a?a.fromXml(o):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Ku=function(e){for(let t=0;t<e.childNodes.length;t++){const o=e.childNodes[t];if(o.nodeName.toLowerCase()==="next"){e.removeChild(o);break}}},Ju=function(e){return e.nodeType===Fi.ELEMENT_NODE},cn=function(e){return e.saveState!==void 0&&e.loadState!==void 0},Ea=function(e,t){c(ke.SERIALIZER,e,t)},Lc=function(e){f(ke.SERIALIZER,e)},un=function(e,{addCoordinates:t=!1,addInputBlocks:o=!0,addNextBlocks:a=!0,doFullSerialization:d=!0,saveIds:m=!0}={}){if(e.isInsertionMarker())return null;const C={type:e.type,id:m?e.id:void 0};return t&&Mc(e,C),Nc(e,C),lp(e,C,d),br(e,C,d),ll(e,C,d),o&&qu(e,C,d,m),a&&ba(e,C,d,m),C},Nc=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},Mc=function(e,t){const o=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(o.RTL?o.getWidth()-e.x:e.x),t.y=Math.round(e.y)},lp=function(e,t,o){e.saveExtraState?(e=e.saveExtraState(o),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=jn(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},br=function(e,t,o){const a=Object.create(null);for(const d of e.getIcons())cn(d)&&(e=d.saveState(o))&&(a[d.getType().toString()]=e);Object.keys(a).length&&(t.icons=a)},ll=function(e,t,o){const a=Object.create(null);for(let d=0;d<e.inputList.length;d++){const m=e.inputList[d];for(let C=0;C<m.fieldRow.length;C++){const G=m.fieldRow[C];G.isSerializable()&&(a[G.name]=G.saveState(o))}}Object.keys(a).length&&(t.fields=a)},qu=function(e,t,o,a){const d=Object.create(null);for(let m=0;m<e.inputList.length;m++){const C=e.inputList[m];if(!C.connection)continue;const G=ap(C.connection,o,a);G&&(d[C.name]=G)}Object.keys(d).length&&(t.inputs=d)},ba=function(e,t,o,a){e.nextConnection&&(e=ap(e.nextConnection,o,a))&&(t.next=e)},ap=function(e,t,o){const a=e.getShadowState(!0);if(e=e.targetBlock(),!a&&!e)return null;const d=Object.create(null);return a&&(d.shadow=a),e&&!e.isShadow()&&(d.block=un(e,{doFullSerialization:t,saveIds:o})),d},Xn=function(e,t,{recordUndo:o=!1}={}){return e=as(e,t,{recordUndo:o}),t.rendered&&Xr(),e},as=function(e,t,{parentConnection:o,isShadow:a=!1,recordUndo:d=!1}={}){const m=ye();me(d),(d=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();let C;try{C=al(e,t,{parentConnection:o,isShadow:a})}finally{n.enable$$module$build$src$core$events$utils()}if(U()&&Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(C)),n.setGroup$$module$build$src$core$events$utils(d),me(m),t.rendered){const G=C;setTimeout(()=>{G.disposed||G.setConnectionTracking(!0)},1)}return C},al=function(e,t,{parentConnection:o,isShadow:a=!1}={}){if(!e.type)throw new Yp(e);const d=t.newBlock(e.type,e.id);return d.setShadow(a),Dc(d,e),cp(d,e),bg(d,e),yg(o,d,e),vg(d,e),Qu(d,e),Sg(d,e),Ig(d,e),Cg(d,t.rendered),d},Dc=function(e,t){let o=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const a=e.workspace;o=a.RTL?a.getWidth()-o:o,e.moveBy(o,t)},cp=function(e,t){t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setEnabled(!1),t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},bg=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(n.textToDom$$module$build$src$core$utils$xml(t.extraState)))},yg=function(e,t,o){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new Kg(o);if(e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var a=t.outputConnection;if(!a)throw new Vl("output",t,o)}else if(a=t.previousConnection,!a)throw new Vl("previous",t,o);if(!e.connect(a)){const d=t.workspace.connectionChecker;throw new oh(d.getErrorMessage(d.canConnectWithReason(a,e,!1),a,e),e.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,o)}}},vg=function(e,t){if(t.icons){var o=Object.keys(t.icons);for(const d of o){o=t.icons[d];var a=e.getIcon(d);if(!a){if(a=y(ke.ICON,d,!1),!a)throw new ji(d,e,t);a=new a(e),e.addIcon(a)}cn(a)&&a.loadState(o)}}},Qu=function(e,t){if(t.fields){var o=Object.keys(t.fields);for(let a=0;a<o.length;a++){const d=o[a],m=t.fields[d],C=e.getField(d);C?C.loadState(m):console.warn(`Ignoring non-existant field ${d} in block ${e.type}`)}}},Sg=function(e,t){if(t.inputs){var o=Object.keys(t.inputs);for(let a=0;a<o.length;a++){const d=o[a],m=e.getInput(d);if(!m||!m.connection)throw new Vl(d,e,t);up(m.connection,t.inputs[d])}}},Ig=function(e,t){if(t.next){if(!e.nextConnection)throw new Vl("next",e,t);up(e.nextConnection,t.next)}},up=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&al(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Cg=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const o of e.getIcons())o.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},kg=function(e){const t=e.workspace,o=n.config$$module$build$src$core$config.snapRadius,a=e.getRelativeToSurfaceXY(),d=new Ne(0,0),m=t.getAllBlocks(!1).filter(C=>C.id!=e.id).map(C=>C.getRelativeToSurfaceXY());for(;dp(Ne.sum(a,d),m)||Rg(e,d,o);)t.RTL?d.translate(-o,2*o):d.translate(o,2*o);e.moveTo(Ne.sum(a,d))},dp=function(e,t){return t.some(o=>1>=Math.abs(o.x-e.x)&&1>=Math.abs(o.y-e.y))},Rg=function(e,t,o){return e.getConnections_(!1).some(a=>!!a.closest(o,t).connection)},wg=function(e){return Me("Blockly.clipboard.copy","v11","v12","myCopyable.toCopyData()"),ah.copyInternal(e)},Og=function(e){const t=e.toCopyData();yo=t;let o;return qp=(o=e.workspace)!=null?o:null,t},ya=function(e,t,o){return e&&t?Pc(e,t,o):yo&&qp?Pc(yo,qp):null},Pc=function(e,t,o){let a;t=(a=t.getRootWorkspace())!=null?a:t;let d,m;return(m=(d=v(ke.PASTER,e.paster,!1))==null?void 0:d.paste(e,t,o))!=null?m:null},Ag=function(e){return Me("Blockly.clipboard.duplicate","v11","v12","Blockly.clipboard.paste(myCopyable.toCopyData(), myWorkspace)"),ah.duplicateInternal(e)},xg=function(e){const t=e.toCopyData();return t?ya(t,e.workspace):null},dn=function(e,t){e.setAttribute(Jg,t)},eo=function(e,t,o){Array.isArray(o)&&(o=o.join(" ")),e.setAttribute(I$+t,`${o}`)},cl=function(){return en},Lg=function(e){if(en=e,e===null){let t;(t=document.querySelector("."+Yi))==null||t.remove()}},hp=function(){document.querySelector("."+Yi)||(en=document.createElement("div"),en.className=Yi,(D()||document.body).appendChild(en))},Zu=function(e,t,o){Jr(),Fr=e,Xl=o,(e=en)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=P(),Ki=t.getRenderer().getClassName(),Ms=t.getTheme().getClassName(),Ki&&De(e,Ki),Ms&&De(e,Ms))},Jr=function(){if(pp()){Fr=null;var e=en;e&&(e.style.display="none",e.style.left="",e.style.top="",Xl&&Xl(),Xl=null,e.textContent="",Ki&&(ut(e,Ki),Ki=""),Ms&&(ut(e,Ms),Ms=""),P().markFocused())}},pp=function(){return!!Fr},ed=function(e){Fr===e&&Jr()},Bc=function(e,t,o){en.style.left=e+"px",en.style.top=t+"px",en.style.height=o+"px"},ul=function(e,t,o,a){const d=fp(e,t,o);e=Ng(e,t,o,a),0>d?Bc(e,0,o.height+d):Bc(e,d,o.height)},Ng=function(e,t,o,a){return a?Math.min(Math.max(t.right-o.width,e.left),e.right-o.width):Math.max(Math.min(t.left,e.right-o.width),e.left)},fp=function(e,t,o){return t.bottom+o.height>=e.bottom?t.top-o.height:t.bottom},gp=function(e){return!(e==null||!e.repositionForWindowResize)},td=function(){gp(Fr)&&Fr.repositionForWindowResize()||Jr()},mp=function(){return nc},od=function(e){nc=e},Yn=function(e,t,o){if(Zu(qg,o,dl),t.length){var a=Mg(t,o);Iu=a,Dg(a,e,o),setTimeout(function(){a.focus()},1),nc=null}else va()},Mg=function(e,t){const o=new Su;o.setRole(_r.MENU);for(let a=0;a<e.length;a++){const d=e[a],m=new Qp(d.text);m.setRightToLeft(t),m.setRole(_r.MENUITEM),o.addChild(m),m.setEnabled(d.enabled),d.enabled&&m.onAction(function(){va(),requestAnimationFrame(()=>{setTimeout(()=>{d.callback(d.scope)},0)})},{})}return o},Dg=function(e,t,o){const a=O();t=new Mt(t.clientY+a.top,t.clientY+a.top,t.clientX+a.left,t.clientX+a.left),Pg(e);const d=e.getSize();o&&(t.left+=d.width,t.right+=d.width,a.left+=d.width,a.right+=d.width),ul(a,t,d,o),e.focus()},Pg=function(e){var t=cl();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),De(t,"blocklyContextMenu"),Ie(t,"contextmenu",null,$p),e.focus()},$p=function(e){e.preventDefault(),e.stopPropagation()},va=function(){ed(qg),nc=null},dl=function(){Iu&&(Iu.dispose(),Iu=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{n.disable$$module$build$src$core$events$utils();let o;try{o=t instanceof Element?Ei(t,e.workspace):as(t,e.workspace);const a=e.getRelativeToSurfaceXY();a.x=e.RTL?a.x-n.config$$module$build$src$core$config.snapRadius:a.x+n.config$$module$build$src$core$config.snapRadius,a.y+=2*n.config$$module$build$src$core$config.snapRadius,o.moveBy(a.x,a.y)}finally{n.enable$$module$build$src$core$events$utils()}return U()&&!o.isShadow()&&Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(o)),o.select(),o}},hl=function(e){return{text:n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,enabled:!0,callback:function(){n.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)}}},_p=function(e){return{text:n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){const t=e.toCopyData();t&&ya(t,e.workspace)}}},Fc=function(e,t){const o={enabled:!0};return o.text=n.Msg$$module$build$src$core$msg.ADD_COMMENT,o.callback=function(){const a=new No(e,n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT,No.DEFAULT_SIZE,No.DEFAULT_SIZE);var d=e.getInjectionDiv().getBoundingClientRect();d=new Ne(t.clientX-d.left,t.clientY-d.top);const m=e.getOriginOffsetInPixels();d=Ne.difference(d,m),d.scale(1/e.scale),a.moveBy(d.x,d.y),e.rendered&&(a.initSvg(),a.render(),a.select())},o},Sa=function(e){return e*Math.PI/180},rd=function(e){return 180*e/Math.PI},cs=function(e,t,o){if(o<e){const a=o;o=e,e=a}return Math.max(e,Math.min(t,o))},Uc=function(){document.querySelector(".blocklyDropDownDiv")||(Dt=document.createElement("div"),Dt.className="blocklyDropDownDiv",(D()||document.body).appendChild(Dt),Qi=document.createElement("div"),Qi.className="blocklyDropDownContent",Dt.appendChild(Qi),Jl=document.createElement("div"),Jl.className="blocklyDropDownArrow",Dt.appendChild(Jl),Dt.style.opacity="0",Dt.style.transition="transform "+ic+"s, opacity "+ic+"s",Dt.addEventListener("focusin",function(){De(Dt,"blocklyFocused")}),Dt.addEventListener("focusout",function(){ut(Dt,"blocklyFocused")}))},nd=function(e){ql=e},id=function(){return Ds},pl=function(){return Qi},sd=function(){Qi.textContent="",Qi.style.width=""},ld=function(e,t){Dt.style.backgroundColor=e,Dt.style.borderColor=t},Bg=function(e,t,o,a){return fl(Tp(t),e,o,a)},Hc=function(e,t,o){return ku=!0,fl(xr(e),e,t,o)},Tp=function(e){var t=e.getSvgRoot();const o=e.workspace.scale,a=e.height*o;return e=e.width*o,t=Lt(t),new Mt(t.y,t.y+a,t.x,t.x+e)},xr=function(e){return e=e.getScaledBBox(),new Mt(e.top,e.bottom,e.left,e.right)},fl=function(e,t,o,a){const d=e.left+(e.right-e.left)/2,m=e.bottom;e=e.top,a&&(e+=a),a=t.getSourceBlock();let C=a.workspace;for(;C.options.parentWorkspace;)C=C.options.parentWorkspace;return nd(C.getParentSvg().parentNode),ad(t,a.RTL,d,m,d,e,o)},ad=function(e,t,o,a,d,m,C){return Ds=e,Ji=C||null,Dt.style.direction=t?"rtl":"ltr",e=P(),qi=e.getRenderer().getClassName(),Kl=e.getTheme().getClassName(),qi&&De(Dt,qi),Kl&&De(Dt,Kl),ml(o,a,d,m)},cd=function(e,t,o,a){return e=gl(e,o.left,o.right,a.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+uh,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},ud=function(e,t,o,a){return e=gl(e,o.left,o.right,a.width),{initialX:e.divX,initialY:t-a.height,finalX:e.divX,finalY:t-a.height-uh,arrowX:e.arrowX,arrowY:a.height-2*ch-Cu/2,arrowAtTop:!1,arrowVisible:!0}},Ep=function(e,t,o){return e=gl(e,t.left,t.right,o.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},gl=function(e,t,o,a){return t=cs(t,e-a/2,o-a),e=e-Cu/2-t,o=Qg,e=cs(o,e,a-o-Cu),{arrowX:e,divX:t}},bp=function(){return!!Ds},Ia=function(e,t){return Ds===e?(t?Lr():bi(),!0):!1},bi=function(){Dt.style.transform="translate(0, 0)",Dt.style.opacity="0",sc=setTimeout(function(){Lr()},1e3*ic),Ji&&(Ji(),Ji=null)},Lr=function(){bp()&&(sc&&clearTimeout(sc),Dt.style.transform="",Dt.style.left="",Dt.style.top="",Dt.style.opacity="0",Dt.style.display="none",Dt.style.backgroundColor="",Dt.style.borderColor="",Ji&&(Ji(),Ji=null),sd(),Ds=null,qi&&(ut(Dt,qi),qi=""),Kl&&(ut(Dt,Kl),Kl=""),P().markFocused())},ml=function(e,t,o,a){e=i.getPositionMetrics(e,t,o,a),e.arrowVisible?(Jl.style.display="",Jl.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",Jl.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Jl.style.display="none",t=Math.floor(e.initialX),o=Math.floor(e.initialY),a=Math.floor(e.finalX);const d=Math.floor(e.finalY);return Dt.style.left=t+"px",Dt.style.top=o+"px",Dt.style.display="block",Dt.style.opacity="1",Dt.style.transform="translate("+(a-t)+"px,"+(d-o)+"px)",!!e.arrowAtTop},Gc=function(){if(Ds){var e=Ds.getSourceBlock();e=ku?xr(Ds):Tp(e);const t=e.left+(e.right-e.left)/2;ml(t,e.bottom,t,e.top)}else bi()},dd=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,o=e.getSvgRoot();t.getAudioManager().play("delete");var a=t.getSvgXY(o);o=o.cloneNode(!0),o.setAttribute("transform","translate("+a.x+","+a.y+")"),t.getParentSvg().appendChild(o),Ca(o,{x:a.x,y:a.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)}},Ca=function(e,t,o,a,d){const m=(new Date().getTime()-a.getTime())/150;1<m?st(e):(e.setAttribute("transform","translate("+(t.x+(o?-1:1)*t.width*d/2*m)+","+(t.y+t.height*d*m)+") scale("+(1-m)*d+")"),setTimeout(Ca,10,e,t,o,a,d))},yi=function(e){var t=e.workspace;const o=t.scale;if(t.getAudioManager().play("click"),!(1>o)){var a=t.getSvgXY(e.getSvgRoot());e.outputConnection?(a.x+=(e.RTL?3:-3)*o,a.y+=13*o):e.previousConnection&&(a.x+=(e.RTL?-23:23)*o,a.y+=3*o);var d=le(V.CIRCLE,{cx:a.x,cy:a.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=le(V.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*o},d),t=le(V.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},d),e.beginElement(),t.beginElement(),setTimeout(()=>void st(d),150)}},Vc=function(e){if(vi(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),p=e,hd(e,t,new Date)}},hd=function(e,t,o){const a=(new Date().getTime()-o.getTime())/200;let d="";1>=a&&(d=`skewX(${Math.round(Math.sin(a*Math.PI*3)*(1-a)*t)})`,u=setTimeout(hd,10,e,t,o)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${d}`)},vi=function(){p&&(u&&(clearTimeout(u),u=null),p.getSvgRoot().setAttribute("transform",p.getTranslation()),p=null)},yp=function(e,t){return Me("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(t)},ka=function(e){return e.length?e.reduce(function(t,o){return t.length<o.length?t:o}).length:0},pd=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let o=0;t=t||ka(e);let a;for(a=0;a<t;a++){for(var d=e[0][a],m=1;m<e.length;m++)if(d!==e[m][a])return o;d===" "&&(o=a+1)}for(d=1;d<e.length;d++)if((m=e[d][a])&&m!==" ")return o;return t},fd=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let o=0;t=t||ka(e);let a;for(a=0;a<t;a++){for(var d=e[0].substr(-a-1,1),m=1;m<e.length;m++)if(d!==e[m].substr(-a-1,1))return o;d===" "&&(o=a+1)}for(d=1;d<e.length;d++)if((m=e[d].charAt(e[d].length-a-1))&&m!==" ")return o;return t},n.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let o=0;o<e.length;o++)e[o]=vp(e[o],t);return e.join(`
`)},vp=function(e,t){if(e.length<=t)return e;const o=e.trim().split(/\s+/);for(var a=0;a<o.length;a++)o[a].length>t&&(t=o[a].length);var d=-1/0;let m,C=1;do{a=d,m=e,e=[],d=o.length/C;let G=1;for(let be=0;be<o.length-1;be++)G<(be+1.5)/d?(G++,e[be]=!0):e[be]=!1;e=Kn(o,e,t),d=Wc(o,e,t),e=gd(o,e),C++}while(d>a);return m},Wc=function(e,t,o){const a=[0],d=[];for(var m=0;m<e.length;m++)a[a.length-1]+=e[m].length,t[m]===!0?(a.push(0),d.push(e[m].charAt(e[m].length-1))):t[m]===!1&&a[a.length-1]++;for(e=Math.max(...a),t=0,m=0;m<a.length;m++)t-=2*Math.pow(Math.abs(o-a[m]),1.5),t-=Math.pow(e-a[m],1.5),".?!".indexOf(d[m])!==-1?t+=o/3:",;)]}".indexOf(d[m])!==-1&&(t+=o/4);return 1<a.length&&a[a.length-1]<=a[a.length-2]&&(t+=.5),t},Kn=function(e,t,o){let a=Wc(e,t,o),d;for(let m=0;m<t.length-1;m++){if(t[m]===t[m+1])continue;const C=[].concat(t);C[m]=!C[m],C[m+1]=!C[m+1];const G=Wc(e,C,o);G>a&&(a=G,d=C)}return d?Kn(e,d,o):t},gd=function(e,t){const o=[];for(let a=0;a<e.length;a++)o.push(e[a]),t[a]!==void 0&&o.push(t[a]?`
`:" ");return o.join("")},n.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},md=function(e){Je=e},Fg=function(){return Je},Ug=function(){return qe},Ra=function(){return Qo},wa=function(e){if(e=$d(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},$d=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},_d=function(){document.querySelector(".blocklyTooltipDiv")||(Qo=document.createElement("div"),Qo.className="blocklyTooltipDiv",(D()||document.body).appendChild(Qo))},Vt=function(e){e.mouseOverWrapper_=ft(e,"pointerover",null,zc),e.mouseOutWrapper_=ft(e,"pointerout",null,Aa),e.addEventListener("pointermove",Td,!1)},Oa=function(e){e&&(He(e.mouseOverWrapper_),He(e.mouseOutWrapper_),e.removeEventListener("pointermove",Td))},zc=function(e){ao||(e=$d(e.currentTarget),et!==e&&(Nr(),nt=null,et=e),clearTimeout(re))},Aa=function(e){ao||(re=setTimeout(function(){nt=et=null,Nr()},1),clearTimeout(de),de=0)},Td=function(e){if(et&&et.tooltip&&!ao)if(qe){const t=Pe-e.pageX;e=rt-e.pageY,Math.sqrt(t*t+e*e)>Pt&&Nr()}else nt!==et&&(clearTimeout(de),Pe=e.pageX,rt=e.pageY,de=setTimeout(Ip,Zi))},jc=function(){nt=et=null,Nr()},Nr=function(){qe&&(qe=!1,Qo&&(Qo.style.display="none")),de&&(clearTimeout(de),de=0)},xa=function(){Nr(),ao=!0},us=function(){ao=!1},Sp=function(){Qo&&et&&(typeof Je=="function"?Je(Qo,et):Hg())},Hg=function(){var e=wa(et);e=n.wrap$$module$build$src$core$utils$string(e,ce),e=e.split(`
`);for(let t=0;t<e.length;t++){const o=document.createElement("div");o.appendChild(document.createTextNode(e[t])),Qo.appendChild(o)}},Gg=function(e){const t=document.documentElement.clientWidth,o=document.documentElement.clientHeight;let a=Pe;a=e?a-(mt+Qo.offsetWidth):a+mt;let d=rt+Mo;return d+Qo.offsetHeight>o+window.scrollY&&(d-=Qo.offsetHeight+2*Mo),e?a=Math.max(dh-window.scrollX,a):a+Qo.offsetWidth>t+window.scrollX-2*dh&&(a=t-Qo.offsetWidth-2*dh),{x:a,y:d}},Ip=function(){if(!ao&&(nt=et,Qo)){Qo.textContent="",Sp();var e=et.RTL;Qo.style.direction=e?"rtl":"ltr",Qo.style.display="block",qe=!0;var{x:t,y:o}=Gg(e);Qo.style.left=t+"px",Qo.style.top=o+"px"}},qr=function(e,t){for(const o in t)e[o]=t[o]!==null&&typeof t[o]=="object"?qr(e[o]||Object.create(null),t[o]):t[o];return e},hn=function(e){return e.bubbleIsVisible!==void 0&&e.setBubbleVisible!==void 0},La=function(){return k$},Xc=function(e){k$=e},Na=function(){return R$},Yc=function(e){R$=e},ds=function(e){e=`${e}`.toLowerCase().trim();var t=eE[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var o=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(e=Number(o[1]),t=Number(o[2]),o=Number(o[3]),0<=e&&256>e&&0<=t&&256>t&&0<=o&&256>o)?Ma(e,t,o):null},Ma=function(e,t,o){return t=e<<16|t<<8|o,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},Ed=function(e){return e=ds(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},bd=function(e,t,o){let a=0,d=0,m=0;if(t===0)m=d=a=o;else{const C=Math.floor(e/60),G=e/60-C;e=o*(1-t);const be=o*(1-t*G);switch(t=o*(1-t*(1-G)),C){case 1:a=be,d=o,m=e;break;case 2:a=e,d=o,m=t;break;case 3:a=e,d=be,m=o;break;case 4:a=t,d=e,m=o;break;case 5:a=o,d=e,m=be;break;case 6:case 0:a=o,d=t,m=e}}return Ma(Math.floor(a),Math.floor(d),Math.floor(m))},Si=function(e,t,o){return e=ds(e),!e||(t=ds(t),!t)?null:(e=Ed(e),t=Ed(t),Ma(Math.round(t[0]+o*(e[0]-t[0])),Math.round(t[1]+o*(e[1]-t[1])),Math.round(t[2]+o*(e[2]-t[2]))))},Jn=function(e){return bd(e,k$,255*R$)},Kc=function(e,t,o){const a=[];var d=e.split("");d.push("");var m=0;e=[];let C=null;for(let We=0;We<d.length;We++){var G=d[We];if(m===0)if(G==="%")(m=e.join(""))&&a.push(m),e.length=0,m=1;else if(o&&G===`
`){const go=e.join("");go&&a.push(go),e.length=0,a.push(G)}else e.push(G);else if(m===1)G==="%"?(e.push(G),m=0):t&&"0"<=G&&"9">=G?(m=2,C=G,(G=e.join(""))&&a.push(G),e.length=0):G==="{"?m=3:(e.push("%",G),m=0);else if(m===2)if("0"<=G&&"9">=G)C+=G;else{var be=void 0;a.push(parseInt((be=C)!=null?be:"",10)),We--,m=0}else m===3&&(G===""?(e.splice(0,0,"%{"),We--,m=0):G!=="}"?e.push(G):(m=e.join(""),/[A-Z]\w*/i.test(m)?(G=m.toUpperCase(),(G=G.startsWith("BKY_")?G.substring(4):null)&&G in n.Msg$$module$build$src$core$msg?(m=n.Msg$$module$build$src$core$msg[G],typeof m=="string"?Array.prototype.push.apply(a,Kc(m,t,o)):t?a.push(`${m}`):a.push(m)):a.push("%{"+m+"}")):a.push("%{"+m+"}"),m=e.length=0))}for((t=e.join(""))&&a.push(t),be=[],e.length=0,d=0;d<a.length;d++)typeof a[d]!="string"||o&&a[d]===`
`?((t=e.join(""))&&be.push(t),e.length=0,be.push(a[d])):e.push(a[d]);return(t=e.join(""))&&be.push(t),e.length=0,be},hs=function(e){return Kc(e,!0,!0)},Ft=function(e){return typeof e!="string"?e:(e=Kc(e,!1,!1),e.length?String(e[0]):"")},Da=function(e){let t=!0;const o=n.Msg$$module$build$src$core$msg,a=e.match(/%{BKY_[A-Z]\w*}/gi);if(a)for(let d=0;d<a.length;d++){const m=a[d].toUpperCase();o[m.slice(6,-1)]===void 0&&(console.warn("No message string for "+a[d]+" in "+e),t=!1)}return t},yr=function(e){const t=typeof e=="string"?Ft(e):e;var o=Number(t);if(!isNaN(o)&&0<=o&&360>=o)return{hue:o,hex:bd(o,La(),255*Na())};if(o=ds(t))return{hue:null,hex:o};throw o='Invalid colour: "'+t+'"',e!==t&&(o+=' (from "'+e+'")'),Error(o)},qn=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},yd=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Mr=function(e,t){c(ke.FIELD,e,t)},ps=function(e){f(ke.FIELD,e)},n.fromJson$$module$build$src$core$field_registry=function(e){return oE.fromJsonInternal(e)},Pa=function(e){const t=v(ke.FIELD,e.type);if(t){if(typeof t.fromJson!="function")throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},$l=function(e){let t=!1;const o=e.map(([C,G])=>typeof C=="string"?[Ft(C),G]:(t=!0,[C.alt!==null?Object.assign({},C,{alt:Ft(C.alt)}):Object.assign({},C),G]));if(t||2>e.length)return{options:o};var a=o.map(([C])=>C),d=ka(a);e=pd(a,d);const m=fd(a,d);return!e&&!m||d<=e+m?{options:o}:(d=e?a[0].substring(0,e-1):void 0,a=m?a[0].substr(1-m):void 0,{options:Jc(o,e,m),prefix:d,suffix:a})},Jc=function(e,t,o){return e.map(([a,d])=>[a.substring(t,a.length-o),d])},qc=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(a)?typeof a[1]!="string"?(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+a[1]+" in: ",a)):a[0]&&typeof a[0]!="string"&&typeof a[0].src!="string"&&(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+a[0]+" in: ",a)):(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",a))}if(t)throw TypeError("Found invalid FieldDropdown options.")},n.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(hh[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');hh[e]=t},n.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');n.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},n.registerMutator$$module$build$src$core$extensions=function(e,t,o,a){const d='Error when registering mutator "'+e+'": ';fs(d,t);const m=ar(t,d);if(o&&typeof o!="function")throw Error(d+'Extension "'+e+'" is not a function');n.register$$module$build$src$core$extensions(e,function(){m&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(a||[],this)),this.mixin(t),o&&o.apply(this)})},_l=function(e){Qn(e)?delete hh[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Qn=function(e){return!!hh[e]},Jt=function(e,t,o){const a=hh[e];if(typeof a!="function")throw Error('Error: Extension "'+e+'" not found.');let d;if(o?to(e,t):d=rr(t),a.apply(t),o)fs('Error after applying mutator "'+e+'": ',t);else if(!Qc(d,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},to=function(e,t){if(rr(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Ii=function(e,t){return Zn(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},or=function(e,t){return Zn(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},ar=function(e,t){return Zn(e.compose,e.decompose,t+" compose/decompose")},Zn=function(e,t,o){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(o+" must be a function");return!0}if(!e&&!t)return!1;throw Error(o+"Must have both or neither functions")},fs=function(e,t){const o=Ii(t,e),a=or(t,e);if(!o&&!a)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");ar(t,e)},rr=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},Qc=function(e,t){if(t=rr(t),t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(e[o]!==t[o])return!1;return!0},Cp=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const o=[];return function(){o.indexOf(this.type)===-1&&(kp(this,e,t),o.push(this.type)),this.setTooltip((function(){const a=String(this.getFieldValue(e));return Ft(t[a])}).bind(this))}},kp=function(e,t,o){var a=e.getField(t);if(a instanceof Ps&&!a.isOptionListDynamic()){a=a.getOptions();for(const[,d]of a)o[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field ${t} of block type ${e.type}.`)}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const o=this.getField(t);return Ft(e).replace("%1",o?o.getText():"")}).bind(this))}},Zc=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},Ze=function(e,t){return" "+e+","+t+" "},So=function(e,t){return" "+e+t.join("")},Io=function(e,t){return" M "+e+","+t+" "},qt=function(e,t){return" m "+e+","+t+" "},pn=function(e,t){return" l "+e+","+t+" "},Ba=function(e){return" l"+e.join("")},Ve=function(e,t){return" "+e+" "+t+" "},oo=function(e,t,o,a){return e+" "+o+" "+o+" "+t+a},gs=function(e,t){c(ke.ICON,e.toString(),t)},eu=function(e){f(ke.ICON,e)},Tl=function(e){const t=e.getProcedureMap().getProcedures().filter(a=>!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(d=>d.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(a=>{!qn(a)&&rl(a)&&t.push(a.getProcedureDef())});const o=e.getProcedureMap().getProcedures().filter(a=>!!a.getReturnTypes()).map(a=>[a.getName(),a.getParameters().map(d=>d.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(a=>{!qn(a)&&rl(a)&&o.push(a.getProcedureDef())}),t.sort(vr),o.sort(vr),[t,o]},vr=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!Dr(e,t.workspace,t);){const o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2])+1):e+"2"}return e},Dr=function(e,t,o){return!Ci(e,t,o)},Ci=function(e,t,o){for(const a of t.getAllBlocks(!1))if(a!==o&&rl(a)&&n.Names$$module$build$src$core$names.equals(a.getProcedureDef()[0],e))return!0;o=o&&qn(o)?o==null?void 0:o.getProcedureModel():void 0;for(const a of t.getProcedureMap().getProcedures())if(a!==o&&n.Names$$module$build$src$core$names.equals(a.getName(),e))return!0;return!1},n.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new co;e=e.trim();const o=n.findLegalName$$module$build$src$core$procedures(e,t);qn(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(o);const a=this.getValue();if(a!==e&&a!==o)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const d=e[t];d.renameProcedure&&d.renameProcedure(a,o)}return o},Qr=function(e){function t(m,C){for(let be=0;be<m.length;be++){var G=m[be][0];const We=m[be][1],go=n.createElement$$module$build$src$core$utils$xml("block");go.setAttribute("type",C),go.setAttribute("gap","16");const uo=n.createElement$$module$build$src$core$utils$xml("mutation");for(uo.setAttribute("name",G),go.appendChild(uo),G=0;G<We.length;G++){const tn=n.createElement$$module$build$src$core$utils$xml("arg");tn.setAttribute("name",We[G]),uo.appendChild(tn)}o.push(go)}}const o=[];if(jt.procedures_defnoreturn){var a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_defnoreturn"),a.setAttribute("gap","16");var d=n.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),d.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),a.appendChild(d),o.push(a)}return jt.procedures_defreturn&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_defreturn"),a.setAttribute("gap","16"),d=n.createElement$$module$build$src$core$utils$xml("field"),d.setAttribute("name","NAME"),d.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),a.appendChild(d),o.push(a)),jt.procedures_ifreturn&&(a=n.createElement$$module$build$src$core$utils$xml("block"),a.setAttribute("type","procedures_ifreturn"),a.setAttribute("gap","16"),o.push(a)),o.length&&o[o.length-1].setAttribute("gap","24"),e=Tl(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),o},fn=function(e){var t=[],o=e.getBlocksByType("procedures_mutatorarg",!1);for(let m=0,C;C=o[m];m++)t.push(C.getFieldValue("NAME"));o=n.createElement$$module$build$src$core$utils$xml("xml");const a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","procedures_mutatorarg");const d=n.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),t=Xu(n.DEFAULT_ARG$$module$build$src$core$procedures,t),t=n.createTextNode$$module$build$src$core$utils$xml(t),d.appendChild(t),a.appendChild(d),o.appendChild(a),e.updateToolbox(o)},ki=function(e){if(e.type===En&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=N(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),fn(e),e.addChangeListener(Rp))}},Rp=function(e){(e.type===n.CREATE$$module$build$src$core$events$utils||e.type===n.DELETE$$module$build$src$core$events$utils||e.type===n.CHANGE$$module$build$src$core$events$utils||e.type===Li)&&(e=N(e.workspaceId),fn(e))},tu=function(e,t){return t.getAllBlocks(!1).filter(o=>vd(o,e)||Ic(o)&&n.Names$$module$build$src$core$names.equals(o.getProcedureCall(),e))},vd=function(e,t){return qn(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},n.mutateCallers$$module$build$src$core$procedures=function(e){const t=ye();var o=e.getProcedureDef()[0];const a=e.mutationToDom(!0);e=tu(o,e.workspace);for(let m=0,C;C=e[m];m++){o=(o=C.mutationToDom())&&at(o),C.domToMutation&&C.domToMutation(a);var d=C.mutationToDom();d=d&&at(d),o!==d&&(me(!1),Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(C,"mutation",null,o,d)),me(t))}},n.getDefinition$$module$build$src$core$procedures=function(e,t){for(const o of t.getAllBlocks(!1))if(qn(o)&&o.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(o.getProcedureModel().getName(),e)||rl(o)&&n.Names$$module$build$src$core$names.equals(o.getProcedureDef()[0],e))return o;return null},cr=function(e){return e.isDynamic},Sr=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},po=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},fr=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},wp=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},Op=function(e,t){let o=null;t=t.outputConnection;const a=t==null?void 0:t.getConnectionChecker();for(let d=0,m;m=e.inputList[d];d++){const C=m.connection;let G;if(C&&((G=a)!=null&&G.canConnect(t,C,!1))){if(o)return null;o=C}}return o},Sd=function(e,t){let o;for(;o=Op(e,t);)if(e=o.targetBlock(),!e||e.isShadow())return o;return null},ms=function(e,t){c(ke.RENDERER,e,t)},Ap=function(e){f(ke.RENDERER,e)},Fa=function(e,t,o){return e=new(y(ke.RENDERER,e))(e),e.init(t,o),e},Id=function(e){ua(e.getTargetWorkspace(),void 0,"String")},$s=function(e){ua(e.getTargetWorkspace(),void 0,"Number")},ou=function(e){ua(e.getTargetWorkspace(),void 0,"Colour")},Cd=function(e){let t=[],o=document.createElement("button");return o.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(o),o=document.createElement("button"),o.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(o),o=document.createElement("button"),o.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(o),e.registerButtonCallback("CREATE_VARIABLE_STRING",Id),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",$s),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",ou),e=Pr(e),t=t.concat(e)},Pr=function(e){e=e.getAllVariables();const t=[];if(0<e.length){if(jt.variables_set_dynamic){var o=e[e.length-1];const a=n.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type","variables_set_dynamic"),a.setAttribute("gap","24"),a.appendChild(_i(o)),t.push(a)}if(jt.variables_get_dynamic){e.sort(Os.compareByName);for(let a=0,d;d=e[a];a++)o=n.createElement$$module$build$src$core$utils$xml("block"),o.setAttribute("type","variables_get_dynamic"),o.setAttribute("gap","8"),o.appendChild(_i(d)),t.push(o)}}return t},_s=function(e){return e.toCopyData!==void 0},Ua=function(){Ht.registry.register({name:Gs.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[yt.ESC]})},Ts=function(){Ht.registry.register({name:Gs.DELETE,preconditionFn(e){const t=X();return!e.options.readOnly&&t!=null&&t.isDeletable()},callback(e,t){return t.preventDefault(),Ql.inProgress()?!1:(X().checkAndDelete(),!0)},keyCodes:[yt.DELETE,yt.BACKSPACE]})},ru=function(){const e=Ht.registry.createSerializedKey(yt.C,[yt.CTRL]),t=Ht.registry.createSerializedKey(yt.C,[yt.ALT]),o=Ht.registry.createSerializedKey(yt.C,[yt.META]);Ht.registry.register({name:Gs.COPY,preconditionFn(a){const d=X();return!a.options.readOnly&&!Ql.inProgress()&&d!=null&&d.isDeletable()&&d.isMovable()&&_s(d)},callback(a,d){return d.preventDefault(),a.hideChaff(),d=X(),!d||!_s(d)?!1:(df=d.toCopyData(),dm=a,!!df)},keyCodes:[e,t,o]})},nu=function(){const e=Ht.registry.createSerializedKey(yt.X,[yt.CTRL]),t=Ht.registry.createSerializedKey(yt.X,[yt.ALT]),o=Ht.registry.createSerializedKey(yt.X,[yt.META]);Ht.registry.register({name:Gs.CUT,preconditionFn(a){const d=X();return!a.options.readOnly&&!Ql.inProgress()&&d!=null&&d instanceof Hs&&d.isDeletable()&&d.isMovable()&&!d.workspace.isFlyout},callback(a){const d=X();return!d||!_s(d)?!1:(df=d.toCopyData(),dm=a,d.checkAndDelete(),!0)},keyCodes:[e,t,o]})},iu=function(){const e=Ht.registry.createSerializedKey(yt.V,[yt.CTRL]),t=Ht.registry.createSerializedKey(yt.V,[yt.ALT]),o=Ht.registry.createSerializedKey(yt.V,[yt.META]);Ht.registry.register({name:Gs.PASTE,preconditionFn(a){return!a.options.readOnly&&!Ql.inProgress()},callback(){return df&&dm?!!ya(df,dm):!1},keyCodes:[e,t,o]})},su=function(){const e=Ht.registry.createSerializedKey(yt.Z,[yt.CTRL]),t=Ht.registry.createSerializedKey(yt.Z,[yt.ALT]),o=Ht.registry.createSerializedKey(yt.Z,[yt.META]);Ht.registry.register({name:Gs.UNDO,preconditionFn(a){return!a.options.readOnly&&!Ql.inProgress()},callback(a){return a.hideChaff(),a.undo(!1),!0},keyCodes:[e,t,o]})},Es=function(){const e=Ht.registry.createSerializedKey(yt.Z,[yt.SHIFT,yt.CTRL]),t=Ht.registry.createSerializedKey(yt.Z,[yt.SHIFT,yt.ALT]),o=Ht.registry.createSerializedKey(yt.Z,[yt.SHIFT,yt.META]),a=Ht.registry.createSerializedKey(yt.Y,[yt.CTRL]);Ht.registry.register({name:Gs.REDO,preconditionFn(d){return!Ql.inProgress()&&!d.options.readOnly},callback(d){return d.hideChaff(),d.undo(!0),!0},keyCodes:[e,t,o,a]})},Ir=function(){Ua(),Ts(),ru(),nu(),iu(),su(),Es()},Ri=function(e){const t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length&&(t.parameters=e.getParameters().map(o=>lu(o))),t},lu=function(e){const t={id:e.getId(),name:e.getName()};return e.getTypes().length&&(t.types=e.getTypes()),t},kd=function(e,t,o,a){if(e=new e(a,o.name,o.id).setReturnTypes(o.returnTypes),!o.parameters)return e;for(const[d,m]of o.parameters.entries())e.insertParameter(gn(t,m,a),d);return e},gn=function(e,t,o){return e=new e(o,t.name,t.id),t.types&&e.setTypes(t.types),e},wi=function(e){const t=Object.create(null),o=I(ke.SERIALIZER,!0);for(const a in o){let d;const m=(d=o[a])==null?void 0:d.save(e);m&&(t[a]=m)}return t},Rd=function(e,t,{recordUndo:o=!1}={}){var a=I(ke.SERIALIZER,!0);if(a){a=Object.entries(a).sort((m,C)=>C[1].priority-m[1].priority);var d=ye();me(o),(o=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),x(),t instanceof os&&t.setResizesEnabled(!1);for(const[,m]of a.reverse()){let C;(C=m)==null||C.clear(t)}for(let[m,C]of a.reverse())if(e[m]){let G;(G=C)==null||G.load(e[m],t)}t instanceof os&&t.setResizesEnabled(!0),K(),Y(new(fe(Ml))(t)),n.setGroup$$module$build$src$core$events$utils(o),me(d)}},El=function(e,t,o){const a=o.getBoundingRectangle(),d=a.right-a.left,m=cs(t.top,a.top,t.top+t.height-(a.bottom-a.top))-a.top;let C=t.left;return t=t.left+t.width-d,e.RTL?C=Math.min(t,C):t=Math.max(C,t),(e=cs(C,a.left,t)-a.left)||m?(o.moveBy(e,m,["inbounds"]),!0):!1},mn=function(e){return t=>{var o=e.getMetricsManager();if(o.hasFixedEdges()&&!e.isDragging()){var a;if(Xd.indexOf((a=t.type)!=null?a:"")!==-1){a=o.getScrollMetrics(!0);const d=Oi(e,t);d&&(o=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(t.group),El(e,a,d)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(o))}else t.type===Mi&&t.scale&&t.oldScale&&t.scale>t.oldScale&&bl(e)}}},Oi=function(e,t){let o=null;switch(t.type){case n.CREATE$$module$build$src$core$events$utils:case n.MOVE$$module$build$src$core$events$utils:(o=e.getBlockById(t.blockId))&&(o=o.getRootBlock());break;case Di:case bn:o=e.getCommentById(t.commentId)}return o},bl=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var o=e.getTopBoundedElements();for(let a=0,d;d=o[a];a++)El(e,t,d)}},wd=function(e,t){const o=[];for(const a of e.getIcons())(!hn(a)||a.bubbleIsVisible())&&(o.push({location:t,icon:a}),a.onLocationChange(t));for(const a of e.getChildren(!1))o.push(...wd(a,Ne.sum(t,a.relativeCoords)));return o},Ha=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:St.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Od=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:St.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},Ad=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:St.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},au=function(e,t){function o(m){d--,m.setCollapsed(e),d===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let a=0,d=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let m=0;m<t.length;m++){let C=t[m];for(;C;)d++,setTimeout(o.bind(null,C),a),C=C.getNextBlock(),a+=10}},Ga=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let o=e[t];for(;o;){if(!o.isCollapsed())return"enabled";o=o.getNextBlock()}}return"disabled"}return"hidden"},callback(e){au(!0,e.workspace.getTopBlocks(!0))},scopeType:St.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},xd=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let o=e[t];for(;o;){if(o.isCollapsed())return"enabled";o=o.getNextBlock()}}return"disabled"}return"hidden"},callback(e){au(!1,e.workspace.getTopBlocks(!0))},scopeType:St.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Ld=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let o=0;o<e.length;o++)Ld(e[o],t)}},cu=function(e){const t=[];e=e.getTopBlocks(!0);for(let o=0;o<e.length;o++)Ld(e[o],t);return t},yl=function(e,t){t?n.setGroup$$module$build$src$core$events$utils(t):(n.setGroup$$module$build$src$core$events$utils(!0),t=n.getGroup$$module$build$src$core$events$utils());const o=e.shift();o&&(o.isDeadOrDying()?yl(e,t):(o.dispose(!1,!0),setTimeout(yl,10,e,t))),n.setGroup$$module$build$src$core$events$utils(!1)},vl=function(){St.registry.register({displayText(e){return e.workspace?(e=cu(e.workspace).length,e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<cu(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=cu(e.workspace);2>t.length?yl(t):To(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(o){o&&yl(t)})}},scopeType:St.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},uu=function(){Ha(),Od(),Ad(),Ga(),xd(),vl()},Nd=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&ya(t,e.block.workspace)}},scopeType:St.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Md=function(){St.registry.register({displayText(e){return e.block.hasIcon(Ur.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.hasIcon(Ur.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:St.ScopeType.BLOCK,id:"blockComment",weight:2})},bs=function(){St.registry.register({displayText(e){return e.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof pm||e.inputList[t]instanceof pm))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:St.ScopeType.BLOCK,id:"blockInline",weight:3})},Dd=function(){St.registry.register({displayText(e){return e.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:St.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},Sl=function(){St.registry.register({displayText(e){return e.block.isEnabled()?n.Msg$$module$build$src$core$msg.DISABLE_BLOCK:n.Msg$$module$build$src$core$msg.ENABLE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback(e){e=e.block;const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),e.setEnabled(!e.isEnabled()),n.setGroup$$module$build$src$core$events$utils(t)},scopeType:St.ScopeType.BLOCK,id:"blockDisable",weight:5})},Zr=function(){St.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:St.ScopeType.BLOCK,id:"blockDelete",weight:6})},Il=function(){St.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:St.ScopeType.BLOCK,id:"blockHelp",weight:7})},Va=function(){Nd(),Md(),bs(),Dd(),Sl(),Zr(),Il()},Ai=function(){uu(),Va()},Pd=function(e,t){var o=null;o=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;let a;if(!document.contains(o)&&document!==((a=o)==null?void 0:a.ownerDocument))throw Error("Error: container is not in current document");e=new si(t||{}),t=document.createElement("div"),t.className="injectionDiv",t.tabIndex=0,eo(t,no.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),o.appendChild(t),o=Cl(t,e);const d=xp(t,o,e);return Bd(d),W(d),J(d),t.addEventListener("focusin",function(){W(d)}),d},Cl=function(e,t){e.setAttribute("dir","LTR"),_t(t.hasCss,t.pathToMedia),e=le(V.SVG,{xmlns:Ja,"xmlns:html":kr,"xmlns:xlink":Qt,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const o=le(V.DEFS,{},e),a=String(Math.random()).substring(2);return t.gridPattern=C$.createDom(a,t.gridOptions,o),e},xp=function(e,t,o){o.parentWorkspace=null,o=new os(o);const a=o.options;o.scale=a.zoomOptions.startScale,t.appendChild(o.createDom("blocklyMainBackground",e));var d=o.getRenderer().getClassName();return d&&De(e,d),(d=o.getTheme().getClassName())&&De(e,d),!a.hasCategories&&a.languageTree&&(e=o.addFlyout(V.SVG),zt(e,t)),a.hasTrashcan&&o.addTrashcan(),a.zoomOptions&&a.zoomOptions.controls&&o.addZoomControls(),o.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),o.translate(0,0),o.addChangeListener(mn(o)),J(o),hp(),Uc(),_d(),o},Bd=function(e){const t=e.options;var o=e.getParentSvg();if(Ie(o.parentNode,"contextmenu",null,function(a){Tt(a)||a.preventDefault()}),o=Ie(window,"resize",null,function(){Nr(),e.hideComponents(!0),Gc(),td(),J(e),bl(e)}),e.setResizeHandlerWrapper(o),du(),t.languageTree){o=e.getToolbox();const a=e.getFlyout(!0);o?o.init():a&&(a.init(e),a.show(t.languageTree),typeof a.scrollToStart=="function"&&a.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new Q$(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Fd(t.pathToMedia,e)},Eo=function(e){const t=P();t&&!(Tt(e)||t.rendered&&!t.isVisible())&&Ht.registry.onKeyDown(t,e)},du=function(){GE||(Ie(document,"scroll",null,function(){const e=M();for(let t=0,o;o=e[t];t++)o instanceof os&&o.updateInverseScreenCTM()}),Ie(document,"keydown",null,Eo),ft(document,"touchend",null,Fe),ft(document,"touchcancel",null,Fe),Pl&&Ie(window,"orientationchange",document,function(){J(P())})),GE=!0},Fd=function(e,t){function o(){for(;d.length;){const m=d.pop();m&&He(m)}a.preload()}const a=t.getAudioManager();a.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),a.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),a.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const d=[];d.push(Ie(document,"pointermove",null,o,!0)),d.push(Ie(document,"touchstart",null,o,!0))},Ud=function(e){return e.getType!==void 0&&e.initView!==void 0&&e.dispose!==void 0&&e.getWeight!==void 0&&e.getSize!==void 0&&e.applyColour!==void 0&&e.hideForInsertionMarker!==void 0&&e.updateEditable!==void 0&&e.updateCollapsed!==void 0&&e.isShownWhenCollapsed!==void 0&&e.setOffsetInBlock!==void 0&&e.onLocationChange!==void 0&&e.onClick!==void 0},hu=function(e){return e.paste!==void 0},Hd=function(e){return e.isSelectable()},ys=function(e){P().hideChaff(e)},Ge=Ge||{},Ge.scope={},Ge.ASSUME_ES5=!1,Ge.ASSUME_NO_NATIVE_MAP=!1,Ge.ASSUME_NO_NATIVE_SET=!1,Ge.SIMPLE_FROUND_POLYFILL=!1,Ge.ISOLATE_POLYFILLS=!1,Ge.FORCE_POLYFILL_PROMISE=!1,Ge.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,Ge.defineProperty=Ge.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,o){return e==Array.prototype||e==Object.prototype||(e[t]=o.value),e},Ge.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof db=="object"&&db];for(var t=0;t<e.length;++t){var o=e[t];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},Ge.global=Ge.getGlobal(this),Ge.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",Ge.TRUST_ES6_POLYFILLS=!Ge.ISOLATE_POLYFILLS||Ge.IS_SYMBOL_NATIVE,Ge.polyfills={},Ge.propertyToPolyfillSymbol={},Ge.POLYFILL_PREFIX="$jscp$",Ge.polyfill=function(e,t,o,a){t&&(Ge.ISOLATE_POLYFILLS?Ge.polyfillIsolated(e,t,o,a):Ge.polyfillUnisolated(e,t,o,a))},Ge.polyfillUnisolated=function(e,t,o,a){for(o=Ge.global,e=e.split("."),a=0;a<e.length-1;a++){var d=e[a];if(!(d in o))return;o=o[d]}e=e[e.length-1],a=o[e],t=t(a),t!=a&&t!=null&&Ge.defineProperty(o,e,{configurable:!0,writable:!0,value:t})},Ge.polyfillIsolated=function(e,t,o,a){var d=e.split(".");e=d.length===1,a=d[0],a=!e&&a in Ge.polyfills?Ge.polyfills:Ge.global;for(var m=0;m<d.length-1;m++){var C=d[m];if(!(C in a))return;a=a[C]}d=d[d.length-1],o=Ge.IS_SYMBOL_NATIVE&&o==="es6"?a[d]:null,t=t(o),t!=null&&(e?Ge.defineProperty(Ge.polyfills,d,{configurable:!0,writable:!0,value:t}):t!==o&&(Ge.propertyToPolyfillSymbol[d]===void 0&&(o=1e9*Math.random()>>>0,Ge.propertyToPolyfillSymbol[d]=Ge.IS_SYMBOL_NATIVE?Ge.global.Symbol(d):Ge.POLYFILL_PREFIX+o+"$"+d),Ge.defineProperty(a,Ge.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:t})))},Ge.polyfill("globalThis",function(e){return e||Ge.global},"es_2020","es3"),Ge.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Ge.arrayIterator=function(e){return{next:Ge.arrayIteratorImpl(e)}},Ge.initSymbol=function(){},Ge.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},Ge.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var o=0,a=!1,d={next:function(){if(!a&&o<e.length){var m=o++;return{value:t(m,e[m]),done:!1}}return a=!0,{done:!0,value:void 0}}};return d[Symbol.iterator]=function(){return d},d},Ge.polyfill("Array.prototype.values",function(e){return e||function(){return Ge.iteratorFromArray(this,function(t,o){return o})}},"es8","es3"),Ge.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var o=[];return Array.prototype.forEach.call(this,function(a){Array.isArray(a)&&0<t?(a=Array.prototype.flat.call(a,t-1),o.push.apply(o,a)):o.push(a)}),o}},"es9","es5"),Ge.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ge.polyfill("Object.entries",function(e){return e||function(t){var o=[],a;for(a in t)Ge.owns(t,a)&&o.push([a,t[a]]);return o}},"es8","es3"),Ge.polyfill("Object.values",function(e){return e||function(t){var o=[],a;for(a in t)Ge.owns(t,a)&&o.push(t[a]);return o}},"es8","es3");var lo=Object.create(null),Yo={typeMap:lo},kl=Object.create(null),Cr="default",ke=class{constructor(e){this.name=e}toString(){return this.name}};ke.CONNECTION_CHECKER=new ke("connectionChecker"),ke.CONNECTION_PREVIEWER=new ke("connectionPreviewer"),ke.CURSOR=new ke("cursor"),ke.EVENT=new ke("event"),ke.FIELD=new ke("field"),ke.INPUT=new ke("input"),ke.RENDERER=new ke("renderer"),ke.TOOLBOX=new ke("toolbox"),ke.THEME=new ke("theme"),ke.TOOLBOX_ITEM=new ke("toolboxItem"),ke.FLYOUTS_VERTICAL_TOOLBOX=new ke("flyoutsVerticalToolbox"),ke.FLYOUTS_HORIZONTAL_TOOLBOX=new ke("flyoutsHorizontalToolbox"),ke.METRICS_MANAGER=new ke("metricsManager"),ke.BLOCK_DRAGGER=new ke("blockDragger"),ke.SERIALIZER=new ke("serializer"),ke.ICON=new ke("icon"),ke.PASTER=new ke("paster");var xi={DEFAULT:Cr,TEST_ONLY:Yo};xi.Type=ke,xi.getAllItems=I,xi.getClass=y,xi.getClassFromOptions=R,xi.getObject=v,xi.hasItem=_,xi.register=c,xi.unregister=f;var jt=Object.create(null),Rl=Object.create(null),Gd,Vd=null,$n,nr=[],Wa={defineBlocksWithJsonArrayInternal:S},Fo={TEST_ONLY:Wa};Fo.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Fo.defineBlocks=n.defineBlocks$$module$build$src$core$common,Fo.defineBlocksWithJsonArray=ae,Fo.draggingConnections=nr,Fo.getAllWorkspaces=M,Fo.getBlockTypeCounts=Q,Fo.getMainWorkspace=P,Fo.getParentContainer=D,Fo.getSelected=X,Fo.getWorkspaceById=N,Fo.registerWorkspace=L,Fo.setMainWorkspace=W,Fo.setParentContainer=F,Fo.setSelected=H,Fo.svgResize=J,Fo.unregisterWorkpace=A;var Wd="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Lp={genUid:()=>{const e=Wd.length,t=[];for(let o=0;20>o;o++)t[o]=Wd.charAt(Math.random()*e);return t.join("")}},Vg=0,zd={TEST_ONLY:Lp};zd.genUid=ge,zd.getNextUniqueId=oe;var jd,wl,pu,Li,Ni,_n,Ol,Al,ei,ti,Tn,xl,En,Ll,Nl,vs,Mi,Di,Ss,za,bn,Ml,Xd,Is,fu,ur;jd="",wl=!0,pu=0,n.CREATE$$module$build$src$core$events$utils="create",n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils="delete",n.DELETE$$module$build$src$core$events$utils,n.CHANGE$$module$build$src$core$events$utils="change",n.CHANGE$$module$build$src$core$events$utils,Li="block_field_intermediate_change",n.MOVE$$module$build$src$core$events$utils="move",n.MOVE$$module$build$src$core$events$utils,Ni="var_create",_n="var_delete",Ol="var_rename",Al="ui",ei="drag",ti="selected",Tn="click",xl="marker_move",En="bubble_open",Ll="trashcan_open",Nl="toolbox_item_select",vs="theme_change",Mi="viewport_change",Di="comment_create",Ss="comment_delete",za="comment_change",bn="comment_move",Ml="finished_loading",Xd=[n.CREATE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,Di,bn],Is=[],fu={FIRE_QUEUE:Is,fireNow:ve,fireInternal:ue,setGroupInternal:ie},ur={BLOCK_CHANGE:n.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:n.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:n.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:ei,BLOCK_FIELD_INTERMEDIATE_CHANGE:Li,BLOCK_MOVE:n.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:En,BUMP_EVENTS:Xd,CHANGE:n.CHANGE$$module$build$src$core$events$utils,CLICK:Tn,COMMENT_CHANGE:za,COMMENT_CREATE:Di,COMMENT_DELETE:Ss,COMMENT_MOVE:bn,CREATE:n.CREATE$$module$build$src$core$events$utils,DELETE:n.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:Ml,MARKER_MOVE:xl,MOVE:n.MOVE$$module$build$src$core$events$utils,SELECTED:ti,TEST_ONLY:fu,THEME_CHANGE:vs,TOOLBOX_ITEM_SELECT:Nl,TRASHCAN_OPEN:Ll,UI:Al,VAR_CREATE:Ni,VAR_DELETE:_n,VAR_RENAME:Ol,VIEWPORT_CHANGE:Mi},ur.clearPendingUndo=he,ur.disable=n.disable$$module$build$src$core$events$utils,ur.disableOrphans=Ue,ur.enable=n.enable$$module$build$src$core$events$utils,ur.filter=$e,ur.fire=Y,ur.fromJson=Ae,ur.get=fe,ur.getDescendantIds=Ee,ur.getGroup=n.getGroup$$module$build$src$core$events$utils,ur.getRecordUndo=ye,ur.isEnabled=U,ur.setGroup=n.setGroup$$module$build$src$core$events$utils,ur.setRecordUndo=me;var Pi=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=ye()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,o){return o.isBlank=!1,o.group=e.group||"",o.workspaceId=t.id,o}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=N(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},oi=class extends Pi{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Np=class extends oi{constructor(e,t,o){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=Tn,this.blockId=e?e.id:void 0,this.targetType=o}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Np),t.targetType=e.targetType,t.blockId=e.blockId,t}},Mp;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(Mp||(Mp={})),c(ke.EVENT,Tn,Np);var ja=750,Yd="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Xa=null,Dl={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},gu=0,Cs={TOUCH_ENABLED:Yd,TOUCH_MAP:Dl};Cs.checkTouchIdentifier=it,Cs.clearTouchIdentifier=Be,Cs.getTouchIdentifierFromEvent=Ke,Cs.longStart=Le,Cs.longStop=Fe,Cs.shouldHandleEvent=tt;var Kd,Dp,Pp,Wg,ir,Ko,Jd,Bp,Fp,Up;(function(e){function t(a){return o.indexOf(a.toUpperCase())!==-1}Kd=e;const o=Kd.toUpperCase();Dp=t("JavaFX"),Pp=t("WebKit"),Wg=t("Gecko")&&!Pp,ir=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Ko=t("iPad")||t("Macintosh")&&0<e,Jd=t("iPhone")&&!Ko,Bp=t("Macintosh"),Fp=Ko||ir&&!t("Mobile")||t("Silk"),Up=!Fp&&(Jd||ir)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var zg=Kd,qd=Dp,Qd=Wg,Ya=ir,Pl=Ko,Hp=Jd,mu=Bp,$u=Up,jg={ANDROID:Ya,GECKO:Qd,IPAD:Pl,IPHONE:Hp,JavaFx:qd,MAC:mu,MOBILE:$u,raw:zg},Zd=40,_u=125,Bi={};Bi.bind=ft,Bi.conditionalBind=Ie,Bi.getScrollDeltaPixels=ht,Bi.isRightButton=Ct,Bi.isTargetInput=Tt,Bi.mouseToSvg=bt,Bi.unbind=He;var Gp={};Gp.removeElem=gt;var yn=class{constructor(e){this.name_=e}toString(){return this.name_}};yn.POSITIONABLE=new yn("positionable"),yn.DRAG_TARGET=new yn("drag_target"),yn.DELETE_AREA=new yn("delete_area"),yn.AUTOHIDEABLE=new yn("autohideable");var Ro=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const o=e.component.id;if(!t&&this.componentData.has(o)){var a;throw Error('Plugin "'+o+'" with capabilities "'+((a=this.componentData.get(o))==null?void 0:a.capabilities)+'" already added.')}for(this.componentData.set(o,e),t=[],a=0;a<e.capabilities.length;a++){const d=String(e.capabilities[a]).toLowerCase();if(t.push(d),this.capabilityToComponentIds.has(d)){let m;(m=this.capabilityToComponentIds.get(d))==null||m.push(o)}else this.capabilityToComponentIds.set(d,[o])}this.componentData.get(o).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let o=0;o<t.capabilities.length;o++){const a=String(t.capabilities[o]).toLowerCase();gt(this.capabilityToComponentIds.get(a),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var o;(o=this.componentData.get(e))==null||o.capabilities.push(t);var a;(a=this.capabilityToComponentIds.get(t))==null||a.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),gt(this.componentData.get(e).capabilities,t),gt(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.indexOf(t)!==-1}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const o=[];if(t){const a=[];e.forEach(d=>{a.push(this.componentData.get(d))}),a.sort(function(d,m){return d.weight-m.weight}),a.forEach(function(d){o.push(d.component)})}else e.forEach(a=>{o.push(this.componentData.get(a).component)});return o}};Ro.Capability=yn;var Ka=!1,vn=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyBlockDragSurface {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}
`,Vp={};Vp.inject=_t,Vp.register=ct;var Ne=class{constructor(e,t){this.x=e,this.y=t}clone(){return new Ne(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const o=e.x-t.x;return e=e.y-t.y,Math.sqrt(o*o+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new Ne(e.x-t.x,e.y-t.y)}static sum(e,t){return new Ne(e.x+t.x,e.y+t.y)}},eh=new Set,Wp={};Wp.warn=Me;var Ja="http://www.w3.org/2000/svg",kr="http://www.w3.org/1999/xhtml",Qt="http://www.w3.org/1999/xlink",Fi;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(Fi||(Fi={}));var Sn=null,qa=0,Uo=null,Ho={HTML_NS:kr};Ho.NodeType=Fi,Ho.SVG_NS=Ja,Ho.XLINK_NS=Qt,Ho.addClass=De,Ho.containsNode=j,Ho.createSvgElement=le,Ho.getFastTextWidth=pe,Ho.getFastTextWidthWithSizeString=Xe,Ho.getTextWidth=te,Ho.hasClass=io,Ho.insertAfter=zt,Ho.measureFontMetrics=$t,Ho.removeClass=ut,Ho.removeClasses=_o,Ho.removeNode=st,Ho.setCssTransform=E,Ho.startTextWidthCache=x,Ho.stopTextWidthCache=K;var V=class{constructor(e){this.tagName=e}toString(){return this.tagName}};V.ANIMATE=new V("animate"),V.CIRCLE=new V("circle"),V.CLIPPATH=new V("clipPath"),V.DEFS=new V("defs"),V.FECOMPOSITE=new V("feComposite"),V.FECOMPONENTTRANSFER=new V("feComponentTransfer"),V.FEFLOOD=new V("feFlood"),V.FEFUNCA=new V("feFuncA"),V.FEGAUSSIANBLUR=new V("feGaussianBlur"),V.FEPOINTLIGHT=new V("fePointLight"),V.FESPECULARLIGHTING=new V("feSpecularLighting"),V.FILTER=new V("filter"),V.FOREIGNOBJECT=new V("foreignObject"),V.G=new V("g"),V.IMAGE=new V("image"),V.LINE=new V("line"),V.PATH=new V("path"),V.PATTERN=new V("pattern"),V.POLYGON=new V("polygon"),V.RECT=new V("rect"),V.SVG=new V("svg"),V.TEXT=new V("text"),V.TSPAN=new V("tspan");var Mt=class{constructor(e,t,o,a){this.top=e,this.bottom=t,this.left=o,this.right=a}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},Xt=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}},zp={getSizeInternal:an},ks={TEST_ONLY:zp};ks.getBorderBox=Un,ks.getComputedStyle=xo,ks.getContainerOffsetToScrollInto=$i,ks.getPageOffset=Lt,ks.getSize=so,ks.getViewportPageOffset=Fn,ks.scrollIntoContainerView=Hn;var Qa=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Tu=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,jp={XY_REGEX:Qa,XY_STYLE_REGEX:Tu},Rs={TEST_ONLY:jp};Rs.getDocumentScroll=q,Rs.getInjectionDivXY=b,Rs.getRelativeXY=lt,Rs.getViewportBBox=O,Rs.screenToWsCoordinates=se,Rs.wsToScreenCoordinates=Ce;var vo=class{constructor(e,t,o,a,d){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new Ne(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Ne(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=o||!1,this.margin=d!==void 0?d:vo.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),a&&(e+=" "+a),this.outerSvg=le(V.SVG,{class:e}),a=le(V.G,{},this.outerSvg),this.svgBackground=le(V.RECT,{class:"blocklyScrollbarBackground"},a),e=Math.floor((vo.scrollbarThickness-5)/2),this.svgHandle=le(V.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},a),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),zt(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=Ie(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=Ie(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=vo.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),He(this.onMouseDownBarWrapper_),He(this.onMouseDownHandleWrapper_),st(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,E(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&vo.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=vo.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=vo.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-vo.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var o=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*o,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=o/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=vo.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-vo.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var o=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*o,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=o/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),Be(),this.cleanUp(),Ct(e))e.stopPropagation();else{var t=bt(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var o=b(this.svgHandle);o=this.horizontal?o.x:o.y;var a=this.handlePosition,d=.95*this.handleLength;t<=o?a-=d:t>=o+this.handleLength&&(a+=d),this.setHandlePosition(this.constrainHandlePosition(a)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),Ct(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=Ie(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=Ie(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){Be(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(He(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(He(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new Ne(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};vo.scrollbarThickness=Yd?25:15,vo.DEFAULT_SCROLLBAR_MARGIN=.5;var Eu={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},bu={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:Za,DOMParser:wo,XMLSerializer:gr}=globalThis;wo&&(Eu=new wo),gr&&(bu=new gr);var Ui="https://developers.google.com/blockly/xml",Xg=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Bl={NAME_SPACE:Ui};Bl.createElement=n.createElement$$module$build$src$core$utils$xml,Bl.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,Bl.domToText=at,Bl.injectDependencies=ot,Bl.textToDom=n.textToDom$$module$build$src$core$utils$xml;var Br="categoryToolbox",Xp="flyoutToolbox",dt;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(dt||(dt={}));var Yg={hasCategoriesInternal:ug},Hi={};Hi.Position=dt,Hi.TEST_ONLY=Yg,Hi.convertFlyoutDefToJsonArray=Gn,Hi.convertToolboxDefToJson=jr,Hi.hasCategories=Wu,Hi.isCategoryCollapsible=Vn,Hi.parseToolboxTree=zu;var ri;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(ri||(ri={}));var Fl;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Fl||(Fl={}));var Gi;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})(Gi||(Gi={}));var Ul={};Ul.bumpDirection=Gi,Ul.bumpPositionRect=bc,Ul.getCornerOppositeToolbox=Ec,Ul.getStartPositionRect=Tc,Ul.horizontalPosition=Fl,Ul.verticalPosition=ri;var Jo={width:96,height:124,url:"sprites.png"},th=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=le(V.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[Ro.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&st(this.svgGroup);for(const e of this.boundEvents)He(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Mt(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var o=Ec(this.workspace,e),a=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT),e=Tc(o,new Xt(this.WIDTH,a),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),o=o.vertical,t=bc(e,this.MARGIN_VERTICAL,o===ri.TOP?Gi.DOWN:Gi.UP,t),o===ri.TOP){var d=this.SMALL_SPACING+this.HEIGHT,m;(m=this.zoomInGroup)==null||m.setAttribute("transform","translate(0, "+d+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(d+this.LARGE_SPACING+this.HEIGHT)+")")}else{m=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let G;(G=this.zoomInGroup)==null||G.setAttribute("transform","translate(0, "+m+")"),m=m+this.SMALL_SPACING+this.HEIGHT,(d=this.zoomOutGroup)==null||d.setAttribute("transform","translate(0, "+m+")")}this.top=t.top,this.left=t.left;var C;(C=this.svgGroup)==null||C.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=le(V.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=le(V.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);le(V.RECT,{width:32,height:32},t),le(V.IMAGE,{width:Jo.width,height:Jo.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(Qt,"xlink:href",this.workspace.options.pathToMedia+Jo.url),this.boundEvents.push(Ie(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=le(V.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=le(V.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);le(V.RECT,{width:32,height:32},t),le(V.IMAGE,{width:Jo.width,height:Jo.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(Qt,"xlink:href",this.workspace.options.pathToMedia+Jo.url),this.boundEvents.push(Ie(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),Be(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=le(V.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=le(V.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);le(V.RECT,{width:32,height:32},t),le(V.IMAGE,{width:Jo.width,height:Jo.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(Qt,"xlink:href",this.workspace.options.pathToMedia+Jo.url),this.boundEvents.push(Ie(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),Be(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(fe(Tn))(null,this.workspace.id,"zoom_controls");Y(e)}};ct(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var fo=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};fo.MUTATOR=new fo("mutator"),fo.WARNING=new fo("warning"),fo.COMMENT=new fo("comment"),function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"}(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Nt=function(e,t){window.alert(e),t&&t()},Go=function(e,t){t(window.confirm(e))},Oo=function(e,t,o){o(window.prompt(e,t))},qo={confirmInternal:hg},Vo={TEST_ONLY:qo};Vo.alert=yc,Vo.confirm=To,Vo.prompt=vc,Vo.setAlert=dg,Vo.setConfirm=ju,Vo.setPrompt=Sc;var ws,Lo;n.Msg$$module$build$src$core$msg=Object.create(null),ws=function(e){Object.keys(e).forEach(function(t){n.Msg$$module$build$src$core$msg[t]=e[t]})},Lo={Msg:n.Msg$$module$build$src$core$msg,setLocale:ws};var Vi=class extends Pi{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Vi),t.varId=e.varId,t}},Wi=class extends Vi{constructor(e){super(e),this.type=Ni,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Wi),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};c(ke.EVENT,Ni,Wi);var Os=class{constructor(e,t,o,a){this.workspace=e,this.name=t,this.type=o||"",this.id_=a||ge()}getId(){return this.id_}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},yu="VARIABLE",Hl="ijkmnopqrstuvwxyzabcdefgh",mr={generateUniqueNameInternal:pg},Wo={CATEGORY_NAME:yu,TEST_ONLY:mr,VAR_LETTER_OPTIONS:Hl};Wo.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,Wo.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,Wo.createVariableButtonHandler=ua,Wo.flyoutCategory=Or,Wo.flyoutCategoryBlocks=tp,Wo.generateUniqueName=Ar,Wo.generateUniqueNameFromOptions=Xu,Wo.generateVariableFieldDom=_i,Wo.getAddedVariables=ha,Wo.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,Wo.getVariable=n.getVariable$$module$build$src$core$variables,Wo.nameUsedWithAnyType=il,Wo.nameUsedWithConflictingParam=da,Wo.promptName=nl,Wo.renameVariable=n.renameVariable$$module$build$src$core$variables;var $r=class{constructor(e,t,o,a,d){this.workspace=e,this.editable=this.movable=this.deletable=!0,this.disposed_=!1,this.isComment=!0,this.id=d&&!e.getCommentById(d)?d:ge(),e.addTopComment(this),this.xy_=new Ne(0,0),this.height_=o,this.width_=a,this.RTL=e.RTL,this.content_=t,$r.fireCreateEvent(this)}dispose(){this.disposed_||(U()&&Y(new(fe(Ss))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(e){this.height_=e}getWidth(){return this.width_}setWidth(e){this.width_=e}getRelativeToSurfaceXY(){return new Ne(this.xy_.x,this.xy_.y)}moveBy(e,t){const o=new(fe(bn))(this);this.xy_.translate(e,t),o.recordNew(),Y(o)}isDeletable(){return this.deletable&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(e){this.movable=e}isEditable(){return this.editable&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(e){this.editable=e}getContent(){return this.content_}setContent(e){this.content_!==e&&(Y(new(fe(za))(this,this.content_,e)),this.content_=e)}toXmlWithXY(e){return e=this.toXml(e),e.setAttribute("x",String(Math.round(this.xy_.x))),e.setAttribute("y",String(Math.round(this.xy_.y))),e.setAttribute("h",String(this.height_)),e.setAttribute("w",String(this.width_)),e}toXml(e){const t=n.createElement$$module$build$src$core$utils$xml("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}static fireCreateEvent(e){if(U()){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0);try{Y(new(fe(Di))(e))}finally{n.setGroup$$module$build$src$core$events$utils(t)}}}static fromXml(e,t){var o=$r.parseAttributes(e);return t=new $r(t,o.content,o.h,o.w,o.id),o=e.getAttribute("x"),e=e.getAttribute("y"),o=o?parseInt(o,10):NaN,e=e?parseInt(e,10):NaN,isNaN(o)||isNaN(e)||t.moveBy(o,e),$r.fireCreateEvent(t),t}static parseAttributes(e){const t=e.getAttribute("h"),o=e.getAttribute("w"),a=e.getAttribute("x"),d=e.getAttribute("y"),m=e.getAttribute("id");if(!m)throw Error("No ID present in XML comment definition.");let C;return{id:m,h:t?parseInt(t):100,w:o?parseInt(o):100,x:a?parseInt(a):NaN,y:d?parseInt(d):NaN,content:(C=e.textContent)!=null?C:""}}},In=class extends oi{constructor(e,t,o){super(o),this.type=ti,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new In),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};c(ke.EVENT,ti,In);var ec={};ec.register=ls,ec.unregister=mg;var tc=class{paste(e,t,o){const a=e.commentState;if(o)a.setAttribute("x",`${o.x}`),a.setAttribute("y",`${o.y}`);else{var d;o=parseInt((d=a.getAttribute("x"))!=null?d:"0")+50;let m;d=parseInt((m=a.getAttribute("y"))!=null?m:"0")+50,a.setAttribute("x",`${o}`),a.setAttribute("y",`${d}`)}return No.fromXmlRendered(e.commentState,t)}};tc.TYPE="workspace-comment",ls(tc.TYPE,new tc);var ro=8,Gl=3,As=2,No=class extends $r{constructor(e,t,o,a,d){super(e,t,o,a,d),this.onMouseMoveWrapper=this.onMouseUpWrapper=null,this.eventsInit=!1,this.deleteIconBorder=this.deleteGroup=this.resizeGroup=this.foreignObject=this.svgHandleTarget=this.svgRectTarget=this.textarea=null,this.rendered=this.autoLayout=this.focused=!1,this.svgGroup=le(V.G,{class:"blocklyComment"}),this.workspace=e,this.svgRect_=le(V.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:Gl,ry:Gl}),this.svgGroup.appendChild(this.svgRect_),this.render()}dispose(){this.disposed_||(X()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),U()&&Y(new(fe(Ss))(this)),st(this.svgGroup),n.disable$$module$build$src$core$events$utils(),super.dispose(),n.enable$$module$build$src$core$events$utils())}initSvg(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit||(Ie(this.svgRectTarget,"pointerdown",this,this.pathMouseDown),Ie(this.svgHandleTarget,"pointerdown",this,this.pathMouseDown)),this.eventsInit=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea&&this.textarea.select()}pathMouseDown(e){const t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(X()!==this){var e=null;if(X()){e=X().id,n.disable$$module$build$src$core$events$utils();try{X().unselect()}finally{n.enable$$module$build$src$core$events$utils()}}e=new(fe(ti))(e,this.id,this.workspace.id),Y(e),H(this),this.addSelect()}}unselect(){if(X()===this){var e=new(fe(ti))(this.id,null,this.workspace.id);Y(e),H(null),this.removeSelect(),this.blurFocus()}}addSelect(){De(this.svgGroup,"blocklySelected"),this.setFocus()}removeSelect(){De(this.svgGroup,"blocklySelected"),this.blurFocus()}addFocus(){De(this.svgGroup,"blocklyFocused")}removeFocus(){ut(this.svgGroup,"blocklyFocused")}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,o=0,a=this.getSvgRoot();if(a)do{const d=lt(a);t+=d.x,o+=d.y,a=a.parentNode}while(a&&!e.hasLayer(a)&&a!==null);return this.xy_=new Ne(t,o)}moveBy(e,t){const o=new(fe(bn))(this),a=this.getRelativeToSurfaceXY();this.translate(a.x+e,a.y+t),this.xy_=new Ne(a.x+e,a.y+t),o.recordNew(),Y(o),this.workspace.resizeContents()}translate(e,t){this.xy_=new Ne(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveDuringDrag(e){e=`translate(${e.x}, ${e.y})`,this.getSvgRoot().setAttribute("transform",e)}moveTo(e,t){this.translate(e,t)}clearTransformAttributes(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var e=this.getRelativeToSurfaceXY();const t=this.getHeightWidth(),o=e.y,a=e.y+t.height;let d;return this.RTL?(d=e.x-t.width,e=e.x):(d=e.x,e=e.x+t.width),new Mt(o,a,d,e)}updateMovable(){this.isMovable()?De(this.svgGroup,"blocklyDraggable"):ut(this.svgGroup,"blocklyDraggable")}setMovable(e){super.setMovable(e),this.updateMovable()}setEditable(e){super.setEditable(e),this.textarea&&(this.textarea.readOnly=!e)}setDragging(e){e?De(this.getSvgRoot(),"blocklyDragging"):ut(this.getSvgRoot(),"blocklyDragging")}getSvgRoot(){return this.svgGroup}getContent(){return this.textarea?this.textarea.value:this.content_}setContent(e){super.setContent(e),this.textarea&&(this.textarea.value=e)}setDeleteStyle(e){e?De(this.svgGroup,"blocklyDraggingDelete"):ut(this.svgGroup,"blocklyDraggingDelete")}setAutoLayout(e){}toXmlWithXY(e){let t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);const o=this.getRelativeToSurfaceXY();return e.setAttribute("x",String(Math.round(this.workspace.RTL?t-o.x:o.x))),e.setAttribute("y",String(Math.round(o.y))),e.setAttribute("h",String(this.getHeight())),e.setAttribute("w",String(this.getWidth())),e}toCopyData(){return{paster:tc.TYPE,commentState:this.toXmlWithXY()}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered){var e=this.getHeightWidth(),t=this.createEditor();this.svgGroup.appendChild(t),this.svgHandleTarget=le(V.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup.appendChild(this.svgHandleTarget),this.svgRectTarget=le(V.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:Gl,ry:Gl}),this.svgGroup.appendChild(this.svgRectTarget),this.addResizeDom(),this.isDeletable()&&this.addDeleteDom(),this.setSize(e.width,e.height),this.textarea.value=this.content_,this.rendered=!0,this.resizeGroup&&Ie(this.resizeGroup,"pointerdown",this,this.resizeMouseDown),this.isDeletable()&&(Ie(this.deleteGroup,"pointerdown",this,this.deleteMouseDown),Ie(this.deleteGroup,"pointerout",this,this.deleteMouseOut),Ie(this.deleteGroup,"pointerup",this,this.deleteMouseUp))}}createEditor(){this.foreignObject=le(V.FOREIGNOBJECT,{x:0,y:No.TOP_OFFSET,class:"blocklyCommentForeignObject"});const e=document.createElementNS(kr,"body");e.setAttribute("xmlns",kr),e.className="blocklyMinimalBody";const t=document.createElementNS(kr,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea=t,this.foreignObject.appendChild(e),Ie(t,"wheel",this,function(o){o.stopPropagation()}),Ie(t,"change",this,function(o){this.setContent(t.value)}),this.foreignObject}addResizeDom(){this.resizeGroup=le(V.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup),le(V.POLYGON,{points:`0,${ro} ${ro},${ro} ${ro},0`},this.resizeGroup),le(V.LINE,{class:"blocklyResizeLine",x1:ro/3,y1:ro-1,x2:ro-1,y2:ro/3},this.resizeGroup),le(V.LINE,{class:"blocklyResizeLine",x1:2*ro/3,y1:ro-1,x2:ro-1,y2:2*ro/3},this.resizeGroup)}addDeleteDom(){this.deleteGroup=le(V.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup),this.deleteIconBorder=le(V.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup),le(V.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup),le(V.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup)}resizeMouseDown(e){this.unbindDragEvents(),Ct(e)||(this.workspace.startDrag(e,new Ne(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper=Ie(document,"pointerup",this,this.resizeMouseUp),this.onMouseMoveWrapper=Ie(document,"pointermove",this,this.resizeMouseMove),this.workspace.hideChaff()),e.stopPropagation()}deleteMouseDown(e){this.deleteIconBorder&&De(this.deleteIconBorder,"blocklyDeleteIconHighlighted"),e.stopPropagation()}deleteMouseOut(e){this.deleteIconBorder&&ut(this.deleteIconBorder,"blocklyDeleteIconHighlighted")}deleteMouseUp(e){this.dispose(),e.stopPropagation()}unbindDragEvents(){this.onMouseUpWrapper&&(He(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onMouseMoveWrapper&&(He(this.onMouseMoveWrapper),this.onMouseMoveWrapper=null)}resizeMouseUp(e){Be(),this.unbindDragEvents()}resizeMouseMove(e){this.autoLayout=!1,e=this.workspace.moveDrag(e),this.setSize(this.RTL?-e.x:e.x,e.y)}resizeComment(){const e=this.getHeightWidth(),t=No.TOP_OFFSET,o=2*As;let a;(a=this.foreignObject)==null||a.setAttribute("width",String(e.width));let d;if((d=this.foreignObject)==null||d.setAttribute("height",String(e.height-t)),this.RTL){let m;(m=this.foreignObject)==null||m.setAttribute("x",String(-e.width))}this.textarea&&(this.textarea.style.width=e.width-o+"px",this.textarea.style.height=e.height-o-t+"px")}setSize(e,t){e=Math.max(e,45),t=Math.max(t,20+No.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",`${e}`),this.svgRect_.setAttribute("height",`${t}`);let o;(o=this.svgRectTarget)==null||o.setAttribute("width",`${e}`);let a;(a=this.svgRectTarget)==null||a.setAttribute("height",`${t}`);let d;(d=this.svgHandleTarget)==null||d.setAttribute("width",`${e}`);let m;if((m=this.svgHandleTarget)==null||m.setAttribute("height",String(No.TOP_OFFSET)),this.RTL){this.svgRect_.setAttribute("transform","scale(-1 1)");let C;(C=this.svgRectTarget)==null||C.setAttribute("transform","scale(-1 1)")}if(this.resizeGroup)if(this.RTL){this.resizeGroup.setAttribute("transform","translate("+(-e+ro)+","+(t-ro)+") scale(-1 1)");let C;(C=this.deleteGroup)==null||C.setAttribute("transform","translate("+(-e+ro)+","+-ro+") scale(-1 1)")}else{this.resizeGroup.setAttribute("transform","translate("+(e-ro)+","+(t-ro)+")");let C;(C=this.deleteGroup)==null||C.setAttribute("transform","translate("+(e-ro)+","+-ro+")")}this.resizeComment()}setFocus(){this.focused=!0,setTimeout(()=>{this.disposed_||(this.textarea.focus(),this.addFocus(),this.svgRectTarget&&De(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&De(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))},0)}blurFocus(){this.focused=!1,setTimeout(()=>{this.disposed_||(this.textarea.blur(),this.removeFocus(),this.svgRectTarget&&ut(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&ut(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))},0)}static fromXmlRendered(e,t,o){n.disable$$module$build$src$core$events$utils();let a;try{const d=$r.parseAttributes(e);if(a=new No(t,d.content,d.h,d.w,d.id),t.rendered&&(a.initSvg(!0),a.render()),!isNaN(d.x)&&!isNaN(d.y))if(t.RTL){const m=o||t.getWidth();a.moveBy(m-d.x,d.y)}else a.moveBy(d.x,d.y)}finally{n.enable$$module$build$src$core$events$utils()}return $r.fireCreateEvent(a),a}};No.DEFAULT_SIZE=100,No.TOP_OFFSET=10,ct(`
.blocklyCommentForeignObject {
  position: relative;
  z-index: 0;
}

.blocklyCommentRect {
  fill: #E7DE8E;
  stroke: #bcA903;
  stroke-width: 1px;
}

.blocklyCommentTarget {
  fill: transparent;
  stroke: #bcA903;
}

.blocklyCommentTargetFocused {
  fill: none;
}

.blocklyCommentHandleTarget {
  fill: none;
}

.blocklyCommentHandleTargetFocused {
  fill: transparent;
}

.blocklyFocused>.blocklyCommentRect {
  fill: #B9B272;
  stroke: #B9B272;
}

.blocklySelected>.blocklyCommentTarget {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCommentDeleteIcon {
  cursor: pointer;
  fill: #000;
  display: none;
}

.blocklySelected > .blocklyCommentDeleteIcon {
  display: block;
}

.blocklyDeleteIconShape {
  fill: #000;
  stroke: #000;
  stroke-width: 1px;
}

.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {
  stroke: #fc3;
}
`);var xs=new Set,vu=new WeakSet,zi=null,oc=null,dr=0,Cn={};Cn.finishQueuedRenders=kt,Cn.queueRender=kc,Cn.triggerQueuedRenders=Xr;var bo={};bo.appendDomToWorkspace=$g,bo.blockToDom=Kr,bo.blockToDomWithXY=Yr,bo.clearWorkspaceAndLoadFromXml=fa,bo.deleteNext=Ku,bo.domToBlock=n.domToBlock$$module$build$src$core$xml,bo.domToBlockInternal=Ei,bo.domToPrettyText=ip,bo.domToText=jn,bo.domToVariables=ga,bo.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,bo.variablesToDom=Wn,bo.workspaceToDom=Ac;var zo=class extends Error{},Yp=class extends zo{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Vl=class extends zo{constructor(e,t,o){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=o}},oh=class extends zo{constructor(e,t,o,a){super(`The block ${o.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=o,this.childState=a}},Kg=class extends zo{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},ji=class extends zo{constructor(e,t,o){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=o}},Ls={};Ls.BadConnectionCheck=oh,Ls.DeserializationError=zo,Ls.MissingBlockType=Yp,Ls.MissingConnection=Vl,Ls.RealChildOfShadow=Kg,Ls.UnregisteredIcon=ji;var rh=100,Ns=75,nh=50,Wl={BLOCKS:nh,PROCEDURES:Ns,VARIABLES:rh},ih={};ih.register=Ea,ih.unregister=Lc;var Kp=class{constructor(){this.priority=nh}save(e){const t=[];for(const o of e.getTopBlocks(!1))(e=un(o,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const o of e)Xn(o,t,{recordUndo:ye()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Ea("blocks",new Kp);var zl={};zl.BlockSerializer=Kp,zl.append=Xn,zl.appendInternal=as,zl.save=un;var ni=class extends Pi{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new ni),t.blockId=e.blockId,t}},Jp=class extends ni{constructor(e){super(e),this.type=n.CREATE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Yr(e),this.ids=Ee(e),this.json=un(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=jn(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new Jp),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!S$(t,this.ids))if(e)Xn(this.json,t);else for(e=0;e<this.ids.length;e++){const o=this.ids[e],a=t.getBlockById(o);a?a.dispose(!1):o===this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}}},S$=function(e,t){return t.map(o=>e.getBlockById(o)).filter(o=>o&&o.isShadow()).length===t.length};c(ke.EVENT,n.CREATE$$module$build$src$core$events$utils,Jp);var sh=class extends oi{constructor(e,t){super(t),this.type=vs,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new sh),t.themeName=e.themeName,t}};c(ke.EVENT,vs,sh);var lh=class extends oi{constructor(e,t,o,a,d){super(a),this.type=Mi,this.viewTop=e,this.viewLeft=t,this.scale=o,this.oldScale=d}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new lh),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};c(ke.EVENT,Mi,lh);var Xi;Xi=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Xi,connectingSnapRadius:Xi,currentConnectionPreference:8,bumpDelay:250},n.config$$module$build$src$core$config;var je;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(je||(je={}));var kn=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const o=this.calculateIndexForYPos(t);if(o>=this.connections.length)return-1;t=e.y;let a=o;for(;0<=a&&this.connections[a].y===t;){if(this.connections[a]===e)return a;a--}for(a=o;a<this.connections.length&&this.connections[a].y===t;){if(this.connections[a]===e)return a;a++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,o=this.connections.length;for(;t<o;){const a=Math.floor((t+o)/2);if(this.connections[a].y<e)t=a+1;else if(this.connections[a].y>e)o=a;else{t=a;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function o(We){const go=d-a[We].x,uo=m-a[We].y;return Math.sqrt(go*go+uo*uo)<=t&&be.push(a[We]),uo<t}const a=this.connections,d=e.x,m=e.y;e=0;let C=a.length-2,G=C;for(;e<G;)a[G].y<m?e=G:C=G,G=Math.floor((e+C)/2);const be=[];if(C=e=G,a.length){for(;0<=e&&o(e);)e--;do C++;while(C<a.length&&o(C))}return be}isInYRange(e,t,o){return Math.abs(this.connections[e].y-t)<=o}searchForClosest(e,t,o){if(!this.connections.length)return{connection:null,radius:t};const a=e.y,d=e.x;e.x=d+o.x,e.y=a+o.y;var m=this.calculateIndexForYPos(e.y);o=null;let C=t,G,be=m-1;for(;0<=be&&this.isInYRange(be,e.y,t);)G=this.connections[be],this.connectionChecker.canConnect(e,G,!0,C)&&(o=G,C=G.distanceFrom(e)),be--;for(;m<this.connections.length&&this.isInYRange(m,e.y,t);)G=this.connections[m],this.connectionChecker.canConnect(e,G,!0,C)&&(o=G,C=G.distanceFrom(e)),m++;return e.x=d,e.y=a,{connection:o,radius:C}}static init(e){const t=[];return t[je.INPUT_VALUE]=new kn(e),t[je.OUTPUT_VALUE]=new kn(e),t[je.NEXT_STATEMENT]=new kn(e),t[je.PREVIOUS_STATEMENT]=new kn(e),t}},rc=class{paste(e,t,o){if(!t.isCapacityAvailable(e.typeCounts))return null;o&&(e.blockState.x=o.x,e.blockState.y=o.y),n.disable$$module$build$src$core$events$utils();let a;try{a=Xn(e.blockState,t),kg(a)}finally{n.enable$$module$build$src$core$events$utils()}return a&&(U()&&!a.isShadow()&&Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(a)),a.select(),a)}};rc.TYPE="block",ls(rc.TYPE,new rc);var yo=null,qp=null,ah={duplicateInternal:xg,copyInternal:Og},jl={};jl.BlockPaster=rc,jl.TEST_ONLY=ah,jl.copy=wg,jl.duplicate=Ag,jl.paste=ya,jl.registry=ec;var I$="aria-",Jg="role",_r;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(_r||(_r={}));var no;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(no||(no={}));var hr={};hr.Role=_r,hr.State=no,hr.setRole=dn,hr.setState=eo;var Su=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&dn(t,this.roleName),this.element=t;for(let o=0,a;a=this.menuItems[o];o++)t.appendChild(a.createDom());return this.mouseOverHandler=Ie(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=Ie(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=Ie(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=Ie(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=Ie(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),De(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),ut(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(He(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(He(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(He(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(He(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(He(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){for(let o=0,a;a=this.menuItems[o];o++)if(a.getElement()===e)return a}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),Hn(e.getElement(),t),eo(t,no.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let o;for(;o=this.menuItems[e];){if(o.isEnabled()){this.setHighlighted(o);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const o=new Ne(e.clientX,e.clientY);if(1>Ne.distance(t,o))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=so(e);return t.height=e.scrollHeight,t}},Qp=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=oe(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var o=document.createElement("div");o.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(o)}return o=this.content,typeof this.content=="string"&&(o=document.createTextNode(this.content)),t.appendChild(o),e.appendChild(t),this.roleName&&dn(e,this.roleName),eo(e,no.SELECTED,this.checkable&&this.checked||!1),eo(e,no.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(De(t,"blocklyMenuItemHighlight"),De(t,"goog-menuitem-highlight")):(ut(t,"blocklyMenuItemHighlight"),ut(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},Fr=null,Xl=null,Yi="blocklyWidgetDiv",Ki="",Ms="",en,ii={};ii.createDom=hp,ii.getDiv=cl,ii.hide=Jr,ii.hideIfOwner=ed,ii.isVisible=pp,ii.positionWithAnchor=ul,ii.repositionForWindowResize=td,ii.show=Zu,ii.testOnly_setDiv=Lg;var nc=null,qg={},Iu=null,Rn={};Rn.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,Rn.commentDeleteOption=hl,Rn.commentDuplicateOption=_p,Rn.dispose=dl,Rn.getCurrentBlock=mp,Rn.hide=va,Rn.setCurrentBlock=od,Rn.show=Yn,Rn.workspaceCommentOption=Fc;var St=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let t;return(t=this.registry_.get(e))!=null?t:null}getContextMenuOptions(e,t){const o=[];for(const d of this.registry_.values())if(e===d.scopeType){var a=d.preconditionFn(t);a!=="hidden"&&(a={text:typeof d.displayText=="function"?d.displayText(t):d.displayText,enabled:a==="enabled",callback:d.callback,scope:t,weight:d.weight},o.push(a))}return o.sort(function(d,m){return d.weight-m.weight}),o}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e})(St||(St={})),St.ScopeType;var Yl={};Yl.clamp=cs,Yl.toDegrees=rd,Yl.toRadians=Sa;var Cu=16,ch=1,Qg=12,uh=16,ic=.25,sc=null,Ji=null,qi="",Kl="",Dt,Qi,Jl,ql=null,Ds=null,ku=null,i={getBoundsInfo:function(){const e=Lt(ql),t=so(ql);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,o,a){const d=i.getBoundsInfo(),m=so(Dt);return t+m.height<d.bottom?cd(e,t,d,m):a-m.height>d.top?ud(o,a,d,m):t+m.height<document.documentElement.clientHeight?cd(e,t,d,m):a-m.height>document.documentElement.clientTop?ud(o,a,d,m):Ep(e,d,m)}},l={ANIMATION_TIME:ic,ARROW_HORIZONTAL_PADDING:Qg,ARROW_SIZE:Cu,BORDER_SIZE:ch,PADDING_Y:uh,TEST_ONLY:i};l.clearContent=sd,l.createDom=Uc,l.getContentDiv=pl,l.getOwner=id,l.getPositionX=gl,l.hide=bi,l.hideIfOwner=Ia,l.hideWithoutAnimation=Lr,l.isVisible=bp,l.repositionForWindowResize=Gc,l.setBoundsElement=nd,l.setColour=ld,l.show=ad,l.showPositionedByBlock=Bg,l.showPositionedByField=Hc;var u=null,p=null,$={};$.connectionUiEffect=yi,$.disconnectUiEffect=Vc,$.disconnectUiStop=vi,$.disposeUiEffect=dd;var T=50,k=100,z=class{constructor(e,t){this.bubble=e,this.workspace=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY()}startBubbleDrag(){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout&&this.bubble.setAutoLayout(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(e,t){t=this.pixelsToWorkspaceUnits_(t),t=Ne.sum(this.startXY_,t),this.bubble.moveDuringDrag(t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(e){return e&&this.workspace.getComponentManager().hasCapability(e.id,Ro.Capability.DELETE_AREA)?e.wouldDelete(this.bubble,!1):!1}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(e,t){if(this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=Ne.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_)this.fireMoveEvent_(),this.bubble.dispose();else{if(this.bubble.setDragging){this.bubble.setDragging(!1);let o;(o=this.workspace.getLayerManager())==null||o.moveOffDragLayer(this.bubble,k)}this.fireMoveEvent_()}this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(!1)}fireMoveEvent_(){if(this.bubble instanceof No){const e=new(fe(bn))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),Y(e)}}pixelsToWorkspaceUnits_(e){return e=new Ne(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}},Z=30,Te=!0,we=[];we[je.INPUT_VALUE]=je.OUTPUT_VALUE,we[je.OUTPUT_VALUE]=je.INPUT_VALUE,we[je.NEXT_STATEMENT]=je.PREVIOUS_STATEMENT,we[je.PREVIOUS_STATEMENT]=je.NEXT_STATEMENT;var xe="RENAME_VARIABLE_ID",Oe="DELETE_VARIABLE_ID",ze={};ze.commonWordPrefix=pd,ze.commonWordSuffix=fd,ze.isNumber=n.isNumber$$module$build$src$core$utils$string,ze.shortestStringLength=ka,ze.startsWith=yp,ze.wrap=n.wrap$$module$build$src$core$utils$string;var Je=void 0,qe=!1,ao=!1,ce=50,re=0,de=0,Pe=0,rt=0,et=null,nt=null,mt=0,Mo=10,Pt=10,Zi=750,dh=5,Qo=null,wn={HOVER_MS:Zi,LIMIT:ce,MARGINS:dh,OFFSET_X:mt,OFFSET_Y:Mo,RADIUS_OK:Pt};wn.bindMouseEvents=Vt,wn.block=xa,wn.createDom=_d,wn.dispose=jc,wn.getCustomTooltip=Fg,wn.getDiv=Ra,wn.getTooltipOfObject=wa,wn.hide=Nr,wn.isVisible=Ug,wn.setCustomTooltip=md,wn.unbindMouseEvents=Oa,wn.unblock=us;var QT=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new Ne(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){X()&&X().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=Ne.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},DS=5,PS=6,Ql=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new Ne(0,0),this.startWorkspace_=this.targetBlock=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.flyout=this.workspaceDragger=this.blockDragger=this.bubbleDragger=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new Ne(0,0),this.healStack=!Te}dispose(){Be(),us(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.blockDragger&&this.blockDragger.dispose(),this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new Ne(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(),Fe()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=Ne.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Ne.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),this.targetBlock.select(),!0):!1}updateIsDraggingBubble(){return this.startBubble?(this.startDraggingBubble(),!0):!1}updateIsDraggingBlock(){if(!this.targetBlock)return!1;if(this.flyout){if(this.updateIsDraggingFromFlyout())return this.startDraggingBlock(),!0}else if(this.targetBlock.isMovable())return this.startDraggingBlock(),!0;return!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger=new QT(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(){if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.updateIsDraggingBubble()||this.updateIsDraggingBlock()||this.updateIsDraggingWorkspace()}startDraggingBlock(){this.blockDragger=new(R(ke.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock,this.startWorkspace_),this.blockDragger.startDrag(this.currentDragDeltaXY,this.healStack),this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY)}startDraggingBubble(){if(!this.startBubble)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger=new z(this.startBubble,this.startWorkspace_),this.bubbleDragger.startBubbleDrag(),this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Tt(e)?this.cancel():(this.gestureHasStarted=!0,vi(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=id(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,xa(),this.targetBlock&&this.targetBlock.select(),Ct(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&Le(e,this),this.mouseDownXY=new Ne(e.clientX,e.clientY),this.healStack=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(Ie(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(Ie(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(Ie(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&Fe())}handleMove(e){this.isDragging()&&tt(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.blockDragger?this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY):this.bubbleDragger&&this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),Fe())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!tt(e))return;if(this.updateFromEvent(e),Fe(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.bubbleDragger?this.bubbleDragger.endBubbleDrag(e,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()?this.doBubbleClick():this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=Ke(e);this.cachedPoints.set(t,this.getTouchPoint(e));var o=Array.from(this.cachedPoints.keys());o.length===2&&(t=this.cachedPoints.get(o[0]),o=this.cachedPoints.get(o[1]),this.startDistance=Ne.distance(t,o),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const t=Ke(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):this.handleMove(e)}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),o=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),o=Ne.distance(o,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=o-this.previousScale,t=0<t?t*DS:t*PS,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const a=this.startWorkspace_,d=bt(e,a.getParentSvg(),a.getInverseScreenCTM());a.zoom(d.x,d.y,t)}this.previousScale=o,e.preventDefault()}handleTouchEnd(e){e=Ke(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new Ne(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(Fe(),this.bubbleDragger?this.bubbleDragger.endBubbleDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.doStart(e)}fireWorkspaceClick(e){Y(new(fe(Tn))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}doBubbleClick(){this.startBubble instanceof No&&(this.startBubble.setFocus(),this.startBubble.select())}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock.isEnabled()&&(n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.flyout.createBlock(this.targetBlock).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const e=new(fe(Tn))(this.startBlock,this.startWorkspace_.id,"block");Y(e)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,X()&&X().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}isDragging(){return!!this.workspaceDragger||!!this.blockDragger||!!this.bubbleDragger}hasStarted(){return this.gestureHasStarted}getInsertionMarkers(){return this.blockDragger?this.blockDragger.getInsertionMarkers():[]}getCurrentDragger(){let e,t;return(t=(e=this.blockDragger)!=null?e:this.workspaceDragger)!=null?t:this.bubbleDragger}static inProgress(){const e=M();for(let t=0,o;o=e[t];t++)if(o.currentGesture_)return!0;return!1}},C$=class{constructor(e,t){this.pattern=e,this.scale=1;let o;this.spacing=(o=t.spacing)!=null?o:0;let a;this.length=(a=t.length)!=null?a:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let d;this.snapToGrid=(d=t.snap)!=null?d:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}setLength(e){this.length=e,this.update(this.scale)}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let o=t-this.length/2,a=t+this.length/2;t*=e,o*=e,a*=e,this.setLineAttributes(this.line1,e,o,a,t,t),this.setLineAttributes(this.line2,e,t,t,o,a)}setLineAttributes(e,t,o,a,d,m){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${o}`),e.setAttribute("y1",`${d}`),e.setAttribute("x2",`${a}`),e.setAttribute("y2",`${m}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}static createDom(e,t,o){e=le(V.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},o);let a,d;if(0<((a=t.length)!=null?a:1)&&0<((d=t.spacing)!=null?d:0)){le(V.LINE,{stroke:t.colour},e);let m;(m=t.length)!=null&&m&&le(V.LINE,{stroke:t.colour},e)}else le(V.LINE,{},e);return e}},Zp=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t=0,o;o=e[t];t++)this.unregisterMarker(o);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};Zp.LOCAL_MARKER="local_marker_1";var ZT={};ZT.deepMerge=qr;var Ru=class{constructor(e,t,o,a){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=o||Object.create(null),this.componentStyles=a||Object.create(null),this.fontStyle=Object.create(null),c(ke.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const o=new Ru(e);let a=t.base;if(a){if(typeof a=="string"){let d;a=(d=v(ke.THEME,a))!=null?d:void 0}a instanceof Ru&&(qr(o,a),o.name=e)}return qr(o.blockStyles,t.blockStyles),qr(o.categoryStyles,t.categoryStyles),qr(o.componentStyles,t.componentStyles),qr(o.fontStyle,t.fontStyle),t.startHats!==null&&(o.startHats=t.startHats),o}},BS={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},FS={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Zg=new Ru("classic",BS,FS),si=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,o=!1;var a=!1,d=!1,m=!1,C=!1,G=!1;const be=!!e.readOnly;if(!be){var We;t=jr((We=e.toolbox)!=null?We:null),o=Wu(t),a=e.trashcan,a=a===void 0?o:a,d=e.collapse,d=d===void 0?o:d,m=e.comments,m=m===void 0?o:m,C=e.disable,C=C===void 0?o:C,G=e.sounds,G=G===void 0?!0:G}We=e.maxTrashcanContents,a?We===void 0&&(We=32):We=0;const go=!!e.rtl;let uo=e.horizontalLayout;uo===void 0&&(uo=!1);var tn=e.toolboxPosition!=="end";tn=uo?tn?dt.TOP:dt.BOTTOM:tn===go?dt.RIGHT:dt.LEFT;let yh=e.css;yh===void 0&&(yh=!0);let vh="https://blockly-demo.appspot.com/static/media/";e.media?vh=e.media.endsWith("/")?e.media:e.media+"/":"path"in e&&(Me("path","Nov 2014","Jul 2023","media"),vh=e.path+"media/");const lb=e.oneBasedIndex,yI=e.renderer||"geras",vI=e.plugins||{};let m_=e.modalInputs;m_===void 0&&(m_=!0),this.RTL=go,this.oneBasedIndex=lb===void 0?!0:lb,this.collapse=d,this.comments=m,this.disable=C,this.readOnly=be,this.maxBlocks=e.maxBlocks||1/0;let ab;this.maxInstances=(ab=e.maxInstances)!=null?ab:null,this.modalInputs=m_,this.pathToMedia=vh,this.hasCategories=o,this.moveOptions=si.parseMoveOptions_(e,o),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=a,this.maxTrashcanContents=We,this.hasSounds=G,this.hasCss=yh,this.horizontalLayout=uo,this.languageTree=t,this.gridOptions=si.parseGridOptions_(e),this.zoomOptions=si.parseZoomOptions_(e),this.toolboxPosition=tn,this.theme=si.parseThemeOptions_(e),this.renderer=yI;let cb;this.rendererOverrides=(cb=e.rendererOverrides)!=null?cb:null;let ub;this.parentWorkspace=(ub=e.parentWorkspace)!=null?ub:null,this.plugins=vI}static parseMoveOptions_(e,t){const o=e.move||{},a={};return o.scrollbars===void 0&&e.scrollbars===void 0?a.scrollbars=t:typeof o.scrollbars=="object"?(a.scrollbars={horizontal:!!o.scrollbars.horizontal,vertical:!!o.scrollbars.vertical},a.scrollbars.horizontal&&a.scrollbars.vertical?a.scrollbars=!0:a.scrollbars.horizontal||a.scrollbars.vertical||(a.scrollbars=!1)):a.scrollbars=!!o.scrollbars||!!e.scrollbars,a.wheel=a.scrollbars&&o.wheel!==void 0?!!o.wheel:typeof a.scrollbars=="object",a.drag=a.scrollbars?o.drag===void 0?!0:!!o.drag:!1,a}static parseZoomOptions_(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions_(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions_(e){return e=e.theme||Zg,typeof e=="string"?v(ke.THEME,e):e instanceof Ru?e:Ru.defineTheme(e.name||"builtin"+oe(),e)}},wu=class extends ni{constructor(e,t,o,a,d){super(e),this.type=n.CHANGE$$module$build$src$core$events$utils,e&&(this.element=t,this.name=o||void 0,this.oldValue=a,this.newValue=d)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new wu),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");var o=t.getIcon(fo.MUTATOR);switch(o&&hn(o)&&o.bubbleIsVisible()&&o.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":o=wu.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(n.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),Y(new wu(t,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?jn(e):""}};c(ke.EVENT,n.CHANGE$$module$build$src$core$events$utils,wu);var k$=.45,R$=.65,eE={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},li={};li.blend=Si,li.getHsvSaturation=La,li.getHsvValue=Na,li.hexToRgb=Ed,li.hsvToHex=bd,li.hueToHex=Jn,li.names=eE,li.parse=ds,li.rgbToHex=Ma,li.setHsvSaturation=Xc,li.setHsvValue=Yc;var ef={};ef.checkMessageReferences=Da,ef.parseBlockColour=yr,ef.replaceMessageReferences=Ft,ef.tokenizeInterpolation=hs;var It=class{constructor(e,t,o){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Xt(0,0),e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(Ft(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=le(V.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=le(V.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=le(V.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Vt(e),this.mouseDownWrapper_=Ie(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(It),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(It,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=n.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),at(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){Ia(this),ed(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||st(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(De(e,"blocklyEditableText"),ut(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(De(e,"blocklyNonEditableText"),ut(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==It.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let o=2*e,a=t.FIELD_TEXT_HEIGHT,d=0;this.textElement_&&(d=pe(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),o+=d),this.isFullBlockField()||(a=Math.max(a,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=a,this.size_.width=o,this.positionTextElement_(e,d),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var o=this.getConstants(),a=this.size_.height/2,d;this.textElement_.setAttribute("x",String((d=this.getSourceBlock())!=null&&d.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(o.FIELD_TEXT_BASELINE_CENTER?a:a-o.FIELD_TEXT_HEIGHT/2+o.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new Xt(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new co;if(this.isFullBlockField()){var o=this.sourceBlock_.getHeightWidth();const a=t.workspace.scale;e=this.getAbsoluteXY_(),t=(o.width+1)*a,o=(o.height+1)*a,Qd?(e.x+=1.5*a,e.y+=1.5*a):(e.x-=.5*a,e.y-=.5*a)}else o=this.borderRect_.getBoundingClientRect(),e=Lt(this.borderRect_),t=o.width,o=o.height;return new Mt(e.y,e.y+o,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,It.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):It.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours())}setValue(e,t=!0){if(e!==null){var o=this.doClassValidation_(e);if(e=this.processValidation_(e,o),!(e instanceof Error)){var a;o=(a=this.getValidator())==null?void 0:a.call(this,e),a=this.processValidation_(e,o),a instanceof Error||(e=this.sourceBlock_,e&&e.disposed||(o=this.getValue(),o===a?this.doValueUpdate_(a):(this.doValueUpdate_(a),t&&e&&U()&&Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(e,"field",this.name||null,o,a)),this.isDirty_&&this.forceRerender())))}}}processValidation_(e,t){return t===null?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return wa(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return Lt(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new co;const o=t.inputList;for(let a=0;a<t.inputList.length;a++){const d=o[a],m=d.fieldRow;for(let C=0;C<m.length;C++)if(m[C]===this){e=d;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new co;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(Zp.LOCAL_MARKER).draw()}};It.NBSP=" ",It.SKIP_SETUP=Symbol("SKIP_SETUP");var co=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}};n.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=n.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let o=e;t===n.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(o=e),e=o.toLowerCase();const a=t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const d=this.db.get(t);return d.has(e)?a+d.get(e):(t=this.getDistinctName(o,t),d.set(e,t.substr(a.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let o=null,a,d;for(;this.dbReverse.has(e+((a=o)!=null?a:""))||this.reservedWords.has(e+((d=o)!=null?d:""));)o=o?o+1:2;let m;return e+=(m=o)!=null?m:"",this.dbReverse.add(e),(t===n.NameType$$module$build$src$core$names.VARIABLE||t===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".indexOf(e[0])!==-1&&(e="my_"+e)):e=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var tE=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),yd(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(yd(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},em=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new Ne(0,0),this.workspaceLocation=new Ne(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=le(V.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),Ie(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,Vt(this.svgRoot)}}dispose(){Oa(this.svgRoot),st(this.svgRoot)}getWeight(){return-1}getSize(){return new Xt(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",hn(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=Ne.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}setVisible(e){Me("setVisible","v10","v11","setBubbleVisible"),hn(this)&&this.setBubbleVisible(e)}},oE={fromJsonInternal:Pa},tm={TEST_ONLY:oE};tm.fromJson=n.fromJson$$module$build$src$core$field_registry,tm.register=Mr,tm.unregister=ps;var Ps=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==It.SKIP_SETUP&&(Array.isArray(e)?(qc(e),e=$l(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],o&&this.configure_(o),this.setValue(this.selectedOption[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Ps,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=le(V.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&De(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=le(V.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Ps.ARROW_CHAR+" ":" "+Ps.ARROW_CHAR));let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=le(V.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(Qt,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new co;this.dropdownCreate(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new Ne(e.clientX,e.clientY):null,sd(),e=this.menu_.render(pl()),De(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),ld(t,this.sourceBlock_.style.colourTertiary)),Hc(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),Hn(this.selectedMenuItem.getElement(),pl(),!0)),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new co;const t=new Su;t.setRole(_r.LISTBOX),this.menu_=t;const o=this.getOptions(!1);this.selectedMenuItem=null;for(let d=0;d<o.length;d++){const[m,C]=o[d];if(typeof m=="object"){var a=new Image(m.width,m.height);a.src=m.src,a.alt=m.alt||""}else a=m;a=new Qp(a,C),a.setRole(_r.OPTION),a.setRightToLeft(e.RTL),a.setCheckable(!0),t.addChild(a),a.setChecked(C===this.value_),C===this.value_&&(this.selectedMenuItem=a),a.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){Ia(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),qc(this.generatedOptions),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,o;o=e[t];t++)o[1]===this.value_&&(this.selectedOption=o)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&typeof e=="object"?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new co;this.imageElement.style.display="",this.imageElement.setAttributeNS(Qt,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const o=Number(e.height);e=Number(e.width);var a=!!this.borderRect_;const d=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,o+HS);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let m;m=this.svgArrow?this.positionSVGArrow(e+a,d/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):pe(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+m+2*a,this.size_.height=d;let C=0;t.RTL?this.imageElement.setAttribute("x",`${a+m}`):(C=e+m,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${a}`)),this.imageElement.setAttribute("y",String(d/2-o/2)),this.positionTextElement_(C+a,e+m)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();De(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const o=pe(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let a=0;this.svgArrow&&(a=this.positionSVGArrow(o+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=o+a+2*t,this.size_.height=e,this.positionTextElement_(t,o)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const o=this.getSourceBlock();if(!o)throw new co;const a=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,d=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,m=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(o.RTL?a:e+d)+","+t+")"),m+d}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};Ps.CHECKMARK_OVERHANG=25,Ps.MAX_MENU_HEIGHT_VH=.45,Ps.ARROW_CHAR="▾";var US=5,HS=2*US;Mr("field_dropdown",Ps);var On,Ut=class{constructor(e,t,o){this.workspace=e,this.anchor=t,this.ownerRect=o,this.size=new Xt(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.svgRoot=le(V.G,{},e.getBubbleCanvas()),e=le(V.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=le(V.PATH,{},e),this.background=le(V.RECT,{class:"blocklyDraggable",x:0,y:0,rx:On.BORDER_WIDTH,ry:On.BORDER_WIDTH},e),this.contentContainer=le(V.G,{},this.svgRoot),Ie(this.background,"pointerdown",this,this.onMouseDown)}dispose(){st(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,On.MIN_SIZE),e.height=Math.max(e.height,On.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new Mt(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),o=this.getOptimalRelativeLeft(t),a=this.getOptimalRelativeTop(t);const d={x:o,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},m={x:-this.size.width-30,y:a};a={x:e.getWidth(),y:a};var C={x:o,y:e.getHeight()};o=e.getWidth()<e.getHeight()?a:C,e=e.getWidth()<e.getHeight()?C:a,a=this.getOverlap(d,t),C=this.getOverlap(m,t);const G=this.getOverlap(o,t);t=this.getOverlap(e,t),t=Math.max(a,C,G,t),a===t?(this.relativeLeft=d.x,this.relativeTop=d.y):C===t?(this.relativeLeft=m.x,this.relativeTop=m.y):G===t?(this.relativeLeft=o.x,this.relativeTop=o.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var o=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(o+this.size.width,t.left+t.width)-Math.max(o,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var o=this.anchor.x-t;o-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):o>e.right&&(t=-(e.right-this.anchor.x))}else{o=t+this.anchor.x;const a=o+this.size.width;o<e.left?t=e.left-this.anchor.x:a>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const o=this.anchor.y+t,a=o+this.size.height;return e=this.getWorkspaceViewRect(e),o<e.top?t=e.top-this.anchor.y:a>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let o=e.top+e.height,a=e.left;return e=e.left+e.width,o-=this.getScrollbarThickness(),this.workspace.RTL?a-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new Mt(t,o,a,e)}getScrollbarThickness(){return vo.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,o=this.size.height/2,a=-this.relativeLeft,d=-this.relativeTop;if(t===a&&o===d)e.push("M "+t+","+o);else{d-=o,a-=t,this.workspace.RTL&&(a*=-1);var m=Math.sqrt(d*d+a*a),C=Math.acos(a/m);0>d&&(C=2*Math.PI-C);var G=C+Math.PI/2;G>2*Math.PI&&(G-=2*Math.PI);var be=Math.sin(G);const go=Math.cos(G);let uo=(this.size.width+this.size.height)/On.TAIL_THICKNESS;uo=Math.min(uo,this.size.width,this.size.height)/4,G=1-On.ANCHOR_RADIUS/m,a=t+G*a,d=o+G*d,G=t+uo*go;const tn=o+uo*be;t-=uo*go,o-=uo*be,be=Sa(this.workspace.RTL?-On.TAIL_ANGLE:On.TAIL_ANGLE),be=C+be,be>2*Math.PI&&(be-=2*Math.PI),C=Math.sin(be)*m/On.TAIL_BEND,m=Math.cos(be)*m/On.TAIL_BEND,e.push("M"+G+","+tn),e.push("C"+(G+m)+","+(tn+C)+" "+a+","+d+" "+a+","+d),e.push("C"+a+","+d+" "+(t+m)+","+(o+C)+" "+t+","+o)}e.push("z");let We;(We=this.tail)==null||We.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(t==null?void 0:t.lastChild)!==this.svgRoot?(t==null||t.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Ne(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}};On=Ut,Ut.BORDER_WIDTH=6,Ut.DOUBLE_BORDER=2*On.BORDER_WIDTH,Ut.MIN_SIZE=On.DOUBLE_BORDER,Ut.TAIL_THICKNESS=1,Ut.TAIL_ANGLE=20,Ut.TAIL_BEND=4,Ut.ANCHOR_RADIUS=8;var Zl=class extends Ut{constructor(e,t,o,a){super(t,o,a),this.workspace=t,this.anchor=o,this.ownerRect=a,this.autoLayout=!0,t=new si(e),this.validateWorkspaceOptions(t),this.svgDialog=le(V.SVG,{x:Ut.BORDER_WIDTH,y:Ut.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new si(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(V.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(t.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let d,m;(d=this.miniWorkspace.getFlyout())==null||(m=d.getWorkspace())==null||m.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(20>t.y&&e.moveBy(0,20-t.y),e.RTL){let o=-20;const a=this.miniWorkspace.getFlyout();a&&(o-=a.getWidth()),t.x>o&&e.moveBy(o-t.x,0)}else 20>t.x&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<Zl.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<Zl.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new Xt(t.width+Ut.DOUBLE_BORDER,t.height+Ut.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+Zl.MARGIN;e=e.height+Zl.MARGIN;const o=this.miniWorkspace.getFlyout();if(o){const a=o.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,a.height+20),t+=o.getWidth()}return new Xt(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const o of e.getAllBlocks(!1))o.setStyle(o.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};Zl.MINIMUM_VIEW_CHANGE=10,Zl.MARGIN=3*Ut.DOUBLE_BORDER;var om,rm;om=17,rm=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends em{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),le(V.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),le(V.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),le(V.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),De(this.svgRoot,"blockly-icon-mutator"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Xt(om,om)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary);let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){if(this.bubbleIsVisible()!==e){if(e){this.miniWorkspaceBubble=new Zl(this.getMiniWorkspaceConfig(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour(),this.createRootBlock(),this.addSaveConnectionsListener();let t;(t=this.miniWorkspaceBubble)==null||t.addWorkspaceChangeListener(this.createMiniWorkspaceChangeListener())}else{let t;(t=this.miniWorkspaceBubble)==null||t.dispose(),this.miniWorkspaceBubble=null,this.saveConnectionsListener&&this.sourceBlock.workspace.removeChangeListener(this.saveConnectionsListener),this.saveConnectionsListener=null}Y(new(fe(En))(this.sourceBlock,e,"mutator"))}}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(o=>({kind:"block",type:o}))}),t}getAnchorLocation(){const e=om/2;return Ne.sum(this.workspaceLocation,new Ne(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Mt(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,o,a,d;e=(d=(t=this.miniWorkspaceBubble)==null||(o=t.getWorkspace())==null||(a=o.getFlyout())==null?void 0:a.getWidth())!=null?d:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+rm):rm,rm)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||e.type===n.CREATE$$module$build$src$core$events$utils||e.type===n.CHANGE$$module$build$src$core$events$utils&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);var t=wu.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var o=wu.getExtraBlockState_(this.sourceBlock);t!==o&&Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,t,o)),n.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}static reconnect(e,t,o){return Me("MutatorIcon.reconnect","v10","v11","connection.reconnect"),e?e.reconnect(t,o):!1}static findParentWs(e){return Me("MutatorIcon.findParentWs","v10","v11","workspace.getRootWorkspace"),e.getRootWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=fo.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var hh=Object.create(null),GS={allExtensions:hh};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",Zc);var es={TEST_ONLY:GS};es.apply=Jt,es.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,es.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,es.isRegistered=Qn,es.register=n.register$$module$build$src$core$extensions,es.registerMixin=n.registerMixin$$module$build$src$core$extensions,es.registerMutator=n.registerMutator$$module$build$src$core$extensions,es.runAfterPageLoad=Cp,es.unregister=_l;var yt;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(yt||(yt={}));var ea={};ea.arc=oo,ea.curve=So,ea.line=Ba,ea.lineOnAxis=Ve,ea.lineTo=pn,ea.moveBy=qt,ea.moveTo=Io,ea.point=Ze;var Co={};Co.Coordinate=Ne,Co.KeyCodes=yt,Co.Rect=Mt,Co.Size=Xt,Co.Svg=V,Co.aria=hr,Co.array=Gp,Co.browserEvents=Bi,Co.colour=li,Co.deprecation=Wp,Co.dom=Ho,Co.extensions=es,Co.idGenerator=zd,Co.math=Yl,Co.object=ZT,Co.parsing=ef,Co.string=ze,Co.style=ks,Co.svgMath=Rs,Co.svgPaths=ea,Co.toolbox=Hi,Co.userAgent=jg,Co.xml=Bl;var w$={};w$.register=gs,w$.unregister=eu;var O$=class extends Ut{constructor(e,t,o,a){super(t,o,a),this.text=e,this.workspace=t,this.anchor=o,this.ownerRect=a,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,st(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createSpans(t,e),this.workspace.RTL&&this.rightAlignSpans(t.getBBox().width,e),t}createParagraph(e){return le(V.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Ut.BORDER_WIDTH},e)}createSpans(e,t){return t.split(`
`).map(o=>{const a=le(V.TSPAN,{dy:"1em",x:Ut.BORDER_WIDTH},e);return o=document.createTextNode(o),a.appendChild(o),a})}rightAlignSpans(e,t){for(const o of t)o.setAttribute("text-anchor","end"),o.setAttribute("x",`${e+Ut.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Xt(e.width+2*Ut.BORDER_WIDTH,e.height+2*Ut.BORDER_WIDTH),!0)}},rE=class extends Ut{constructor(e,t,o){super(e,t,o),this.workspace=e,this.anchor=t,this.ownerRect=o,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new Xt(160+Ut.DOUBLE_BORDER,80+Ut.DOUBLE_BORDER),this.MIN_SIZE=new Xt(45+Ut.DOUBLE_BORDER,20+Ut.DOUBLE_BORDER),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=le(V.FOREIGNOBJECT,{x:Ut.BORDER_WIDTH,y:Ut.BORDER_WIDTH},e);const t=document.createElementNS(kr,"body");t.setAttribute("xmlns",kr),t.className="blocklyMinimalBody";const o=document.createElementNS(kr,"textarea");return o.className="blocklyCommentTextarea",o.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(o),e.appendChild(t),this.bindTextAreaEvents(o),setTimeout(()=>{o.focus()},0),{inputRoot:e,textArea:o}}bindTextAreaEvents(e){Ie(e,"wheel",this,t=>{t.stopPropagation()}),Ie(e,"focus",this,this.onStartEdit,!0),Ie(e,"change",this,this.onTextChange)}createResizeHandle(e){e=le(V.G,{class:this.workspace.RTL?"blocklyResizeSW":"blocklyResizeSE"},e);const t=2*Ut.BORDER_WIDTH;return le(V.POLYGON,{points:`0,${t} ${t},${t} ${t},0`},e),le(V.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},e),le(V.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},e),Ie(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const o=e.width-Ut.DOUBLE_BORDER,a=e.height-Ut.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${o}`),this.inputRoot.setAttribute("height",`${a}`),this.textArea.style.width=`${o-4}px`,this.textArea.style.height=`${a-4}px`,this.workspace.RTL?this.resizeGroup.setAttribute("transform",`translate(${Ut.DOUBLE_BORDER}, ${a}) scale(-1 1)`):this.resizeGroup.setAttribute("transform",`translate(${o}, ${a})`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),Ct(e)||(this.workspace.startDrag(e,new Ne(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=Ie(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=Ie(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){Be(),this.resizePointerUpListener&&(He(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(He(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new Xt(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};ct(`
.blocklyCommentTextarea {
  background-color: #fef49c;
  border: 0;
  display: block;
  margin: 0;
  outline: 0;
  padding: 3px;
  resize: none;
  text-overflow: hidden;
}
`);var A$=17,nE=160,iE=80,Ur=class extends em{constructor(e){super(e),this.sourceBlock=e,this.textBubble=this.textInputBubble=null,this.text="",this.bubbleSize=new Xt(nE,iE),this.bubbleVisiblity=!1}getType(){return Ur.TYPE}initView(e){this.svgRoot||(super.initView(e),le(V.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),le(V.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),le(V.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),De(this.svgRoot,"blockly-icon-comment"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose();let t;(t=this.textBubble)==null||t.dispose()}getWeight(){return Ur.WEIGHT}getSize(){return new Xt(A$,A$)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let t;(t=this.textInputBubble)==null||t.setColour(e);let o;(o=this.textBubble)==null||o.setColour(e)}updateEditable(){super.updateEditable(),this.bubbleIsVisible()&&(this.setBubbleVisible(!1),this.setBubbleVisible(!0))}onLocationChange(e){super.onLocationChange(e),e=this.getAnchorLocation();let t;(t=this.textInputBubble)==null||t.setAnchorLocation(e);let o;(o=this.textBubble)==null||o.setAnchorLocation(e)}setText(e){const t=this.text;Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,t,e)),this.text=e;let o;(o=this.textInputBubble)==null||o.setText(this.text);let a;(a=this.textBubble)==null||a.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let o,a;this.bubbleSize=new Xt((o=e.width)!=null?o:nE,(a=e.height)!=null?a:iE);let d;this.bubbleVisiblity=(d=e.pinned)!=null?d:!1,setTimeout(()=>this.setBubbleVisible(this.bubbleVisiblity),1)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){(!e||!this.textBubble&&!this.textInputBubble)&&(e||this.textBubble||this.textInputBubble)&&(this.bubbleVisiblity=e,this.sourceBlock.rendered&&!this.sourceBlock.isInFlyout&&(e?(this.sourceBlock.isEditable()?this.showEditableBubble():this.showNonEditableBubble(),this.applyColour()):this.hideBubble(),Y(new(fe(En))(this.sourceBlock,e,"comment"))))}showEditableBubble(){this.textInputBubble=new rE(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.textBubble=new O$(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null;let t;(t=this.textBubble)==null||t.dispose(),this.textBubble=null}getAnchorLocation(){const e=A$/2;return Ne.sum(this.workspaceLocation,new Ne(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Mt(e.y,e.y+e.height,e.x,e.x+e.width)}};Ur.TYPE=fo.COMMENT,Ur.WEIGHT=3,gs(Ur.TYPE,Ur);var x$=17,ts=class extends em{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return ts.TYPE}initView(e){this.svgRoot||(super.initView(e),le(V.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),le(V.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),le(V.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),De(this.svgRoot,"blockly-icon-warning"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return ts.WEIGHT}getSize(){return new Xt(x$,x$)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let o;return(o=this.textBubble)==null||o.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){if(this.bubbleIsVisible()!==e){if(e)this.textBubble=new O$(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour();else{let t;(t=this.textBubble)==null||t.dispose(),this.textBubble=null}Y(new(fe(En))(this.sourceBlock,e,"warning"))}}getAnchorLocation(){const e=x$/2;return Ne.sum(this.workspaceLocation,new Ne(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Mt(e.y,e.y+e.height,e.x,e.x+e.width)}};ts.TYPE=fo.WARNING,ts.WEIGHT=2;var sE=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},lE={};lE.DuplicateIconType=sE;var lc={};lc.CommentIcon=Ur,lc.Icon=em,lc.IconType=fo,lc.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,lc.WarningIcon=ts,lc.exceptions=lE,lc.registry=w$;var nm,Hr;nm="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",Hr={CATEGORY_NAME:nm,DEFAULT_ARG:n.DEFAULT_ARG$$module$build$src$core$procedures},Hr.ObservableProcedureMap=tE,Hr.allProcedures=Tl,Hr.findLegalName=n.findLegalName$$module$build$src$core$procedures,Hr.flyoutCategory=Qr,Hr.getCallers=tu,Hr.getDefinition=n.getDefinition$$module$build$src$core$procedures,Hr.isNameUsed=Ci,Hr.isProcedureBlock=qn,Hr.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,Hr.mutatorOpenListener=ki,Hr.rename=n.rename$$module$build$src$core$procedures;var VS=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},ee=new VS,Bs=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=ee.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},tf=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=ee.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(ee.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(ee.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(ee.isSpacer(t))return t}return null}},L$=class extends tf{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=ee.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,o=0;for(let a=0;a<this.elements.length;a++){const d=this.elements[a];t+=d.width,ee.isSpacer(d)||(ee.isNextConnection(d)?o=Math.max(o,d.height):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+o,this.descenderHeight=o,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},ta=class extends Bs{constructor(e,t){super(e),this.connectionModel=t,this.type|=ee.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},ac=class extends ta{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=ee.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},im=class extends ac{constructor(e,t){super(e,t),this.height=0,this.type|=ee.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},ph=class extends Bs{constructor(e,t,o){super(e),this.field=t,this.parentInput=o,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=ee.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},N$=class extends Bs{constructor(e){super(e),this.type|=ee.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},aE=class extends Bs{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.isVisible=hn(t)&&t.bubbleIsVisible(),this.type|=ee.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},An=class extends Bs{constructor(e,t){super(e),this.type=this.type|ee.SPACER|ee.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},M$=class extends ac{constructor(e,t){super(e,t),this.type|=ee.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},of=class extends ac{constructor(e,t){super(e,t),this.type|=ee.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},D$=class extends tf{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=ee.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const o=this.elements[t];this.width+=o.width,ee.isInput(o)&&o instanceof ac&&(ee.isStatementInput(o)&&o instanceof of?e+=o.connectedBlockWidth:ee.isExternalInput(o)&&o instanceof im&&o.connectedBlockWidth!==0&&(e+=o.connectedBlockWidth-o.connectionWidth)),ee.isSpacer(o)||(this.height=Math.max(this.height,o.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},cE=class extends Bs{constructor(e){super(e),this.type|=ee.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},uE=class extends ta{constructor(e,t){super(e,t),this.type|=ee.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},dE=class extends ta{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=ee.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},hE=class extends ta{constructor(e,t){super(e,t),this.type|=ee.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},rf=class extends Bs{constructor(e,t){super(e),this.type=(t&&t!=="left"?ee.RIGHT_ROUND_CORNER:ee.LEFT_ROUND_CORNER)|ee.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},P$=class extends tf{constructor(e,t,o){super(e),this.height=t,this.width=o,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|ee.SPACER|ee.BETWEEN_ROW_SPACER,this.elements=[new An(this.constants_,o)]}measure(){}},nf=class extends Bs{constructor(e,t){super(e),this.type=(t&&t!=="left"?ee.RIGHT_SQUARE_CORNER:ee.LEFT_SQUARE_CORNER)|ee.CORNER,this.width=this.height=this.constants_.NO_PADDING}},B$=class extends tf{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=ee.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,o=e.getPreviousBlock();return!!e.outputConnection||t||(o?o.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,o=0;for(let a=0;a<this.elements.length;a++){const d=this.elements[a];t+=d.width,ee.isSpacer(d)||(ee.isHat(d)&&d instanceof N$?o=Math.max(o,d.ascenderHeight):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+o,this.capline=this.ascenderHeight=o,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},sf=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=qt(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const o in t)this.blockStyles[o]=this.validatedBlockStyle_(t[o]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=$t("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.indexOf("auto_")===0?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=yr(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?yr(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?yr(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return Si("#fff",e,.6)||e}generateTertiaryColour_(e){return Si("#fff",e,.3)||e}dispose(){this.embossFilter&&st(this.embossFilter),this.disabledPattern&&st(this.disabledPattern),this.debugFilter&&st(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,o=Ba([Ze(t,e/4),Ze(2*-t,e/2),Ze(t,e/4)]);return{height:e,width:t,path:o}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,o=So("c",[Ze(30,-e),Ze(70,-e),Ze(t,0)]);return{height:e,width:t,path:o}}makePuzzleTab(){function e(m){m=m?-1:1;const C=-m;var G=o/2;const be=G+2.5,We=G+.5,go=Ze(-t,m*G);return G=Ze(t,m*G),So("c",[Ze(0,m*be),Ze(-t,C*We),go])+So("s",[Ze(t,2.5*C),G])}const t=this.TAB_WIDTH,o=this.TAB_HEIGHT,a=e(!0),d=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:o,pathDown:d,pathUp:a}}makeNotch(){function e(C){return Ba([Ze(C*a,o),Ze(3*C,0),Ze(C*a,-o)])}const t=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,a=(t-3)/2,d=e(1),m=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:o,pathLeft:d,pathRight:m}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=oo("a","0 0,0",e,Ze(-e,e)),o=oo("a","0 0,0",e,Ze(e,e));return{width:e,height:e,pathTop:t,pathBottom:o}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=qt(0,e)+oo("a","0 0,1",e,Ze(e,-e)),o=oo("a","0 0,1",e,Ze(e,e)),a=oo("a","0 0,1",e,Ze(-e,-e)),d=oo("a","0 0,1",e,Ze(-e,e));return{topLeft:t,topRight:o,bottomRight:d,bottomLeft:a,rightHeight:e}}shapeFor(e){switch(e.type){case je.INPUT_VALUE:case je.OUTPUT_VALUE:return this.PUZZLE_TAB;case je.PREVIOUS_STATEMENT:case je.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,o){this.injectCSS_(t,o),this.defs=le(V.DEFS,{},e),e=le(V.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),le(V.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=le(V.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),le(V.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),le(V.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),le(V.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=le(V.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),le(V.RECT,{width:10,height:10,fill:"#aaa"},e),le(V.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=le(V.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=le(V.FECOMPONENTTRANSFER,{result:"outBlur"},e);le(V.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),le(V.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),le(V.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const o=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=o:(t=document.createElement("style"),t.id=e,e=document.createTextNode(o),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},lf=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}hideHiddenIcons_(){Me("hideHiddenIcons_","v10","v11")}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=qt(e.xPos,this.info_.startY);for(let o=0,a;a=t[o];o++)ee.isLeftRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:ee.isRightRoundedCorner(a)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:ee.isPreviousConnection(a)&&a instanceof ta?this.outlinePath_+=a.shape.pathLeft:ee.isHat(a)?this.outlinePath_+=this.constants_.START_HAT.path:ee.isSpacer(a)&&(this.outlinePath_+=Ve("h",a.width));this.outlinePath_+=Ve("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Ve("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const o=cr(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=Ve("H",t.xPos+t.width)+o+Ve("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var o=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+Ve("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var a=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Ve("H",o)+t+Ve("v",a)+this.constants_.INSIDE_CORNERS.pathBottom+Ve("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=Ve("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let o=0,a="";for(let d=t.length-1,m;m=t[d];d--)ee.isNextConnection(m)&&m instanceof ta?a+=m.shape.pathRight:ee.isLeftSquareCorner(m)?a+=Ve("H",e.xPos):ee.isLeftRoundedCorner(m)?a+=this.constants_.OUTSIDE_CORNERS.bottomLeft:ee.isRightRoundedCorner(m)?(a+=this.constants_.OUTSIDE_CORNERS.bottomRight,o=this.constants_.OUTSIDE_CORNERS.rightHeight):ee.isSpacer(m)&&(a+=Ve("h",-1*m.width));this.outlinePath_+=Ve("V",e.baseline-o),this.outlinePath_+=a}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=cr(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=Ve("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let o=0,a;a=t.elements[o];o++)ee.isInlineInput(a)?this.drawInlineInput_(a):(ee.isIcon(a)||ee.isField(a))&&this.layoutField_(a)}layoutField_(e){const t=e.centerline-e.height/2;let o=e.xPos;var a="";this.info_.RTL&&(o=-(o+e.width),e.flipRtl&&(o+=e.width,a="scale(-1 1)")),ee.isIcon(e)?(a=e.icon,a.setOffsetInBlock(new Ne(o,t)),this.info_.isInsertionMarker&&a.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+o+","+t+")"+a),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,o=e.height,a=e.connectionOffsetY,d=e.connectionHeight+a;this.inlinePath_+=Io(e.xPos+e.connectionWidth,e.centerline-o/2)+Ve("v",a)+e.shape.pathDown+Ve("v",o-d)+Ve("h",t-e.connectionWidth)+Ve("v",-o)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let o=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let o=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let o=e.xPos+e.width;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,o=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-o:o,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements)if(t instanceof ta)if(t.highlighted)this.drawConnectionHighlightPath(t);else{let o,a;(a=(o=this.block_.pathObject).removeConnectionHighlight)==null||a.call(o,t.connectionModel)}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===je.INPUT_VALUE||t.type===je.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const o=t.getSourceBlock();let a,d;(d=(a=o.pathObject).addConnectionHighlight)==null||d.call(a,t,e,t.getOffsetInBlock(),o.RTL)}getExpressionConnectionHighlightPath(e){let t="";return cr(e.shape)?t=e.shape.pathDown(e.height):Sr(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,qt(0,-e)+Ve("v",e)+t+Ve("v",e)}getStatementConnectionHighlightPath(e){if(!po(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return qt(-t,0)+Ve("h",t)+e.shape.pathLeft+Ve("h",t)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Ou=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==It.SKIP_SETUP&&(o?this.configure_(o):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&De(this.getTextElement(),this.class)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&ut(this.textElement_,this.class),e&&De(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Ft(e.text),void 0,e)}};Mr("field_label",Ou),Ou.prototype.DEFAULT_VALUE="";var Fs=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$input.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,o){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&o)&&(typeof t=="string"&&(t=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=o,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours())),e}removeField(e,t){for(let o=0,a;a=this.fieldRow[o];o++)if(a.name===e)return a.dispose(),this.fieldRow.splice(o,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let a=0,d;d=this.fieldRow[a];a++)d.setVisible(e);if(this.connection){var o=this.connection;e?t=o.startTrackingAll():o.stopTrackingAll(),(o=o.targetBlock())&&(o.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},pE;(function(e){e=e.Align||(e.Align={}),e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Fs||(Fs={})),n.Align$$module$build$src$core$inputs$input=Fs.Align,pE={Align:n.Align$$module$build$src$core$inputs$input},pE.Input=Fs;var Us=class extends Fs{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},oa=class extends Fs{constructor(e,t){super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},xn=class extends Fs{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(je.NEXT_STATEMENT)}},fE;n.ValueInput$$module$build$src$core$inputs$value_input=class extends Fs{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(je.INPUT_VALUE)}},fE={},fE.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var fh=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new dE(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new B$(this.constants_),this.bottomRow=new L$(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new D$(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let o=0,a;a=t[o];o++){const d=new aE(this.constants_,a);this.isCollapsed&&!a.isShownWhenCollapsed()||e.elements.push(d)}t=void 0;for(let o=0,a;a=this.block_.inputList[o];o++)if(a.isVisible()){this.shouldStartNewRow_(a,t)&&(this.rows.push(e),e=new D$(this.constants_),this.inputRows.push(e));for(let d=0,m;m=a.fieldRow[d];d++)e.elements.push(new ph(this.constants_,m,a));this.addInput_(a,e),t=a}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new cE(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let o=this.topRow.hasLeftSquareCorner(this.block_)?nf:rf;this.topRow.elements.push(new o(this.constants_)),t?(e=new N$(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new hE(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof xn&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,o=this.topRow.hasRightSquareCorner(this.block_)?nf:rf,this.topRow.elements.push(new o(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof xn?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new nf(this.constants_)):this.bottomRow.elements.push(new rf(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new uE(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new nf(this.constants_,"right")):this.bottomRow.elements.push(new rf(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new M$(this.constants_,e)),t.hasInlineInput=!0):e instanceof xn?(t.elements.push(new of(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new im(this.constants_,e)),t.hasExternalInput=!0):(e instanceof Us||e instanceof oa)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof oa||e instanceof xn||t instanceof xn?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Us||t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const o=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new An(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(let a=0;a<o.length-1;a++){t.elements.push(o[a]);const d=this.getInRowSpacing_(o[a],o[a+1]);t.elements.push(new An(this.constants_,d))}t.elements.push(o[o.length-1]),t.endsWithElemSpacer()&&t.elements.push(new An(this.constants_,this.getInRowSpacing_(o[o.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&ee.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&ee.isInput(e)&&!t){if(ee.isExternalInput(e))return this.constants_.NO_PADDING;if(ee.isInlineInput(e))return this.constants_.LARGE_PADDING;if(ee.isStatementInput(e))return this.constants_.NO_PADDING}return e&&ee.isLeftSquareCorner(e)&&t&&(ee.isPreviousConnection(t)||ee.isNextConnection(t))?t.notchOffset:e&&ee.isLeftRoundedCorner(e)&&t&&(ee.isPreviousConnection(t)||ee.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,o=0;for(let d=0,m;m=this.rows[d];d++){if(m.measure(),t=Math.max(t,m.width),m.hasStatement){var a=m.getLastInput();let C,G;a=m.width-((G=(C=a)==null?void 0:C.width)!=null?G:0),e=Math.max(e,a)}o=Math.max(o,m.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let d=0,m;m=this.rows[d];d++)m.hasStatement&&(m.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,o),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,o;o=this.rows[t];t++)if(o.hasStatement)this.alignStatementRow_(o);else{var e=o.width;e=this.getDesiredRowWidth_(o)-e,0<e&&this.addAlignmentPadding_(o,e),ee.isTopOrBottomRow(o)&&(o.widthWithConnectedBlocks=o.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const o=e.getFirstSpacer(),a=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===n.Align$$module$build$src$core$inputs$align.LEFT&&a)a.width+=t;else if(e.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&o&&a)o.width+=t/2,a.width+=t/2;else if(e.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&o)o.width+=t;else if(a)a.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var o=e.width-t.width,a=this.statementEdge;o=a-o,0<o&&this.addAlignmentPadding_(e,o),o=e.width,a=this.getDesiredRowWidth_(e),t.width+=a-o,t.height=Math.max(t.height,e.height),e.width+=a-o,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var o=this.getSpacerRowHeight_(e,t);const a=this.getSpacerRowWidth_(e,t);return o=new P$(this.constants_,o,a),e.hasStatement&&(o.followsStatement=!0),t.hasStatement&&(o.precedesStatement=!0),o}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return ee.isSpacer(t)?e.yPos+t.height/2:ee.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,ee.isNextConnection(t)?e+t.height/2:e-t.height/2):ee.isTopRow(e)?ee.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let o=0,a;a=e.elements[o];o++)ee.isSpacer(a)&&(a.height=e.height),a.xPos=t,a.centerline=this.getElemCenterline_(e,a),t+=a.width}finalize_(){let e=0,t=0;for(let o=0,a;a=this.rows[o];o++)a.yPos=t,a.xPos=this.startX,t+=a.height,e=Math.max(e,a.widthWithConnectedBlocks),this.recordElemPositions_(a);if(this.outputConnection&&this.block_.nextConnection){const o=this.block_.nextConnection.targetBlock();o&&(e=Math.max(e,o.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const o of this.rows)for(const a of o.elements)if(a instanceof ta&&a.connectionModel===e)return a;return null}},Re=class{constructor(e,t,o){if(this.wsCoordinate=null,!t)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=Re.isConnectionType(e),this.location=t,this.processParams(o||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const o=t.inputList[e],a=o.fieldRow;for(let d=0;d<a.length;d++){const m=a[d];if(m.isClickable()||Re.NAVIGATE_ALL_FIELDS)return Re.createFieldNode(m)}if(o.connection)return Re.createInputNode(o)}return null}findNextForField(){var e=this.location,t=e.getParentInput();const o=e.getSourceBlock();if(!o)throw Error("The current AST location is not associated with a block");var a=o.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;a<o.inputList.length;a++){t=o.inputList[a];const d=t.fieldRow;for(;e<d.length;){if(d[e].isClickable()||Re.NAVIGATE_ALL_FIELDS)return Re.createFieldNode(d[e]);e++}if(e=0,t.connection)return Re.createInputNode(t)}return null}findPrevForInput(){const e=this.location.getParentInput(),t=e.getSourceBlock();for(var o=t.inputList.indexOf(e);0<=o;o--){var a=t.inputList[o];if(a.connection&&a!==e)return Re.createInputNode(a);a=a.fieldRow;for(let d=a.length-1;0<=d;d--){const m=a[d];if(m.isClickable()||Re.NAVIGATE_ALL_FIELDS)return Re.createFieldNode(m)}}return null}findPrevForField(){var e=this.location;const t=e.getParentInput(),o=e.getSourceBlock();if(!o)throw Error("The current AST location is not associated with a block");var a=o.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=a;a--){var d=o.inputList[a];if(d.connection&&d!==t)return Re.createInputNode(d);for(d=d.fieldRow;-1<e;){if(d[e].isClickable()||Re.NAVIGATE_ALL_FIELDS)return Re.createFieldNode(d[e]);e--}0<=a-1&&(e=o.inputList[a-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var t=this.getLocation();if(t.getSourceBlock){var o=t.getSourceBlock();o&&(t=o)}if(!t||t.isDeadOrDying())return null;o=t.getRootBlock(),t=o.workspace.getTopBlocks(!0);for(let a=0;a<t.length;a++)if(o.id===t[a].id)return e=a+(e?1:-1),e===-1||e===t.length?null:Re.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}findTopASTNodeForBlock(e){const t=fr(e);return t?Re.createConnectionNode(t):Re.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const t=fr(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?Re.createInputNode(t.targetConnection.getParentInput()):Re.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let t=0;t<e.length;t++){const o=e[t],a=o.fieldRow;for(let d=0;d<a.length;d++){const m=a[d];if(m.isClickable()||Re.NAVIGATE_ALL_FIELDS)return Re.createFieldNode(m)}if(o.connection)return Re.createInputNode(o)}return null}getSourceBlock(){return this.getType()===Re.types.BLOCK?this.getLocation():this.getType()===Re.types.STACK?this.getLocation():this.getType()===Re.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case Re.types.STACK:return this.navigateBetweenStacks(!0);case Re.types.OUTPUT:return Re.createBlockNode(this.location.getSourceBlock());case Re.types.FIELD:return this.findNextForField();case Re.types.INPUT:return this.findNextForInput();case Re.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return Re.createConnectionNode(e);case Re.types.PREVIOUS:return Re.createBlockNode(this.location.getSourceBlock());case Re.types.NEXT:return Re.createConnectionNode(this.location.targetConnection)}return null}in(){switch(this.type){case Re.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return Re.createStackNode(e[0]);break;case Re.types.STACK:return this.findTopASTNodeForBlock(this.location);case Re.types.BLOCK:return this.findFirstFieldOrInput(this.location);case Re.types.INPUT:return Re.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case Re.types.STACK:return this.navigateBetweenStacks(!1);case Re.types.FIELD:return this.findPrevForField();case Re.types.INPUT:return this.findPrevForInput();case Re.types.BLOCK:var e=fr(this.location);if(!e)break;return Re.createConnectionNode(e);case Re.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return Re.createConnectionNode(e);break;case Re.types.NEXT:return Re.createBlockNode(this.location.getSourceBlock())}return null}out(){switch(this.type){case Re.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new Ne(t.x,t.y+Re.DEFAULT_OFFSET_Y),Re.createWorkspaceNode(e.workspace,t);case Re.types.OUTPUT:return e=this.location,(t=e.targetConnection)?Re.createConnectionNode(t):Re.createStackNode(e.getSourceBlock());case Re.types.FIELD:if(e=this.location.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return Re.createBlockNode(e);case Re.types.INPUT:return Re.createBlockNode(this.location.getSourceBlock());case Re.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case Re.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case Re.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case Re.types.PREVIOUS:case Re.types.NEXT:case Re.types.INPUT:case Re.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new Re(Re.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===je.INPUT_VALUE||t===je.NEXT_STATEMENT&&e.getParentInput()?Re.createInputNode(e.getParentInput()):t===je.NEXT_STATEMENT?new Re(Re.types.NEXT,e):t===je.OUTPUT_VALUE?new Re(Re.types.OUTPUT,e):t===je.PREVIOUS_STATEMENT?new Re(Re.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new Re(Re.types.INPUT,e.connection):null}static createBlockNode(e){return e?new Re(Re.types.BLOCK,e):null}static createStackNode(e){return e?new Re(Re.types.STACK,e):null}static createWorkspaceNode(e,t){return t&&e?new Re(Re.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=fr(e);return t?Re.createConnectionNode(t):Re.createBlockNode(e)}};Re.NAVIGATE_ALL_FIELDS=!1,Re.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(Re||(Re={}));var F$=class extends oi{constructor(e,t,o,a){let d=e?e.workspace.id:void 0;a&&a.getType()===Re.types.WORKSPACE&&(d=a.getLocation().id),super(d),this.type=xl,this.blockId=e==null?void 0:e.id,this.oldNode=o||void 0,this.newNode=a,this.isCursor=t}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new F$),t.isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};c(ke.EVENT,xl,F$);var WS="blocklyCursor",zS="blocklyMarker",jS=.75,U$=class{constructor(e,t,o){this.workspace=e,this.marker=o,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=o.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?WS:zS;return this.svgGroup_=le(V.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var o=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||o,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===Re.types.BLOCK?this.showWithBlock_(e):e.getType()===Re.types.OUTPUT?this.showWithOutput_(e):t===je.INPUT_VALUE?this.showWithInput_(e):t===je.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===Re.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===Re.types.FIELD?this.showWithField_(e):e.getType()===Re.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===Re.types.STACK&&this.showWithStack_(e)}showWithBlockPrevOutput(e){e=e.getSourceBlock();const t=e.width;var o=e.height,a=o*jS;const d=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(o=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,d,a,o)):e.outputConnection?(a=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,o,a)):this.positionBlock_(t,d,a),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const t=e.getSize().width,o=e.getSize().height;this.positionRect_(0,0,t,o),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let o=0;t=t.getOffsetInBlock().y;const a=e.getHeightWidth().width;this.workspace.RTL&&(o=-a),this.positionLine_(o,t,a),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var t=e.getHeightWidth();const o=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const a=-this.constants_.CURSOR_STACK_PADDING/2,d=-this.constants_.CURSOR_STACK_PADDING/2;let m=a;this.workspace.RTL&&(m=-(o+a)),this.positionRect_(m,d,o,t),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,o){if(e=qt(-t,o)+Ve("V",-t)+Ve("H",e+2*t)+Ve("V",o),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,o=e.getOffsetInBlock().y;e=Io(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+o+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,o){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${o}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,o){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=qt(e,0)+Ve("h",-(e-o.width))+Ve("v",this.constants_.TAB_OFFSET_FROM_TOP)+o.pathDown+Ve("V",t)+Ve("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,o,a){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=qt(-t,o)+Ve("V",-t)+Ve("H",this.constants_.NOTCH_OFFSET_LEFT)+a.pathLeft+Ve("H",e+2*t)+Ve("V",o),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,o,a){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${o}`),this.markerSvgRect_.setAttribute("height",`${a}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,t){const o=t.getSourceBlock();e=new(fe(xl))(o,this.isCursor(),e,t),Y(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=le(V.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=le(V.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=le(V.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=le(V.PATH,{transform:""},this.markerSvg_),this.markerBlock_=le(V.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();le(V.ANIMATE,e,this.markerSvgLine_),le(V.ANIMATE,e,this.markerInput_),le(V.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&st(this.svgGroup_)}},sm=class{constructor(e,t,o){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=o,this.style=t,this.svgRoot=e,this.svgPath=le(V.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?De(this.svgRoot,e):ut(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,o,a){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,o))return;this.removeConnectionHighlight(e)}t=le(V.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${o.x}, ${o.y})`+(a?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}currentHighlightMatchesNew(e,t,o){let a;const d=(a=this.connectionHighlights.get(e))==null?void 0:a.getAttribute("d");return e=this.highlightOffsets.get(e),d===t&&Ne.equals(e,o)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(st(t),this.connectionHighlights.delete(e))}},Bt=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const t=je.INPUT_VALUE,o=this.getSourceBlock();var a=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let d;if(this.isConnected()){const C=this.stashShadowState(),G=this.targetBlock();G.isShadow()?G.dispose(!1):(this.disconnectInternal(),d=G),this.applyShadowState(C)}let m;U()&&(m=new(fe(n.MOVE$$module$build$src$core$events$utils))(a),m.setReason(["connect"])),wp(this,e),a.setParent(o),m&&(m.recordNew(),Y(m)),d&&(e=this.type===t?d.outputConnection:d.previousConnection)&&((a=Bt.getConnectionForOrphanedConnection(a,e))?e.connect(a):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===je.INPUT_VALUE||this.type===je.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:o}=this.getParentAndChildConnections();if(!t||!o)throw Error("Source connection not connected.");const a=n.getGroup$$module$build$src$core$events$utils();a||n.setGroup$$module$build$src$core$events$utils(!0);let d;U()&&(d=new(fe(n.MOVE$$module$build$src$core$events$utils))(o.getSourceBlock()),d.setReason(["disconnect"]));const m=this.targetConnection;m&&(m.targetConnection=null),this.targetConnection=null,e&&o.getSourceBlock().setParent(null),d&&(d.recordNew(),Y(d)),o.getSourceBlock().isShadow()||t.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(a)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var o;return t=(o=e.getInput(t))==null?void 0:o.connection,o=this.targetBlock(),o&&o!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Kr(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?un(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let o=0;o<t.length;o++)if(t[o].connection===this){e=t[o];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let o=0,a;a=e.inputList[o];o++)if(a.connection===this){t=a;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))}createShadowBlock(e){var t=this.getSourceBlock();const o=this.getShadowState(),a=this.getShadowDom();if(t.isDeadOrDying()||!o&&!a)return null;if(o)return t=as(o,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(a){if(t=Ei(a,t.workspace),e)if(this.type===je.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===je.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Kr(e),this.shadowState=un(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===je.OUTPUT_VALUE)return Sd(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const o=t.getConnectionChecker();return e&&o.canConnect(t,e,!1)?e:null}};Bt.CAN_CONNECT=0,Bt.REASON_SELF_CONNECTION=1,Bt.REASON_WRONG_TYPE=2,Bt.REASON_TARGET_NULL=3,Bt.REASON_CHECKS_FAILED=4,Bt.REASON_DIFFERENT_WORKSPACES=5,Bt.REASON_SHADOW_PARENT=6,Bt.REASON_DRAG_CHECKS_FAILED=7,Bt.REASON_PREVIOUS_AND_OUTPUT=8;var Au="_TEMP_COLLAPSED_INPUT",lm="_TEMP_COLLAPSED_FIELD",XS={COLLAPSED_FIELD_NAME:lm,COLLAPSED_INPUT_NAME:Au},gE="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",ai=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,H(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){n.disable$$module$build$src$core$events$utils(),this.hidePreview(),n.enable$$module$build$src$core$events$utils();var{local:e,closest:t}=this.activeCandidate;if(e.connect(t),this.topBlock.rendered){const o=e.isSuperior()?t:e,a=this.topBlock.getRootBlock();kt().then(()=>{yi(o.getSourceBlock()),setTimeout(()=>{a.bringToFront()},0)})}}}update(e,t){const o=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!o,t))||this.shouldUpdatePreviews(o,e))&&(n.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(o),this.maybeShowPreview(o),n.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){var t=e.type;n.disable$$module$build$src$core$events$utils();let o;try{if(o=this.workspace.newBlock(t),o.setInsertionMarker(!0),e.saveExtraState){var a=e.saveExtraState(!0);a&&o.loadExtraState&&o.loadExtraState(a)}else if(e.mutationToDom){const d=e.mutationToDom();d&&o.domToMutation&&o.domToMutation(d)}for(t=0;t<e.inputList.length;t++){const d=e.inputList[t];if(d.name===Au)continue;const m=o.inputList[t];if(!m)throw Error(gE.replace("%1","an input"));for(a=0;a<d.fieldRow.length;a++){const C=d.fieldRow[a],G=m.fieldRow[a];if(!G)throw Error(gE.replace("%1","a field"));G.setValue(C.getValue())}}for(const d of o.getDescendants(!1))d.setInsertionMarker(!0);o.setCollapsed(e.isCollapsed()),o.setInputsInline(e.getInputsInline()),o.initSvg(),o.getSvgRoot().setAttribute("visibility","hidden")}finally{n.enable$$module$build$src$core$events$utils()}return o}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:o,closest:a}=this.activeCandidate;if(a===e.closest&&o===e.local)return!1;const d=o.x+t.x-a.x;return t=o.y+t.y-a.y,e.radius<Math.sqrt(d*d+t*t)-n.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),o=null;for(let a=0;a<this.availableConnections.length;a++){const d=this.availableConnections[a],m=d.closest(t,e);m.connection&&(o={closest:m.connection,local:d,radius:m.radius},t=m.radius)}return o}getStartRadius(){return this.activeCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return t&&this.workspace.getComponentManager().hasCapability(t.id,Ro.Capability.DELETE_AREA)?t.wouldDelete(this.topBlock,e):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t=e.closest,o;t===((o=this.activeCandidate)==null?void 0:o.closest)||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case ai.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case ai.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case ai.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=(e=this.activeCandidate)==null?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:o}=e;let a=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!a)throw Error("Cannot show the insertion marker because there is no insertion marker block");let d;try{d=a.getMatchingConnection(t.getSourceBlock(),t)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),a=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),a=this.firstMarker=this.createMarkerBlock(this.topBlock)),!a)throw Error("Cannot show the insertion marker because there is no insertion marker block");d=a.getMatchingConnection(t.getSourceBlock(),t)}if(!d)throw Error("Cannot show the insertion marker because there is no associated connection");if(d===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");a.queueRender(),Xr(),d.connect(o);const m={x:o.x-d.x,y:o.y-d.y},C=d.getOffsetInBlock().clone(),G=d;kt().then(()=>{let be;(be=a)==null||be.positionNearConnection(G,m,C);let We;(We=a)==null||We.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=d}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),o=t.outputConnection,a;if((a=t.previousConnection)!=null&&a.targetConnection||o!=null&&o.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){n.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{n.enable$$module$build$src$core$events$utils()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(ai||(ai={})),ai.PREVIEW_TYPE;var af=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const o=this.getConstants();o.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=o.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new sf}makeRenderInfo_(e){return new fh(this,e)}makeDrawer_(e,t){return new lf(e,t)}makeMarkerDrawer(e,t){return new U$(e,this.getConstants(),t)}makePathObject(e,t){return new sm(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,o){return!!Bt.getConnectionForOrphanedConnection(e,o===je.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,o){return Me("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===je.OUTPUT_VALUE||t.type===je.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(o,e.targetBlock(),t.type)?ai.PREVIEW_TYPE.INSERTION_MARKER:ai.PREVIEW_TYPE.REPLACEMENT_FADE:ai.PREVIEW_TYPE.INSERTION_MARKER}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},Wt={};Wt.BottomRow=L$,Wt.Connection=ta,Wt.ConstantProvider=sf,Wt.Drawer=lf,Wt.ExternalValueInput=im,Wt.Field=ph,Wt.Hat=N$,Wt.Icon=aE,Wt.InRowSpacer=An,Wt.InlineInput=M$,Wt.InputConnection=ac,Wt.InputRow=D$,Wt.JaggedEdge=cE,Wt.MarkerSvg=U$,Wt.Measurable=Bs,Wt.NextConnection=uE,Wt.OutputConnection=dE,Wt.PathObject=sm,Wt.PreviousConnection=hE,Wt.RenderInfo=fh,Wt.Renderer=af,Wt.RoundCorner=rf,Wt.Row=tf,Wt.SpacerRow=P$,Wt.SquareCorner=nf,Wt.StatementInput=of,Wt.TopRow=B$,Wt.Types=ee,Wt.init=Fa,Wt.register=ms,Wt.unregister=Ap;var mE=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&ut(e,t),(t=this.theme.getClassName())&&De(e,t));for(let o=0,a;a=this.subscribedWorkspaces_[o];o++)a.refreshTheme();for(const[o,a]of this.componentDB)for(const d of a){e=d.element,t=d.propertyName;const m=this.theme&&this.theme.getComponentStyle(o);e.style.setProperty(t,m||"")}for(const o of this.subscribedWorkspaces_)o.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!gt(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,o){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:o}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(o,t||"")}unsubscribe(e){if(e)for(const[t,o]of this.componentDB){for(let a=o.length-1;0<=a;a--)o[a].element===e&&o.splice(a,1);o.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},H$="VARIABLE_DYNAMIC",xu={CATEGORY_NAME:H$};xu.flyoutCategory=Cd,xu.flyoutCategoryBlocks=Pr,xu.onCreateVariableButtonClick_Colour=ou,xu.onCreateVariableButtonClick_Number=$s,xu.onCreateVariableButtonClick_String=Id;var $E=class{canConnect(e,t,o,a){return this.canConnectWithReason(e,t,o,a)===Bt.CAN_CONNECT}canConnectWithReason(e,t,o,a){const d=this.doSafetyChecks(e,t);return d!==Bt.CAN_CONNECT?d:this.doTypeChecks(e,t)?o&&!this.doDragChecks(e,t,a||0)?Bt.REASON_DRAG_CHECKS_FAILED:Bt.CAN_CONNECT:Bt.REASON_CHECKS_FAILED}getErrorMessage(e,t,o){switch(e){case Bt.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Bt.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Bt.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Bt.REASON_TARGET_NULL:return"Target connection is null.";case Bt.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+o.getCheck());case Bt.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Bt.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Bt.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return Bt.REASON_TARGET_NULL;let o,a,d;return e.isSuperior()?(o=e.getSourceBlock(),a=t.getSourceBlock(),d=t):(a=e.getSourceBlock(),o=t.getSourceBlock(),d=e,e=t),o===a?Bt.REASON_SELF_CONNECTION:d.type!==we[e.type]?Bt.REASON_WRONG_TYPE:o.workspace!==a.workspace?Bt.REASON_DIFFERENT_WORKSPACES:o.isShadow()&&!a.isShadow()?Bt.REASON_SHADOW_PARENT:d.type===je.OUTPUT_VALUE&&a.previousConnection&&a.previousConnection.isConnected()||d.type===je.PREVIOUS_STATEMENT&&a.outputConnection&&a.outputConnection.isConnected()?Bt.REASON_PREVIOUS_AND_OUTPUT:Bt.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let o=0;o<e.length;o++)if(t.indexOf(e[o])!==-1)return!0;return!1}doDragChecks(e,t,o){if(e.distanceFrom(t)>o||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case je.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case je.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case je.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case je.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return nr.indexOf(t)===-1}canConnectToPrevious_(e,t){return e.targetConnection||nr.indexOf(t)!==-1?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};c(ke.CONNECTION_CHECKER,Cr,$E);var G$=class extends Vi{constructor(e){super(e),this.type=_n,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new G$),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};c(ke.EVENT,_n,G$);var V$=class extends Vi{constructor(e,t){super(e),this.type=Ol,e&&(this.oldName=e.name,this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new V$),t.oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};c(ke.EVENT,Ol,V$);var W$=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var o=this.getVariable(t,e.type),a=this.workspace.getAllBlocks(!1),d=n.getGroup$$module$build$src$core$events$utils();d||n.setGroup$$module$build$src$core$events$utils(!0);try{o&&o.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,o,a):this.renameVariableAndUses_(e,t,a)}finally{n.setGroup$$module$build$src$core$events$utils(d)}}}renameVariableById(e,t){const o=this.getVariableById(e);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(o,t)}renameVariableAndUses_(e,t,o){for(Y(new(fe(Ol))(e,t)),e.name=t,t=0;t<o.length;t++)o[t].updateVarName(e)}renameVariableWithConflict_(e,t,o,a){const d=e.type;for(t!==o.name&&this.renameVariableAndUses_(o,t,a),t=0;t<a.length;t++)a[t].renameVarById(e.getId(),o.getId());Y(new(fe(_n))(e)),gt(this.variableMap.get(d),e)}createVariable(e,t,o){var a=this.getVariable(e,t);if(a){if(o&&a.getId()!==o)throw Error('Variable "'+e+'" is already in use and its id is "'+a.getId()+'" which conflicts with the passed in id, "'+o+'".');return a}if(o&&this.getVariableById(o))throw Error('Variable id, "'+o+'", is already in use.');return a=o||ge(),t=t||"",a=new Os(this.workspace,e,t,a),e=this.variableMap.get(t)||[],e.push(a),this.variableMap.delete(t),this.variableMap.set(t,e),Y(new(fe(Ni))(a)),a}deleteVariable(e){const t=e.getId(),o=this.variableMap.get(e.type);if(o){for(let a=0;a<o.length;a++)if(o[a].getId()===t){o.splice(a,1),Y(new(fe(_n))(e)),o.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var o=t.name;const a=this.getVariableUsesById(e);for(let d=0,m;m=a[d];d++)if(m.type==="procedures_defnoreturn"||m.type==="procedures_defreturn"){e=String(m.getFieldValue("NAME")),o=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",e),yc(o);return}1<a.length?(o=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(a.length)).replace("%2",o),To(o,d=>{d&&t&&this.deleteVariableInternal(t,a)})):this.deleteVariableInternal(t,a)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const o=n.getGroup$$module$build$src$core$events$utils();o||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let a=0;a<t.length;a++)t[a].dispose(!0);this.deleteVariable(e)}finally{n.setGroup$$module$build$src$core$events$utils(o)}}getVariable(e,t){if(t=this.variableMap.get(t||"")){for(let o=0,a;a=t[o];o++)if(n.Names$$module$build$src$core$names.equals(a.name,e))return a}return null}getVariableById(e){for(const t of this.variableMap.values())for(const o of t)if(o.getId()===e)return o;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const o of e.getPotentialVariableMap().variableMap.keys())t.add(o);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const t=[],o=this.workspace.getAllBlocks(!1);for(let a=0;a<o.length;a++){const d=o[a].getVarModels();if(d)for(let m=0;m<d.length;m++)d[m].getId()===e&&t.push(o[a])}return t}},cf=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new tE,this.potentialVariableMap=null,this.id=ge(),L(this),this.options=e||new si({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(R(ke.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new W$(this)}dispose(){this.listeners.length=0,this.clear(),A(this)}sortObjects_(e,t){const o=Math.sin(Sa(cf.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+o*e.x-(t.y+o*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!gt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){gt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter(function(o){return!o.isInsertionMarker()})):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!gt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let o=0;o<t.length;o++)e.push(...t[o].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(function(o){return!o.isInsertionMarker()})}clear(){this.isClearing=!0;try{const e=n.getGroup$$module$build$src$core$events$utils();for(e||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,o){return this.variableMap.createVariable(e,t,o)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const o in e){if(e[o]>this.remainingCapacityOfType(o))return!1;t+=e[o]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,o=e?this.undoStack_:this.redoStack_;const a=t.pop();if(a){for(var d=[a];t.length&&a.group&&a.group===t[t.length-1].group;){const m=t.pop();m&&d.push(m)}for(t=0;t<d.length;t++)o.push(d[t]);d=$e(d,e),me(!1);try{for(o=0;o<d.length;o++)d[o].run(e)}finally{me(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,he()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){gt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let o=0;o<t.length;o++)if(!t[o].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new W$(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return N(e)}static getAll(){return M()}};cf.SCAN_ANGLE=3;var YS=100,_E=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var o=new globalThis.Audio}catch{return}for(let d=0;d<e.length;d++){const m=e[d],C=m.match(/\.(\w+)$/);if(C&&o.canPlayType("audio/"+C[1])){var a=new globalThis.Audio(m);break}}a&&this.sounds.set(t,a)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),Pl||Hp)break}}play(e,t){if(!this.muted){var o=this.sounds.get(e);o?(e=new Date,this.lastSound_!==null&&e.getTime()-this.lastSound_.getTime()<YS||(this.lastSound_=e,o=Pl||Ya?o:o.cloneNode(),o.volume=t===void 0?1:t,o.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},KS=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e)),e=this.createLayer(T),De(e,"blocklyBlockCanvas"),e=this.createLayer(k),De(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=le(V.SVG,{class:"blocklyBlockDragSurface",xmlns:Ja,"xmlns:html":kr,"xmlns:xlink":Qt,version:"1.1"});return e.append(t),le(V.G,{},t)}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let o;(o=this.dragLayer)==null||o.setAttribute("transform",e);for(const[,a]of this.layers)a.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot())}moveOffDragLayer(e,t){this.append(e,t)}append(e,t){this.layers.has(t)||this.createLayer(t);let o;(o=this.layers.get(t))==null||o.appendChild(e.getSvgRoot())}createLayer(e){const t=this.workspace.getSvgGroup(),o=le(V.G,{});let a=!1;const d=[...this.layers].sort((m,C)=>m[0]-C[0]);for(const[m,C]of d)if(e<m){t.insertBefore(o,C),a=!0;break}return a||t.appendChild(o),this.layers.set(e,o),o}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(T)}getBubbleLayer(){return this.layers.get(k)}},JS=20,os=class extends cf{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(R(ke.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||os.setTopLevelWorkspaceMetrics_,this.componentManager=new Ro,this.connectionDBList=kn.init(this.connectionChecker),this.audioManager=new _E(e.parentWorkspace),this.grid=this.options.gridPattern?new C$(this.options.gridPattern,e.gridOptions):null,this.markerManager=new Zp(this),Wo&&Or&&this.registerToolboxCategoryCallback(yu,Or),xu&&Cd&&this.registerToolboxCategoryCallback(H$,Cd),Hr&&Qr&&(this.registerToolboxCategoryCallback(nm,Qr),this.addChangeListener(ki)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new mE(this,this.options.theme||Zg),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Fa(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new Xt(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Zg),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(t){return!!t.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(fe(vs))(this.getTheme().name,this.id);Y(e)}updateBlockStyles_(e){for(let t=0,o;o=e[t];t++){const a=o.getStyleName();a&&o.setStyle(a)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let t=0,o=0,a=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(a=this.scale);do{const d=lt(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(a=1),t+=d.x*a,o+=d.y*a,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Ne(t,o)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Xt(e.width,e.height)}getOriginOffsetInPixels(){return b(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=le(V.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=le(V.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new KS(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(Ie(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),Ie(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(R(ke.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=R(ke.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&st(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&st(e.parentNode)}this.resizeHandlerWrapper&&(He(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=os.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new th(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new si({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(R(ke.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(R(ke.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(Ro.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),o=[];for(let a=0,d;d=e[a];a++){d.position(t,o);const m=d.getBoundingRectangle();m&&o.push(m)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=q();Ne.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const o=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,o.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,o.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(U()){var e=this.scale,t=-this.scrollY,o=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(o-this.oldLeft))){var a=new(fe(Mi))(t,o,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=o,Y(a)}}}translate(e,t){let o;(o=this.layerManager)==null||o.translateLayers(new Ne(e,t),this.scale);let a;(a=this.grid)==null||a.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.isVisible_=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e||this.hideChaff(!0))}render(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].queueRender();if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].queueRender();kt().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,t){if(t===void 0){for(let o=0,a;a=this.highlightedBlocks[o];o++)a.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.indexOf(e)===-1&&this.highlightedBlocks.push(e):gt(this.highlightedBlocks,e),e.setHighlighted(t))}paste(e){if(Me("Blockly.WorkspaceSvg.prototype.paste","v10","v11","Blockly.clipboard.paste"),!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0);let o;try{o=e.type?this.pasteBlock_(null,e):e.tagName.toLowerCase()==="comment"?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null)}finally{n.setGroup$$module$build$src$core$events$utils(t)}return o}pasteBlock_(e,t){n.disable$$module$build$src$core$events$utils();let o;try{let a=0,d=0;if(e){o=Ei(e,this);let m;a=parseInt((m=e.getAttribute("x"))!=null?m:"0"),this.RTL&&(a=-a);let C;d=parseInt((C=e.getAttribute("y"))!=null?C:"0")}else t&&(o=Xn(t,this),a=t.x||10,this.RTL&&(a=this.getWidth()-a),d=t.y||10);if(!isNaN(a)&&!isNaN(d)){let m;do{m=!1;const C=this.getAllBlocks(!1);for(let G=0,be;be=C[G];G++){const We=be.getRelativeToSurfaceXY();if(1>=Math.abs(a-We.x)&&1>=Math.abs(d-We.y)){m=!0;break}}if(!m){const G=o.getConnections_(!1);for(let be=0,We;We=G[be];be++)if(We.closest(n.config$$module$build$src$core$config.snapRadius,new Ne(a,d)).connection){m=!0;break}}m&&(a=this.RTL?a-n.config$$module$build$src$core$config.snapRadius:a+n.config$$module$build$src$core$config.snapRadius,d+=2*n.config$$module$build$src$core$config.snapRadius)}while(m);o.moveTo(new Ne(a,d))}}finally{n.enable$$module$build$src$core$events$utils()}return U()&&!o.isShadow()&&Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(o)),o.select(),o}pasteWorkspaceComment_(e){n.disable$$module$build$src$core$events$utils();let t;try{t=No.fromXmlRendered(e,this);let o,a=parseInt((o=e.getAttribute("x"))!=null?o:"0"),d,m=parseInt((d=e.getAttribute("y"))!=null?d:"0");isNaN(a)||isNaN(m)||(this.RTL&&(a=-a),t.moveBy(a+50,m+50))}finally{n.enable$$module$build$src$core$events$utils()}return U()&&$r.fireCreateEvent(t),t.select(),t}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,o){return e=super.createVariable(e,t,o),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(Ro.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,o;o=e[t];t++){const a=o.getClientRect();a&&this.dragTargetAreas.push({component:o,clientRect:a})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,o;o=this.dragTargetAreas[t];t++)if(o.clientRect.contains(e.clientX,e.clientY))return o.component;return null}onMouseDown_(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){e=bt(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY=Ne.difference(t,e)}moveDrag(e){return e=bt(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,Ne.sum(this.dragDeltaXY,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(Ql.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||o){var a=ht(e);if(mu)var d=e.metaKey;t&&(e.ctrlKey||d||!o)?(a=-a.y/50,t=bt(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,a)):(t=this.scrollX-a.x,o=this.scrollY-a.y,e.shiftKey&&!a.x&&(t=this.scrollX-a.y,o=this.scrollY),this.scroll(t,o)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new Mt(0,0,0,0);const t=e[0].getBoundingRectangle();for(let a=1;a<e.length;a++){var o=e[a];o.isInsertionMarker&&o.isInsertionMarker()||(o=o.getBoundingRectangle(),o.top<t.top&&(t.top=o.top),o.bottom>t.bottom&&(t.bottom=o.bottom),o.left<t.left&&(t.left=o.left),o.right>t.right&&(t.right=o.right))}return t}cleanUp(){this.setResizesEnabled(!1),n.setGroup$$module$build$src$core$events$utils(!0);const e=this.getTopBlocks(!0);let t=0;for(let o=0,a;a=e[o];o++){if(!a.isMovable())continue;const d=a.getRelativeToSurfaceXY();a.moveBy(-d.x,t-d.y,["cleanup"]),a.snapToGrid(),t=a.getRelativeToSurfaceXY().y+a.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}n.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=St.registry.getContextMenuOptions(St.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),Yn(e,t,this.RTL)}}updateToolbox(e){if(e=jr(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Wu(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(W(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,o){o=Math.pow(this.options.zoomOptions.scaleSpeed,o);const a=this.scale*o;if(this.scale!==a){a>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale/this.scale:a<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale/this.scale);var d=this.getCanvas().getCTM(),m=this.getParentSvg().createSVGPoint();m.x=e,m.y=t,m=m.matrixTransform(d.inverse()),e=m.x,t=m.y,d=d.translate(e*(1-o),t*(1-o)).scale(o),this.scrollX=d.e,this.scrollY=d.f,this.setScale(a)}}zoomCenter(e){var t=this.getMetrics();let o;this.flyout?(o=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(o=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(o,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var o=this.getBlocksBoundingBox(),a=2*JS,d=o.right-o.left+a;if(o=o.bottom-o.top+a,d){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),o+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),d+=this.flyout.getWidth()/this.scale)),t/=d,e/=o,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){De(this.getCanvas(),"blocklyCanvasTransitioning"),De(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){ut(this.getCanvas(),"blocklyCanvasTransitioning"),ut(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,o=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,o=-o-e.scrollTop,this.scroll(t,o)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var o=e?this.getBlockById(e):null;if(o){e=o.getRelativeToSurfaceXY(),o=t?{height:o.height,width:o.width}:o.getHeightWidth();var a=this.scale;t=(e.x+(this.RTL?-1:1)*o.width/2)*a,e=(e.y+o.height/2)*a,o=this.getMetrics(),this.scroll(-(t-o.viewWidth/2),-(e-o.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const o=this.getMetrics();e=Math.min(e,-o.scrollLeft),t=Math.min(t,-o.scrollTop);const a=o.scrollTop+Math.max(0,o.scrollHeight-o.viewHeight);e=Math.max(e,-(o.scrollLeft+Math.max(0,o.scrollWidth-o.viewWidth))),t=Math.max(t,-a),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+o.scrollLeft),-(t+o.scrollTop),!1),e+=o.absoluteLeft,t+=o.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){gt(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t=e.type==="pointerdown",o=this.currentGesture_;return o?t&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:t?this.currentGesture_=new Ql(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){Nr(),Jr(),Lr(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(Ro.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics_(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},z$=class extends oi{constructor(e,t){super(t),this.type=Ll,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new z$),t.isOpen=e.isOpen,t}};c(ke.EVENT,Ll,z$);var j$=class extends ni{constructor(e){if(super(e),this.type=n.DELETE$$module$build$src$core$events$utils,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Yr(e),this.ids=Ee(e),this.wasShadow=e.isShadow(),this.oldJson=un(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=jn(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new j$),t.oldXml=n.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const o=this.ids[e],a=t.getBlockById(o);a?a.dispose(!1):o===this.blockId&&console.warn("Can't delete non-existent block: "+o)}else Xn(this.oldJson,t)}};c(ke.EVENT,n.DELETE$$module$build$src$core$events$utils,j$);var gh=class{constructor(e,t,o){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.isInsertionMarker_=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=e,this.id=o&&!e.getBlockById(o)?o:ge(),e.setBlockById(this.id,this),this.xy_=new Ne(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,o=jt[t],!o||typeof o!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,o)}e.addTopBlock(this),e.addTypedBlock(this),new.target===gh&&this.doInit_()}doInit_(){const e=n.getGroup$$module$build$src$core$events$utils();e||n.setGroup$$module$build$src$core$events$utils(!0);const t=ye();try{typeof this.init=="function"&&(me(!1),this.init(),me(t)),U()&&Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(this))}finally{n.setGroup$$module$build$src$core$events$utils(e),me(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),U()&&Y(new(fe(n.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal())}disposeInternal(){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0)}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(const e of this.inputList)for(const t of e.fieldRow)t.initModel&&t.initModel()}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let t=null,o;(o=this.outputConnection)!=null&&o.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e==null||e.onFailedConnect(t))}getOnlyValueConnection_(){let e=null;for(let t=0;t<this.inputList.length;t++){const o=this.inputList[t].connection;if(o&&o.type===je.INPUT_VALUE&&o.targetConnection){if(e)return null;e=o}}return e}unplugFromStack_(e){let t=null;var o;if((o=this.previousConnection)!=null&&o.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),o=this.getNextBlock(),e&&o&&!o.isShadow()){let a,d;e=(d=(a=this.nextConnection)==null?void 0:a.targetConnection)!=null?d:null,e==null||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,o;o=this.inputList[t];t++)o.connection&&e.push(o.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const o=t.targetBlock();if(!o||e&&o.isShadow())return t;t=o.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,o;o=this.inputList[t];t++)if(o.connection&&o.connection.targetBlock()===e)return o;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let o=0,a;a=this.inputList[o];o++)if(a.connection){var t=a.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),o=!!t;if(o&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!o&&e)throw Error("Block not connected to new parent.");if(o&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?gt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],o=this.getChildren(e);for(let a,d=0;a=o[d];d++)t.push(...a.getDescendants(e));return t}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(e){this.movable_=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(Q(this,!0)):!0}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(e){this.editable_=e;for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,t){const o=this.getConnections_(!0);if(e=e.getConnections_(!0),o.length!==e.length)throw Error("Connection lists did not match in length.");for(let a=0;a<e.length;a++)if(e[a]===t)return o[a];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return wa(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=yr(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)if(d.name===e)return d;return null}getVars(){const e=[];for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.referencesVariables()&&e.push(d.getValue());return e}getVarModels(){const e=[];for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)if(d.referencesVariables()){const m=this.workspace.getVariableById(d.getValue());m&&e.push(m)}return e}updateVarName(e){for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.referencesVariables()&&e.getId()===d.getValue()&&d.refreshVariableName()}renameVarById(e,t){for(let o=0,a;a=this.inputList[o];o++)for(let d=0,m;m=a.fieldRow[d];d++)m.referencesVariables()&&e===m.getValue()&&m.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const o=this.getField(t);if(!o)throw Error('Field "'+t+'" not found.');o.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(je.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(je.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(je.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Us&&this.inputList[e]instanceof Us)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof Us)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof oa)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(e){if(this.isEnabled()!==e){const t=this.disabled;this.disabled=!e,Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,t,!e))}}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let a=2;a<t.length;a++)t[a-2]==="("&&t[a]===")"&&(t[a-2]=t[a-1],t.splice(a-1,2));let o="";return t=t.reduce((a,d)=>(a=a+(o==="("||d===")"?"":" ")+d,o=d[d.length-1],a),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const a of this.inputList)if(a.name!=Au){for(const d of a.fieldRow)t.push(d.getText());if(a.connection){const d=a.connection.targetBlock();if(d){var o=a.connection;let m=o.getCheck();!m&&o.targetConnection&&(m=o.targetConnection.getCheck()),(o=!!m&&(m.indexOf("Boolean")!==-1||m.indexOf("Number")!==-1))&&t.push("("),t.push(...d.toTokens(e)),o&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new xn(e,this))}appendDummyInput(e=""){return this.appendInput(new Us(e,this))}appendEndRowInput(e=""){return this.appendInput(new oa(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=y(ke.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var o=0;e["args"+o];){if(e["message"+o]===void 0)throw Error(t+`args${o} must have a corresponding message (message${o}).`);o++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t),o=0;e["message"+o]!==void 0;)this.interpolate_(e["message"+o],e["args"+o]||[],e["implicitAlign"+o]||e["lastDummyAlign"+o],t),o++;if(e.inputsInline!==void 0&&(n.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),n.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(o=Ft(e.tooltip),this.setTooltip(o)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(o=Ft(e.helpUrl),this.setHelpUrl(o)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&Jt(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)Jt(e[t],this,!1)}jsonInitColour_(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle_(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const o in e)this[o]!==void 0&&t.push(o);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate_(e,t,o,a){e=hs(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,o),o=[];for(let d=0,m;m=t[d];d++)if(this.isInputKeyword_(m.type)){if(e=this.inputFromJson_(m,a)){for(let C=0,G;G=o[C];C++)e.appendField(G[0],G[1]);o.length=0}}else(e=this.fieldFromJson_(m))&&o.push([e,m.name])}validateTokens_(e,t){const o=[];let a=0;for(let d=0;d<e.length;d++){const m=e[d];if(typeof m=="number"){if(1>m||m>t)throw Error('Block "'+this.type+'": Message index %'+m+" out of range.");if(o[m])throw Error('Block "'+this.type+'": Message index %'+m+" duplicated.");o[m]=!0,a++}}if(a!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments_(e,t,o){const a=[];for(let m=0;m<e.length;m++){var d=e[m];if(typeof d=="number"&&(d=t[d-1]),typeof d=="string"){if(d===`
`)d={type:"input_end_row"},o&&(d.align=o);else if(d=this.stringToFieldJson_(d),!d)continue}a.push(d)}return(e=a.length)&&!this.isInputKeyword_(a[e-1].type)&&(e={type:"input_dummy"},o&&(e.align=o),a.push(e)),a}fieldFromJson_(e){const t=n.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}inputFromJson_(e,t){var o={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let a;switch(e.type){case"input_value":a=this.appendValueInput(e.name);break;case"input_statement":a=this.appendStatementInput(e.name);break;case"input_dummy":a=this.appendDummyInput(e.name);break;case"input_end_row":a=this.appendEndRowInput(e.name);break;default:a=this.appendInputFromRegistry(e.type,e.name)}return a?(e.check&&a.setCheck(e.check),e.align&&(o=o[e.align.toUpperCase()],o===void 0?console.warn(t+"Illegal align value: ",e.align):a.setAlign(o)),a):null}isInputKeyword_(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||_(ke.INPUT,e)}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var o=-1,a=t?-1:this.inputList.length;for(let d=0,m;m=this.inputList[d];d++)if(m.name===e){if(o=d,a!==-1)break}else if(t&&m.name===t&&(a=d,o!==-1))break;if(o===-1)throw Error('Named input "'+e+'" not found.');if(a===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(o,a)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const o=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,o)}removeInput(e,t){for(let o=0,a;a=this.inputList[o];o++)if(a.name===e)return a instanceof xn&&this.statementInputCount--,a.dispose(),this.inputList.splice(o,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,o;o=this.inputList[t];t++)if(o.name===e)return o;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(Ur.TYPE))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let o;const a=(o=(t=this.getIcon(Ur.TYPE))==null?void 0:t.getText())!=null?o:null;a!==e&&(e!==null?((t=this.getIcon(Ur.TYPE))||(t=this.addIcon(new Ur(this))),n.disable$$module$build$src$core$events$utils(),t.setText(e),n.enable$$module$build$src$core$events$utils()):this.removeIcon(Ur.TYPE),Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,a,e)))}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new sE(e);return this.icons.push(e),this.icons.sort((t,o)=>t.getWeight()-o.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(o=>!o.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof fo?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,t,o){if(this.parentBlock_)throw Error("Block has parent");const a=new(fe(n.MOVE$$module$build$src$core$events$utils))(this);o&&a.setReason(o),this.xy_.translate(e,t),a.recordNew(),Y(a)}makeConnection_(e){return new Bt(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let o=0,a;a=this.inputList[o];o++)if(a.connection){var t=a.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};gh.COLLAPSED_INPUT_NAME=Au,gh.COLLAPSED_FIELD_NAME=lm;var TE=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},X$=class extends TE{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===Re.types.NEXT||e.getType()===Re.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===Re.types.PREVIOUS||e.getType()===Re.types.OUTPUT)&&(e=e.next());let t,o;return(e=(o=(t=e)==null?void 0:t.in())!=null?o:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===Re.types.NEXT||e.getType()===Re.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===Re.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};c(ke.CURSOR,Cr,X$);var uf=class extends X${constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const o=e.in()||e.next();return t(o)?o:o?this.getNextNode_(o,t):(e=this.findSiblingOrParent(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)}getPreviousNode_(e,t){if(!e)return null;let o=e.prev();return o=o?this.getRightMostChild(o):e.out(),t(o)?o:o?this.getPreviousNode_(o,t):null}validNode_(e){let t=!1;return e=e&&e.getType(),(e===Re.types.OUTPUT||e===Re.types.INPUT||e===Re.types.FIELD||e===Re.types.NEXT||e===Re.types.PREVIOUS||e===Re.types.WORKSPACE)&&(t=!0),t}findSiblingOrParent(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};uf.registrationName="basicCursor",c(ke.CURSOR,uf.registrationName,uf);var EE=class extends uf{validNode_(e){let t=!1;const o=e&&e.getType();return e&&(e=e.getLocation(),o===Re.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},Y$=10,Gr=class extends Bt{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[we[t]],this.offsetInBlock=new Ne(0,0),this.trackedState=Gr.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Gr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e){if(!this.sourceBlock_.workspace.isDragging()){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var o=!1;if(!t.isMovable()){if(t=e.getSourceBlock().getRootBlock(),!t.isMovable())return;e=this,o=!0}var a=X()==t;a||t.addSelect();var d=e.x+n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*Y$)-this.x,m=e.y+n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*Y$)-this.y;o&&(m=-m),t.RTL&&(d=e.x-n.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*Y$)-this.x),t.moveBy(d,m,["bump"]),a||t.removeSelect()}}}moveTo(e,t){let o=!1;return this.trackedState===Gr.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Gr.TrackedState.TRACKED,o=!0):this.trackedState===Gr.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),o=!0),this.x=e,this.y=t,o}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=Ne.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Gr.TrackedState.TRACKED||!e&&this.trackedState===Gr.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Gr.TrackedState.TRACKED):(this.trackedState===Gr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Gr.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const o=e[t],a=o.getConnections_(!0);for(let d=0;d<a.length;d++)a[d].setTracking(!1);for(const d of o.getIcons())hn(d)&&d.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==je.INPUT_VALUE&&this.type!==je.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let o;t.isCollapsed()?(o=[],t.outputConnection&&o.push(t.outputConnection),t.nextConnection&&o.push(t.nextConnection),t.previousConnection&&o.push(t.previousConnection)):o=t.getConnections_(!0);for(let a=0;a<o.length;a++)e.push(...o[a].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(ye()){const o=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(n.setGroup$$module$build$src$core$events$utils(o),this.bumpAwayFrom(e),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:o}=this.getParentAndChildConnections();if(t&&o){var a=t.getSourceBlock(),d=o.getSourceBlock();super.disconnectInternal(e),a.rendered&&a.queueRender(),d.rendered&&(d.updateDisabled(),d.queueRender(),d.getSvgRoot().style.display="block")}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock();const o=t.rendered,a=e.rendered;o&&t.updateDisabled(),a&&e.updateDisabled(),o&&a&&(this.type===je.NEXT_STATEMENT||this.type===je.PREVIOUS_STATEMENT?e.queueRender():t.queueRender()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}setCheck(e){return super.setCheck(e),this.sourceBlock_.rendered&&this.sourceBlock_.queueRender(),this}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Gr||(Gr={})),Gr.TrackedState;var Hs=class extends gh{constructor(e,t,o){super(e,t,o),this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=this.rendered=!1,this.translation="",this.bumpNeighboursPid=0,this.dragging=!1,this.relativeCoords=new Ne(0,0),this.workspace=e,this.svgGroup_=le(V.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),e=this.pathObject.svgPath,e.tooltip=this,Vt(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let t=0,o;o=this.inputList[t];t++)o.init();for(var e of this.getIcons())e.initView(this.createIconPointerDownListener(e)),e.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||Ie(e,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(X()!==this){var e=null;if(X()){e=X().id,n.disable$$module$build$src$core$events$utils();try{X().unselect()}finally{n.enable$$module$build$src$core$events$utils()}}e=new(fe(ti))(e,this.id,this.workspace.id),Y(e),H(this),this.addSelect()}}unselect(){if(X()===this){var e=new(fe(ti))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,Y(e),H(null),this.removeSelect()}}setParent(e){const t=this.parentBlock_;if(e!==t){x(),super.setParent(e),K();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var a=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(o):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(o,e):this.workspace.getCanvas().appendChild(o),this.translate(a.x,a.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,o=0,a=this.getSvgRoot();if(a)do{const d=lt(a);t+=d.x,o+=d.y,a=a.parentNode}while(a&&!e.hasLayer(a));return new Ne(t,o)}moveBy(e,t,o){if(this.parentBlock_)throw Error("Block has parent");const a=U();let d=null;a&&(d=new(fe(n.MOVE$$module$build$src$core$events$utils))(this),o&&d.setReason(o)),e=new Ne(e,t),t=this.getRelativeToSurfaceXY(),e=Ne.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),a&&d&&(d.recordNew(),Y(d)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new Ne(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const o=this.getRelativeToSurfaceXY();this.moveBy(e.x-o.x,e.y-o.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),o=t/2,a=this.getRelativeToSurfaceXY();e=Math.round(Math.round((a.x-o)/t)*t+o-a.x),t=Math.round(Math.round((a.y-o)/t)*t+o-a.y),(e||t)&&this.moveBy(e,t,["snap"])}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();let o,a;return this.RTL?(o=e.x-t.width,a=e.x):(o=e.x,a=e.x+t.width),new Mt(e.y,e.y+t.height,o,a)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed_())}updateCollapsed_(){var e=this.isCollapsed();const t=Au,o=lm;for(let d=0,m;m=this.inputList[d];d++)m.name!==t&&m.setVisible(!e);for(var a of this.getIcons())a.updateCollapsed();e?(e=this.toString(Z),(a=this.getField(o))?a.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Ou(e),o)):(this.updateDisabled(),this.removeInput(t))}tab(e,t){const o=new EE;o.setCurNode(Re.createFieldNode(e)),e=o.getCurNode(),t?o.next():o.prev(),(t=o.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=St.registry.getContextMenuOptions(St.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(Yn(e,t,this.RTL),od(this))}updateComponentLocations(e){if(this.rendered){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(Ne.sum(e,t.relativeCoords))}}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const o of t.fieldRow)o.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",nr.push(...this.getConnections_(!0)),De(this.svgGroup_,"blocklyDragging")):(nr.length=0,ut(this.svgGroup_,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,t){this.isDeadOrDying()||(jc(),va(),t&&this.rendered&&(this.unplug(e),dd(this)),super.dispose(!!e),st(this.svgGroup_))}disposeInternal(){this.isDeadOrDying()||(super.disposeInternal(),this.rendered=!1,X()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose()))}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:rc.TYPE,blockState:un(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:Q(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let t=0,o;o=this.inputList[t];t++)for(let a=0,d;d=o.fieldRow[a];a++)d.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}getCommentIcon(){Me("getCommentIcon","v10","v11","getIcon");let e;return(e=this.getIcon(Ur.TYPE))!=null?e:null}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var o of this.warningTextDb.values())clearTimeout(o);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),o=this.getIcon(ts.TYPE),e){let a=this.getSurroundParent(),d=null;for(;a;)a.isCollapsed()&&(d=a),a=a.getSurroundParent();d&&d.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Hs.COLLAPSED_WARNING_ID),o?o.addMessage(e,t):this.addIcon(new ts(this).addMessage(e,t))}else o&&(t?(o.addMessage("",t),o.getText()||this.removeIcon(ts.TYPE)):this.removeIcon(ts.TYPE))}setMutator(e){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof ts&&(this.warning=e),e instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),this.rendered&&(e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),Xr(),this.bumpNeighbours()),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(ts.TYPE)&&(this.warning=null),e.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.rendered&&(this.queueRender(),Xr(),this.bumpNeighbours()),t}setEnabled(e){this.isEnabled()!==e&&(super.setEnabled(e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(e){this.rendered&&this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(e=!1){let t=this;if(!t.isDeadOrDying())do{const o=t.getSvgRoot(),a=o.parentNode,d=a.childNodes;if(d[d.length-1]!==o&&a.appendChild(o),e)break;t=t.getParent()}while(t)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setNextStatement(e,t){super.setNextStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setOutput(e,t){super.setOutput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setInputsInline(e){super.setInputsInline(e),this.rendered&&(this.queueRender(),this.bumpNeighbours())}removeInput(e,t){return e=super.removeInput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}appendInput(e){return super.appendInput(e),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var o=this.inputList[t].connection;o&&(o.setTracking(e),(o=o.targetBlock())&&o.setConnectionTracking(e))}}getConnections_(e){const t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(let o=0,a;a=this.inputList[o];o++)a.connection&&t.push(a.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Gr(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){if(!this.bumpNeighboursPid){var e=n.getGroup$$module$build$src$core$events$utils();this.bumpNeighboursPid=setTimeout(()=>{const t=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(e),this.getRootBlock().bumpNeighboursInternal(),n.setGroup$$module$build$src$core$events$utils(t),this.bumpNeighboursPid=0},n.config$$module$build$src$core$config.bumpDelay)}}bumpNeighboursInternal(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let o;(o=t.targetBlock())==null||o.bumpNeighboursInternal()}for(const o of t.neighbours(n.config$$module$build$src$core$config.snapRadius))o.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&o.isConnected()||(t.isSuperior()?o.bumpAwayFrom(t):t.bumpAwayFrom(o)))}}scheduleSnapAndBump(){const e=n.getGroup$$module$build$src$core$events$utils();setTimeout(()=>{n.setGroup$$module$build$src$core$events$utils(e),this.snapToGrid(),n.setGroup$$module$build$src$core$events$utils(!1)},n.config$$module$build$src$core$config.bumpDelay/2),this.bumpNeighbours()}positionNearConnection(e,t,o){if(e.type===je.NEXT_STATEMENT||e.type===je.INPUT_VALUE){let a=t.x;t=t.y,a+=o.x-e.getOffsetInBlock().x,t+=o.y-e.getOffsetInBlock().y,this.moveBy(a,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return kc(this)}render(){this.queueRender(),Xr()}renderEfficiently(){this.rendered=!0,x(),this.isCollapsed()&&this.updateCollapsed_(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),K(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Zp.LOCAL_MARKER).draw();for(const e of this.inputList)for(const t of e.fieldRow)t.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var o=this.getNextBlock();if(o){o=o.getHeightWidth();const a=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=o.height-a,t=Math.max(t,o.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}};Hs.INLINE=-1,Hs.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var bE=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},am=class extends bE{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e,t){return e instanceof Hs?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},yE=class extends am{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new si({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===dt.TOP?dt.BOTTOM:dt.TOP,this.flyout=new(R(ke.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===dt.RIGHT?dt.LEFT:dt.RIGHT,this.flyout=new(R(ke.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=le(V.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=le(V.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),le(V.RECT,{width:mh,height:cm,y:$h},e);const o=le(V.IMAGE,{width:Jo.width,x:-K$,height:Jo.height,y:-J$,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return o.setAttributeNS(Qt,"xlink:href",this.workspace.options.pathToMedia+Jo.url),e=le(V.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),le(V.RECT,{width:mh,height:$h},e),this.svgLid=le(V.IMAGE,{width:Jo.width,x:-K$,height:Jo.height,y:-J$,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(Qt,"xlink:href",this.workspace.options.pathToMedia+Jo.url),ft(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),ft(this.svgGroup,"pointerup",this,this.click),ft(o,"pointerover",this,this.mouseOver),ft(o,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(zt(this.flyout.createDom(V.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[Ro.Capability.AUTOHIDEABLE,Ro.Capability.DELETE_AREA,Ro.Capability.DRAG_TARGET,Ro.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&st(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(o){return JSON.parse(o)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let o;(o=this.flyout)==null||o.show(e),t.cursor="";let a;(a=this.workspace.scrollbar)==null||a.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var o=Ec(this.workspace,e);e=Tc(o,new Xt(mh,cm+$h),qS,vE,e,this.workspace),t=bc(e,vE,o.vertical===ri.TOP?Gi.DOWN:Gi.UP,t),this.top=t.top,this.left=t.left;var a;(a=this.svgGroup)==null||a.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new Mt(this.top,this.top+cm+$h,this.left,this.left+mh)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+J$-um;return e=e.left+K$-um,new Mt(t,t+$h+cm+2*um,e,e+mh+2*um)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=eI;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*IE),t=SE+this.lidOpen*(tI-SE),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),ZS/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===dt.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let o;(o=this.svgLid)==null||o.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:mh-4)+","+($h-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*IE)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(fe(Ll))(e,this.workspace.id),Y(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==n.DELETE$$module$build$src$core$events$utils||e.type!==n.DELETE$$module$build$src$core$events$utils||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),this.contents.indexOf(e)===-1){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(QS)}}}cleanBlockJson(e){function t(o){if(o){if(delete o.id,delete o.x,delete o.y,delete o.enabled,o.icons&&o.icons.comment){var a=o.icons.comment;delete a.height,delete a.width,delete a.pinned}a=o.inputs;for(var d in a){var m=a[d];const C=m.block;m=m.shadow,C&&t(C),m&&t(m)}o.next&&(d=o.next,o=d.block,d=d.shadow,o&&t(o),d&&t(d))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},mh=47,cm=44,$h=16,vE=20,qS=20,um=10,K$=0,J$=32,QS=.1,ZS=80,eI=4,SE=.4,tI=.8,IE=45,Ht=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(let o=0;o<t.length;o++)this.addKeyMapping(t[o],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,o){e=`${e}`;const a=this.keyMap.get(e);if(a&&!o)throw Error(`Shortcut named "${t}" collides with shortcuts "${a}"`);a&&o?a.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,o){const a=this.keyMap.get(e);if(!a)return o||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const d=a.indexOf(t);return-1<d?(a.splice(d,1),a.length===0&&this.keyMap.delete(e),!0):(o||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,o]of this.keyMap)e[t]=o;return e}getRegistry(){const e=Object.create(null);for(const[t,o]of this.shortcuts)e[t]=o;return qr(Object.create(null),e)}onKeyDown(e,t){var o=this.serializeKeyEvent_(t);if(o=this.getShortcutNamesByKeyCode(o),!o)return!1;for(let a=0,d;d=o[a];a++){const m=this.shortcuts.get(d);let C,G;if((C=m)==null||!C.preconditionFn||(G=m)!=null&&G.preconditionFn(e)){let be,We;if((be=m)!=null&&be.callback&&((We=m)!=null&&We.callback(e,t,m)))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[o,a]of this.keyMap)-1<a.indexOf(e)&&t.push(o);return t}serializeKeyEvent_(e){let t="";for(const o in Ht.modifierKeys)e.getModifierState(o)&&(t!==""&&(t+="+"),t+=o);return t!==""&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers_(e){for(let t=0,o;o=e[t];t++)if(!(o in Ht.modifierKeys))throw Error(o+" is not a valid modifier key.")}createSerializedKey(e,t){let o="";if(t){this.checkModifiers_(t);for(const a in Ht.modifierKeys)-1<t.indexOf(Ht.modifierKeys[a])&&(o!==""&&(o+="+"),o+=a)}return o!==""&&e?o=o+"+"+e:e&&(o=`${e}`),o}};Ht.registry=new Ht,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(Ht||(Ht={}));var Gs;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(Gs||(Gs={}));var df=null,dm=null;Ir();var Vs={};Vs.names=Gs,Vs.registerCopy=ru,Vs.registerCut=nu,Vs.registerDefaultShortcuts=Ir,Vs.registerDelete=Ts,Vs.registerEscape=Ua,Vs.registerPaste=iu,Vs.registerRedo=Es,Vs.registerUndo=su;var oI=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=Ns}save(e){return e=e.getProcedureMap().getProcedures().map(t=>Ri(t)),e.length?e:null}load(e,t){const o=t.getProcedureMap();for(const a of e)o.add(kd(this.procedureModelClass,this.parameterModelClass,a,t))}clear(e){e.getProcedureMap().clear()}},_h={};_h.ProcedureSerializer=oI,_h.loadParameter=gn,_h.loadProcedure=kd,_h.saveParameter=lu,_h.saveProcedure=Ri;var CE=class{constructor(){this.priority=rh}save(e){const t=[];for(const o of e.getAllVariables())e={name:o.name,id:o.getId()},o.type&&(e.type=o.type),t.push(e);return t.length?t:null}load(e,t){for(const o of e)t.createVariable(o.name,o.type,o.id)}clear(e){e.getVariableMap().clear()}};Ea("variables",new CE);var kE={};kE.VariableSerializer=CE;var q$={};q$.load=Rd,q$.save=wi;var rI={blocks:zl,exceptions:Ls,priorities:Wl,procedures:_h,registry:ih,variables:kE,workspaces:q$},Q$=class{constructor(e,t,o,a,d){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,o=o===void 0?!0:o;const m=t&&o;t&&(this.hScroll=new vo(e,!0,m,a,d)),o&&(this.vScroll=new vo(e,!1,m,a,d)),m&&(this.corner_=le(V.RECT,{height:vo.scrollbarThickness,width:vo.scrollbarThickness,class:"blocklyScrollbarBackground"}),zt(this.corner_,e.getBubbleCanvas()))}dispose(){st(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,o=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(o=!0)):o=t=!0,t||o){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&o&&this.vScroll.resize(e)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let a;(a=this.corner_)==null||a.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let a;(a=this.corner_)==null||a.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,o){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(o||o===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},Z$=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,o=0;return e&&(t=e.getWidth(),o=e.getHeight()),new Xt(t,o)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const o=this.getToolboxMetrics(),a=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var m;const C=!((m=this.workspace_.getFlyout())!=null&&m.autoClose);m=d?o.position:a.position;const G=m===dt.TOP;return m===dt.LEFT&&(d&&(e+=o.width),C&&(e+=a.width)),G&&(d&&(t+=o.height),C&&(t+=a.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),o=this.getToolboxMetrics(),a=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var m;const C=!((m=this.workspace_.getFlyout())!=null&&m.autoClose);m=d?o.position:a.position;const G=m===dt.LEFT||m===dt.RIGHT;return(m===dt.TOP||m===dt.BOTTOM)&&(d&&(t.height-=o.height),C&&(t.height-=a.height)),G&&(d&&(t.width-=o.width),C&&(t.width-=a.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),o=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const a={};return o||(a.top=e.top,a.bottom=e.top+e.height),t||(a.left=e.left,a.right=e.left+e.width),a}getPaddedContent_(e,t){const o=t.top+t.height,a=t.left+t.width,d=e.width;e=e.height;const m=d/2,C=e/2;return{top:Math.min(t.top-C,o-e),bottom:Math.max(o+C,t.top+e),left:Math.min(t.left-m,a-d),right:Math.max(a+m,t.left+d)}}getScrollMetrics(e,t,o){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var a=o||this.getContentMetrics();o=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,a),a=o.top!==void 0?o.top:t.top;const d=o.left!==void 0?o.left:t.left;return{top:a/e,left:d/e,width:((o.right!==void 0?o.right:t.right)-d)/e,height:((o.bottom!==void 0?o.bottom:t.bottom)-a)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),o=this.getSvgMetrics(),a=this.getAbsoluteMetrics(),d=this.getViewMetrics(),m=this.getContentMetrics(),C=this.getScrollMetrics(!1,d,m);return{contentHeight:m.height,contentWidth:m.width,contentTop:m.top,contentLeft:m.left,scrollHeight:C.height,scrollWidth:C.width,scrollTop:C.top,scrollLeft:C.left,viewHeight:d.height,viewWidth:d.width,viewTop:d.top,viewLeft:d.left,absoluteTop:a.top,absoluteLeft:a.left,svgHeight:o.height,svgWidth:o.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};c(ke.METRICS_MANAGER,Cr,Z$);var RE=class extends Pi{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Ml,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};c(ke.EVENT,Ml,RE);var e_=class extends oi{constructor(e,t,o){super(e?e.workspace.id:void 0),this.type=ei,e&&(this.blockId=e.id,this.isStart=t,this.blocks=o)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new e_),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};c(ke.EVENT,ei,e_);var hm={};hm.bumpIntoBounds=El,hm.bumpIntoBoundsHandler=mn,hm.bumpTopObjectsIntoBounds=bl;var wE=class{constructor(e,t){this.connectionCandidate=this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.dragIconData_=[],this.draggingBlock_=e,this.workspace_=t,this.connectionPreviewer=new(R(ke.CONNECTION_PREVIEWER,this.workspace_.options))(e),this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=wd(e,this.startXY_)}dispose(){this.dragIconData_.length=0,this.connectionPreviewer.dispose()}startDrag(e,t){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent_(),this.draggingBlock_.bringToFront(!0),x(),this.workspace_.setResizesEnabled(!1),vi(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0);let o;(o=this.workspace_.getLayerManager())==null||o.moveToDragLayer(this.draggingBlock_)}shouldDisconnect_(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=Ne.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),Vc(this.draggingBlock_)}fireDragStartEvent_(){const e=new(fe(ei))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));Y(e)}drag(e,t){const o=this.draggingBlock_;this.moveBlock(o,t),this.updateDragTargets(e,o),this.wouldDeleteBlock_=this.wouldDeleteBlock(e,o,t),this.updateCursorDuringBlockDrag_(),this.updateConnectionPreview(o,t)}moveBlock(e,t){t=this.pixelsToWorkspaceUnits_(t),t=Ne.sum(this.startXY_,t),e.moveDuringDrag(t)}updateDragTargets(e,t){if(e=this.workspace_.getDragTarget(e),this.dragTarget_!==e){let o;(o=this.dragTarget_)==null||o.onDragExit(t),e==null||e.onDragEnter(t)}e==null||e.onDragOver(t),this.dragTarget_=e}wouldDeleteBlock(e,t,o){return(e=this.workspace_.getDragTarget(e))&&this.workspace_.getComponentManager().hasCapability(e.id,Ro.Capability.DELETE_AREA)?e.wouldDelete(t,!!this.getConnectionCandidate(t,o)):!1}updateConnectionPreview(e,t){t=this.pixelsToWorkspaceUnits_(t);const o=this.connectionCandidate,a=this.getConnectionCandidate(e,t);if(a){this.connectionCandidate=t=o&&this.currCandidateIsBetter(o,t,a)?o:a;var{local:d,neighbour:m}=t;d.type!==je.OUTPUT_VALUE&&d.type!==je.PREVIOUS_STATEMENT||!m.isConnected()||m.targetBlock().isInsertionMarker()||this.orphanCanConnectAtEnd(e,m.targetBlock(),d.type)?this.connectionPreviewer.previewConnection(d,m):this.connectionPreviewer.previewReplacement(d,m,m.targetBlock())}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,t,o){return!!Bt.getConnectionForOrphanedConnection(e,o===je.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,o){const{local:a,neighbour:d}=e;e=new Ne(a.x,a.y);const m=new Ne(d.x,d.y);return t=Ne.distance(Ne.sum(e,t),m),o.distance>t-n.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let o=this.connectionCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius,a=null;for(const d of e){const{connection:m,radius:C}=d.closest(o,t);m&&(a={local:d,neighbour:m,distance:C},o=C)}return a}getLocalConnections(e){const t=e.getConnections_(!1),o=e.lastConnectionInStack(!0);return o&&o!==e.nextConnection&&t.push(o),t}endDrag(e,t){if(this.drag(e,t),this.fireDragEndEvent_(),K(),vi(),this.connectionPreviewer.hidePreview(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)||(e=this.getNewLocationAfterDrag_(t).delta),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),!this.maybeDeleteBlock_()){let o;(o=this.workspace_.getLayerManager())==null||o.moveOffDragLayer(this.draggingBlock_,T),this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_():El(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)}this.connectionPreviewer.dispose(),this.workspace_.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(!1)}getNewLocationAfterDrag_(e){e=this.pixelsToWorkspaceUnits_(e);const t=Ne.sum(this.startXY_,e);return{delta:e,newLocation:t}}maybeDeleteBlock_(){return this.wouldDeleteBlock_?(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),nr.length=0,!0):!1}updateBlockAfterMove_(){this.fireMoveEvent_(),this.connectionCandidate?this.applyConnections(this.connectionCandidate):this.draggingBlock_.queueRender(),this.draggingBlock_.scheduleSnapAndBump()}applyConnections(e){const{local:t,neighbour:o}=e;if(t.connect(o),this.draggingBlock_.rendered){const a=t.isSuperior()?o:t,d=this.draggingBlock_.getRootBlock();kt().then(()=>{yi(a.getSourceBlock()),setTimeout(()=>{d.bringToFront()},0)})}}fireDragEndEvent_(){const e=new(fe(ei))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));Y(e)}updateToolboxStyle_(e){const t=this.workspace_.getToolbox();if(t){const o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&typeof t.removeStyle=="function"?t.removeStyle(o):e||typeof t.addStyle!="function"||t.addStyle(o)}}fireMoveEvent_(){if(!this.draggingBlock_.isDeadOrDying()){var e=new(fe(n.MOVE$$module$build$src$core$events$utils))(this.draggingBlock_);e.setReason(["drag"]),e.oldCoordinate=this.startXY_,e.recordNew(),Y(e)}}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(e){return e=new Ne(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}dragIcons_(){Me("Blockly.BlockDragger.prototype.dragIcons_","v10","v11")}getInsertionMarkers(){return this.workspace_.getAllBlocks().filter(e=>e.isInsertionMarker())}};c(ke.BLOCK_DRAGGER,Cr,wE);var hf={};hf.Bubble=Ut,hf.MiniWorkspaceBubble=Zl,hf.TextBubble=O$,hf.TextInputBubble=rE;var t_=class extends ni{constructor(e,t,o,a){super(e),this.type=Li,this.recordUndo=!1,e&&(this.name=t,this.oldValue=o,this.newValue=a)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new t_),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};c(ke.EVENT,Li,t_);var o_=class extends ni{constructor(e){super(e),this.type=n.MOVE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new o_),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(o=e.oldCoordinate.split(","),t.oldCoordinate=new Ne(Number(o[0]),Number(o[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(o=e.newCoordinate.split(","),t.newCoordinate=new Ne(Number(o[0]),Number(o[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const o=t.getParent();return o?(e.parentId=o.id,(t=o.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Ne.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var o=t.getBlockById(this.blockId);if(o){var a=e?this.newParentId:this.oldParentId,d=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,a){var m=t.getBlockById(a);if(!m){console.warn("Can't connect to non-existent block: "+a);return}}if(o.getParent()&&o.unplug(),e)d=o.getRelativeToSurfaceXY(),o.moveBy(e.x-d.x,e.y-d.y,this.reason);else{t=o.outputConnection,(!t||o.previousConnection&&o.previousConnection.isConnected())&&(t=o.previousConnection);let C,G;o=(G=t)==null?void 0:G.type,d?(o=m.getInput(d))&&(C=o.connection):o===je.PREVIOUS_STATEMENT&&(C=m.nextConnection),C&&t?t.connect(C):console.warn("Can't connect to non-existent input: "+d)}}else console.warn("Can't move non-existent block: "+this.blockId)}};c(ke.EVENT,n.MOVE$$module$build$src$core$events$utils,o_);var r_=class extends oi{constructor(e,t,o){super(e?e.workspace.id:void 0),this.type=En,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=o)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new r_),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},n_;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(n_||(n_={})),c(ke.EVENT,En,r_);var cc=class extends Pi{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=ye())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new cc),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){var o=e.getEventWorkspace_();if(t){if(t=n.createElement$$module$build$src$core$utils$xml("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),n.domToWorkspace$$module$build$src$core$xml(t,o)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(o=o.getCommentById(e.commentId))?o.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}},i_=class extends cc{constructor(e,t,o){super(e),this.type=za,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof o>"u"?"":o)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new i_),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var o=e?this.newContents_:this.oldContents_;if(!o)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setContent(o)}else console.warn("Can't change non-existent comment: "+this.commentId)}};c(ke.EVENT,za,i_);var s_=class extends cc{constructor(e){super(e),this.type=Di,e&&(this.xml=e.toXmlWithXY())}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=jn(this.xml),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new s_),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t}run(e){cc.CommentCreateDeleteHelper(this,e)}};c(ke.EVENT,Di,s_);var l_=class extends cc{constructor(e){super(e),this.type=Ss,e&&(this.xml=e.toXmlWithXY())}run(e){cc.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=jn(this.xml),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new l_),t.xml=n.textToDom$$module$build$src$core$utils$xml(e.xml),t}};c(ke.EVENT,Ss,l_);var a_=class extends cc{constructor(e){super(e),this.type=bn,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new a_),o=e.oldCoordinate.split(","),t.oldCoordinate_=new Ne(Number(o[0]),Number(o[1])),o=e.newCoordinate.split(","),t.newCoordinate_=new Ne(Number(o[0]),Number(o[1])),t}isNull(){return Ne.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var o=t.getRelativeToSurfaceXY();t.moveBy(e.x-o.x,e.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};c(ke.EVENT,bn,a_);var c_=class extends oi{constructor(e,t,o){super(o),this.type=Nl,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,o){return t=super.fromJson(e,t,o??new c_),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};c(ke.EVENT,Nl,c_),n.CHANGE$$module$build$src$core$events$utils,n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,n.CHANGE$$module$build$src$core$events$utils,n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils;var Ye={};Ye.Abstract=Pi,Ye.BLOCK_CHANGE=n.CHANGE$$module$build$src$core$events$utils,Ye.BLOCK_CREATE=n.CREATE$$module$build$src$core$events$utils,Ye.BLOCK_DELETE=n.DELETE$$module$build$src$core$events$utils,Ye.BLOCK_DRAG=ei,Ye.BLOCK_FIELD_INTERMEDIATE_CHANGE=Li,Ye.BLOCK_MOVE=n.MOVE$$module$build$src$core$events$utils,Ye.BUBBLE_OPEN=En,Ye.BUMP_EVENTS=Xd,Ye.BlockBase=ni,Ye.BlockChange=wu,Ye.BlockCreate=Jp,Ye.BlockDelete=j$,Ye.BlockDrag=e_,Ye.BlockFieldIntermediateChange=t_,Ye.BlockMove=o_,Ye.BubbleOpen=r_,Ye.BubbleType=n_,Ye.CHANGE=n.CHANGE$$module$build$src$core$events$utils,Ye.CLICK=Tn,Ye.COMMENT_CHANGE=za,Ye.COMMENT_CREATE=Di,Ye.COMMENT_DELETE=Ss,Ye.COMMENT_MOVE=bn,Ye.CREATE=n.CREATE$$module$build$src$core$events$utils,Ye.Click=Np,Ye.ClickTarget=Mp,Ye.CommentBase=cc,Ye.CommentChange=i_,Ye.CommentCreate=s_,Ye.CommentDelete=l_,Ye.CommentMove=a_,Ye.DELETE=n.DELETE$$module$build$src$core$events$utils,Ye.FINISHED_LOADING=Ml,Ye.FinishedLoading=RE,Ye.MARKER_MOVE=xl,Ye.MOVE=n.MOVE$$module$build$src$core$events$utils,Ye.MarkerMove=F$,Ye.SELECTED=ti,Ye.Selected=In,Ye.THEME_CHANGE=vs,Ye.TOOLBOX_ITEM_SELECT=Nl,Ye.TRASHCAN_OPEN=Ll,Ye.ThemeChange=sh,Ye.ToolboxItemSelect=c_,Ye.TrashcanOpen=z$,Ye.UI=Al,Ye.UiBase=oi,Ye.VAR_CREATE=Ni,Ye.VAR_DELETE=_n,Ye.VAR_RENAME=Ol,Ye.VIEWPORT_CHANGE=Mi,Ye.VarBase=Vi,Ye.VarCreate=Wi,Ye.VarDelete=G$,Ye.VarRename=V$,Ye.ViewportChange=lh,Ye.clearPendingUndo=he,Ye.disable=n.disable$$module$build$src$core$events$utils,Ye.disableOrphans=Ue,Ye.enable=n.enable$$module$build$src$core$events$utils,Ye.filter=$e,Ye.fire=Y,Ye.fromJson=Ae,Ye.get=fe,Ye.getDescendantIds=Ee,Ye.getGroup=n.getGroup$$module$build$src$core$events$utils,Ye.getRecordUndo=ye,Ye.isEnabled=U,Ye.setGroup=n.setGroup$$module$build$src$core$events$utils,Ye.setRecordUndo=me;var OE=class extends sf{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&st(this.selectedGlowFilter),this.replacementGlowFilter&&st(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,o=So("c",[Ze(25,-e),Ze(71,-e),Ze(t,0)]);return{height:e,width:t,path:o}}makeHexagonal(){function e(o,a,d){var m=o/2;return m=m>t?t:m,d=d?-1:1,o=(a?-1:1)*o/2,pn(-d*m,o)+pn(d*m,o)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(o){return o/=2,o>t?t:o},height(o){return o},connectionOffsetY(o){return o/2},connectionOffsetX(o){return-o},pathDown(o){return e(o,!1,!1)},pathUp(o){return e(o,!0,!1)},pathRightDown(o){return e(o,!1,!0)},pathRightUp(o){return e(o,!1,!0)}}}makeRounded(){function e(a,d,m){const C=a>o?a-o:0;a=(a>o?o:a)/2;const G=m===d?"0":"1";return oo("a","0 0,"+G,a,Ze((m?1:-1)*a,(d?-1:1)*a))+Ve("v",(d?-1:1)*C)+oo("a","0 0,"+G,a,Ze((m?-1:1)*a,(d?-1:1)*a))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width(a){return a/=2,a>t?t:a},height(a){return a},connectionOffsetY(a){return a/2},connectionOffsetX(a){return-a},pathDown(a){return e(a,!1,!1)},pathUp(a){return e(a,!0,!1)},pathRightDown(a){return e(a,!1,!0)},pathRightUp(a){return e(a,!1,!0)}}}makeSquared(){function e(o,a,d){o-=2*t;const m=d===a?"0":"1";return oo("a","0 0,"+m,t,Ze((d?1:-1)*t,(a?-1:1)*t))+Ve("v",(a?-1:1)*o)+oo("a","0 0,"+m,t,Ze((d?-1:1)*t,(a?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(o){return t},height(o){return o},connectionOffsetY(o){return o/2},connectionOffsetX(o){return-o},pathDown(o){return e(o,!1,!1)},pathUp(o){return e(o,!0,!1)},pathRightDown(o){return e(o,!1,!0)},pathRightUp(o){return e(o,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case je.INPUT_VALUE:case je.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.indexOf("Boolean")!==-1?this.HEXAGONAL:t&&t.indexOf("Number")!==-1?this.ROUNDED:(t&&t.indexOf("String"),this.ROUNDED);case je.PREVIOUS_STATEMENT:case je.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(We){return So("c",[Ze(We*d/2,0),Ze(We*d*3/4,C/2),Ze(We*d,C)])+Ba([Ze(We*d,m)])+So("c",[Ze(We*d/4,C/2),Ze(We*d/2,C),Ze(We*d,C)])+Ve("h",We*a)+So("c",[Ze(We*d/2,0),Ze(We*d*3/4,-(C/2)),Ze(We*d,-C)])+Ba([Ze(We*d,-m)])+So("c",[Ze(We*d/4,-(C/2)),Ze(We*d/2,-C),Ze(We*d,-C)])}const t=this.NOTCH_WIDTH,o=this.NOTCH_HEIGHT,a=t/3,d=a/3,m=o/2,C=m/2,G=e(1),be=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:o,pathLeft:G,pathRight:be}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=oo("a","0 0,0",e,Ze(-e,e)),o=oo("a","0 0,1",e,Ze(-e,e)),a=oo("a","0 0,0",e,Ze(e,e)),d=oo("a","0 0,1",e,Ze(e,e));return{width:e,height:e,pathTop:t,pathBottom:a,rightWidth:e,rightHeight:e,pathTopRight:o,pathBottomRight:d}}generateSecondaryColour_(e){return Si("#000",e,.15)||e}generateTertiaryColour_(e){return Si("#000",e,.25)||e}createDom(e,t,o){super.createDom(e,t,o),e=le(V.DEFS,{},e),t=le(V.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),le(V.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),o=le(V.FECOMPONENTTRANSFER,{result:"outBlur"},t),le(V.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),le(V.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),le(V.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=le(V.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),le(V.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=le(V.FECOMPONENTTRANSFER,{result:"outBlur"},e),le(V.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),le(V.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),le(V.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),le(V.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},AE=class extends lf{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(ee.isSpacer(e)){const a=e.precedesStatement;var t=e.followsStatement;if(a||t){const d=this.constants_.INSIDE_CORNERS;var o=d.rightHeight;o=e.height-(a?o:0),t=t?d.pathBottomRight:"",e=0<o?Ve("V",e.yPos+o):"",this.outlinePath_+=t+e+(a?d.pathTopRight:"");return}}this.outlinePath_+=Ve("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=qt(e.xPos,this.info_.startY),this.outlinePath_+=Ve("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=Ve("V",e.baseline),this.outlinePath_+=Ve("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=Io(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-2*e.connectionWidth,o=e.height;return Ve("h",t)+e.shape.pathRightDown(o)+Ve("h",-t)+e.shape.pathUp(o)+"z"}drawStatementInput_(e){var t=e.getLastInput();const o=t.xPos+t.notchOffset+t.shape.width,a=this.constants_.INSIDE_CORNERS,d=t.shape.pathRight+Ve("h",-(t.notchOffset-a.width))+a.pathTop,m=e.height-2*a.height;t=a.pathBottom+Ve("h",t.notchOffset-a.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=Ve("H",o)+d+Ve("v",m)+t+Ve("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===je.NEXT_STATEMENT||t.type===je.PREVIOUS_STATEMENT||t.type===je.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=t.type===je.INPUT_VALUE?Io(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):Io(e.width,-e.height/2)+e.shape.pathDown(e.height);var o=t.getSourceBlock(),a,d;(d=(a=o.pathObject).addConnectionHighlight)==null||d.call(a,t,e,t.getOffsetInBlock(),o.RTL)}}},Lu=class extends It{constructor(e,t,o,a,d,m,C){if(super(It.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",o=Number(Ft(o)),t=Number(Ft(t)),isNaN(o)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=o||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Xt(t,o+Lu.Y_PADDING),this.imageHeight=o,typeof d=="function"&&(this.clickHandler=d),e!==It.SKIP_SETUP&&(C?this.configure_(C):(this.flipRtl=!!m,this.altText=Ft(a)||""),this.setValue(Ft(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Ft(e.alt))}initView(){this.imageElement=le(V.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(Qt,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(Qt,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Lu.Y_PADDING=1,Mr("field_image",Lu),Lu.prototype.DEFAULT_VALUE="";var pf=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new co;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new co;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&U()&&Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new co;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(ut(e,"blocklyInvalidInput"),eo(e,no.INVALID,!1)):(De(e,"blocklyInvalidInput"),eo(e,no.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new co;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&($u||Ya||Pl)?this.showPromptEditor_():this.showInlineEditor_(t)}showPromptEditor_(){vc(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor_(e){const t=this.getSourceBlock();if(!t)throw new co;Zu(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new co;n.setGroup$$module$build$src$core$events$utils(!0);const t=cl();var o=this.getClickTarget_();if(!o)throw Error("A click target has not been set.");De(o,"editing"),o=document.createElement("input"),o.className="blocklyHtmlInput",o.setAttribute("spellcheck",this.spellcheck_);const a=this.workspace_.getScale();var d=this.getConstants().FIELD_TEXT_FONTSIZE*a+"pt";return t.style.fontSize=d,o.style.fontSize=d,d=pf.BORDERRADIUS*a+"px",this.isFullBlockField()&&(d=this.getScaledBBox(),d=(d.bottom-d.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,o.style.border=1*a+"px solid "+e,t.style.borderRadius=d,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*a+"px")),o.style.borderRadius=d,t.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(o),o}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&U()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(Y(new(fe(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=cl().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");ut(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=Ie(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=Ie(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(He(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(He(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(Jr(),Lr()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Jr(),Lr()):e.key==="Tab"&&(Jr(),Lr(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&U()&&this.value_!==e&&Y(new(fe(Li))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new co;const t=cl(),o=this.getScaledBBox();t.style.width=o.right-o.left+"px",t.style.height=o.bottom-o.top+"px",e=new Ne(e.RTL?o.right-t.offsetWidth:o.left,o.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}repositionForWindowResize(){const e=this.getSourceBlock();return e instanceof Hs?(El(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),e)||this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};pf.BORDERRADIUS=4;var Th=class extends pf{constructor(e,t,o){super(e,t,o)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Ft(e.text),void 0,e)}};Mr("field_input",Th),Th.prototype.DEFAULT_VALUE="";var xE=class extends L${constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},pm=class extends of{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},LE=class extends Bs{constructor(e){super(e),this.width=this.height=0,this.type|=ee.getType("RIGHT_CONNECTION")}},NE=class extends B${constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},ME=class extends fh{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new NE(this.constants_),this.bottomRow=new xE(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new LE(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof oa||e instanceof xn||t instanceof xn?!0:e instanceof n.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Us||e instanceof oa?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&ee.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&ee.isLeftRoundedCorner(e)&&t&&(ee.isPreviousConnection(t)||ee.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&ee.isLeftSquareCorner(e)&&t&&ee.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(ee.isTopRow(e)&&ee.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const o=ee.isInputRow(e)&&e.hasStatement,a=ee.isInputRow(t)&&t.hasStatement;return a||o?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),a&&o?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):ee.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):ee.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const o=this.width-this.startX;return ee.isInputRow(e)&&e.hasStatement||ee.isInputRow(t)&&t.hasStatement?Math.max(o,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):o}getElemCenterline_(e,t){if(e.hasStatement&&!ee.isSpacer(t)&&!ee.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(ee.isInlineInput(t)&&t instanceof ac){const o=t.connectedBlock;if(o&&o.outputConnection&&o.nextConnection)return e.yPos+o.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof Us||e instanceof oa)&&t.hasDummyInput&&t.align===n.Align$$module$build$src$core$inputs$align.LEFT&&e.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof xn){t.elements.push(new pm(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let o;for(let a=0;a<e.elements.length;a++){const d=e.elements[a];if(ee.isSpacer(d)&&(o=d),ee.isField(d)&&d instanceof ph&&d.parentInput===this.rightAlignedDummyInputs.get(e))break}if(o){o.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let d=2;d<this.rows.length-1;d+=2){var o=this.rows[d-1];const m=this.rows[d];var a=this.rows[d+1];if(o=d===2?!!this.topRow.hasPreviousConnection:!!o.followsStatement,a=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!a.precedesStatement,ee.isInputRow(m)&&m.hasStatement){m.measure();let C,G;t=m.width-((G=(C=m.getLastInput())==null?void 0:C.width)!=null?G:0)+e}else if(o&&(d===2||a)&&ee.isInputRow(m)&&!m.hasStatement){a=m.xPos,o=null;for(let C=0;C<m.elements.length;C++){const G=m.elements[C];ee.isSpacer(G)&&(o=G),o&&(ee.isField(G)||ee.isInput(G))&&a<t&&!(ee.isField(G)&&G instanceof ph&&(G.field instanceof Ou||G.field instanceof Lu))&&(o.width+=t-a),a+=G.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,o=0;o<this.rows.length;o++){const a=this.rows[o];a.yPos=t,t+=a.height}this.height=t,o=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(o),o=e.width(o),this.outputConnection.height=t,this.outputConnection.width=o,this.outputConnection.startX=o,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(o),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=o,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=o,this.width+=o+e,this.widthWithChildren+=o+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var o=this.rows[t];if(!ee.isInputRow(o))continue;e=o.elements[o.elements.length-2];let a=this.getNegativeSpacing_(o.elements[1]),d=this.getNegativeSpacing_(e);e=a+d;const m=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<m&&(e=this.width-m,a=e/2,d=e/2),o.elements.unshift(new An(this.constants_,-a)),o.elements.push(new An(this.constants_,-d))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)o=this.rows[t],ee.isTopOrBottomRow(o)&&(o.elements[1].width-=e),o.width-=e,o.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var o=this.outputConnection.shape.type;const a=this.constants_;if(1<this.inputRows.length)switch(o){case a.SHAPES.ROUND:return o=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=this.height/2>o?o:this.height/2,t-o*(1-Math.sin(Math.acos((o-this.constants_.SMALL_PADDING)/o)));default:return 0}if(ee.isInlineInput(e)&&e instanceof ac){const d=e.connectedBlock;return e=d?d.pathObject.outputShapeType:e.shape.type,e==null||d&&d.outputConnection&&(d.statementInputCount||d.nextConnection)||o===a.SHAPES.HEXAGONAL&&o!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[o][e]}return ee.isField(e)&&e instanceof ph?o===a.SHAPES.ROUND&&e.field instanceof Th?t-2.75*a.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[o][0]:ee.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let a=2;a<this.rows.length-1;a+=2){const d=this.rows[a-1],m=this.rows[a],C=this.rows[a+1];var e=a===2,t=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!C.precedesStatement;if(e?this.topRow.hasPreviousConnection:d.followsStatement){var o=m.elements[1];if(o=m.elements.length===3&&o instanceof ph&&(o.field instanceof Ou||o.field instanceof Lu),!e&&o)d.height-=this.constants_.SMALL_PADDING,C.height-=this.constants_.SMALL_PADDING,m.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)d.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<m.elements.length;t++)if(o=m.elements[t],o instanceof ac&&ee.isInlineInput(o)&&o.connectedBlock&&!o.connectedBlock.isShadow()&&40<=o.connectedBlock.getHeightWidth().height){e=!0;break}e&&(d.height-=this.constants_.SMALL_PADDING,C.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},DE=class extends U${constructor(e,t,o){super(e,t,o),this.markerCircle=null}showWithInputOutput(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){e=e.getLocation();const t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,t){let o;(o=this.markerCircle)==null||o.setAttribute("cx",`${e}`);let a;(a=this.markerCircle)==null||a.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=le(V.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();le(V.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let t;(t=this.markerCircle)==null||t.setAttribute("fill",this.colour_);let o;if((o=this.markerCircle)==null||o.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let a;(a=this.markerCircle)==null||a.firstElementChild.setAttribute("values",e)}}},PE=class extends sm{constructor(e,t,o){super(e,t,o),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=o}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const o of this.outlines.values())o.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,le(V.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,o;(t=this.outlines.get(e))==null||(o=t.parentNode)==null||o.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},u_=class extends af{constructor(e){super(e)}makeConstants_(){return new OE}makeRenderInfo_(e){return new ME(this,e)}makeDrawer_(e,t){return new AE(e,t)}makeMarkerDrawer(e,t){return new DE(e,this.getConstants(),t)}makePathObject(e,t){return new PE(e,t,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,t,o){return Me("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===je.OUTPUT_VALUE?e.isConnected()?ai.PREVIEW_TYPE.REPLACEMENT_FADE:ai.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,o)}};ms("zelos",u_);var rs={};rs.BottomRow=xE,rs.ConstantProvider=OE,rs.Drawer=AE,rs.MarkerSvg=DE,rs.PathObject=PE,rs.RenderInfo=ME,rs.Renderer=u_,rs.RightConnectionShape=LE,rs.StatementInput=pm,rs.TopRow=NE,Ai();var Vr={};Vr.registerCleanup=Ad,Vr.registerCollapse=Ga,Vr.registerCollapseExpandBlock=Dd,Vr.registerComment=Md,Vr.registerDefaultOptions=Ai,Vr.registerDelete=Zr,Vr.registerDeleteAll=vl,Vr.registerDisable=Sl,Vr.registerDuplicate=Nd,Vr.registerExpand=xd,Vr.registerHelp=Il,Vr.registerInline=bs,Vr.registerRedo=Od,Vr.registerUndo=Ha;var vt=class extends pf{constructor(e,t,o){super(It.SKIP_SETUP),this.clockwise=vt.CLOCKWISE,this.offset=vt.OFFSET,this.wrap=vt.WRAP,this.round=vt.ROUND,this.boundEvents=[],this.symbol_=this.gauge=this.line=null,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){switch(super.configure_(e),e.mode){case fm.COMPASS:this.clockwise=!0,this.offset=90;break;case fm.PROTRACTOR:this.clockwise=!1,this.offset=0}e.clockwise&&(this.clockwise=e.clockwise),e.offset&&(this.offset=e.offset),e.wrap&&(this.wrap=e.wrap),e.round&&(this.round=e.round)}initView(){super.initView(),this.symbol_=le(V.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("°")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph()}showEditor_(e){super.showEditor_(e,$u||Ya||Pl),e=this.dropdownCreate(),pl().appendChild(e),this.sourceBlock_ instanceof Hs&&ld(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),Hc(this,this.dropdownDispose.bind(this)),this.updateGraph()}dropdownCreate(){const e=le(V.SVG,{xmlns:Ja,"xmlns:html":kr,"xmlns:xlink":Qt,version:"1.1",height:2*vt.HALF+"px",width:2*vt.HALF+"px"});e.style.touchAction="none";const t=le(V.CIRCLE,{cx:vt.HALF,cy:vt.HALF,r:vt.RADIUS,class:"blocklyAngleCircle"},e);this.gauge=le(V.PATH,{class:"blocklyAngleGauge"},e),this.line=le(V.LINE,{x1:vt.HALF,y1:vt.HALF,class:"blocklyAngleLine"},e);for(let o=0;360>o;o+=15)le(V.LINE,{x1:vt.HALF+vt.RADIUS,y1:vt.HALF,x2:vt.HALF+vt.RADIUS-(o%45===0?10:5),y2:vt.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+vt.HALF+","+vt.HALF+")"},e);return this.boundEvents.push(Ie(e,"click",this,this.hide)),this.boundEvents.push(Ie(t,"pointerdown",this,this.onMouseMove_,!0)),this.boundEvents.push(Ie(t,"pointermove",this,this.onMouseMove_,!0)),e}dropdownDispose(){for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.line=this.gauge=null}hide(){Ia(this),Jr()}onMouseMove_(e){var t=this.gauge.ownerSVGElement.getBoundingClientRect();const o=e.clientX-t.left-vt.HALF;e=e.clientY-t.top-vt.HALF,t=Math.atan(-e/o),isNaN(t)||(t=rd(t),0>o?t+=180:0<e&&(t+=360),t=this.clockwise?this.offset+360-t:360-(this.offset-t),this.displayMouseOrKeyboardValue(t))}displayMouseOrKeyboardValue(e){if(this.round&&(e=Math.round(e/this.round)*this.round),e=this.wrapValue(e),e!==this.value_){const t=this.value_;this.setEditorValue_(e,!1),this.sourceBlock_&&U()&&this.value_!==t&&Y(new(fe(Li))(this.sourceBlock_,this.name||null,t,this.value_))}}updateGraph(){if(this.gauge&&this.line){var e=Number(this.getText())+this.offset,t=Sa(e%360);e=["M ",vt.HALF,",",vt.HALF];var o=vt.HALF,a=vt.HALF;if(!isNaN(t)){const d=Number(this.clockwise),m=Sa(this.offset),C=Math.cos(m)*vt.RADIUS,G=Math.sin(m)*-vt.RADIUS;d&&(t=2*m-t),o+=Math.cos(t)*vt.RADIUS,a-=Math.sin(t)*vt.RADIUS,t=Math.abs(Math.floor((t-m)/Math.PI)%2),d&&(t=1-t),e.push(" l ",C,",",G," A ",vt.RADIUS,",",vt.RADIUS," 0 ",t," ",d," ",o,",",a," z")}this.gauge.setAttribute("d",e.join("")),this.line.setAttribute("x2",`${o}`),this.line.setAttribute("y2",`${a}`)}}onHtmlInputKeyDown_(e){super.onHtmlInputKeyDown_(e);var t=this.getSourceBlock();if(!t)throw new co;let o=0;switch(e.key){case"ArrowLeft":o=t.RTL?1:-1;break;case"ArrowRight":o=t.RTL?-1:1;break;case"ArrowDown":o=-1;break;case"ArrowUp":o=1}o&&(t=this.getValue(),this.displayMouseOrKeyboardValue(t+o*this.round),e.preventDefault(),e.stopPropagation())}doClassValidation_(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue(e)}wrapValue(e){return e%=360,0>e&&(e+=360),e>this.wrap&&(e-=360),e}static fromJson(e){return new this(e.angle,void 0,e)}};vt.HALF=50,vt.RADIUS=vt.HALF-1,vt.CLOCKWISE=!1,vt.OFFSET=0,vt.WRAP=360,vt.ROUND=15,Mr("field_angle",vt),vt.prototype.DEFAULT_VALUE=0,ct(`
.blocklyAngleCircle {
  stroke: #444;
  stroke-width: 1;
  fill: #ddd;
  fill-opacity: 0.8;
}

.blocklyAngleMarks {
  stroke: #444;
  stroke-width: 1;
}

.blocklyAngleGauge {
  fill: #f88;
  fill-opacity: 0.8;
  pointer-events: none;
}

.blocklyAngleLine {
  stroke: #f00;
  stroke-width: 2;
  stroke-linecap: round;
  pointer-events: none;
}
`);var fm;(function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"})(fm||(fm={}));var Nu=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=Nu.CHECK_CHAR,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(Nu);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();De(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||Nu.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};Nu.CHECK_CHAR="✓",Mr("field_checkbox",Nu),Nu.prototype.DEFAULT_VALUE=!1;var Ln=class extends It{constructor(e,t,o){super(It.SKIP_SETUP),this.highlightedIndex=this.picker=null,this.boundEvents=[],this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles=this.colours=null,this.columns=0,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.colourOptions&&(this.colours=e.colourOptions),e.colourTitles&&(this.titles=e.colourTitles),e.columns&&(this.columns=e.columns)}initView(){this.size_=new Xt(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1",this.getBorderRect().setAttribute("stroke","#fff"),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new co;const t=this.getConstants();return e.isSimpleReporter()&&!(t==null||!t.FIELD_COLOUR_FULL_BLOCK)}applyColour(){const e=this.getSourceBlock();if(!e)throw new co;if(this.fieldGroup_){var t=this.borderRect_;if(!t)throw Error("The border rect has not been initialized");this.isFullBlockField()?(t.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getValue()),e.pathObject.svgPath.setAttribute("stroke","#fff")):(t.style.display="block",t.style.fill=this.getValue())}}getSize(){let e;return(e=this.getConstants())!=null&&e.FIELD_COLOUR_FULL_BLOCK&&(this.render_(),this.isDirty_=!1),super.getSize()}render_(){super.render_();const e=this.getSourceBlock();if(!e)throw new co;e.applyColour()}updateSize_(e){var t=this.getConstants();this.isFullBlockField()?(e=2*(e??0),t=t.FIELD_TEXT_HEIGHT):(e=t.FIELD_COLOUR_DEFAULT_WIDTH,t=t.FIELD_COLOUR_DEFAULT_HEIGHT),this.size_.height=t,this.size_.width=e,this.positionBorderRect_()}doClassValidation_(e){return typeof e!="string"?null:ds(e)}getText(){let e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}setColours(e,t){return this.colours=e,t&&(this.titles=t),this}setColumns(e){return this.columns=e,this}showEditor_(){this.dropdownCreate(),pl().appendChild(this.picker),Hc(this,this.dropdownDispose.bind(this)),this.picker.focus({preventScroll:!0})}onClick(e){e=(e=e.target)&&e.getAttribute("data-colour"),e!==null&&(this.setValue(e),Ia(this))}onKeyDown(e){let t=!0;var o;switch(e.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":(o=this.getHighlighted())&&(o=o.getAttribute("data-colour"),o!==null&&this.setValue(o)),Lr();break;default:t=!1}t&&e.stopPropagation()}moveHighlightBy(e,t){if(this.highlightedIndex){var o=this.colours||Ln.COLOURS,a=this.columns||Ln.COLUMNS,d=this.highlightedIndex%a,m=Math.floor(this.highlightedIndex/a);d+=e,m+=t,0>e?0>d&&0<m?(d=a-1,m--):0>d&&(d=0):0<e?d>a-1&&m<Math.floor(o.length/a)-1?(d=0,m++):d>a-1&&d--:0>t?0>m&&(m=0):0<t&&m>Math.floor(o.length/a)-1&&(m=Math.floor(o.length/a)-1),this.setHighlightedCell(this.picker.childNodes[m].childNodes[d],m*a+d)}}onMouseMove(e){const t=(e=e.target)&&Number(e.getAttribute("data-index"));t!==null&&t!==this.highlightedIndex&&this.setHighlightedCell(e,t)}onMouseEnter(){let e;(e=this.picker)==null||e.focus({preventScroll:!0})}onMouseLeave(){var e;(e=this.picker)==null||e.blur(),(e=this.getHighlighted())&&ut(e,"blocklyColourHighlighted")}getHighlighted(){if(!this.highlightedIndex)return null;const e=this.columns||Ln.COLUMNS,t=this.picker.childNodes[Math.floor(this.highlightedIndex/e)];return t?t.childNodes[this.highlightedIndex%e]:null}setHighlightedCell(e,t){const o=this.getHighlighted();o&&ut(o,"blocklyColourHighlighted"),De(e,"blocklyColourHighlighted"),this.highlightedIndex=t,(e=e.getAttribute("id"))&&this.picker&&eo(this.picker,no.ACTIVEDESCENDANT,e)}dropdownCreate(){const e=this.columns||Ln.COLUMNS,t=this.colours||Ln.COLOURS,o=this.titles||Ln.TITLES,a=this.getValue(),d=document.createElement("table");d.className="blocklyColourTable",d.tabIndex=0,d.dir="ltr",dn(d,_r.GRID),eo(d,no.EXPANDED,!0),eo(d,no.ROWCOUNT,Math.floor(t.length/e)),eo(d,no.COLCOUNT,e);let m;for(let C=0;C<t.length;C++){C%e===0&&(m=document.createElement("tr"),dn(m,_r.ROW),d.appendChild(m));const G=document.createElement("td");m.appendChild(G),G.setAttribute("data-colour",t[C]),G.title=o[C]||t[C],G.id=oe(),G.setAttribute("data-index",`${C}`),dn(G,_r.GRIDCELL),eo(G,no.LABEL,t[C]),eo(G,no.SELECTED,t[C]===a),G.style.backgroundColor=t[C],t[C]===a&&(G.className="blocklyColourSelected",this.highlightedIndex=C)}this.boundEvents.push(Ie(d,"pointerdown",this,this.onClick,!0)),this.boundEvents.push(Ie(d,"pointermove",this,this.onMouseMove,!0)),this.boundEvents.push(Ie(d,"pointerenter",this,this.onMouseEnter,!0)),this.boundEvents.push(Ie(d,"pointerleave",this,this.onMouseLeave,!0)),this.boundEvents.push(Ie(d,"keydown",this,this.onKeyDown,!1)),this.picker=d}dropdownDispose(){for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.highlightedIndex=this.picker=null}static fromJson(e){return new this(e.colour,void 0,e)}};Ln.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Ln.TITLES=[],Ln.COLUMNS=7,Ln.prototype.DEFAULT_VALUE=Ln.COLOURS[0],Mr("field_colour",Ln),ct(`
.blocklyColourTable {
  border-collapse: collapse;
  display: block;
  outline: none;
  padding: 1px;
}

.blocklyColourTable>tr>td {
  border: 0.5px solid #888;
  box-sizing: border-box;
  cursor: pointer;
  display: inline-block;
  height: 20px;
  padding: 0;
  width: 20px;
}

.blocklyColourTable>tr>td.blocklyColourHighlighted {
  border-color: #eee;
  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);
  position: relative;
}

.blocklyColourSelected, .blocklyColourSelected:hover {
  border-color: #eee !important;
  outline: 1px solid #333;
  position: relative;
}
`);var BE=class extends Ou{constructor(e,t,o){super(String(e??""),t,o),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Ft(e.text),void 0,e)}};Mr("field_label_serializable",BE);var d_=class extends Th{constructor(e,t,o){super(It.SKIP_SETUP),this.textGroup=null,this.maxLines_=1/0,this.isOverflowedY_=!1,e!==It.SKIP_SETUP&&(o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.maxLines&&this.setMaxLines(e.maxLines)}toXml(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}fromXml(e){this.setValue(e.textContent.replace(/&#10;/g,`
`))}saveState(){const e=this.saveLegacyState(d_);return e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(It,e)||this.setValue(e)}initView(){this.createBorderRect_(),this.textGroup=le(V.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const e=this.getSourceBlock();if(!e)throw new co;let t=this.getText();if(!t)return It.NBSP;const o=t.split(`
`);t="";const a=this.isOverflowedY_?this.maxLines_:o.length;for(let d=0;d<a;d++){let m=o[d];m.length>this.maxDisplayLength?m=m.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&d===a-1&&(m=m.substring(0,m.length-3)+"..."),m=m.replace(/\s/g,It.NBSP),t+=m,d!==a-1&&(t+=`
`)}return e.RTL&&(t+="‏"),t}doValueUpdate_(e){super.doValueUpdate_(e),this.value_!==null&&(this.isOverflowedY_=this.value_.split(`
`).length>this.maxLines_)}render_(){var e=this.getSourceBlock();if(!e)throw new co;for(var t,o=this.textGroup;t=o.firstChild;)o.removeChild(t);t=this.getDisplayText_().split(`
`);let a=0;for(let d=0;d<t.length;d++){const m=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;le(V.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:a+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},o).appendChild(document.createTextNode(t[d])),a+=m}this.isBeingEdited_&&(o=this.htmlInput_,this.isOverflowedY_?De(o,"blocklyHtmlTextAreaInputOverflowedY"):ut(o,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(e.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(ut(e,"blocklyInvalidInput"),eo(e,no.INVALID,!1)):(De(e,"blocklyInvalidInput"),eo(e,no.INVALID,!0)))}updateSize_(){var e=this.textGroup.childNodes;const t=this.getConstants().FIELD_TEXT_FONTSIZE,o=this.getConstants().FIELD_TEXT_FONTWEIGHT,a=this.getConstants().FIELD_TEXT_FONTFAMILY;let d=0,m=0;for(var C=0;C<e.length;C++){var G=pe(e[C],t,o,a);G>d&&(d=G),m+=this.getConstants().FIELD_TEXT_HEIGHT+(0<C?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=String(this.value_).split(`
`),C=le(V.TEXT,{class:"blocklyText blocklyMultilineText"}),G=0;G<e.length;G++){e[G].length>this.maxDisplayLength&&(e[G]=e[G].substring(0,this.maxDisplayLength)),C.textContent=e[G];const be=pe(C,t,o,a);be>d&&(d=be)}d+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(m+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,d+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",`${d}`),this.borderRect_.setAttribute("height",`${m}`)),this.size_.width=d,this.size_.height=m,this.positionBorderRect_()}showEditor_(e,t){super.showEditor_(e,t),this.forceRerender()}widgetCreate_(){const e=cl(),t=this.workspace_.getScale(),o=document.createElement("textarea");o.className="blocklyHtmlInput blocklyHtmlTextAreaInput",o.setAttribute("spellcheck",String(this.spellcheck_));var a=this.getConstants().FIELD_TEXT_FONTSIZE*t+"pt";e.style.fontSize=a,o.style.fontSize=a,o.style.borderRadius=Th.BORDERRADIUS*t+"px",a=this.getConstants().FIELD_BORDER_RECT_X_PADDING*t;const d=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*t/2;return o.style.padding=d+"px "+a+"px "+d+"px "+a+"px",a=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o.style.lineHeight=a*t+"px",e.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.setAttribute("data-untyped-default-value",String(this.value_)),o.setAttribute("data-old-value",""),Qd?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(o),o}setMaxLines(e){typeof e=="number"&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(e){e.key!=="Enter"&&super.onHtmlInputKeyDown_(e)}static fromJson(e){return new this(Ft(e.text),void 0,e)}};Mr("field_multilinetext",d_),ct(`
.blocklyHtmlTextAreaInput {
  font-family: monospace;
  resize: none;
  overflow: hidden;
  height: 100%;
  text-align: left;
}

.blocklyHtmlTextAreaInputOverflowedY {
  overflow-y: scroll;
}
`);var h_=class extends pf{constructor(e,t,o,a,d,m){super(It.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==It.SKIP_SETUP&&(m?this.configure_(m):this.setConstraints(t,o,a),this.setValue(e),d&&this.setValidator(d))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,o){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(o),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.indexOf("e")!==-1&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const o=t.indexOf(".");this.decimalPlaces=o===-1?e?0:null:t.length-o-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,eo(e,no.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,eo(e,no.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Mr("field_number",h_),h_.prototype.DEFAULT_VALUE=0;var ff=class extends Ps{constructor(e,t,o,a,d){super(It.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=ff.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Xt(0,0),e!==It.SKIP_SETUP&&(d?this.configure_(d):this.setTypes(o,a),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new co;this.variable||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new co;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new co;const o=e.getAttribute("id"),a=e.textContent,d=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,o,a,d),d!==null&&d!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+jn(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var t=this.saveLegacyState(ff);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new co;this.loadLegacyState(ff,e)||(e=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new co;return t=n.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new co;this.variable=n.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let o=0;o<t.length;o++)if(e===t[o])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,t=""){if(Array.isArray(e)){let o=!1;for(let a=0;a<e.length;a++)e[a]===t&&(o=!0);if(!o)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===xe){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===Oe){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Ft(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var o=this.getVariableTypes(),a=0;a<o.length;a++){const d=this.sourceBlock_.workspace.getVariablesOfType(o[a]);t=t.concat(d)}for(t.sort(Os.compareByName),o=[],a=0;a<t.length;a++)o[a]=[t[a].name,t[a].getId()];return o.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,xe]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&o.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),Oe]),o}};Mr("field_variable",ff);var ns=class{constructor(e,t,o,a){this.workspace=e,this.targetWorkspace=t,this.isLabel_=a,this.onMouseUpWrapper=null,this.height=this.width=0,this.svgText=this.svgGroup=null,this.text=o.text,this.position=new Ne(0,0),this.callbackKey=o.callbackKey||o.callbackkey,this.cssClass=o["web-class"]||null,this.info=o}createDom(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=le(V.G,{class:e},this.workspace.getCanvas());let t;this.isLabel_||(t=le(V.RECT,{class:"blocklyFlyoutButtonShadow",rx:ns.BORDER_RADIUS,ry:ns.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=le(V.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:ns.BORDER_RADIUS,ry:ns.BORDER_RADIUS},this.svgGroup);const o=le(V.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var a=Ft(this.text);this.workspace.RTL&&(a+="‏"),o.textContent=a,this.isLabel_&&(this.svgText=o,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const d=xo(o,"fontSize"),m=xo(o,"fontWeight"),C=xo(o,"fontFamily");if(this.width=Xe(o,d,m,C),a=$t(a,d,m,C),this.height=a.height,!this.isLabel_){this.width+=2*ns.TEXT_MARGIN_X,this.height+=2*ns.TEXT_MARGIN_Y;let G;(G=t)==null||G.setAttribute("width",String(this.width));let be;(be=t)==null||be.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),o.setAttribute("x",String(this.width/2)),o.setAttribute("y",String(this.height/2-a.height/2+a.baseline)),this.updateTransform(),this.onMouseUpWrapper=Ie(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}isLabel(){return this.isLabel_}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper&&He(this.onMouseUpWrapper),this.svgGroup&&st(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isLabel_||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};ns.TEXT_MARGIN_X=5,ns.TEXT_MARGIN_Y=2,ns.BORDER_RADIUS=4,ct(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var FE=class extends Z${constructor(e,t){super(e),this.flyout_=t}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,o){return t=o||this.getContentMetrics(),o=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*o)/e,width:(t.width+t.left+o)/e,top:0,left:0}}},Eh;(function(e){e.BLOCK="block",e.BUTTON="button"})(Eh||(Eh={}));var gm=class extends am{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new os(e),this.workspace_.setMetricsManager(new FE(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=ge(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=le(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=le(V.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Q$(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(Ie(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(Ie(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[Ro.Capability.AUTOHIDEABLE,Ro.Capability.DELETE_AREA,Ro.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)He(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&st(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}isVisible(){return this.isVisible_}setVisible(e){const t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,o,a){let d;(d=this.svgGroup_)==null||d.setAttribute("width",`${e}`);let m;(m=this.svgGroup_)==null||m.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&E(this.svgGroup_,"translate("+o+"px,"+a+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(o,a),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)He(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Gn(e),e=this.createFlyoutInfo(e),Xr(this.workspace_),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const t=[],o=[];this.permanentlyDisabled.length=0;const a=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of e){if("custom"in d){e=this.getDynamicCategoryContents(d.custom),e=Gn(e);const{contents:m,gaps:C}=this.createFlyoutInfo(e);t.push(...m),o.push(...C)}switch(d.kind.toUpperCase()){case"BLOCK":e=d;const m=this.createFlyoutBlock(e);t.push({type:Eh.BLOCK,block:m}),this.addBlockGap(e,o,a);break;case"SEP":this.addSeparatorGap(d,o,a);break;case"LABEL":e=this.createButton(d,!0),t.push({type:Eh.BUTTON,button:e}),o.push(a);break;case"BUTTON":e=this.createButton(d,!1),t.push({type:Eh.BUTTON,button:e}),o.push(a)}}return{contents:t,gaps:o}}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,t){return new ns(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock(e){let t;return e.blockxml?(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=Ei(e,this.workspace_))):(t=this.getRecycledBlock(e.type),t||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),t=as(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled.push(t),t}getRecycledBlock(e){let t=-1;for(let o=0;o<this.recycledBlocks.length;o++)if(this.recycledBlocks[o].type===e){t=o;break}return t===-1?void 0:this.recycledBlocks.splice(t,1)[0]}addBlockGap(e,t,o){let a;e.gap?a=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,a=parseInt(e.getAttribute("gap"))),t.push(!a||isNaN(a)?o:a)}addSeparatorGap(e,t,o){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(o)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let o=0,a;a=e[o];o++)this.blockIsRecyclable_(a)?this.recycleBlock(a):a.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const o=this.mats[e];o&&(Oa(o),st(o))}this.mats.length=0;for(let o=0,a;a=this.buttons_[o];o++)a.dispose();this.buttons_.length=0;let t;(t=this.workspace_.getPotentialVariableMap())==null||t.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}addBlockListeners_(e,t,o){this.listeners.push(Ie(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(Ie(o,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(ft(e,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(ft(e,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()})),this.listeners.push(ft(o,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(ft(o,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()}))}blockMouseDown(e){return t=>{const o=this.targetWorkspace.getGesture(t);o&&(o.setStartBlock(e),o.handleFlyoutStart(t,this))}}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;n.disable$$module$build$src$core$events$utils();var o=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=ha(this.targetWorkspace,o),U()){for(n.setGroup$$module$build$src$core$events$utils(!0),o=0;o<e.length;o++){const a=e[o];Y(new(fe(Ni))(a))}Y(new(fe(n.CREATE$$module$build$src$core$events$utils))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}initFlyoutButton_(e,t,o){const a=e.createDom();e.moveTo(t,o),e.show(),this.listeners.push(Ie(a,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,t,o,a,d){return t=le(V.RECT,{"fill-opacity":0,x:t,y:o,height:a.height,width:a.width}),t.tooltip=e,Vt(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[d]=t}moveRectToBlock_(e,t){const o=t.getHeightWidth();e.setAttribute("width",String(o.width)),e.setAttribute("height",String(o.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-o.width:t.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let t=0,o;o=e[t];t++)if(this.permanentlyDisabled.indexOf(o)===-1){const a=this.targetWorkspace.isCapacityAvailable(Q(o));for(;o;)o.setEnabled(a),o=o.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const o=un(e);return t.setResizesEnabled(!1),t=Xn(o,t),this.positionNewBlock(e,t),t}positionNewBlock(e,t){const o=this.targetWorkspace;var a=o.getOriginOffsetInPixels(),d=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),d=Ne.sum(d,e),a=Ne.difference(d,a),a.scale(1/o.scale),t.moveTo(new Ne(a.x,a.y))}};gm.FlyoutItemType=Eh;var UE=class extends gm{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),o=t.getScrollMetrics(),a=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(o.left+(o.width-a.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),o=e.getViewMetrics();e=e.getToolboxMetrics();const a=this.toolboxPosition_===dt.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?a?e.height:o.height-this.height_:a?0:o.height:a?0:o.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const o=this.toolboxPosition_===dt.TOP,a=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(a.push("h",e+2*this.CORNER_RADIUS),a.push("v",t),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",-e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),a.push("h",e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",t),a.push("h",-e-2*this.CORNER_RADIUS)),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=ht(e);if(t=t.x||t.y){const o=this.workspace_.getMetricsManager(),a=o.getScrollMetrics();t=o.getViewMetrics().left-a.left+t;let d;(d=this.workspace_.scrollbar)==null||d.setX(t),Jr(),Lr()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const o=this.MARGIN;let a=o+this.tabWidth_;this.RTL&&(e=e.reverse());for(let G=0,be;be=e[G];G++)if(be.type==="block"){var d=be.block,m=d.getDescendants(!1);for(let go=0,uo;uo=m[go];go++)uo.isInFlyout=!0;m=d.getSvgRoot();const We=d.getHeightWidth();var C=d.outputConnection?this.tabWidth_:0;C=this.RTL?a+We.width:a-C,d.moveBy(C,o),C=this.createRect_(d,C,o,We,G),a+=We.width+t[G],this.addBlockListeners_(m,d,C)}else be.type==="button"&&(d=be.button,this.initFlyoutButton_(d,a,o),a+=d.width+t[G])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===dt.TOP?new Mt(-1e9,t+e.height,-1e9,1e9):new Mt(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let a=0,d;d=t[a];a++)e=Math.max(e,d.getHeightWidth().height);const o=this.buttons_;for(let a=0,d;d=o[a];a++)e=Math.max(e,d.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=vo.scrollbarThickness,this.height_!==e){for(let a=0,d;d=t[a];a++)this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==dt.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};c(ke.FLYOUTS_HORIZONTAL_TOOLBOX,Cr,UE);var p_=class extends gm{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),o=t.getScrollMetrics(),a=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(o.top+(o.height-a.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),o=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===dt.LEFT?e.width:o.width-this.width_:this.toolboxPosition_===dt.LEFT?0:o.width:this.toolboxPosition_===dt.LEFT?0:o.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const o=this.toolboxPosition_===dt.RIGHT;var a=e+this.CORNER_RADIUS;a=["M "+(o?a:0)+",0"],a.push("h",o?-e:e),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("v",Math.max(0,t)),a.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),a.push("h",o?e:-e),a.push("z"),this.svgBackground_.setAttribute("d",a.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=ht(e);if(t.y){const o=this.workspace_.getMetricsManager(),a=o.getScrollMetrics();t=o.getViewMetrics().top-a.top+t.y;let d;(d=this.workspace_.scrollbar)==null||d.setY(t),Jr(),Lr()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var o=this.MARGIN;const a=this.RTL?o:o+this.tabWidth_;for(let G=0,be;be=e[G];G++)if(be.type==="block"){var d=be.block,m=d.getDescendants(!1);for(let go=0,uo;uo=m[go];go++)uo.isInFlyout=!0;m=d.getSvgRoot();const We=d.getHeightWidth();var C=d.outputConnection?a-this.tabWidth_:a;d.moveBy(C,o),C=this.createRect_(d,this.RTL?C-We.width:C,o,We,G),this.addBlockListeners_(m,d,C),o+=We.height+t[G]}else be.type==="button"&&(d=be.button,this.initFlyoutButton_(d,a,o),o+=d.height+t[G])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===dt.LEFT?new Mt(-1e9,1e9,-1e9,t+e.width):new Mt(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let a=0,d;d=t[a];a++){var o=d.getHeightWidth().width;d.outputConnection&&(o-=this.tabWidth_),e=Math.max(e,o)}for(let a=0,d;d=this.buttons_[a];a++)e=Math.max(e,d.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=vo.scrollbarThickness,this.width_!==e){for(let a=0,d;d=t[a];a++){if(this.RTL){o=d.getRelativeToSurfaceXY().x;let m=e/this.workspace_.scale-this.MARGIN;d.outputConnection||(m-=this.tabWidth_),d.moveBy(m-o,0)}this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d)}if(this.RTL)for(let a=0,d;d=this.buttons_[a];a++)t=d.getPosition().y,d.moveTo(e/this.workspace_.scale-d.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==dt.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};p_.registryName="verticalFlyout",c(ke.FLYOUTS_VERTICAL_TOOLBOX,Cr,p_);var HE;n.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=P());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let o=0,a;a=e[o];o++){let d=this.blockToCode(a);Array.isArray(d)&&(d=d[0]),d&&(a.outputConnection&&(d=this.scrubNakedValue(d),this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&(d=this.injectId(this.STATEMENT_PREFIX,a)+d),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(d+=this.injectId(this.STATEMENT_SUFFIX,a))),t.push(d))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let o=0;o<e.length;o++){const a=e[o].getCommentText();a&&t.push(a)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var o=this.forBlock[e.type];if(!o&&this[e.type]&&(Me("block generator functions on CodeGenerator objects","10.0","11.0","the .forBlock[blockType] dictionary"),o=this[e.type]),typeof o!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(o=o.call(e,e,this),Array.isArray(o)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,o[0],t),o[1]]}if(typeof o=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,e)+o),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,o,t);if(o===null)return"";throw SyntaxError("Invalid code generated: "+o)}valueToCode(e,t,o){if(isNaN(o))throw TypeError("Expecting valid order from block: "+e.type);var a=e.getInputTargetBlock(t);if(!a||(t=this.blockToCode(a),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${a.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+a.type);if(!e)return"";a=!1;var d=Math.floor(o);const m=Math.floor(t);if(d<=m&&(d!==m||d!==0&&d!==99)){for(a=!0,d=0;d<this.ORDER_OVERRIDES.length;d++)if(this.ORDER_OVERRIDES[d][0]===o&&this.ORDER_OVERRIDES[d][1]===t){a=!1;break}}return a&&(e="("+e+")"),e}statementToCode(e,t){if(e=e.getInputTargetBlock(t),t=this.blockToCode(e),typeof t!="string")throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const o=this.nameDB_.getDistinctName(e,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=o,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);let a;for(;a!==t;)a=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,n.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,n.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,o){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},HE={},HE.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var GE=!1,uc={};uc.Align=n.Align$$module$build$src$core$inputs$align,uc.DummyInput=Us,uc.EndRowInput=oa,uc.Input=Fs,uc.StatementInput=xn,uc.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,uc.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var VE="The insertion marker previewer tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",WE=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,o){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=o,o.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{n.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){n.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{n.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===je.PREVIOUS_STATEMENT||t.type===je.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof u_)}previewMarker(e,t){const o=e.getSourceBlock(),a=this.createInsertionMarker(o),d=this.getMatchingConnection(o,a,e);if(!d)throw Error("Could not create insertion marker to preview connection");a.queueRender(),Xr(),d.connect(t);const m={x:t.x-d.x,y:t.y-d.y},C=d.getOffsetInBlock().clone();return kt().then(()=>{a==null||a.positionNearConnection(d,m,C),a==null||a.getSvgRoot().setAttribute("visibility","visible")}),d}createInsertionMarker(e){const t=this.workspace.newBlock(e.type);if(t.setInsertionMarker(!0),e.saveExtraState){var o=e.saveExtraState(!0);o&&t.loadExtraState&&t.loadExtraState(o)}else e.mutationToDom&&(o=e.mutationToDom())&&t.domToMutation&&t.domToMutation(o);for(o=0;o<e.inputList.length;o++){const a=e.inputList[o];if(a.name===Au)continue;const d=t.inputList[o];if(!d)throw Error(VE.replace("%1","an input"));for(let m=0;m<a.fieldRow.length;m++){const C=a.fieldRow[m],G=d.fieldRow[m];if(!G)throw Error(VE.replace("%1","a field"));G.setValue(C.getValue())}}for(const a of t.getDescendants(!1))a.setInsertionMarker(!0);return t.setCollapsed(e.isCollapsed()),t.setInputsInline(e.getInputsInline()),t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden"),t}getMatchingConnection(e,t,o){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let a=0;a<e.length;a++)if(e[a]===o)return t[a];return null}hidePreview(){n.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{n.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),o=t.outputConnection;let a;if((a=t.previousConnection)!=null&&a.targetConnection||o!=null&&o.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};c(ke.CONNECTION_PREVIEWER,Cr,WE);var zE=class extends sf{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},jE=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=qt(e.xPos,this.info_.startY);for(let t=0,o;o=e.elements[t];t++)ee.isLeftSquareCorner(o)?this.steps_+=this.highlightConstants_.START_POINT:ee.isLeftRoundedCorner(o)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):ee.isPreviousConnection(o)?this.steps_+=this.notchPaths_.pathLeft:ee.isHat(o)?this.steps_+=this.startPaths_.path(this.RTL_):ee.isSpacer(o)&&o.width!==0&&(this.steps_+=Ve("H",o.xPos+o.width-this.highlightOffset));this.steps_+=Ve("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Ve("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const o=e.height-t.connectionHeight;this.steps_+=Io(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ve("v",o)}else this.steps_+=Io(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const o=e.height-2*this.insideCornerPaths_.height;this.steps_+=Io(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Ve("v",o)+this.insideCornerPaths_.pathBottom(this.RTL_)+pn(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=Io(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+pn(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof P$&&e.followsStatement&&(this.steps_+=Ve("H",t)),this.RTL_&&(this.steps_+=Ve("H",t),e.height>this.highlightOffset&&(this.steps_+=Ve("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=Ve("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];ee.isLeftSquareCorner(t)?this.steps_+=Io(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):ee.isLeftRoundedCorner(t)&&(this.steps_+=Io(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=Io(this.info_.startX,e):(this.steps_+=Io(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=Ve("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,ee.isLeftRoundedCorner(e.elements[0])?this.steps_+=Ve("V",this.outsideCornerPaths_.height):this.steps_+=Ve("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,o=e.xPos+e.connectionWidth;var a=e.centerline-e.height/2;const d=e.width-e.connectionWidth,m=a+t;this.RTL_?(a=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=Io(o-t,m)+Ve("v",a)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ve("v",e)+Ve("h",d)):this.inlineSteps_+=Io(e.xPos+e.width+t,m)+Ve("v",e.height)+Ve("h",-d)+Io(o,a+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},XE=class extends lf{constructor(e,t){super(e,t),this.highlighter_=new jE(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=Ve("H",e.xPos+e.width)+Ve("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let o=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let o=e.xPos+e.statementEdge+t.notchOffset;o=this.info_.RTL?-1*o:o+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(o,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let o=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,o=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-o:o)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},YE=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=qt(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,o=(1-Math.SQRT1_2)*(e+t)-t,a=qt(o,o)+oo("a","0 0,0",e,Ze(-o-t,e-o)),d=oo("a","0 0,0",e+t,Ze(e+t,e+t)),m=qt(o,-o)+oo("a","0 0,0",e+t,Ze(e-o,o+t));return{width:e+t,height:e,pathTop(C){return C?a:""},pathBottom(C){return C?d:m}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,o=(1-Math.SQRT1_2)*(e-t)+t,a=qt(o,o)+oo("a","0 0,1",e-t,Ze(e-o,-o+t)),d=qt(t,e)+oo("a","0 0,1",e-t,Ze(e,-e+t)),m=-o,C=qt(o,m)+oo("a","0 0,1",e-t,Ze(-o+t,-m-e));return{height:e,topLeft(G){return G?a:d},bottomLeft(){return C}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,o=qt(-2,-t+3.4)+pn(-.45*e,-2.1),a=Ve("v",2.5)+qt(.97*-e,2.5)+So("q",[Ze(.05*-e,10),Ze(.3*e,9.5)])+qt(.67*e,-1.9)+Ve("v",2.5),d=Ve("v",-1.5)+qt(-.92*e,-.5)+So("q",[Ze(-.19*e,-5.5),Ze(0,-11)])+qt(.92*e,1),m=qt(-5,t-.7)+pn(.46*e,-2.1);return{width:e,height:t,pathUp(C){return C?o:d},pathDown(C){return C?a:m}}}makeNotch(){return{pathLeft:Ve("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:pn(5.1,2.6)+qt(-10.2,6.8)+pn(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=qt(25,-8.7)+So("c",[Ze(29.7,-6.2),Ze(57.2,-.5),Ze(75,8.7)]),o=So("c",[Ze(17.8,-9.2),Ze(45.3,-14.9),Ze(75,-8.7)])+Io(100.5,e+.5);return{path(a){return a?t:o}}}},KE=class extends M${constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},JE=class extends of{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},qE=class extends fh{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof xn||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new KE(this.constants_,e)),t.hasInlineInput=!0):e instanceof xn?(t.elements.push(new JE(this.constants_,e)),t.hasStatement=!0):e instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new im(this.constants_,e)),t.hasExternalInput=!0):(e instanceof Us||e instanceof oa)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let o=0,a;a=this.rows[o];o++)a.hasExternalInput&&(e=!0);for(let o=0,a;a=this.rows[o];o++){var t=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new An(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let d=0;d<t.length-1;d++){a.elements.push(t[d]);const m=this.getInRowSpacing_(t[d],t[d+1]);a.elements.push(new An(this.constants_,m))}a.elements.push(t[t.length-1]),a.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&a.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),a.elements.push(new An(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&ee.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&ee.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&ee.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!ee.isInput(e)&&(!t||ee.isStatementInput(t)))return ee.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:ee.isIcon(e)?2*this.constants_.LARGE_PADDING+1:ee.isHat(e)?this.constants_.NO_PADDING:ee.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:ee.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:ee.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(ee.isInput(e)&&!t){if(ee.isExternalInput(e))return this.constants_.NO_PADDING;if(ee.isInlineInput(e))return this.constants_.LARGE_PADDING;if(ee.isStatementInput(e))return this.constants_.NO_PADDING}if(!ee.isInput(e)&&t&&ee.isInput(t)){if(ee.isField(e)&&e.isEditable){if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(ee.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(ee.isIcon(e)&&t&&!ee.isInput(t))return this.constants_.LARGE_PADDING;if(ee.isInlineInput(e)&&t&&ee.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(ee.isLeftSquareCorner(e)&&t){if(ee.isHat(t))return this.constants_.NO_PADDING;if(ee.isPreviousConnection(t))return t.notchOffset;if(ee.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(ee.isLeftRoundedCorner(e)&&t){if(ee.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(ee.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return ee.isField(e)&&t&&ee.isField(t)&&e.isEditable===t.isEditable||t&&ee.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return ee.isTopRow(e)&&ee.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:ee.isTopRow(e)||ee.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(ee.isSpacer(t))return e.yPos+t.height/2;if(ee.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,ee.isNextConnection(t)?e+t.height/2:e-t.height/2;if(ee.isTopRow(e))return ee.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let o=e.yPos;return ee.isField(t)||ee.isIcon(t)?(o+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(o+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):o=ee.isInlineInput(t)?o+t.height/2:o+e.height/2,o}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,o=null;for(let a=this.rows.length-1,d;d=this.rows[a];a--)t.set(d,e),ee.isInputRow(d)&&(d.hasStatement&&this.alignStatementRow_(d),o&&o.hasStatement&&d.width<o.width?t.set(d,o.width):e=d.hasStatement?d.width:Math.max(e,d.width),o=d);e=0;for(let a=0,d;d=this.rows[a];a++)d.hasStatement?e=this.getDesiredRowWidth_(d):ee.isSpacer(d)?d.width=Math.max(e,t.get(d)):(o=d.width,e=Math.max(e,t.get(d))-o,0<e&&this.addAlignmentPadding_(d,e),e=d.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let a=0,d;d=this.rows[a];a++){d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var o=t-this.topRow.ascenderHeight;d===this.bottomRow&&o<this.constants_.MIN_BLOCK_HEIGHT&&(o=this.constants_.MIN_BLOCK_HEIGHT-o,this.bottomRow.height+=o,t+=o),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,o.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},QE=class extends sm{constructor(e,t,o){super(e,t,o),this.constants=o,this.colourDark="#000000",this.svgPathDark=le(V.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=le(V.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Si("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},ZE=class extends af{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new zE}makeRenderInfo_(e){return new qE(this,e)}makeDrawer_(e,t){return new XE(e,t)}makePathObject(e,t){return new QE(e,t,this.getConstants())}makeHighlightConstants_(){return new YE(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};ms("geras",ZE);var Ws={};Ws.ConstantProvider=zE,Ws.Drawer=XE,Ws.HighlightConstantProvider=YE,Ws.Highlighter=jE,Ws.InlineInput=KE,Ws.PathObject=QE,Ws.RenderInfo=qE,Ws.Renderer=ZE,Ws.StatementInput=JE;var eb=class extends sf{constructor(){super(),Me("Blockly.minimalist.ConstantProvider","v10","v11","Blockly.blockRendering.ConstantProvider")}},tb=class extends lf{constructor(e,t){super(e,t),Me("Blockly.minimalist.Drawer","v10","v11","Blockly.blockRendering.Drawer")}},ob=class extends fh{constructor(e,t){super(e,t),Me("Blockly.minimalist.RenderInfo","v10","v11","Blockly.blockRendering.RenderInfo")}getRenderer(){return this.renderer_}},rb=class extends af{constructor(e){super(e),Me("Blockly.minimalist.Renderer","v10","v11","Blockly.blockRendering.Renderer")}makeConstants_(){return new eb}makeRenderInfo_(e){return new ob(this,e)}makeDrawer_(e,t){return new tb(e,t)}};ms("minimalist",rb);var gf={};gf.ConstantProvider=eb,gf.Drawer=tb,gf.RenderInfo=ob,gf.Renderer=rb;var nb=class extends fh{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const a=this.rows[t];var o=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new An(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(let d=0;d<o.length-1;d++){a.elements.push(o[d]);const m=this.getInRowSpacing_(o[d],o[d+1]);a.elements.push(new An(this.constants_,m))}a.elements.push(o[o.length-1]),a.endsWithElemSpacer()&&(o=this.getInRowSpacing_(o[o.length-1],null),e&&a.hasDummyInput&&(o+=this.constants_.TAB_WIDTH),a.elements.push(new An(this.constants_,o)))}}}getInRowSpacing_(e,t){if(!e)return t&&ee.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&ee.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&ee.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!ee.isInput(e)&&!t)return ee.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:ee.isIcon(e)?2*this.constants_.LARGE_PADDING+1:ee.isHat(e)?this.constants_.NO_PADDING:ee.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:ee.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:ee.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(ee.isInput(e)&&!t){if(ee.isExternalInput(e))return this.constants_.NO_PADDING;if(ee.isInlineInput(e))return this.constants_.LARGE_PADDING;if(ee.isStatementInput(e))return this.constants_.NO_PADDING}if(!ee.isInput(e)&&t&&ee.isInput(t)){if(ee.isField(e)&&e.isEditable){if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(ee.isInlineInput(t)||ee.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(ee.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(ee.isIcon(e)&&t&&!ee.isInput(t))return this.constants_.LARGE_PADDING;if(ee.isInlineInput(e)&&t&&ee.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(ee.isLeftSquareCorner(e)&&t){if(ee.isHat(t))return this.constants_.NO_PADDING;if(ee.isPreviousConnection(t)||ee.isNextConnection(t))return t.notchOffset}return ee.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:ee.isField(e)&&t&&ee.isField(t)&&e.isEditable===t.isEditable||t&&ee.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return ee.isTopRow(e)&&ee.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:ee.isTopRow(e)||ee.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(ee.isSpacer(t))return e.yPos+t.height/2;if(ee.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,ee.isNextConnection(t)?e+t.height/2:e-t.height/2;if(ee.isTopRow(e))return ee.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let o=e.yPos;return o=ee.isField(t)&&e.hasStatement?o+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):o+e.height/2}finalize_(){let e=0,t=0;for(var o=0;o<this.rows.length;o++){const d=this.rows[o];d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var a=t-this.topRow.ascenderHeight;d===this.bottomRow&&a<this.constants_.MIN_BLOCK_HEIGHT&&(a=this.constants_.MIN_BLOCK_HEIGHT-a,this.bottomRow.height+=a,t+=a),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(o=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,o.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},ib=class extends af{constructor(e){super(e)}makeRenderInfo_(e){return new nb(this,e)}};ms("thrasos",ib);var f_={};f_.RenderInfo=nb,f_.Renderer=ib;var nI={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},iI={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},sI=new Ru("zelos",nI,iI),lI={Classic:Zg,Zelos:sI},g_=class{constructor(e,t,o){this.id_=e.toolboxitemid||oe(),this.level_=(this.parent_=o||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},is=class extends g_{constructor(e,t,o){super(e,t,o),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const o=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(o)}}parseCategoryDef_(e){this.name_="name"in e?Ft(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),dn(this.htmlDiv_,_r.TREEITEM),eo(this.htmlDiv_,no.SELECTED,!1),eo(this.htmlDiv_,no.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),dn(this.iconDom_,_r.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&eo(this.htmlDiv_,no.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&De(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&De(e,t),t=`${is.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&De(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&De(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&De(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=is.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(e=Ft(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=ds(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):Jn(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&_o(e,t),(t=this.cssConfig_.openicon)&&De(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&_o(e,t),(t=this.cssConfig_.closedicon)&&De(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const o=this.parseColour_(is.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||o,t&&De(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&ut(this.rowDiv_,t);eo(this.htmlDiv_,no.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Gn(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){st(this.htmlDiv_)}};is.registrationName="category",is.nestedPadding=19,is.borderWidth=8,is.defaultBackgroundColour="#57e",ct(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),c(ke.TOOLBOX_ITEM,is.registrationName,is);var mf=class extends g_{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&De(e,t),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){st(this.htmlDiv_)}};mf.registrationName="sep",ct(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),c(ke.TOOLBOX_ITEM,mf.registrationName,mf);var bh=class extends is{constructor(e,t,o){super(e,t,o),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let o=0;o<t.length;o++){const a=t[o];!_(ke.TOOLBOX_ITEM,a.kind)||a.kind.toLowerCase()===mf.registrationName&&e?(this.flyoutItems_.push(a),e=!0):(this.createToolboxItem_(a),e=!1)}}}}createToolboxItem_(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&Vn(e)&&(t=bh.registrationName),e=new(y(ke.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),dn(this.subcategoriesDiv_,_r.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),eo(this.htmlDiv_,no.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&De(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var o=this.cssConfig_.contents;for(o&&De(t,o),o=0;o<e.length;o++){const a=e[o];a.init();const d=a.getDiv();if(t.appendChild(d),a.getClickTarget){let m;(m=a.getClickTarget())==null||m.setAttribute("id",a.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}eo(this.htmlDiv_,no.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let o=0;o<t.length;o++)t[o].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};bh.registrationName="collapsibleCategory",c(ke.TOOLBOX_ITEM,bh.registrationName,bh);var sb=class extends am{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),zt(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[Ro.Capability.AUTOHIDEABLE,Ro.Capability.DELETE_AREA,Ro.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,dn(this.contentsDiv_,_r.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),De(e,"blocklyToolboxDiv"),De(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return De(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=Ie(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=Ie(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(Ct(e)||e.target===this.HtmlDiv)P().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),P().hideChaff(!0)}Be()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext_();break;case"ArrowUp":t=this.selectPrevious_();break;case"ArrowLeft":t=this.selectParent_();break;case"ArrowRight":t=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new si({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?R(ke.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):R(ke.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let t=0;t<this.contents_.length;t++){const o=this.contents_[t];o&&o.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let o=0;o<e.length;o++)this.createToolboxItem_(e[o],t);this.contentsDiv_.appendChild(t)}createToolboxItem_(e,t){var o=e.kind;o.toUpperCase()==="CATEGORY"&&Vn(e)&&(o=bh.registrationName),(o=y(ke.TOOLBOX_ITEM,o.toLowerCase()))&&(e=new o(e,this),e.init(),this.addToolboxItem_(e),(o=e.getDiv())&&t.appendChild(o),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&De(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&ut(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,o=t+e.height,a=e.left;return e=a+e.width,this.toolboxPosition===dt.TOP?new Mt(-1e7,o,-1e7,1e7):this.toolboxPosition===dt.BOTTOM?new Mt(t,1e7,-1e7,1e7):this.toolboxPosition===dt.LEFT?new Mt(-1e7,1e7,-1e7,e):new Mt(-1e7,1e7,a,1e7)}wouldDelete(e,t){return e instanceof Hs?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===dt.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===dt.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===dt.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===dt.TOP?e.scrollY+t.height:e.scrollY),J(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!Hd(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),eo(this.contentsDiv_,no.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),eo(this.contentsDiv_,no.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,t){const o=e&&e.getName();let a=t&&t.getName();e===t&&(a=null),e=new(fe(Nl))(o,a,this.workspace_.id),Y(e)}selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)He(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),st(this.HtmlDiv))}};ct(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),c(ke.TOOLBOX,Cr,sb);var aI="10.4.3",cI=n.Align$$module$build$src$core$inputs$align.LEFT,uI=n.Align$$module$build$src$core$inputs$align.CENTRE,dI=n.Align$$module$build$src$core$inputs$align.RIGHT,hI=je.INPUT_VALUE,pI=je.OUTPUT_VALUE,fI=je.NEXT_STATEMENT,gI=je.PREVIOUS_STATEMENT,mI=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,$I=dt.TOP,_I=dt.BOTTOM,TI=dt.LEFT,EI=dt.RIGHT;cf.prototype.newBlock=function(e,t){return new gh(this,e,t)},os.prototype.newBlock=function(e,t){return new Hs(this,e,t)},os.newTrashcan=function(e){return new yE(e)},No.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(_p(this)),t.push(hl(this))),Yn(e,t,this.RTL)}},Zl.prototype.newWorkspaceSvg=function(e){return new os(e)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Tl(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var bI=je,_e={ALIGN_CENTRE:uI,ALIGN_LEFT:cI,ALIGN_RIGHT:dI};return _e.ASTNode=Re,_e.BasicCursor=uf,_e.Block=gh,_e.BlockDragger=wE,_e.BlockSvg=Hs,_e.Blocks=jt,_e.Bubble=Ut,_e.BubbleDragger=z,_e.COLLAPSED_FIELD_NAME=lm,_e.COLLAPSED_INPUT_NAME=Au,_e.COLLAPSE_CHARS=Z,_e.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,_e.CollapsibleToolboxCategory=bh,_e.ComponentManager=Ro,_e.Connection=Bt,_e.ConnectionChecker=$E,_e.ConnectionDB=kn,_e.ConnectionType=je,_e.ContextMenu=Rn,_e.ContextMenuItems=Vr,_e.ContextMenuRegistry=St,_e.Css=Vp,_e.Cursor=X$,_e.DELETE_VARIABLE_ID=Oe,_e.DRAG_STACK=Te,_e.DUMMY_INPUT=mI,_e.DeleteArea=am,_e.DragTarget=bE,_e.DropDownDiv=l,_e.Events=Ye,_e.Extensions=es,_e.Field=It,_e.FieldAngle=vt,_e.FieldCheckbox=Nu,_e.FieldColour=Ln,_e.FieldDropdown=Ps,_e.FieldImage=Lu,_e.FieldLabel=Ou,_e.FieldLabelSerializable=BE,_e.FieldMultilineInput=d_,_e.FieldNumber=h_,_e.FieldTextInput=Th,_e.FieldVariable=ff,_e.Flyout=gm,_e.FlyoutButton=ns,_e.FlyoutMetricsManager=FE,_e.Generator=n.CodeGenerator$$module$build$src$core$generator,_e.Gesture=Ql,_e.Grid=C$,_e.HorizontalFlyout=UE,_e.INPUT_VALUE=hI,_e.Input=Fs,_e.InsertionMarkerManager=ai,_e.InsertionMarkerPreviewer=WE,_e.Marker=TE,_e.MarkerManager=Zp,_e.Menu=Su,_e.MenuItem=Qp,_e.MetricsManager=Z$,_e.Msg=n.Msg$$module$build$src$core$msg,_e.NEXT_STATEMENT=fI,_e.Names=n.Names$$module$build$src$core$names,_e.OPPOSITE_TYPE=we,_e.OUTPUT_VALUE=pI,_e.Options=si,_e.PREVIOUS_STATEMENT=gI,_e.PROCEDURE_CATEGORY_NAME=nm,_e.Procedures=Hr,_e.RENAME_VARIABLE_ID=xe,_e.RenderedConnection=Gr,_e.Scrollbar=vo,_e.ScrollbarPair=Q$,_e.ShortcutItems=Vs,_e.ShortcutRegistry=Ht,_e.TOOLBOX_AT_BOTTOM=_I,_e.TOOLBOX_AT_LEFT=TI,_e.TOOLBOX_AT_RIGHT=EI,_e.TOOLBOX_AT_TOP=$I,_e.TabNavigateCursor=EE,_e.Theme=Ru,_e.ThemeManager=mE,_e.Themes=lI,_e.Toolbox=sb,_e.ToolboxCategory=is,_e.ToolboxItem=g_,_e.ToolboxSeparator=mf,_e.Tooltip=wn,_e.Touch=Cs,_e.Trashcan=yE,_e.UnattachedFieldError=co,_e.VARIABLE_CATEGORY_NAME=yu,_e.VARIABLE_DYNAMIC_CATEGORY_NAME=H$,_e.VERSION=aI,_e.VariableMap=W$,_e.VariableModel=Os,_e.Variables=Wo,_e.VariablesDynamic=xu,_e.VerticalFlyout=p_,_e.WidgetDiv=ii,_e.Workspace=cf,_e.WorkspaceAudio=_E,_e.WorkspaceComment=$r,_e.WorkspaceCommentSvg=No,_e.WorkspaceDragger=QT,_e.WorkspaceSvg=os,_e.Xml=bo,_e.ZoomControls=th,_e.blockAnimations=$,_e.blockRendering=Wt,_e.browserEvents=Bi,_e.bubbles=hf,_e.bumpObjects=hm,_e.clipboard=jl,_e.common=Fo,_e.config=n.config$$module$build$src$core$config,_e.connectionTypes=bI,_e.constants=XS,_e.defineBlocksWithJsonArray=ae,_e.dialog=Vo,_e.fieldRegistry=tm,_e.geras=Ws,_e.getMainWorkspace=P,_e.getSelected=X,_e.hasBubble=hn,_e.hideChaff=ys,_e.icons=lc,_e.inject=Pd,_e.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types,_e.inputs=uc,_e.isCopyable=_s,_e.isIcon=Ud,_e.isObservable=yd,_e.isPaster=hu,_e.isSerializable=cn,_e.isVariableBackedParameterModel=ep,_e.minimalist=gf,_e.procedures=Hr,_e.registry=xi,_e.renderManagement=Cn,_e.serialization=rI,_e.setLocale=ws,_e.setParentContainer=F,_e.svgResize=J,_e.thrasos=f_,_e.uiPosition=Ul,_e.utils=Co,_e.zelos=rs,Object.defineProperties(_e,{HSV_SATURATION:{get:function(){return Me("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.getHsvSaturation()"),La()},set:function(e){Me("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.setHsvSaturation()"),Xc(e)}},HSV_VALUE:{get:function(){return Me("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.getHsvValue()"),Na()},set:function(e){Me("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.setHsvValue()"),Yc(e)}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:Lo}),_e.__namespace__=n,_e})}(Um)),Um.exports}var qN=Fm.exports,Yy;function QN(){return Yy||(Yy=1,function(r,s){(function(n,c){r.exports=c(JT())})(qN,function(n){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(Fm)),Fm.exports}var ZN=Bm.exports,Ky;function qT(){return Ky||(Ky=1,function(r,s){(function(n,c){r.exports=c(QN())})(ZN,function(n){return n})}(Bm)),Bm.exports}var Hm={exports:{}},eM=Hm.exports,Jy;function tM(){return Jy||(Jy=1,function(r,s){(function(n,c){r.exports=c()})(eM,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="÷",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1 ÷ %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="×",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_HELPURL=n.Msg.LISTS_INDEX_OF_HELPURL,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.MATH_HUE="230",n.Msg.LOOPS_HUE="120",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.VARIABLES_HUE="330",n.Msg.TEXTS_HUE="160",n.Msg.PROCEDURES_HUE="290",n.Msg.COLOUR_HUE="20",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg})}(Hm)),Hm.exports}var Gm={exports:{}},Vm={exports:{}},oM=Vm.exports,qy;function rM(){return qy||(qy=1,function(r,s){(function(n,c){r.exports=c(JT())})(oM,function(n){var c=n.__namespace__,h=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),f={customContextMenu:function(E){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(K={text:c.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:g(this)},te=this.getField("VAR").getText(),te={text:c.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",te),enabled:!0,callback:_(this)},E.unshift(K),E.unshift(te));else{if(this.type==="variables_get_dynamic")var x="variables_set_dynamic",K=c.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else x="variables_get_dynamic",K=c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var te=this.getField("VAR");x={type:x,fields:{VAR:te.saveState(!0)}},E.push({enabled:0<this.workspace.remainingCapacity(),text:K.replace("%1",te.getText()),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,x)})}},onchange:function(E){E=this.getFieldValue("VAR"),E=c.getVariable$$module$build$src$core$variables(this.workspace,E),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(E.type):this.getInput("VALUE").connection.setCheck(E.type)}},g=function(E){return function(){const x=E.workspace,K=E.getField("VAR").getVariable();c.renameVariable$$module$build$src$core$variables(x,K)}},_=function(E){return function(){const x=E.workspace,K=E.getField("VAR").getVariable();x.deleteVariableById(K.getId()),x.refreshToolboxSelection()}};c.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",f),c.defineBlocks$$module$build$src$core$common(h);var y={blocks:h},v=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),I={customContextMenu:function(E){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(K={text:c.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:R(this)},te=this.getField("VAR").getText(),te={text:c.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",te),enabled:!0,callback:N(this)},E.unshift(K),E.unshift(te));else{if(this.type==="variables_get")var x="variables_set",K=c.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else x="variables_get",K=c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var te=this.getField("VAR");x={type:x,fields:{VAR:te.saveState(!0)}},E.push({enabled:0<this.workspace.remainingCapacity(),text:K.replace("%1",te.getText()),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,x)})}}},R=function(E){return function(){const x=E.workspace,K=E.getField("VAR").getVariable();c.renameVariable$$module$build$src$core$variables(x,K)}},N=function(E){return function(){const x=E.workspace,K=E.getField("VAR").getVariable();x.deleteVariableById(K.getId()),x.refreshToolboxSelection()}};c.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",I),c.defineBlocks$$module$build$src$core$common(v);var M={blocks:v},L=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"¶"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),A={init:function(){this.WHERE_OPTIONS_1=[[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");var x=this.getInput("AT1")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return E.setAttribute("at1",`${x}`),x=this.getInput("AT2")instanceof c.ValueInput$$module$build$src$core$inputs$value_input,E.setAttribute("at2",`${x}`),E},domToMutation:function(E){const x=E.getAttribute("at1")==="true";E=E.getAttribute("at2")==="true",this.updateAt_(1,x),this.updateAt_(2,E)},updateAt_:function(E,x){this.removeInput("AT"+E),this.removeInput("ORDINAL"+E,!0),x?(this.appendValueInput("AT"+E).setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+E).appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+E),E===2&&c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const K=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+E]});K.setValidator(function(te){const pe=te==="FROM_START"||te==="FROM_END";if(pe!==x){const Xe=this.getSourceBlock();return Xe.updateAt_(E,pe),Xe.setFieldValue(te,"WHERE"+E),null}}),this.getInput("AT"+E).appendField(K,"WHERE"+E),E===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};L.text_getSubstring=A,L.text_changeCase={init:function(){const E=[[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},L.text_trim={init:function(){const E=[[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},L.text_print={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var P={updateType_:function(E){this.outputConnection.setCheck(E==="NUMBER"?"Number":"String")},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("type",this.getFieldValue("TYPE")),E},domToMutation:function(E){this.updateType_(E.getAttribute("type"))}};L.text_prompt_ext=Object.assign({},P,{init:function(){var E=[[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),E=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),E.setValidator(x=>{this.updateType_(x)}),this.appendValueInput("TEXT").appendField(E,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var W=Object.assign({},P,{init:function(){this.mixin(X);var E=[[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),E=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),E.setValidator(x=>{this.updateType_(x)}),this.appendDummyInput().appendField(E,"TYPE").appendField(this.newQuote_(!0)).appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});L.text_prompt=W,L.text_count={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},L.text_replace={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},L.text_reverse={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var X={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(E){for(let x=0,K;K=this.inputList[x];x++)for(let te=0,pe;pe=K.fieldRow[te];te++)if(E===pe.name){K.insertFieldAt(te,this.newQuote_(!0)),K.insertFieldAt(te+2,this.newQuote_(!1));return}console.warn('field named "'+E+'" not found in '+this.toDevString())},newQuote_:function(E){return E=this.RTL?!E:E,c.fromJson$$module$build$src$core$field_registry({type:"field_image",src:E?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:E?"“":"”"})}},H=function(){this.mixin(X),this.quoteField_("TEXT")},D={itemCount_:0,mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("items",`${this.itemCount_}`),E},domToMutation:function(E){this.itemCount_=parseInt(E.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(E){this.itemCount_=E.itemCount,this.updateShape_()},decompose:function(E){const x=E.newBlock("text_create_join_container");x.initSvg();let K=x.getInput("STACK").connection;for(let te=0;te<this.itemCount_;te++){const pe=E.newBlock("text_create_join_item");pe.initSvg(),K.connect(pe.previousConnection),K=pe.nextConnection}return x},compose:function(E){var x=E.getInputTargetBlock("STACK");for(E=[];x;)x.isInsertionMarker()||E.push(x.valueConnection_),x=x.getNextBlock();for(x=0;x<this.itemCount_;x++){const K=this.getInput("ADD"+x).connection.targetConnection;K&&E.indexOf(K)===-1&&K.disconnect()}for(this.itemCount_=E.length,this.updateShape_(),x=0;x<this.itemCount_;x++){let K;(K=E[x])==null||K.reconnect(this,"ADD"+x)}},saveConnections:function(E){E=E.getInputTargetBlock("STACK");let x=0;for(;E;){if(E.isInsertionMarker()){E=E.getNextBlock();continue}const K=this.getInput("ADD"+x);E.valueConnection_=K&&K.connection.targetConnection,E=E.getNextBlock(),x++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var E=0;E<this.itemCount_;E++)if(!this.getInput("ADD"+E)){const x=this.appendValueInput("ADD"+E).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT);E===0&&x.appendField(c.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(E=this.itemCount_;this.getInput("ADD"+E);E++)this.removeInput("ADD"+E)}},F=function(){this.mixin(X),this.itemCount_=2,this.updateShape_(),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};c.register$$module$build$src$core$extensions("text_append_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var J=function(){this.setTooltip(()=>c.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Q={isAt_:!1,mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("at",`${this.isAt_}`),E},domToMutation:function(E){E=E.getAttribute("at")!=="false",this.updateAt_(E)},updateAt_:function(E){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),E&&(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=E}},ne=function(){this.getField("WHERE").setValidator(function(E){E=E==="FROM_START"||E==="FROM_END";const x=this.getSourceBlock();E!==x.isAt_&&x.updateAt_(E)}),this.updateAt_(!0),this.setTooltip(()=>{var E=this.getFieldValue("WHERE");let x=c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(E==="FROM_START"||E==="FROM_END")&&(E=E==="FROM_START"?c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(x+="  "+E.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),x})};c.register$$module$build$src$core$extensions("text_indexOf_tooltip",J),c.register$$module$build$src$core$extensions("text_quotes",H),c.registerMixin$$module$build$src$core$extensions("quote_image_mixin",X),c.registerMutator$$module$build$src$core$extensions("text_join_mutator",D,F),c.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Q,ne),c.defineBlocks$$module$build$src$core$common(L);var ae={blocks:L},S={},oe={setStatements_:function(E){this.hasStatements_!==E&&(E?(this.appendStatementInput("STACK").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=E)},updateParams_:function(){let E="";this.arguments_.length&&(E=c.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),c.disable$$module$build$src$core$events$utils();try{this.setFieldValue(E,"PARAMS")}finally{c.enable$$module$build$src$core$events$utils()}},mutationToDom:function(E){const x=c.createElement$$module$build$src$core$utils$xml("mutation");E&&x.setAttribute("name",this.getFieldValue("NAME"));for(let K=0;K<this.argumentVarModels_.length;K++){const te=c.createElement$$module$build$src$core$utils$xml("arg"),pe=this.argumentVarModels_[K];te.setAttribute("name",pe.name),te.setAttribute("varid",pe.getId()),E&&this.paramIds_&&te.setAttribute("paramId",this.paramIds_[K]),x.appendChild(te)}return this.hasStatements_||x.setAttribute("statements","false"),x},domToMutation:function(E){this.arguments_=[],this.argumentVarModels_=[];for(let K=0,te;te=E.childNodes[K];K++)if(te.nodeName.toLowerCase()==="arg"){var x=te;const pe=x.getAttribute("name");x=x.getAttribute("varid")||x.getAttribute("varId"),this.arguments_.push(pe),x=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,x,pe,""),x!==null?this.argumentVarModels_.push(x):console.log(`Failed to create a variable named "${pe}", ignoring.`)}this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(E.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const E=Object.create(null);if(this.argumentVarModels_.length){E.params=[];for(let x=0;x<this.argumentVarModels_.length;x++)E.params.push({name:this.argumentVarModels_[x].name,id:this.argumentVarModels_[x].getId()})}return this.hasStatements_||(E.hasStatements=!1),E},loadExtraState:function(E){if(this.arguments_=[],this.argumentVarModels_=[],E.params)for(let K=0;K<E.params.length;K++){var x=E.params[K];x=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,x.id,x.name,""),this.arguments_.push(x.name),this.argumentVarModels_.push(x)}this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(E.hasStatements!==!1)},decompose:function(E){const x=c.createElement$$module$build$src$core$utils$xml("block");x.setAttribute("type","procedures_mutatorcontainer");var K=c.createElement$$module$build$src$core$utils$xml("statement");K.setAttribute("name","STACK"),x.appendChild(K);for(let pe=0;pe<this.arguments_.length;pe++){const Xe=c.createElement$$module$build$src$core$utils$xml("block");Xe.setAttribute("type","procedures_mutatorarg");var te=c.createElement$$module$build$src$core$utils$xml("field");te.setAttribute("name","NAME");const $t=c.createTextNode$$module$build$src$core$utils$xml(this.arguments_[pe]);te.appendChild($t),Xe.appendChild(te),te=c.createElement$$module$build$src$core$utils$xml("next"),Xe.appendChild(te),K.appendChild(Xe),K=te}return E=c.domToBlock$$module$build$src$core$xml(x,E),this.type==="procedures_defreturn"?E.setFieldValue(this.hasStatements_,"STATEMENTS"):E.removeInput("STATEMENT_INPUT"),c.mutateCallers$$module$build$src$core$procedures(this),E},compose:function(E){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let x=E.getInputTargetBlock("STACK");for(;x&&!x.isInsertionMarker();){var K=x.getFieldValue("NAME");this.arguments_.push(K),K=this.workspace.getVariable(K,""),this.argumentVarModels_.push(K),this.paramIds_.push(x.id),x=x.nextConnection&&x.nextConnection.targetBlock()}if(this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),E=E.getFieldValue("STATEMENTS"),E!==null&&(E=E==="TRUE",this.hasStatements_!==E))if(E){this.setStatements_(!0);var te;(te=this.statementConnection_)==null||te.reconnect(this,"STACK"),this.statementConnection_=null}else te=this.getInput("STACK").connection,(this.statementConnection_=te.targetConnection)&&(te=te.targetBlock(),te.unplug(),te.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(E,x){var K=this.workspace.getVariableById(E);if(K.type===""){K=K.name,x=this.workspace.getVariableById(x);var te=!1;for(let pe=0;pe<this.argumentVarModels_.length;pe++)this.argumentVarModels_[pe].getId()===E&&(this.arguments_[pe]=x.name,this.argumentVarModels_[pe]=x,te=!0);te&&(this.displayRenamedVar_(K,x.name),c.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(E){const x=E.name;let K=!1,te;for(let pe=0;pe<this.argumentVarModels_.length;pe++)this.argumentVarModels_[pe].getId()===E.getId()&&(te=this.arguments_[pe],this.arguments_[pe]=x,K=!0);K&&(this.displayRenamedVar_(te,x),c.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(E,x){this.updateParams_();var K=this.getIcon(c.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(K&&K.bubbleIsVisible()){K=K.getWorkspace().getAllBlocks(!1);for(let te=0,pe;pe=K[te];te++)pe.type==="procedures_mutatorarg"&&c.Names$$module$build$src$core$names.equals(E,pe.getFieldValue("NAME"))&&pe.setFieldValue(x,"NAME")}},customContextMenu:function(E){if(!this.isInFlyout){var x=this.getFieldValue("NAME"),K={type:this.callType_,extraState:{name:x,params:this.arguments_}};if(E.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",x),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,K)}),!this.isCollapsed())for(x=0;x<this.argumentVarModels_.length;x++){K=this.argumentVarModels_[x];const te={type:"variables_get",fields:{VAR:{name:K.name,id:K.getId(),type:K.type}}};E.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",K.name),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,te)})}}}};S.procedures_defnoreturn=Object.assign({},oe,{init:function(){var E=c.findLegalName$$module$build$src$core$procedures("",this);E=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:E}),E.setValidator(c.rename$$module$build$src$core$procedures),E.setSpellcheck(!1),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(E,"NAME").appendField("","PARAMS"),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),S.procedures_defreturn=Object.assign({},oe,{init:function(){var E=c.findLegalName$$module$build$src$core$procedures("",this);E=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:E}),E.setValidator(c.rename$$module$build$src$core$procedures),E.setSpellcheck(!1),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(E,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(c.Align$$module$build$src$core$inputs$input.RIGHT).appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var ge={init:function(){this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};S.procedures_mutatorcontainer=ge;var me={init:function(){const E=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:c.DEFAULT_ARG$$module$build$src$core$procedures});E.setValidator(this.validator_),E.oldShowEditorFn_=E.showEditor_,E.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(E,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,E.onFinishEditing_=this.deleteIntermediateVars_,E.createdVariables_=[],E.onFinishEditing_("x")},validator_:function(E){var x=this.getSourceBlock();const K=x.workspace.getRootWorkspace();if(E=E.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!E)return null;const te=(x.workspace.targetWorkspace||x.workspace).getAllBlocks(!1),pe=E.toLowerCase();for(let Xe=0;Xe<te.length;Xe++){if(te[Xe].id===this.getSourceBlock().id)continue;const $t=te[Xe].getFieldValue("NAME");if($t&&$t.toLowerCase()===pe)return null}return x.isInFlyout||((x=K.getVariable(E,""))&&x.name!==E&&K.renameVariableById(x.getId(),E),x||(x=K.createVariable(E,""))&&this.createdVariables_&&this.createdVariables_.push(x)),E},deleteIntermediateVars_:function(E){const x=this.getSourceBlock().workspace.getRootWorkspace();if(x)for(let K=0;K<this.createdVariables_.length;K++){const te=this.createdVariables_[K];te.name!==E&&x.deleteVariableById(te.getId())}}};S.procedures_mutatorarg=me;var ye={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(E,x){c.Names$$module$build$src$core$names.equals(E,this.getProcedureCall())&&(this.setFieldValue(x,"NAME"),this.setTooltip((this.outputConnection?c.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:c.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",x)))},setProcedureParameters_:function(E,x){var K=c.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((K=(K=K&&K.getIcon(c.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&K.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),E.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=x;else{if(x.length!==E.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let pe=0;pe<this.arguments_.length;pe++){var te=this.getInput("ARG"+pe);te&&(te=te.connection.targetConnection,this.quarkConnections_[this.quarkIds_[pe]]=te,K&&te&&x.indexOf(this.quarkIds_[pe])===-1&&(te.disconnect(),te.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(E),this.argumentVarModels_=[],E=0;E<this.arguments_.length;E++)K=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[E],""),this.argumentVarModels_.push(K);if(this.updateShape_(),this.quarkIds_=x){for(x=0;x<this.arguments_.length;x++)if(E=this.quarkIds_[x],E in this.quarkConnections_){let pe;(pe=this.quarkConnections_[E])!=null&&pe.reconnect(this,"ARG"+x)||delete this.quarkConnections_[E]}}}},updateShape_:function(){for(var E=0;E<this.arguments_.length;E++){var x=this.getField("ARGNAME"+E);if(x){c.disable$$module$build$src$core$events$utils();try{x.setValue(this.arguments_[E])}finally{c.enable$$module$build$src$core$events$utils()}}else x=c.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[E]}),this.appendValueInput("ARG"+E).setAlign(c.Align$$module$build$src$core$inputs$input.RIGHT).appendField(x,"ARGNAME"+E).init()}for(E=this.arguments_.length;this.getInput("ARG"+E);E++)this.removeInput("ARG"+E);(E=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(E.appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),E.init()):this.getField("WITH")&&E.removeField("WITH"))},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");E.setAttribute("name",this.getProcedureCall());for(let x=0;x<this.arguments_.length;x++){const K=c.createElement$$module$build$src$core$utils$xml("arg");K.setAttribute("name",this.arguments_[x]),E.appendChild(K)}return E},domToMutation:function(E){var x=E.getAttribute("name");this.renameProcedure(this.getProcedureCall(),x),x=[];const K=[];for(let te=0,pe;pe=E.childNodes[te];te++)pe.nodeName.toLowerCase()==="arg"&&(x.push(pe.getAttribute("name")),K.push(pe.getAttribute("paramId")));this.setProcedureParameters_(x,K)},saveExtraState:function(){const E=Object.create(null);return E.name=this.getProcedureCall(),this.arguments_.length&&(E.params=this.arguments_),E},loadExtraState:function(E){if(this.renameProcedure(this.getProcedureCall(),E.name),E=E.params){const x=[];x.length=E.length,x.fill(null),this.setProcedureParameters_(E,x)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(E){if(this.workspace&&!this.workspace.isFlyout&&E.recordUndo)if(E.type===c.CREATE$$module$build$src$core$events$utils&&E.ids.indexOf(this.id)!==-1){var x=this.getProcedureCall();if(x=c.getDefinition$$module$build$src$core$procedures(x,this.workspace),!x||x.type===this.defType_&&JSON.stringify(x.getVars())===JSON.stringify(this.arguments_)||(x=null),!x){c.setGroup$$module$build$src$core$events$utils(E.group),E=c.createElement$$module$build$src$core$utils$xml("xml"),x=c.createElement$$module$build$src$core$utils$xml("block"),x.setAttribute("type",this.defType_);var K=this.getRelativeToSurfaceXY(),te=K.y+2*c.config$$module$build$src$core$config.snapRadius;x.setAttribute("x",`${K.x+c.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),x.setAttribute("y",`${te}`),K=this.mutationToDom(),x.appendChild(K),K=c.createElement$$module$build$src$core$utils$xml("field"),K.setAttribute("name","NAME"),te=this.getProcedureCall();const pe=c.findLegalName$$module$build$src$core$procedures(te,this);te!==pe&&this.renameProcedure(te,pe),K.appendChild(c.createTextNode$$module$build$src$core$utils$xml(te)),x.appendChild(K),E.appendChild(x),c.domToWorkspace$$module$build$src$core$xml(E,this.workspace),c.setGroup$$module$build$src$core$events$utils(!1)}}else E.type===c.DELETE$$module$build$src$core$events$utils?(x=this.getProcedureCall(),c.getDefinition$$module$build$src$core$procedures(x,this.workspace)||(c.setGroup$$module$build$src$core$events$utils(E.group),this.dispose(!0),c.setGroup$$module$build$src$core$events$utils(!1))):E.type===c.CHANGE$$module$build$src$core$events$utils&&E.element==="disabled"&&(x=this.getProcedureCall(),(x=c.getDefinition$$module$build$src$core$procedures(x,this.workspace))&&x.id===E.blockId&&((x=c.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),c.setGroup$$module$build$src$core$events$utils(E.group),E.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),c.setGroup$$module$build$src$core$events$utils(x)))},customContextMenu:function(E){if(this.workspace.isMovable()){var x=this.getProcedureCall(),K=this.workspace;E.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const te=c.getDefinition$$module$build$src$core$procedures(x,K);te&&(K.centerOnBlock(te.id),te.select())}})}}};S.procedures_callnoreturn=Object.assign({},ye,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),S.procedures_callreturn=Object.assign({},ye,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"});var Y={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("value",String(Number(this.hasReturnValue_))),E},domToMutation:function(E){this.hasReturnValue_=E.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(E){if(!(this.workspace.isDragging&&this.workspace.isDragging()||E.type!==c.MOVE$$module$build$src$core$events$utils)){var x=!1,K=this;do{if(this.FUNCTION_TYPES.indexOf(K.type)!==-1){x=!0;break}K=K.getSurroundParent()}while(K);x?(K.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):K.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(K=c.getGroup$$module$build$src$core$events$utils(),c.setGroup$$module$build$src$core$events$utils(E.group),this.setEnabled(x),c.setGroup$$module$build$src$core$events$utils(K))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};S.procedures_ifreturn=Y,c.defineBlocks$$module$build$src$core$common(S);var ue={blocks:S},ve=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),$e={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};c.register$$module$build$src$core$extensions("math_op_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("OP",$e));var he={mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation"),x=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return E.setAttribute("divisor_input",String(x)),E},domToMutation:function(E){E=E.getAttribute("divisor_input")==="true",this.updateShape_(E)},updateShape_:function(E){const x=this.getInput("DIVISOR");E?x||this.appendValueInput("DIVISOR").setCheck("Number"):x&&this.removeInput("DIVISOR")}},U=function(){this.getField("PROPERTY").setValidator(function(E){E=E==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(E)})};c.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",he,U),c.register$$module$build$src$core$extensions("math_change_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var ie={updateType_:function(E){E==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("op",this.getFieldValue("OP")),E},domToMutation:function(E){if(E=E.getAttribute("op"),E===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(E)}},Ee=function(){this.getField("OP").setValidator((function(E){this.updateType_(E)}).bind(this))};c.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",ie,Ee),c.defineBlocks$$module$build$src$core$common(ve);var Ae={blocks:ve},fe=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Ue={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};c.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Ue));var Le={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};c.register$$module$build$src$core$extensions("controls_flow_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",Le));var Fe={customContextMenu:function(E){if(!this.isInFlyout){var x=this.getField("VAR"),K=x.getVariable().name;this.isCollapsed()||K===null||(x={type:"variables_get",fields:{VAR:x.saveState(!0)}},E.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",K),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,x)}))}}};c.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Fe),c.register$$module$build$src$core$extensions("controls_for_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),c.register$$module$build$src$core$extensions("controls_forEach_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Be=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),tt={getSurroundLoop:function(){let E=this;do{if(Be.has(E.type))return E;E=E.getSurroundParent()}while(E);return null},onchange:function(E){var x=this.workspace;if(x.isDragging&&!x.isDragging()&&E.type===c.MOVE$$module$build$src$core$events$utils&&(x=!!this.getSurroundLoop(),this.setWarningText(x?null:c.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout)){const K=c.getGroup$$module$build$src$core$events$utils();c.setGroup$$module$build$src$core$events$utils(E.group),this.setEnabled(x),c.setGroup$$module$build$src$core$events$utils(K)}}};c.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",tt),c.defineBlocks$$module$build$src$core$common(fe);var Ke={blocks:fe,loopTypes:Be},it=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Ie={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};c.register$$module$build$src$core$extensions("logic_op_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Ie));var ft={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const E=c.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&E.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&E.setAttribute("else","1"),E},domToMutation:function(E){this.elseifCount_=parseInt(E.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(E.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const E=Object.create(null);return this.elseifCount_&&(E.elseIfCount=this.elseifCount_),this.elseCount_&&(E.hasElse=!0),E},loadExtraState:function(E){this.elseifCount_=E.elseIfCount||0,this.elseCount_=E.hasElse?1:0,this.updateShape_()},decompose:function(E){const x=E.newBlock("controls_if_if");x.initSvg();let K=x.nextConnection;for(let te=1;te<=this.elseifCount_;te++){const pe=E.newBlock("controls_if_elseif");pe.initSvg(),K.connect(pe.previousConnection),K=pe.nextConnection}return this.elseCount_&&(E=E.newBlock("controls_if_else"),E.initSvg(),K.connect(E.previousConnection)),x},compose:function(E){E=E.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const x=[null],K=[null];let te=null;for(;E;){if(!E.isInsertionMarker())switch(E.type){case"controls_if_elseif":this.elseifCount_++,x.push(E.valueConnection_),K.push(E.statementConnection_);break;case"controls_if_else":this.elseCount_++,te=E.statementConnection_;break;default:throw TypeError("Unknown block type: "+E.type)}E=E.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(x,K,te)},saveConnections:function(E){E=E.nextConnection.targetBlock();let x=1;for(;E;){if(!E.isInsertionMarker())switch(E.type){case"controls_if_elseif":var K=this.getInput("IF"+x);const te=this.getInput("DO"+x);E.valueConnection_=K&&K.connection.targetConnection,E.statementConnection_=te&&te.connection.targetConnection,x++;break;case"controls_if_else":K=this.getInput("ELSE"),E.statementConnection_=K&&K.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+E.type)}E=E.getNextBlock()}},rebuildShape_:function(){const E=[null],x=[null];let K=null;this.getInput("ELSE")&&(K=this.getInput("ELSE").connection.targetConnection);for(let te=1;this.getInput("IF"+te);te++){const pe=this.getInput("IF"+te),Xe=this.getInput("DO"+te);E.push(pe.connection.targetConnection),x.push(Xe.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(E,x,K)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var E=1;this.getInput("IF"+E);E++)this.removeInput("IF"+E),this.removeInput("DO"+E);for(E=1;E<=this.elseifCount_;E++)this.appendValueInput("IF"+E).setCheck("Boolean").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+E).appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(E,x,K){for(let te=1;te<=this.elseifCount_;te++){let pe;(pe=E[te])==null||pe.reconnect(this,"IF"+te);let Xe;(Xe=x[te])==null||Xe.reconnect(this,"DO"+te)}K==null||K.reconnect(this,"ELSE")}};c.registerMutator$$module$build$src$core$extensions("controls_if_mutator",ft,null,["controls_if_elseif","controls_if_else"]);var He=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};c.register$$module$build$src$core$extensions("controls_if_tooltip",He);var Tt={onchange:function(E){this.prevBlocks_||(this.prevBlocks_=[null,null]);var x=this.getInputTargetBlock("A");const K=this.getInputTargetBlock("B");x&&K&&!this.workspace.connectionChecker.doTypeChecks(x.outputConnection,K.outputConnection)&&(c.setGroup$$module$build$src$core$events$utils(E.group),E=this.prevBlocks_[0],E!==x&&(x.unplug(),!E||E.isDisposed()||E.isShadow()||this.getInput("A").connection.connect(E.outputConnection)),x=this.prevBlocks_[1],x!==K&&(K.unplug(),!x||x.isDisposed()||x.isShadow()||this.getInput("B").connection.connect(x.outputConnection)),this.bumpNeighbours(),c.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Ct=function(){this.mixin(Tt)};c.register$$module$build$src$core$extensions("logic_compare",Ct);var bt={prevParentConnection_:null,onchange:function(E){const x=this.getInputTargetBlock("THEN"),K=this.getInputTargetBlock("ELSE"),te=this.outputConnection.targetConnection;if((x||K)&&te)for(let pe=0;2>pe;pe++){const Xe=pe===1?x:K;Xe&&!Xe.workspace.connectionChecker.doTypeChecks(Xe.outputConnection,te)&&(c.setGroup$$module$build$src$core$events$utils(E.group),te===this.prevParentConnection_?(this.unplug(),te.getSourceBlock().bumpNeighbours()):(Xe.unplug(),Xe.bumpNeighbours()),c.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=te}};c.registerMixin$$module$build$src$core$extensions("logic_ternary",bt),c.defineBlocks$$module$build$src$core$common(it);var ht=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),gt={init:function(){this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("items",String(this.itemCount_)),E},domToMutation:function(E){if(E=E.getAttribute("items"),!E)throw new TypeError("element did not have items");this.itemCount_=parseInt(E,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(E){this.itemCount_=E.itemCount,this.updateShape_()},decompose:function(E){const x=E.newBlock("lists_create_with_container");x.initSvg();let K=x.getInput("STACK").connection;for(let te=0;te<this.itemCount_;te++){const pe=E.newBlock("lists_create_with_item");if(pe.initSvg(),!pe.previousConnection)throw Error("itemBlock has no previousConnection");K.connect(pe.previousConnection),K=pe.nextConnection}return x},compose:function(E){var x=E.getInputTargetBlock("STACK");for(E=[];x;)x.isInsertionMarker()||E.push(x.valueConnection_),x=x.getNextBlock();for(x=0;x<this.itemCount_;x++){const K=this.getInput("ADD"+x).connection.targetConnection;K&&E.indexOf(K)===-1&&K.disconnect()}for(this.itemCount_=E.length,this.updateShape_(),x=0;x<this.itemCount_;x++){let K;(K=E[x])==null||K.reconnect(this,"ADD"+x)}},saveConnections:function(E){E=E.getInputTargetBlock("STACK");let x=0;for(;E;){if(E.isInsertionMarker()){E=E.getNextBlock();continue}const K=this.getInput("ADD"+x);let te;E.valueConnection_=(te=K)==null?void 0:te.connection.targetConnection,E=E.getNextBlock(),x++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var E=0;E<this.itemCount_;E++)if(!this.getInput("ADD"+E)){const x=this.appendValueInput("ADD"+E).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT);E===0&&x.appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(E=this.itemCount_;this.getInput("ADD"+E);E++)this.removeInput("ADD"+E)}};ht.lists_create_with=gt;var ct={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};ht.lists_create_with_container=ct;var _t={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};ht.lists_create_with_item=_t;var Me={init:function(){var E=[[c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),E=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),!E)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(E,"END"),this.setInputsInline(!0),this.setTooltip(()=>c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};ht.lists_indexOf=Me;var le={init:function(){var E=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),E=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),E.setValidator(function(x){x=x==="REMOVE",this.getSourceBlock().updateStatement_(x)}),this.appendValueInput("VALUE").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(E,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const x=this.getFieldValue("MODE"),K=this.getFieldValue("WHERE");let te="";switch(x+" "+K){case"GET FROM_START":case"GET FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(K==="FROM_START"||K==="FROM_END")&&(te+="  "+(K==="FROM_START"?c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),te})},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");E.setAttribute("statement",String(!this.outputConnection));const x=this.getInput("AT")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return E.setAttribute("at",String(x)),E},domToMutation:function(E){const x=E.getAttribute("statement")==="true";this.updateStatement_(x),E=E.getAttribute("at")!=="false",this.updateAt_(E)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(E){E.isStatement?this.updateStatement_(!0):typeof E=="string"&&this.domToMutation(c.textToDom$$module$build$src$core$utils$xml(E))},updateStatement_:function(E){E!==!this.outputConnection&&(this.unplug(!0,!0),E?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(E){this.removeInput("AT"),this.removeInput("ORDINAL",!0),E?(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const x=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});x.setValidator(function(K){const te=K==="FROM_START"||K==="FROM_END";if(te!==E){const pe=this.getSourceBlock();return pe.updateAt_(te),pe.setFieldValue(K,"WHERE"),null}}),this.getInput("AT").appendField(x,"WHERE"),c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};ht.lists_getIndex=le;var De={init:function(){var E=[[c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),E=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:E}),this.appendDummyInput().appendField(E,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const x=this.getFieldValue("MODE"),K=this.getFieldValue("WHERE");let te="";switch(x+" "+K){case"SET FROM_START":case"SET FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":te=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(K==="FROM_START"||K==="FROM_END")&&(te+="  "+c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),te})},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation"),x=this.getInput("AT")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return E.setAttribute("at",String(x)),E},domToMutation:function(E){E=E.getAttribute("at")!=="false",this.updateAt_(E)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(E){this.removeInput("AT"),this.removeInput("ORDINAL",!0),E?(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const x=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});x.setValidator(function(K){const te=K==="FROM_START"||K==="FROM_END";if(te!==E){const pe=this.getSourceBlock();return pe.updateAt_(te),pe.setFieldValue(K,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(x,"WHERE")}};ht.lists_setIndex=De;var _o={init:function(){this.WHERE_OPTIONS_1=[[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");var x=this.getInput("AT1")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return E.setAttribute("at1",String(x)),x=this.getInput("AT2")instanceof c.ValueInput$$module$build$src$core$inputs$value_input,E.setAttribute("at2",String(x)),E},domToMutation:function(E){const x=E.getAttribute("at1")==="true";E=E.getAttribute("at2")==="true",this.updateAt_(1,x),this.updateAt_(2,E)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(E,x){this.removeInput("AT"+E),this.removeInput("ORDINAL"+E,!0),x?(this.appendValueInput("AT"+E).setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+E).appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+E);const K=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+E]});K.setValidator(function(te){const pe=te==="FROM_START"||te==="FROM_END";if(pe!==x){const Xe=this.getSourceBlock();return Xe.updateAt_(E,pe),Xe.setFieldValue(te,"WHERE"+E),null}}),this.getInput("AT"+E).appendField(K,"WHERE"+E),E===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};ht.lists_getSublist=_o,ht.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},ht.lists_split={init:function(){const E=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[c.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!E)throw Error("field_dropdown not found");E.setValidator(x=>{this.updateType_(x)}),this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(E,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(c.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const x=this.getFieldValue("MODE");if(x==="SPLIT")return c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(x==="JOIN")return c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+x)})},updateType_:function(E){if(this.getFieldValue("MODE")!==E){const x=this.getInput("INPUT").connection;x.setShadowDom(null);const K=x.targetBlock();K&&(x.disconnect(),K.isShadow()?K.dispose(!1):this.bumpNeighbours())}E==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const E=c.createElement$$module$build$src$core$utils$xml("mutation");return E.setAttribute("mode",this.getFieldValue("MODE")),E},domToMutation:function(E){this.updateType_(E.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},c.defineBlocks$$module$build$src$core$common(ht);var ut={blocks:ht},io=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);c.defineBlocks$$module$build$src$core$common(io);var st={blocks:io},zt=Object.assign({},io,ht,it,fe,ve,S,v,h),j={blocks:zt,colour:st,lists:ut,loops:Ke,math:Ae,procedures:ue,texts:ae,variables:M,variablesDynamic:y};return j.__namespace__=c,j})}(Vm)),Vm.exports}var nM=Gm.exports,Qy;function iM(){return Qy||(Qy=1,function(r,s){(function(n,c){r.exports=c(rM())})(nM,function(n){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(Gm)),Gm.exports}var Wm={exports:{}},zm={exports:{}},sM=zm.exports,Zy;function lM(){return Zy||(Zy=1,function(r,s){(function(n,c){r.exports=c(JT())})(sM,function(n){var c=n.__namespace__,h=function(b,O){return[O.quote_(b.getFieldValue("COLOUR")),j.ATOMIC]},f=function(b,O){return[O.provideFunction_("colourRandom",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}() {
  var num = Math.floor(Math.random() * Math.pow(2, 24));
  return '#' + ('00000' + num.toString(16)).substr(-6);
}
`)+"()",j.FUNCTION_CALL]},g=function(b,O){const q=O.valueToCode(b,"RED",j.NONE)||0,se=O.valueToCode(b,"GREEN",j.NONE)||0;return b=O.valueToCode(b,"BLUE",j.NONE)||0,[O.provideFunction_("colourRgb",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {
  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;
  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;
  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+q+", "+se+", "+b+")",j.FUNCTION_CALL]},_=function(b,O){const q=O.valueToCode(b,"COLOUR1",j.NONE)||"'#000000'",se=O.valueToCode(b,"COLOUR2",j.NONE)||"'#000000'";return b=O.valueToCode(b,"RATIO",j.NONE)||.5,[O.provideFunction_("colourBlend",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {
  ratio = Math.max(Math.min(Number(ratio), 1), 0);
  var r1 = parseInt(c1.substring(1, 3), 16);
  var g1 = parseInt(c1.substring(3, 5), 16);
  var b1 = parseInt(c1.substring(5, 7), 16);
  var r2 = parseInt(c2.substring(1, 3), 16);
  var g2 = parseInt(c2.substring(3, 5), 16);
  var b2 = parseInt(c2.substring(5, 7), 16);
  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);
  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);
  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);
  r = ('0' + (r || 0).toString(16)).slice(-2);
  g = ('0' + (g || 0).toString(16)).slice(-2);
  b = ('0' + (b || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+q+", "+se+", "+b+")",j.FUNCTION_CALL]},y=function(b,O){return["[]",j.ATOMIC]},v=function(b,O){const q=Array(b.itemCount_);for(let se=0;se<b.itemCount_;se++)q[se]=O.valueToCode(b,"ADD"+se,j.NONE)||"null";return["["+q.join(", ")+"]",j.ATOMIC]},I=function(b,O){const q=O.provideFunction_("listsRepeat",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),se=O.valueToCode(b,"ITEM",j.NONE)||"null";return b=O.valueToCode(b,"NUM",j.NONE)||"0",[q+"("+se+", "+b+")",j.FUNCTION_CALL]},R=function(b,O){return[(O.valueToCode(b,"VALUE",j.MEMBER)||"[]")+".length",j.MEMBER]},N=function(b,O){return["!"+(O.valueToCode(b,"VALUE",j.MEMBER)||"[]")+".length",j.LOGICAL_NOT]},M=function(b,O){const q=b.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",se=O.valueToCode(b,"FIND",j.NONE)||"''";return O=(O.valueToCode(b,"VALUE",j.MEMBER)||"[]")+"."+q+"("+se+")",b.workspace.options.oneBasedIndex?[O+" + 1",j.ADDITION]:[O,j.FUNCTION_CALL]},L=function(b,O){const q=b.getFieldValue("MODE")||"GET",se=b.getFieldValue("WHERE")||"FROM_START";var Ce=O.valueToCode(b,"VALUE",se==="RANDOM"?j.NONE:j.MEMBER)||"[]";switch(se){case"FIRST":if(q==="GET")return[Ce+"[0]",j.MEMBER];if(q==="GET_REMOVE")return[Ce+".shift()",j.MEMBER];if(q==="REMOVE")return Ce+`.shift();
`;break;case"LAST":if(q==="GET")return[Ce+".slice(-1)[0]",j.MEMBER];if(q==="GET_REMOVE")return[Ce+".pop()",j.MEMBER];if(q==="REMOVE")return Ce+`.pop();
`;break;case"FROM_START":if(b=O.getAdjusted(b,"AT"),q==="GET")return[Ce+"["+b+"]",j.MEMBER];if(q==="GET_REMOVE")return[Ce+".splice("+b+", 1)[0]",j.FUNCTION_CALL];if(q==="REMOVE")return Ce+".splice("+b+`, 1);
`;break;case"FROM_END":if(b=O.getAdjusted(b,"AT",1,!0),q==="GET")return[Ce+".slice("+b+")[0]",j.FUNCTION_CALL];if(q==="GET_REMOVE")return[Ce+".splice("+b+", 1)[0]",j.FUNCTION_CALL];if(q==="REMOVE")return Ce+".splice("+b+", 1);";break;case"RANDOM":if(Ce=O.provideFunction_("listsGetRandomItem",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+Ce+", "+(q!=="GET")+")",q==="GET"||q==="GET_REMOVE")return[Ce,j.FUNCTION_CALL];if(q==="REMOVE")return Ce+`;
`}throw Error("Unhandled combination (lists_getIndex).")},A=function(b,O){function q(){if(se.match(/^\w+$/))return"";const lr=O.nameDB_.getDistinctName("tmpList",c.NameType$$module$build$src$core$names.VARIABLE),jr="var "+lr+" = "+se+`;
`;return se=lr,jr}let se=O.valueToCode(b,"LIST",j.MEMBER)||"[]";const Ce=b.getFieldValue("MODE")||"GET";var ot=b.getFieldValue("WHERE")||"FROM_START";const at=O.valueToCode(b,"TO",j.ASSIGNMENT)||"null";switch(ot){case"FIRST":if(Ce==="SET")return se+"[0] = "+at+`;
`;if(Ce==="INSERT")return se+".unshift("+at+`);
`;break;case"LAST":if(Ce==="SET")return q()+(se+"["+se+".length - 1] = "+at+`;
`);if(Ce==="INSERT")return se+".push("+at+`);
`;break;case"FROM_START":if(b=O.getAdjusted(b,"AT"),Ce==="SET")return se+"["+b+"] = "+at+`;
`;if(Ce==="INSERT")return se+".splice("+b+", 0, "+at+`);
`;break;case"FROM_END":if(b=O.getAdjusted(b,"AT",1,!1,j.SUBTRACTION),ot=q(),Ce==="SET")return ot+(se+"["+se+".length - "+b+"] = "+at+`;
`);if(Ce==="INSERT")return ot+(se+".splice("+se+".length - "+b+", 0, "+at+`);
`);break;case"RANDOM":if(b=q(),ot=O.nameDB_.getDistinctName("tmpX",c.NameType$$module$build$src$core$names.VARIABLE),b+="var "+ot+" = Math.floor(Math.random() * "+se+`.length);
`,Ce==="SET")return b+(se+"["+ot+"] = "+at+`;
`);if(Ce==="INSERT")return b+(se+".splice("+ot+", 0, "+at+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},P=function(b,O){var q={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},se=O.valueToCode(b,"LIST",j.MEMBER)||"[]";const Ce=b.getFieldValue("WHERE1"),ot=b.getFieldValue("WHERE2");if(Ce==="FIRST"&&ot==="LAST")se+=".slice(0)";else if(se.match(/^\w+$/)||Ce!=="FROM_END"&&ot==="FROM_START"){switch(Ce){case"FROM_START":q=O.getAdjusted(b,"AT1");break;case"FROM_END":q=O.getAdjusted(b,"AT1",1,!1,j.SUBTRACTION),q=se+".length - "+q;break;case"FIRST":q="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(ot){case"FROM_START":O=O.getAdjusted(b,"AT2",1);break;case"FROM_END":O=O.getAdjusted(b,"AT2",0,!1,j.SUBTRACTION),O=se+".length - "+O;break;case"LAST":O=se+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}se=se+".slice("+q+", "+O+")"}else{const at=O.getAdjusted(b,"AT1");b=O.getAdjusted(b,"AT2"),se=O.provideFunction_("subsequence"+q[Ce]+q[ot],`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(sequence${Ce==="FROM_END"||Ce==="FROM_START"?", at1":""}${ot==="FROM_END"||ot==="FROM_START"?", at2":""}) {
  var start = ${K("sequence",Ce,"at1")};
  var end = ${K("sequence",ot,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+se+(Ce==="FROM_END"||Ce==="FROM_START"?", "+at:"")+(ot==="FROM_END"||ot==="FROM_START"?", "+b:"")+")"}return[se,j.FUNCTION_CALL]},W=function(b,O){const q=O.valueToCode(b,"LIST",j.FUNCTION_CALL)||"[]",se=b.getFieldValue("DIRECTION")==="1"?1:-1;return b=b.getFieldValue("TYPE"),O=O.provideFunction_("listsGetSortCompare",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[q+".slice().sort("+O+'("'+b+'", '+se+"))",j.FUNCTION_CALL]},X=function(b,O){let q=O.valueToCode(b,"INPUT",j.MEMBER);if(O=O.valueToCode(b,"DELIM",j.NONE)||"''",b=b.getFieldValue("MODE"),b==="SPLIT")q||(q="''"),b="split";else if(b==="JOIN")q||(q="[]"),b="join";else throw Error("Unknown mode: "+b);return[q+"."+b+"("+O+")",j.FUNCTION_CALL]},H=function(b,O){return[(O.valueToCode(b,"LIST",j.FUNCTION_CALL)||"[]")+".slice().reverse()",j.FUNCTION_CALL]},D=function(b,O){var q=0;let se="";O.STATEMENT_PREFIX&&(se+=O.injectId(O.STATEMENT_PREFIX,b));do{const Ce=O.valueToCode(b,"IF"+q,j.NONE)||"false";let ot=O.statementToCode(b,"DO"+q);O.STATEMENT_SUFFIX&&(ot=O.prefixLines(O.injectId(O.STATEMENT_SUFFIX,b),O.INDENT)+ot),se+=(0<q?" else ":"")+"if ("+Ce+`) {
`+ot+"}",q++}while(b.getInput("IF"+q));return(b.getInput("ELSE")||O.STATEMENT_SUFFIX)&&(q=O.statementToCode(b,"ELSE"),O.STATEMENT_SUFFIX&&(q=O.prefixLines(O.injectId(O.STATEMENT_SUFFIX,b),O.INDENT)+q),se+=` else {
`+q+"}"),se+`
`},F=function(b,O){const q={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[b.getFieldValue("OP")],se=q==="=="||q==="!="?j.EQUALITY:j.RELATIONAL,Ce=O.valueToCode(b,"A",se)||"0";return b=O.valueToCode(b,"B",se)||"0",[Ce+" "+q+" "+b,se]},J=function(b,O){const q=b.getFieldValue("OP")==="AND"?"&&":"||",se=q==="&&"?j.LOGICAL_AND:j.LOGICAL_OR;let Ce=O.valueToCode(b,"A",se);return b=O.valueToCode(b,"B",se),Ce||b?(O=q==="&&"?"true":"false",Ce||(Ce=O),b||(b=O)):b=Ce="false",[Ce+" "+q+" "+b,se]},Q=function(b,O){const q=j.LOGICAL_NOT;return["!"+(O.valueToCode(b,"BOOL",q)||"true"),q]},ne=function(b,O){return[b.getFieldValue("BOOL")==="TRUE"?"true":"false",j.ATOMIC]},ae=function(b,O){return["null",j.ATOMIC]},S=function(b,O){const q=O.valueToCode(b,"IF",j.CONDITIONAL)||"false",se=O.valueToCode(b,"THEN",j.CONDITIONAL)||"null";return b=O.valueToCode(b,"ELSE",j.CONDITIONAL)||"null",[q+" ? "+se+" : "+b,j.CONDITIONAL]},oe=function(b,O){let q;q=b.getField("TIMES")?String(Number(b.getFieldValue("TIMES"))):O.valueToCode(b,"TIMES",j.ASSIGNMENT)||"0";let se=O.statementToCode(b,"DO");se=O.addLoopTrap(se,b),b="";const Ce=O.nameDB_.getDistinctName("count",c.NameType$$module$build$src$core$names.VARIABLE);let ot=q;return q.match(/^\w+$/)||c.isNumber$$module$build$src$core$utils$string(q)||(ot=O.nameDB_.getDistinctName("repeat_end",c.NameType$$module$build$src$core$names.VARIABLE),b+="var "+ot+" = "+q+`;
`),b+("for (var "+Ce+" = 0; "+Ce+" < "+ot+"; "+Ce+`++) {
`+se+`}
`)},ge=function(b,O){const q=b.getFieldValue("MODE")==="UNTIL";let se=O.valueToCode(b,"BOOL",q?j.LOGICAL_NOT:j.NONE)||"false",Ce=O.statementToCode(b,"DO");return Ce=O.addLoopTrap(Ce,b),q&&(se="!"+se),"while ("+se+`) {
`+Ce+`}
`},me=function(b,O){var q=O.getVariableName(b.getFieldValue("VAR")),se=O.valueToCode(b,"FROM",j.ASSIGNMENT)||"0",Ce=O.valueToCode(b,"TO",j.ASSIGNMENT)||"0";const ot=O.valueToCode(b,"BY",j.ASSIGNMENT)||"1";let at=O.statementToCode(b,"DO");if(at=O.addLoopTrap(at,b),c.isNumber$$module$build$src$core$utils$string(se)&&c.isNumber$$module$build$src$core$utils$string(Ce)&&c.isNumber$$module$build$src$core$utils$string(ot))O=Number(se)<=Number(Ce),b="for ("+q+" = "+se+"; "+q+(O?" <= ":" >= ")+Ce+"; "+q,q=Math.abs(Number(ot)),b=q===1?b+(O?"++":"--"):b+((O?" += ":" -= ")+q),b+=`) {
`+at+`}
`;else{b="";let lr=se;se.match(/^\w+$/)||c.isNumber$$module$build$src$core$utils$string(se)||(lr=O.nameDB_.getDistinctName(q+"_start",c.NameType$$module$build$src$core$names.VARIABLE),b+="var "+lr+" = "+se+`;
`),se=Ce,Ce.match(/^\w+$/)||c.isNumber$$module$build$src$core$utils$string(Ce)||(se=O.nameDB_.getDistinctName(q+"_end",c.NameType$$module$build$src$core$names.VARIABLE),b+="var "+se+" = "+Ce+`;
`),Ce=O.nameDB_.getDistinctName(q+"_inc",c.NameType$$module$build$src$core$names.VARIABLE),b+="var "+Ce+" = ",b=c.isNumber$$module$build$src$core$utils$string(ot)?b+(Math.abs(Number(ot))+`;
`):b+("Math.abs("+ot+`);
`),b+="if ("+lr+" > "+se+`) {
`,b+=O.INDENT+Ce+" = -"+Ce+`;
`,b=b+`}
for (`+(q+" = "+lr+"; "+Ce+" >= 0 ? "+q+" <= "+se+" : "+q+" >= "+se+"; "+q+" += "+Ce+`) {
`+at+`}
`)}return b},ye=function(b,O){const q=O.getVariableName(b.getFieldValue("VAR"));var se=O.valueToCode(b,"LIST",j.ASSIGNMENT)||"[]";let Ce=O.statementToCode(b,"DO");Ce=O.addLoopTrap(Ce,b),b="";let ot=se;return se.match(/^\w+$/)||(ot=O.nameDB_.getDistinctName(q+"_list",c.NameType$$module$build$src$core$names.VARIABLE),b+="var "+ot+" = "+se+`;
`),se=O.nameDB_.getDistinctName(q+"_index",c.NameType$$module$build$src$core$names.VARIABLE),Ce=O.INDENT+q+" = "+ot+"["+se+`];
`+Ce,b+("for (var "+se+" in "+ot+`) {
`+Ce+`}
`)},Y=function(b,O){let q="";if(O.STATEMENT_PREFIX&&(q+=O.injectId(O.STATEMENT_PREFIX,b)),O.STATEMENT_SUFFIX&&(q+=O.injectId(O.STATEMENT_SUFFIX,b)),O.STATEMENT_PREFIX){const se=b.getSurroundLoop();se&&!se.suppressPrefixSuffix&&(q+=O.injectId(O.STATEMENT_PREFIX,se))}switch(b.getFieldValue("FLOW")){case"BREAK":return q+`break;
`;case"CONTINUE":return q+`continue;
`}throw Error("Unknown flow statement.")},ue=function(b,O){return b=Number(b.getFieldValue("NUM")),[String(b),0<=b?j.ATOMIC:j.UNARY_NEGATION]},ve=function(b,O){var q={ADD:[" + ",j.ADDITION],MINUS:[" - ",j.SUBTRACTION],MULTIPLY:[" * ",j.MULTIPLICATION],DIVIDE:[" / ",j.DIVISION],POWER:[null,j.NONE]}[b.getFieldValue("OP")];const se=q[0];q=q[1];const Ce=O.valueToCode(b,"A",q)||"0";return b=O.valueToCode(b,"B",q)||"0",se?[Ce+se+b,q]:["Math.pow("+Ce+", "+b+")",j.FUNCTION_CALL]},$e=function(b,O){const q=b.getFieldValue("OP");let se;if(q==="NEG")return b=O.valueToCode(b,"NUM",j.UNARY_NEGATION)||"0",b[0]==="-"&&(b=" "+b),["-"+b,j.UNARY_NEGATION];switch(b=q==="SIN"||q==="COS"||q==="TAN"?O.valueToCode(b,"NUM",j.DIVISION)||"0":O.valueToCode(b,"NUM",j.NONE)||"0",q){case"ABS":se="Math.abs("+b+")";break;case"ROOT":se="Math.sqrt("+b+")";break;case"LN":se="Math.log("+b+")";break;case"EXP":se="Math.exp("+b+")";break;case"POW10":se="Math.pow(10,"+b+")";break;case"ROUND":se="Math.round("+b+")";break;case"ROUNDUP":se="Math.ceil("+b+")";break;case"ROUNDDOWN":se="Math.floor("+b+")";break;case"SIN":se="Math.sin("+b+" / 180 * Math.PI)";break;case"COS":se="Math.cos("+b+" / 180 * Math.PI)";break;case"TAN":se="Math.tan("+b+" / 180 * Math.PI)"}if(se)return[se,j.FUNCTION_CALL];switch(q){case"LOG10":se="Math.log("+b+") / Math.log(10)";break;case"ASIN":se="Math.asin("+b+") / Math.PI * 180";break;case"ACOS":se="Math.acos("+b+") / Math.PI * 180";break;case"ATAN":se="Math.atan("+b+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+q)}return[se,j.DIVISION]},he=function(b,O){return{PI:["Math.PI",j.MEMBER],E:["Math.E",j.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",j.DIVISION],SQRT2:["Math.SQRT2",j.MEMBER],SQRT1_2:["Math.SQRT1_2",j.MEMBER],INFINITY:["Infinity",j.ATOMIC]}[b.getFieldValue("CONSTANT")]},U=function(b,O){var q={EVEN:[" % 2 === 0",j.MODULUS,j.EQUALITY],ODD:[" % 2 === 1",j.MODULUS,j.EQUALITY],WHOLE:[" % 1 === 0",j.MODULUS,j.EQUALITY],POSITIVE:[" > 0",j.RELATIONAL,j.RELATIONAL],NEGATIVE:[" < 0",j.RELATIONAL,j.RELATIONAL],DIVISIBLE_BY:[null,j.MODULUS,j.EQUALITY],PRIME:[null,j.NONE,j.FUNCTION_CALL]};const se=b.getFieldValue("PROPERTY"),[Ce,ot,at]=q[se];return q=O.valueToCode(b,"NUMBER_TO_CHECK",ot)||"0",se==="PRIME"?b=O.provideFunction_("mathIsPrime",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+q+")":se==="DIVISIBLE_BY"?(b=O.valueToCode(b,"DIVISOR",j.MODULUS)||"0",b=q+" % "+b+" === 0"):b=q+Ce,[b,at]},ie=function(b,O){const q=O.valueToCode(b,"DELTA",j.ADDITION)||"0";return b=O.getVariableName(b.getFieldValue("VAR")),b+" = (typeof "+b+" === 'number' ? "+b+" : 0) + "+q+`;
`},Ee=function(b,O){var q=b.getFieldValue("OP");switch(q){case"SUM":b=O.valueToCode(b,"LIST",j.MEMBER)||"[]",b+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":b=O.valueToCode(b,"LIST",j.NONE)||"[]",b="Math.min.apply(null, "+b+")";break;case"MAX":b=O.valueToCode(b,"LIST",j.NONE)||"[]",b="Math.max.apply(null, "+b+")";break;case"AVERAGE":q=O.provideFunction_("mathMean",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),b=O.valueToCode(b,"LIST",j.NONE)||"[]",b=q+"("+b+")";break;case"MEDIAN":q=O.provideFunction_("mathMedian",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),b=O.valueToCode(b,"LIST",j.NONE)||"[]",b=q+"("+b+")";break;case"MODE":q=O.provideFunction_("mathModes",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
        modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),b=O.valueToCode(b,"LIST",j.NONE)||"[]",b=q+"("+b+")";break;case"STD_DEV":q=O.provideFunction_("mathStandardDeviation",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance = variance / n;
  return Math.sqrt(variance);
}
`),b=O.valueToCode(b,"LIST",j.NONE)||"[]",b=q+"("+b+")";break;case"RANDOM":q=O.provideFunction_("mathRandomList",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),b=O.valueToCode(b,"LIST",j.NONE)||"[]",b=q+"("+b+")";break;default:throw Error("Unknown operator: "+q)}return[b,j.FUNCTION_CALL]},Ae=function(b,O){const q=O.valueToCode(b,"DIVIDEND",j.MODULUS)||"0";return b=O.valueToCode(b,"DIVISOR",j.MODULUS)||"0",[q+" % "+b,j.MODULUS]},fe=function(b,O){const q=O.valueToCode(b,"VALUE",j.NONE)||"0",se=O.valueToCode(b,"LOW",j.NONE)||"0";return b=O.valueToCode(b,"HIGH",j.NONE)||"Infinity",["Math.min(Math.max("+q+", "+se+"), "+b+")",j.FUNCTION_CALL]},Ue=function(b,O){const q=O.valueToCode(b,"FROM",j.NONE)||"0";return b=O.valueToCode(b,"TO",j.NONE)||"0",[O.provideFunction_("mathRandomInt",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+q+", "+b+")",j.FUNCTION_CALL]},Le=function(b,O){return["Math.random()",j.FUNCTION_CALL]},Fe=function(b,O){const q=O.valueToCode(b,"X",j.NONE)||"0";return["Math.atan2("+(O.valueToCode(b,"Y",j.NONE)||"0")+", "+q+") / Math.PI * 180",j.DIVISION]},Be=function(b,O){const q=O.getProcedureName(b.getFieldValue("NAME"));var se="";O.STATEMENT_PREFIX&&(se+=O.injectId(O.STATEMENT_PREFIX,b)),O.STATEMENT_SUFFIX&&(se+=O.injectId(O.STATEMENT_SUFFIX,b)),se&&(se=O.prefixLines(se,O.INDENT));let Ce="";O.INFINITE_LOOP_TRAP&&(Ce=O.prefixLines(O.injectId(O.INFINITE_LOOP_TRAP,b),O.INDENT));const ot=O.statementToCode(b,"STACK");let at=O.valueToCode(b,"RETURN",j.NONE)||"",lr="";ot&&at&&(lr=se),at&&(at=O.INDENT+"return "+at+`;
`);const jr=[],ol=b.getVars();for(let Gn=0;Gn<ol.length;Gn++)jr[Gn]=O.getVariableName(ol[Gn]);return se="function "+q+"("+jr.join(", ")+`) {
`+se+Ce+ot+lr+at+"}",se=O.scrub_(b,se),O.definitions_["%"+q]=se,null},tt=function(b,O){const q=O.getProcedureName(b.getFieldValue("NAME")),se=[],Ce=b.getVars();for(let ot=0;ot<Ce.length;ot++)se[ot]=O.valueToCode(b,"ARG"+ot,j.NONE)||"null";return[q+"("+se.join(", ")+")",j.FUNCTION_CALL]},Ke=function(b,O){return O.forBlock.procedures_callreturn(b,O)[0]+`;
`},it=function(b,O){let q="if ("+(O.valueToCode(b,"CONDITION",j.NONE)||"false")+`) {
`;return O.STATEMENT_SUFFIX&&(q+=O.prefixLines(O.injectId(O.STATEMENT_SUFFIX,b),O.INDENT)),b.hasReturnValue_?(b=O.valueToCode(b,"VALUE",j.NONE)||"null",q+=O.INDENT+"return "+b+`;
`):q+=O.INDENT+`return;
`,q+`}
`},Ie=function(b,O){return[O.quote_(b.getFieldValue("TEXT")),j.ATOMIC]},ft=function(b,O){return b=O.multiline_quote_(b.getFieldValue("TEXT")),O=b.indexOf("+")!==-1?j.ADDITION:j.ATOMIC,[b,O]},He=function(b,O){switch(b.itemCount_){case 0:return["''",j.ATOMIC];case 1:return b=O.valueToCode(b,"ADD0",j.NONE)||"''",zr(b);case 2:var q=O.valueToCode(b,"ADD0",j.NONE)||"''";return b=O.valueToCode(b,"ADD1",j.NONE)||"''",[zr(q)[0]+" + "+zr(b)[0],j.ADDITION];default:q=Array(b.itemCount_);for(let se=0;se<b.itemCount_;se++)q[se]=O.valueToCode(b,"ADD"+se,j.NONE)||"''";return["["+q.join(",")+"].join('')",j.FUNCTION_CALL]}},Tt=function(b,O){const q=O.getVariableName(b.getFieldValue("VAR"));return b=O.valueToCode(b,"TEXT",j.NONE)||"''",q+" += "+zr(b)[0]+`;
`},Ct=function(b,O){return[(O.valueToCode(b,"VALUE",j.MEMBER)||"''")+".length",j.MEMBER]},bt=function(b,O){return["!"+(O.valueToCode(b,"VALUE",j.MEMBER)||"''")+".length",j.LOGICAL_NOT]},ht=function(b,O){const q=b.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",se=O.valueToCode(b,"FIND",j.NONE)||"''";return O=(O.valueToCode(b,"VALUE",j.MEMBER)||"''")+"."+q+"("+se+")",b.workspace.options.oneBasedIndex?[O+" + 1",j.ADDITION]:[O,j.FUNCTION_CALL]},gt=function(b,O){const q=b.getFieldValue("WHERE")||"FROM_START",se=O.valueToCode(b,"VALUE",q==="RANDOM"?j.NONE:j.MEMBER)||"''";switch(q){case"FIRST":return[se+".charAt(0)",j.FUNCTION_CALL];case"LAST":return[se+".slice(-1)",j.FUNCTION_CALL];case"FROM_START":return b=O.getAdjusted(b,"AT"),[se+".charAt("+b+")",j.FUNCTION_CALL];case"FROM_END":return b=O.getAdjusted(b,"AT",1,!0),[se+".slice("+b+").charAt(0)",j.FUNCTION_CALL];case"RANDOM":return[O.provideFunction_("textRandomLetter",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+se+")",j.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},ct=function(b,O){var q={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const se=b.getFieldValue("WHERE1"),Ce=b.getFieldValue("WHERE2");var ot=se!=="FROM_END"&&se!=="LAST"&&Ce!=="FROM_END"&&Ce!=="LAST",at=O.valueToCode(b,"STRING",ot?j.MEMBER:j.NONE)||"''";if(se==="FIRST"&&Ce==="LAST")return[at,j.NONE];if(at.match(/^'?\w+'?$/)||ot){switch(se){case"FROM_START":q=O.getAdjusted(b,"AT1");break;case"FROM_END":q=O.getAdjusted(b,"AT1",1,!1,j.SUBTRACTION),q=at+".length - "+q;break;case"FIRST":q="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(Ce){case"FROM_START":O=O.getAdjusted(b,"AT2",1);break;case"FROM_END":O=O.getAdjusted(b,"AT2",0,!1,j.SUBTRACTION),O=at+".length - "+O;break;case"LAST":O=at+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}at=at+".slice("+q+", "+O+")"}else ot=O.getAdjusted(b,"AT1"),b=O.getAdjusted(b,"AT2"),at=O.provideFunction_("subsequence"+q[se]+q[Ce],`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(sequence${se==="FROM_END"||se==="FROM_START"?", at1":""}${Ce==="FROM_END"||Ce==="FROM_START"?", at2":""}) {
  var start = ${xo("sequence",se,"at1")};
  var end = ${xo("sequence",Ce,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+at+(se==="FROM_END"||se==="FROM_START"?", "+ot:"")+(Ce==="FROM_END"||Ce==="FROM_START"?", "+b:"")+")";return[at,j.FUNCTION_CALL]},_t=function(b,O){const q={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[b.getFieldValue("CASE")];return b=O.valueToCode(b,"TEXT",q?j.MEMBER:j.NONE)||"''",[q?b+q:O.provideFunction_("textToTitleCase",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+b+")",j.FUNCTION_CALL]},Me=function(b,O){const q={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[b.getFieldValue("MODE")];return[(O.valueToCode(b,"TEXT",j.MEMBER)||"''")+q,j.FUNCTION_CALL]},le=function(b,O){return"window.alert("+(O.valueToCode(b,"TEXT",j.NONE)||"''")+`);
`},De=function(b,O){return O="window.prompt("+(b.getField("TEXT")?O.quote_(b.getFieldValue("TEXT")):O.valueToCode(b,"TEXT",j.NONE)||"''")+")",b.getFieldValue("TYPE")==="NUMBER"&&(O="Number("+O+")"),[O,j.FUNCTION_CALL]},_o=function(b,O){const q=O.valueToCode(b,"TEXT",j.NONE)||"''";return b=O.valueToCode(b,"SUB",j.NONE)||"''",[O.provideFunction_("textCount",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+q+", "+b+")",j.FUNCTION_CALL]},ut=function(b,O){const q=O.valueToCode(b,"TEXT",j.NONE)||"''",se=O.valueToCode(b,"FROM",j.NONE)||"''";return b=O.valueToCode(b,"TO",j.NONE)||"''",[O.provideFunction_("textReplace",`
function ${O.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+q+", "+se+", "+b+")",j.FUNCTION_CALL]},io=function(b,O){return[(O.valueToCode(b,"TEXT",j.MEMBER)||"''")+".split('').reverse().join('')",j.FUNCTION_CALL]},st=function(b,O){return[O.getVariableName(b.getFieldValue("VAR")),j.ATOMIC]},zt=function(b,O){const q=O.valueToCode(b,"VALUE",j.ASSIGNMENT)||"0";return O.getVariableName(b.getFieldValue("VAR"))+" = "+q+`;
`},j;(function(b){b[b.ATOMIC=0]="ATOMIC",b[b.NEW=1.1]="NEW",b[b.MEMBER=1.2]="MEMBER",b[b.FUNCTION_CALL=2]="FUNCTION_CALL",b[b.INCREMENT=3]="INCREMENT",b[b.DECREMENT=3]="DECREMENT",b[b.BITWISE_NOT=4.1]="BITWISE_NOT",b[b.UNARY_PLUS=4.2]="UNARY_PLUS",b[b.UNARY_NEGATION=4.3]="UNARY_NEGATION",b[b.LOGICAL_NOT=4.4]="LOGICAL_NOT",b[b.TYPEOF=4.5]="TYPEOF",b[b.VOID=4.6]="VOID",b[b.DELETE=4.7]="DELETE",b[b.AWAIT=4.8]="AWAIT",b[b.EXPONENTIATION=5]="EXPONENTIATION",b[b.MULTIPLICATION=5.1]="MULTIPLICATION",b[b.DIVISION=5.2]="DIVISION",b[b.MODULUS=5.3]="MODULUS",b[b.SUBTRACTION=6.1]="SUBTRACTION",b[b.ADDITION=6.2]="ADDITION",b[b.BITWISE_SHIFT=7]="BITWISE_SHIFT",b[b.RELATIONAL=8]="RELATIONAL",b[b.IN=8]="IN",b[b.INSTANCEOF=8]="INSTANCEOF",b[b.EQUALITY=9]="EQUALITY",b[b.BITWISE_AND=10]="BITWISE_AND",b[b.BITWISE_XOR=11]="BITWISE_XOR",b[b.BITWISE_OR=12]="BITWISE_OR",b[b.LOGICAL_AND=13]="LOGICAL_AND",b[b.LOGICAL_OR=14]="LOGICAL_OR",b[b.CONDITIONAL=15]="CONDITIONAL",b[b.ASSIGNMENT=16]="ASSIGNMENT",b[b.YIELD=17]="YIELD",b[b.COMMA=18]="COMMA",b[b.NONE=99]="NONE"})(j||(j={}));var E=class extends c.CodeGenerator$$module$build$src$core$generator{constructor(b="JavaScript"){super(b),this.ORDER_OVERRIDES=[[j.FUNCTION_CALL,j.MEMBER],[j.FUNCTION_CALL,j.FUNCTION_CALL],[j.MEMBER,j.MEMBER],[j.MEMBER,j.FUNCTION_CALL],[j.LOGICAL_NOT,j.LOGICAL_NOT],[j.MULTIPLICATION,j.MULTIPLICATION],[j.ADDITION,j.ADDITION],[j.LOGICAL_AND,j.LOGICAL_AND],[j.LOGICAL_OR,j.LOGICAL_OR]],this.isInitialized=!1;for(const O in j)b=j[O],typeof b!="string"&&(this["ORDER_"+O]=b);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(b){super.init(b),this.nameDB_?this.nameDB_.reset():this.nameDB_=new c.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(b.getVariableMap()),this.nameDB_.populateVariables(b),this.nameDB_.populateProcedures(b);const O=[];var q=c.allDeveloperVariables$$module$build$src$core$variables(b);for(let se=0;se<q.length;se++)O.push(this.nameDB_.getName(q[se],c.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(b=c.allUsedVarModels$$module$build$src$core$variables(b),q=0;q<b.length;q++)O.push(this.nameDB_.getName(b[q].getId(),c.NameType$$module$build$src$core$names.VARIABLE));O.length&&(this.definitions_.variables="var "+O.join(", ")+";"),this.isInitialized=!0}finish(b){const O=Object.values(this.definitions_);return super.finish(b),this.isInitialized=!1,this.nameDB_.reset(),O.join(`

`)+`


`+b}scrubNakedValue(b){return b+`;
`}quote_(b){return b=b.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+b+"'"}multiline_quote_(b){return b.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(b,O,q=!1){let se="";if(!b.outputConnection||!b.outputConnection.targetConnection){var Ce=b.getCommentText();Ce&&(Ce=c.wrap$$module$build$src$core$utils$string(Ce,this.COMMENT_WRAP-3),se+=this.prefixLines(Ce+`
`,"// "));for(let ot=0;ot<b.inputList.length;ot++)b.inputList[ot].type===c.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(Ce=b.inputList[ot].connection.targetBlock())&&(Ce=this.allNestedComments(Ce))&&(se+=this.prefixLines(Ce,"// "))}return b=b.nextConnection&&b.nextConnection.targetBlock(),q=q?"":this.blockToCode(b),se+O+q}getAdjusted(b,O,q=0,se=!1,Ce=j.NONE){b.workspace.options.oneBasedIndex&&q--;const ot=b.workspace.options.oneBasedIndex?"1":"0";let at=Ce;return 0<q?at=j.ADDITION:0>q?at=j.SUBTRACTION:se&&(at=j.UNARY_NEGATION),b=this.valueToCode(b,O,at)||ot,q===0&&!se?b:c.isNumber$$module$build$src$core$utils$string(b)?(b=String(Number(b)+q),se&&(b=String(-Number(b))),b):(0<q?b=`${b} + ${q}`:0>q&&(b=`${b} - ${-q}`),se&&(b=q?`-(${b})`:`-${b}`),Math.floor(Ce)>=Math.floor(at)&&(b=`(${b})`),b)}},x={};x.colour_blend=_,x.colour_picker=h,x.colour_random=f,x.colour_rgb=g;var K=function(b,O,q){return O==="FIRST"?"0":O==="FROM_END"?b+".length - 1 - "+q:O==="LAST"?b+".length - 1":q},te={};te.lists_create_empty=y,te.lists_create_with=v,te.lists_getIndex=L,te.lists_getSublist=P,te.lists_indexOf=M,te.lists_isEmpty=N,te.lists_length=R,te.lists_repeat=I,te.lists_reverse=H,te.lists_setIndex=A,te.lists_sort=W,te.lists_split=X;var pe={};pe.controls_if=D,pe.controls_ifelse=D,pe.logic_boolean=ne,pe.logic_compare=F,pe.logic_negate=Q,pe.logic_null=ae,pe.logic_operation=J,pe.logic_ternary=S;var Xe={};Xe.controls_flow_statements=Y,Xe.controls_for=me,Xe.controls_forEach=ye,Xe.controls_repeat=oe,Xe.controls_repeat_ext=oe,Xe.controls_whileUntil=ge;var $t={};$t.math_arithmetic=ve,$t.math_atan2=Fe,$t.math_change=ie,$t.math_constant=he,$t.math_constrain=fe,$t.math_modulo=Ae,$t.math_number=ue,$t.math_number_property=U,$t.math_on_list=Ee,$t.math_random_float=Le,$t.math_random_int=Ue,$t.math_round=$e,$t.math_single=$e,$t.math_trig=$e;var so={};so.procedures_callnoreturn=Ke,so.procedures_callreturn=tt,so.procedures_defnoreturn=Be,so.procedures_defreturn=Be,so.procedures_ifreturn=it;var an=/^\s*'([^']|\\')*'\s*$/,zr=function(b){return an.test(b)?[b,j.ATOMIC]:["String("+b+")",j.FUNCTION_CALL]},xo=function(b,O,q){return O==="FIRST"?"0":O==="FROM_END"?b+".length - 1 - "+q:O==="LAST"?b+".length - 1":q},Lt={};Lt.text=Ie,Lt.text_append=Tt,Lt.text_changeCase=_t,Lt.text_charAt=gt,Lt.text_count=_o,Lt.text_getSubstring=ct,Lt.text_indexOf=ht,Lt.text_isEmpty=bt,Lt.text_join=He,Lt.text_length=Ct,Lt.text_multiline=ft,Lt.text_print=le,Lt.text_prompt=De,Lt.text_prompt_ext=De,Lt.text_replace=ut,Lt.text_reverse=io,Lt.text_trim=Me;var Fn={};Fn.variables_get=st,Fn.variables_set=zt;var Un={};Un.variables_get_dynamic=st,Un.variables_set_dynamic=zt;var Hn=new E,$i=Object.assign({},x,te,pe,Xe,$t,so,Lt,Fn,Un);for(const b in $i)Hn.forBlock[b]=$i[b];var lt={};return lt.JavascriptGenerator=E,lt.Order=j,lt.javascriptGenerator=Hn,lt.__namespace__=c,lt})}(zm)),zm.exports}var aM=Wm.exports,ev;function cM(){return ev||(ev=1,function(r,s){(function(n,c){r.exports=c(qT(),lM())})(aM,function(n,c){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return c})}(Wm)),Wm.exports}var uM=Pm.exports,tv;function dM(){return tv||(tv=1,function(r,s){(function(n,c){r.exports=c(qT(),tM(),iM(),cM())})(uM,function(n,c,h,f){return n.setLocale(c),n})}(Pm)),Pm.exports}var hM=Dm.exports,ov;function pM(){return ov||(ov=1,function(r,s){(function(n,c){r.exports=c(dM())})(hM,function(n){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(Dm)),Dm.exports}var mc=pM(),Bf=qT();const fM=Bf.common.createBlockDefinitionsFromJsonArray([{type:"string",message0:"%1",args0:[{type:"field_input",name:"INPUT"}],previousStatement:["Replacement","Regular"],nextStatement:["Replacement","Regular"],colour:60,tooltip:"A literal piece of text to look for"},{type:"setVar",message0:"Assign to %1",args0:[{type:"field_variable",name:"VAR",defaultType:"Vars",variableTypes:["Vars"]}],extensions:["one_var_at_a_time","remove_plus"],nextStatement:["Replacement","Regular"],tooltip:"Set a pattern to a variable so you can reference it later"},{type:"getVar",message0:"%1",args0:[{type:"field_variable",name:"VAR",defaultType:"Vars",variableTypes:["Vars"]}],previousStatement:["Replacement","Regular"],nextStatement:["Replacement","Regular"],tooltip:"Reference a pattern you've previously set"},{type:"compiler",extensions:["remove_plus"],message0:"Set Pattern",nextStatement:["Regular","Beginning"],tooltip:"Sets the main pattern that's used in the rest of the program"},{type:"replacementCompiler",extensions:["remove_plus"],message0:"Set Replacement Pattern",nextStatement:["Replacement"],tooltip:"Sets the main replacement pattern that's used in the rest of the program"},{type:"stringStart",message0:"Start of string",previousStatement:"Beginning",nextStatement:"Regular",colour:160,tooltip:"Represets the start of a string. This only makes sense to be at the very beginning of a pattern"},{type:"stringEnd",message0:"End of string",previousStatement:"Regular",colour:160,tooltip:"Represents the end of a string. This only makes sense to be at the very end of a pattern"},{type:"lineStart",message0:"Start of a line",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:""},{type:"lineEnd",message0:"End of a line",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:""},{type:"wordBoundary",message0:"Word boundary",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:"Matches the boundary of a word, i.e. the empty space between a word character and not a word character, or the end of a string"},{type:"notWordBoundary",message0:"Not word boundary",previousStatement:"Regular",nextStatement:"Regular",colour:160,tooltip:"The opposite of wordBoundary"},{type:"tab",message0:"Tab",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"space",message0:"Space",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"spaceOrTab",message0:"Space or Tab",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"newline",message0:"Newline",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"carriageReturn",message0:"Carriage Return",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"quote",message0:"Quote",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Matches ', \", and `"},{type:"verticalTab",message0:"Vertical Tab",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"formFeed",message0:"Form Feed",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"comma",message0:"Comma",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"period",message0:"Period",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"underscore",message0:"Underscore",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"notWhitespace",message0:"Not Whitespace",previousStatement:"Regular",nextStatement:"Regular",colour:309,tooltip:""},{type:"notDigit",message0:"Not Digit",previousStatement:"Regular",nextStatement:"Regular",colour:309,tooltip:""},{type:"notWord",message0:"Not Word",previousStatement:"Regular",nextStatement:"Regular",colour:309,tooltip:""},{type:"whitespace",message0:"Whitespace",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"whitechunk",message0:"Whitechunk",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:'A "chunk" of whitespace. Just any amount of whitespace together'},{type:"digit",message0:"Digit",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"letter",message0:"Letter",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches just a letter -- not numbers or _ like wordChar"},{type:"number",message0:"Number",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches multiple digits next to each other. Does not match negatives or decimals"},{type:"word",message0:"Word",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"wordChar",message0:"Word Character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:'Matches just a single "word character", defined as any letter, number, or _'},{type:"anything",message0:"Any Character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches any single character, except a newline. To also match a newline, use literallyAnything"},{type:"chunk",message0:"Chunk",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:'A "chunk": Any sequence of characters up until the next newline'},{type:"uppercase",message0:"Uppercase character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"lowercase",message0:"Lowercase character",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"hexDigit",message0:"Hexadecimal Digit",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"octDigit",message0:"Octal Digit",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"punctuation",message0:"Punctuation",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"controller",message0:"Controller",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches a metadata ASCII characters"},{type:"printable",message0:"Printable",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches printable ASCII characters"},{type:"printableAndSpace",message0:"Printable and Space",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:""},{type:"alphaNum",message0:"Alpha Numeric",previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches any letter or number"},{type:"unicode",message0:"Unicode Character %1",args0:[{type:"field_input",name:"NAME"}],previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Matches a unicode character by name"},{type:"anyBetween",message0:"Character between %1 - %2",args0:[{type:"field_input",name:"A"},{type:"field_input",name:"B"}],previousStatement:"Regular",nextStatement:"Regular",colour:260,tooltip:"Match any char between 2 chars, using the ASCII table for reference"},{type:"matchMax",message0:`Match as many as possible of
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match as many of input in the string as you can"},{type:"amt",message0:`Match %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match a given amount of `input` in the string"},{type:"moreThan",message0:`More than %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match more than a given number of sequences of a pattern in the string"},{type:"matchRange",message0:`Match between %1 and %2 of 
%3 greedy: %4
possessive: %5`,args0:[{type:"field_number",name:"MIN",value:1,min:0,precision:1},{type:"field_number",name:"MAX",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match between min and max sequences of input in the string. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"atLeast",message0:`Match at least %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:1,min:0,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match at least min sequences of input in the string"},{type:"atMost",message0:`Match at most %1 of 
%2`,args0:[{type:"field_number",name:"NUM",value:2,min:1,precision:1},{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match at most max instances of input in the string"},{type:"atLeastOne",message0:`Match at least one of 
%1 greedy: %2
possessive: %3`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match at least one of input in the string. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"atLeastNone",message0:`Match 0 or more of 
%1 greedy: %2
possessive: %3`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:120,tooltip:"Match 0 or more sequences of input. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"optional",message0:`Optional 
%1 greedy: %2
possessive: %3`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"field_checkbox",name:"GREEDY",checked:!0},{type:"field_checkbox",name:"POSSESSIVE"}],previousStatement:"Regular",nextStatement:"Regular",colour:230,tooltip:"Match the pattern, if possible. This also accepts greedy and possessive parameters. Max can be an empty string to indicate no maximum. Greedy means it will try to match as many repititions as possible, while non-greedy will try to match as few repititions as possible. Possessive means it won't backtrack to try to find any repitions. See https://docs.python.org/3/library/re.html for more help.",helpUrl:"https://docs.python.org/3/library/re.html"},{type:"either",message0:`Match either 
%1 or 
%2`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"},{type:"input_statement",check:"Regular",name:"OR_INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:230,tooltip:""},{type:"oneOf",message0:"One of TODO",previousStatement:"Regular",nextStatement:"Regular",saveExtraState:function(){return{"":this.itemCount_}},loadExtraState:function(r){this.itemCount_=r.itemCount,this.updateShape_()},colour:230,tooltip:"Match any of the given inputs. Note that inputs can be multiple parameters, or a single string. Can also accept parameters chars and split. If char is set to True, then inputs must only be a single string, it interprets inputs as characters, and splits it up to find any of the chars in the string. If split is set to true, it forces the ?(...) regex syntax instead of the [...] syntax. It should act the same way, but your output regex will look different. By default, it just optimizes it for you."},{type:"anyCharExcept",message0:"Any Character Except %1",args0:[{type:"field_input",name:"CHARS"}],previousStatement:"Regular",nextStatement:"Regular",colour:230,tooltip:"This matches any char that is NOT in inputs. inputs can be multiple parameters, or a single string of chars to split."},{type:"ifFollowedBy",message0:`If Followed by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",colour:210,tooltip:"Matches the pattern if it has a given pattern coming after it"},{type:"ifNotFollowedBy",message0:`If Not Followed by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",colour:210,tooltip:"Matches the pattern if it does NOT have a given pattern coming after it. This only makes sense to be at the very beginning of a pattern"},{type:"ifPrecededBy",message0:`If Preceded by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Beginning",nextStatement:"Regular",colour:210,tooltip:"Matches the pattern if it has input coming before it."},{type:"ifNotPrecededBy",message0:`If Not Preceded by 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Beginning",nextStatement:"Regular",colour:210,tooltip:"Matches the pattern if it does NOT have input coming before it. This only makes sense to be at the very beginning of a pattern"},{type:"group",message0:`Group %1 
%2`,args0:[{type:"field_variable",name:"GROUP",variableTypes:["Group"],defaultType:"Group"},{type:"input_statement",check:"Regular",name:"INPUT"}],extensions:["one_var_at_a_time"],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Causes input to be captured as a named group. Only useful when replacing regexs"},{type:"unnamedGroup",message0:`Unnamed Group
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Causes input to be captured as an unnamed group. Only useful when replacing regexs"},{type:"earlierGroup",message0:"Match what group %1 matched previously",args0:[{type:"field_variable",name:"GROUP",variableTypes:["Group"],defaultType:"Group"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Matches whatever the group referenced by num_or_name matched earlier. Must be after a group which would match num_or_name"},{type:"ifExists",message0:`If group %1 was matched, match 
%2 Otherwise match 
%3`,args0:[{type:"field_variable",name:"GROUP",variableTypes:["Group"],defaultType:"Group"},{type:"input_statement",check:"Regular",name:"DOES"},{type:"input_statement",check:"Regular",name:"DOESNT"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"Matches does if the group num_or_name exists, otherwise it matches doesnt"},{type:"passiveGroup",message0:`Passive Group 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],previousStatement:"Regular",nextStatement:"Regular",colour:20,tooltip:"As all regexs in EZRegex capture passively, this is entirely useless. But if you really want to, here it is"},{type:"rgroup",message0:"Whatever was matched by group %1",args0:[{type:"field_input",name:"RGROUP"}],previousStatement:"Replacement",nextStatement:"Replacement",colour:0,tooltip:"This block gets replaced by whatever was matched by the given group"},{type:"replaceEntire",message0:"Entire Match",previousStatement:"Replacement",nextStatement:"Replacement",colour:0,tooltip:"This block gets replaced by the entire match"},{type:"literallyAnything",message0:"Literally Any Character",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Any character, include newline"},{type:"signed",message0:"Signed number",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"A signed number, including 123, -123, and +123"},{type:"unsigned",message0:"Unsigned number",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Same as number. Will not match +123"},{type:"plain_float",message0:"Plain float",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Will match 123.45 and 123."},{type:"full_float",message0:"Full float",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Will match plain_float as well as things like 1.23e-10 and 1.23e+10"},{type:"int_or_float",message0:"Int or float",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"ow",message0:"Optional Whitechunk",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:""},{type:"email",message0:"Email",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Matches an email"},{type:"version",message0:"Version",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"The official regex for matching version numbers from https://semver.org/. It includes 5 named groups that can be matched/replaced: major, minor, patch, prerelease, and buildmetadata",helpUrl:"https://semver.org/"},{type:"version_numbered",message0:"Version (with numbered groups)",previousStatement:"Regular",nextStatement:"Regular",colour:330,tooltip:"Same as version, but it uses numbered groups for each version number instead of named groups",helpUrl:"https://semver.org/"},{type:"isExactly",message0:`If Exactly 
%1`,args0:[{type:"input_statement",check:"Regular",name:"INPUT"}],colour:210,previousStatement:"Beginning",tooltip:"This matches the string if and only if the entire string is exactly equal to input. This only makes sense to be at the very beginning & ending of a pattern"},{type:"raw",message0:"Raw Regex %1",args0:[{type:"field_input",name:"REGEX"}],previousStatement:"Regular",nextStatement:"Regular",colour:60,tooltip:"If you already have some regular regex written, and you want to incorperate it, this will allow you to include it without sanatizing all the backslashes and such, which all the other EZRegexs do automatically. Note that this only works with Python dialect regexs."},{type:"ASCII",message0:"ASCII",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"DOTALL",message0:"DOTALL",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"IGNORECASE",message0:"IGNORECASE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"LOCALE",message0:"LOCALE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"MULTILINE",message0:"MULTILINE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"},{type:"UNICODE",message0:"UNICODE",previousStatement:"Regular",nextStatement:"Regular",colour:290,tooltip:"",helpUrl:"https://docs.python.org/3/library/re.html#flags"}]),MS="mainWorkspace",P_=function(r){var n;const s=Bf.serialization.workspaces.save(r);(n=window.localStorage)==null||n.setItem(MS,JSON.stringify(s))},B_=function(r){var n;const s=(n=window.localStorage)==null?void 0:n.getItem(MS);s&&(Bf.Events.disable(),Bf.serialization.workspaces.load(JSON.parse(s),r,!1),Bf.Events.enable())},Ff=new mc.Generator("EZRegex"),gM={ATOMIC:0};Ff.scrub_=function(r,s,n){const c=r.nextConnection&&r.nextConnection.targetBlock();return c&&!n&&!r.removePlus?s+" + "+Ff.blockToCode(c):r.removePlus?s+Ff.blockToCode(c):s};const Zo=(r,s,n="INPUT",c="''")=>s.statementToCode(r,n,gM.ATOMIC).trim()||c,Oh=(r,s="VAR")=>r.workspace.getVariableMap().getVariableById(r.getFieldValue(s)).name,mM={string:(r,s)=>"'"+r.getFieldValue("INPUT").replace("\\","\\\\").replace("'","\\'")+"'",setVar:(r,s)=>`${Oh(r)} = `,getVar:(r,s)=>`${Oh(r)}`,compiler:(r,s)=>"pattern = ",replacementCompiler:(r,s)=>"replacement = ",stringStart:(r,s)=>"stringStart",stringEnd:(r,s)=>"stringEnd",lineStart:(r,s)=>"lineStart",lineEnd:(r,s)=>"lineEnd",wordBoundary:(r,s)=>"wordBoundary",notWordBoundary:(r,s)=>"notWordBoundary",tab:(r,s)=>"tab",space:(r,s)=>"space",spaceOrTab:(r,s)=>"space_or_tab",newline:(r,s)=>"newline",carriageReturn:(r,s)=>"carriage_return",quote:(r,s)=>"quote",verticalTab:(r,s)=>"vertical_tab",formFeed:(r,s)=>"form_feed",comma:(r,s)=>"comma",period:(r,s)=>"period",underscore:(r,s)=>"underscore",notWhitespace:(r,s)=>"not_whitespace",notDigit:(r,s)=>"not_digit",notWord:(r,s)=>"not_word",whitespace:(r,s)=>"whitespace",whitechunk:(r,s)=>"whitechunk",digit:(r,s)=>"digit",letter:(r,s)=>"letter",number:(r,s)=>"number",word:(r,s)=>"word",wordChar:(r,s)=>"word_char",anything:(r,s)=>"anything",chunk:(r,s)=>"chunk",uppercase:(r,s)=>"uppercase",lowercase:(r,s)=>"lowercase",hexDigit:(r,s)=>"hex_digit",octDigit:(r,s)=>"oct_digit",punctuation:(r,s)=>"punctuation",controller:(r,s)=>"controller",printable:(r,s)=>"printable",printableAndSpace:(r,s)=>"printable_and_space",alphaNum:(r,s)=>"alpha_num",unicode:(r,s)=>`unicode('${r.getFieldValue("NAME")}')`,anyBetween:(r,s)=>`any_between('${r.getFieldValue("A")}', '${r.getFieldValue("B")}')`,matchMax:(r,s)=>`match_max(${Zo(r,s)})`,amt:(r,s)=>`amt(${r.getFieldValue("NUM")}, ${Zo(r,s)})`,moreThan:(r,s)=>`more_than(${r.getFieldValue("NUM")}, ${Zo(r,s)})`,matchRange:(r,s)=>`match_range(${r.getFieldValue("MIN")}, ${r.getFieldValue("MAX")}, ${Zo(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,atLeast:(r,s)=>`at_least(${r.getFieldValue("NUM")}, ${Zo(r,s)})`,atMost:(r,s)=>`at_most(${r.getFieldValue("NUM")}, ${Zo(r,s)})`,atLeastOne:(r,s)=>`at_least_one(${Zo(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,atLeastNone:(r,s)=>`at_least_none(${Zo(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,optional:(r,s)=>`optional(${Zo(r,s)}${r.getFieldValue("GREEDY")=="TRUE"?"":", greedy=False"}${r.getFieldValue("POSSESSIVE")=="TRUE"?", possessive=True":""})`,either:(r,s)=>`either(${Zo(r,s)}, ${Zo(r,s,"OR_INPUT")})`,oneOf:(r,s)=>"one_of(TODO)",anyCharExcept:(r,s)=>`any_char_except(*'${r.getFieldValue("CHARS")}')`,ifFollowedBy:(r,s)=>`if_followed_by(${Zo(r,s)})`,ifNotFollowedBy:(r,s)=>`if_not_followed_by(${Zo(r,s)})`,ifPrecededBy:(r,s)=>`if_preceded_by(${Zo(r,s)})`,ifNotPrecededBy:(r,s)=>`if_not_preceded_by(${Zo(r,s)})`,group:(r,s)=>`group(${Zo(r,s)}${Oh(r,"GROUP")===""?"":", name='"+Oh(r,"GROUP")+"'"})`,unnamedGroup:(r,s)=>`group(${Zo(r,s)})`,earlierGroup:(r,s)=>`earlier_group('${Oh(r,"GROUP")}')`,ifExists:(r,s)=>`if_exists('${Oh(r,"GROUP")}', ${Zo(r,s,"DOES")}, ${Zo(r,s,"DOESNT")})`,passiveGroup:(r,s)=>"'Paul Blart, Mall Cop'",rgroup:(r,s)=>`rgroup('${r.getFieldValue("RGROUP")}')`,replaceEntire:(r,s)=>"replace_entire",literallyAnything:(r,s)=>"literallyAnything",signed:(r,s)=>"signed",unsigned:(r,s)=>"unsigned",plain_float:(r,s)=>"plain_float",full_float:(r,s)=>"full_float",int_or_float:(r,s)=>"int_or_float",ow:(r,s)=>"ow",email:(r,s)=>"email",version:(r,s)=>"version",version_numbered:(r,s)=>"version_numbered",isExactly:(r,s)=>`is_exactly(${Zo(r,s)})`,raw:(r,s)=>`raw('${r.getFieldValue("REGEX")}')`,ASCII:(r,s)=>"ASCII",DOTALL:(r,s)=>"DOTALL",IGNORECASE:(r,s)=>"IGNORECASE",LOCALE:(r,s)=>"LOCALE",MULTILINE:(r,s)=>"MULTILINE",UNICODE:(r,s)=>"UNICODE"},$M={kind:"categoryToolbox",contents:[{name:"Common",kind:"category",contents:[{kind:"block",type:"string"},{kind:"block",type:"group"},{kind:"block",type:"optional"},{kind:"block",type:"matchMax"},{kind:"block",type:"whitechunk"},{kind:"block",type:"number"},{kind:"block",type:"word"},{kind:"block",type:"anything"},{kind:"block",type:"chunk"},{kind:"block",type:"uppercase"},{kind:"block",type:"lowercase"},{kind:"block",type:"raw"}]},{name:"Positionals",kind:"category",categorystyle:"text_category",contents:[{kind:"block",type:"stringStart"},{kind:"block",type:"stringEnd"},{kind:"block",type:"lineStart"},{kind:"block",type:"lineEnd"},{kind:"block",type:"wordBoundary"},{kind:"block",type:"notWordBoundary"}]},{name:"Literals",kind:"category",categorystyle:"variable_category",contents:[{kind:"block",type:"string"},{kind:"block",type:"tab"},{kind:"block",type:"space"},{kind:"block",type:"spaceOrTab"},{kind:"block",type:"newline"},{kind:"block",type:"carriageReturn"},{kind:"block",type:"quote"},{kind:"block",type:"verticalTab"},{kind:"block",type:"formFeed"},{kind:"block",type:"comma"},{kind:"block",type:"period"},{kind:"block",type:"underscore"},{kind:"block",type:"literallyAnything"},{kind:"block",type:"signed"},{kind:"block",type:"unsigned"},{kind:"block",type:"plain_float"},{kind:"block",type:"full_float"},{kind:"block",type:"int_or_float"},{kind:"block",type:"ow"},{kind:"block",type:"email"},{kind:"block",type:"version"},{kind:"block",type:"version_numbered"}]},{name:"Not literals",kind:"category",categorystyle:"variable_dynamic_category",contents:[{kind:"block",type:"notWhitespace"},{kind:"block",type:"notDigit"},{kind:"block",type:"notWord"}]},{name:"Catagories",kind:"category",categorystyle:"list_category",contents:[{kind:"block",type:"whitespace"},{kind:"block",type:"whitechunk"},{kind:"block",type:"digit"},{kind:"block",type:"letter"},{kind:"block",type:"number"},{kind:"block",type:"word"},{kind:"block",type:"wordChar"},{kind:"block",type:"anything"},{kind:"block",type:"chunk"},{kind:"block",type:"uppercase"},{kind:"block",type:"lowercase"},{kind:"block",type:"hexDigit"},{kind:"block",type:"octDigit"},{kind:"block",type:"punctuation"},{kind:"block",type:"controller"},{kind:"block",type:"printable"},{kind:"block",type:"printableAndSpace"},{kind:"block",type:"alphaNum"},{kind:"block",type:"anyBetween"}]},{name:"Amounts",kind:"category",categorystyle:"loop_category",contents:[{kind:"block",type:"matchMax"},{kind:"block",type:"amt"},{kind:"block",type:"moreThan"},{kind:"block",type:"matchRange"},{kind:"block",type:"atLeast"},{kind:"block",type:"atMost"},{kind:"block",type:"atLeastOne"},{kind:"block",type:"atLeastNone"}]},{name:"Choices",kind:"category",categorystyle:"math_category",contents:[{kind:"block",type:"optional"},{kind:"block",type:"either"},{kind:"block",type:"oneOf"},{kind:"block",type:"anyCharExcept"}]},{name:"Conditionals",kind:"category",categorystyle:"logic_category",contents:[{kind:"block",type:"ifFollowedBy"},{kind:"block",type:"ifNotFollowedBy"},{kind:"block",type:"ifPrecededBy"},{kind:"block",type:"ifNotPrecededBy"},{kind:"block",type:"isExactly"}]},{name:"Grouping",kind:"category",categorystyle:"colour_category",contents:[{type:"group",kind:"block"},{type:"unnamedGroup",kind:"block"},{type:"earlierGroup",kind:"block"},{type:"ifExists",kind:"block"},{type:"passiveGroup",kind:"block"}]},{kind:"sep"},{name:"Flags",kind:"category",categorystyle:"procedure_category",contents:[{kind:"block",type:"ASCII"},{kind:"block",type:"DOTALL"},{kind:"block",type:"IGNORECASE"},{kind:"block",type:"LOCALE"},{kind:"block",type:"MULTILINE"},{kind:"block",type:"UNICODE"}]},{kind:"sep"},{name:"Replacement",kind:"category",categorystyle:"replacement_category",contents:[{kind:"block",type:"rgroup"},{kind:"block",type:"replaceEntire"}]},{kind:"sep"},{name:"Patterns",kind:"category",custom:"PATTERNS"}]},_M={base:mc.Themes.Classic,categoryStyles:{replacement_category:{colour:"#a55b5b"}},componentStyles:{workspaceBackgroundColour:"#262730"},startHats:!0};mc.FieldTextInput.prototype.spellcheck_=!1;const TM=r=>{const s=r.match(/^pattern = (.*)\n/m);return s&&(r=r.replace(s[0],""),r+=`
pattern = `+s[1]),r};var EM=function(r){var s=[{kind:"block",type:"setVar"}];for(const n of r.getVariablesOfType("Vars"))console.log(n.id_),s.push({kind:"block",type:"getVar",fields:{VAR:{id:n.id_}}});return s};mc.common.defineBlocks(fM);Ff.forBlock=mM;mc.Extensions.register("one_var_at_a_time",function(){(this.getField("GROUP")||this.getField("VAR")).setValidator(s=>{for(const n of this.workspace.getBlocksByType(this.type))if(n!==this&&(n.getFieldValue("GROUP")||n.getFieldValue("VAR"))==s)return null;return s})});mc.Extensions.register("remove_plus",function(){this.removePlus=!0});function bM(){const{mode:r,setToUpdate:s,setCodes:n}=w.useContext(Wr),c=w.useRef(),[h,f]=w.useState(null);if(w.useEffect(()=>{const g=mc.inject(c.current,{toolbox:$M,theme:_M,renderer:"thrasos",oneBasedIndex:!1,sounds:!1});g.registerToolboxCategoryCallback("PATTERNS",EM),g.createVariable("pattern",null),g.createVariable("replacement",null);const _=()=>{const v=TM(Ff.workspaceToCode(g));n(v),s(!0)};B_(g),_();const y=v=>{v.isUiEvent||v.type==mc.Events.FINISHED_LOADING||g.isDragging()?v.isUiEvent||P_(g):_()};return g.addChangeListener(y),f(g),()=>{g.removeChangeListener(y),g.dispose()}},[]),(h==null?void 0:h.getBlocksByType("compiler"))<1){const g=h.newBlock("compiler");g.setDeletable(!1),g.contextMenu=!1,h.centerOnBlock(g.id),P_(h),B_(h)}if(r==="replace"&&(h==null?void 0:h.getBlocksByType("replacementCompiler"))<1){console.log("Creating replacementCompiler block");const g=h.newBlock("replacementCompiler");g.setDeletable(!1),g.contextMenu=!1,g.moveBy(150,0),P_(h),B_(h)}return r!=="replace"&&(h==null||h.getBlocksByType("replacementCompiler").forEach(g=>{g.dispose()})),B.jsx("div",{id:"blocklyArea",style:{position:"relative"},children:B.jsx("div",{ref:c,id:"blocklyDiv"})})}function yM(){const{data:r}=w.useContext(Wr);return B.jsxs(Er,{sx:{mt:3},children:[B.jsx(pr,{variant:"h5",gutterBottom:!0,children:"Replaced String:"}),B.jsx(Vu,{variant:"outlined",sx:{p:2,bgcolor:"background.paper"},children:B.jsx("pre",{style:{margin:0},children:r==null?void 0:r.replaced})})]})}function vM(){const{inputType:r,setInputType:s}=w.useContext(Wr),n=c=>s(c.target.value);return B.jsx(Er,{sx:{minWidth:200,mt:1},children:B.jsxs(sg,{fullWidth:!0,size:"small",title:"Choose how to input your pattern",children:[B.jsx(ig,{id:"input-type-label",children:"Input Method"}),B.jsxs(qh,{labelId:"input-type-label",id:"input-type-selector",value:r,label:"Input Method",onChange:n,size:"small",variant:"standard",children:[B.jsx(rn,{value:"blocks",children:"Blocks"}),B.jsx(rn,{value:"manual",children:"Manual"})]})]})})}function SM(){const{setMode:r,setToUpdate:s}=w.useContext(Wr);return B.jsx(Er,{sx:{minWidth:200,ml:2},children:B.jsxs(sg,{fullWidth:!0,size:"small",children:[B.jsx(ig,{id:"mode-selector-label",children:"Mode"}),B.jsxs(qh,{labelId:"mode-selector-label",id:"mode-selector",defaultValue:"search",label:"Mode",onChange:n=>{r(n.target.value),s(!0)},size:"small",variant:"standard",children:[B.jsx(rn,{value:"search",children:"Search"}),B.jsx(rn,{value:"replace",children:"Replace"}),B.jsx(rn,{value:"split",children:"Split"})]})]})})}function IM(){const{setDialect:r,setToUpdate:s}=w.useContext(Wr);return B.jsx(Er,{sx:{minWidth:200,ml:2},children:B.jsxs(sg,{fullWidth:!0,size:"small",children:[B.jsx(ig,{id:"dialect-selector-label",children:"Regex Dialect"}),B.jsxs(qh,{labelId:"dialect-selector-label",id:"dialect-selector",defaultValue:"python",label:"Regex Dialect",onChange:n=>{r(n.target.value),s(!0)},size:"small",variant:"standard",children:[B.jsx(rn,{value:"python",children:"Python"}),B.jsx(rn,{value:"javascript",children:"JavaScript (experimental)"}),B.jsx(rn,{value:"R",children:"R (Limited)"}),B.jsx(rn,{value:"perl",children:"Perl (Limited)"})]})]})})}function CM(){return B.jsx(B.Fragment,{children:B.jsxs(Er,{id:"title",sx:{flexShrink:1,display:"flex",alignItems:"center"},children:[B.jsx(TN,{href:"https://github.com/smartycope/ezregex",underline:"hover",target:"_blank",rel:"noopener noreferrer",sx:{scale:"80%"},children:B.jsx("img",{src:"./logo192.png",id:"logo",alt:"EZRegex Logo",height:50})}),B.jsx(pr,{variant:"h1",component:"h1",sx:{ml:-1,background:"linear-gradient(to right, #051A32, #59E6CD)",WebkitBackgroundClip:"text",backgroundClip:"text",fontWeight:"bold",color:"transparent",fontSize:`${50/3}px`,position:"relative",fontFamily:"varela round"},children:"REGEX"})]})})}function kM(){return B.jsx(Er,{sx:{flexGrow:1},children:B.jsx(cN,{position:"static",sx:{backgroundColor:"#59E6CD",borderRadius:"10px",marginBottom:"10px"},children:B.jsxs(VN,{children:[B.jsx(Er,{sx:{edge:"start"},children:B.jsx(CM,{})}),B.jsxs(Er,{sx:{ml:"auto",display:"flex",alignItems:"center",gap:2},children:[B.jsx(vM,{}),B.jsx(SM,{}),B.jsx(IM,{})]})]})})})}function RM(){const{data:r}=w.useContext(Wr);return B.jsx(B.Fragment,{children:B.jsxs(Er,{sx:{mt:3},children:[B.jsx(pr,{variant:"h5",children:"Split String:"}),B.jsx(lg,{children:r.split.map((s,n)=>B.jsx(KT,{sx:{pt:0,pb:0,outline:"1px solid",borderRadius:"5px"},children:B.jsx(MN,{primary:s||B.jsx("em",{style:{color:"text.disabled"},children:"Empty"})})},n))})]})})}function wM(){const{mode:r,inputType:s}=w.useContext(Wr);return B.jsxs(Vu,{elevation:3,sx:{p:3,mb:4,width:"100%",height:"100%",boxSizing:"border-box"},children:[s==="blocks"&&B.jsx(bM,{}),s==="manual"&&B.jsx(KN,{}),r==="replace"&&s==="manual"&&B.jsx(YO,{}),B.jsx(ZL,{})]})}function OM(){const{data:r,error:s,showMatches:n,mode:c}=w.useContext(Wr);return B.jsxs(Vu,{elevation:3,sx:{p:3,height:"100%",width:"100%",boxSizing:"border-box"},children:[s&&B.jsx(pr,{color:"error",variant:"body1",children:s}),!s&&!n&&B.jsx(pr,{variant:"body1",color:"text.secondary",fontStyle:"italic",children:"No pattern specified"}),!s&&n&&B.jsxs(Er,{children:[B.jsx(eN,{}),B.jsx(jN,{}),B.jsx(YN,{}),c==="replace"&&(r==null?void 0:r.replaced)&&B.jsx(yM,{}),c==="split"&&(r==null?void 0:r.split)&&B.jsx(RM,{})]})]})}function AM(){const[r,s]=w.useState(""),[n,c]=w.useState(""),[h,f]=w.useState(null),[g,_]=w.useState(""),[y,v]=w.useState(null),[I,R]=w.useState("search"),[N,M]=w.useState("python"),[L,A]=w.useState("blocks"),[P,W]=w.useState(!0),[X,H]=w.useState(!1);w.useEffect(()=>{const Q=window.matchMedia("(max-width: 1000px)"),ne=()=>H(Q.matches);return ne(),Q.addEventListener("change",ne),()=>Q.removeEventListener("change",ne)},[]);const D=h!==null&&r.length;function F(Q){M(Q),O_("set_dialect",Q)}w.useEffect(()=>{const Q=document.querySelector("#py2js"),ne=ae=>{switch(ae.detail[0]){case"response":f(JSON.parse(ae.detail[1])),v(null);break;case"error":v(ae.detail[1]);break;default:console.error(`Recieved unknown signal from py2js: ${ae.detail[0]}`),v("Internal Error")}};return Q.addEventListener("custom",ne),()=>Q.removeEventListener("custom",ne)},[]);function J(Q){const ne=Q.match(/^replacement =(.+)\n?/m);ne===null?(s(Q),c("")):(s((Q.slice(0,ne.index)+Q.slice(ne.index+ne[0].length,Q.length)).trim()),c("pattern = "+ne[1]))}return P&&(I==="replace"?O_("update",JSON.stringify([r,n,g])):O_("update",JSON.stringify([r,null,g])),W(!1)),B.jsx(Wr.Provider,{value:{code:r,replaceCode:n,data:h,text:g,error:y,mode:I,dialect:N,inputType:L,needsUpdate:P,isSmallScreen:X,showMatches:D,setDialect:F,setCode:s,setCodes:J,setReplaceCode:c,setData:f,setText:_,setError:v,setMode:R,setDialectState:M,setInputType:A,setToUpdate:W,setIsSmallScreen:H},children:B.jsxs(Er,{children:[B.jsx(kM,{}),B.jsxs(AT,{container:!0,spacing:3,children:[B.jsx(Er,{sx:{width:X?"100%":"60%"},children:B.jsx(wM,{})}),B.jsx(Er,{sx:{width:X?"100%":"37%"},children:B.jsx(OM,{})})]})]})})}function xM(){return B.jsxs(Ew,{theme:Gw,children:[B.jsx(kw,{}),B.jsx(Rw,{maxWidth:"xl",sx:{py:4},children:B.jsx(AM,{})})]})}const LM=MI.createRoot(document.getElementById("root"));LM.render(B.jsx(sr.StrictMode,{children:B.jsx(xM,{})}));
